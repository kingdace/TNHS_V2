;/*FB_PKG_DELIM*/

__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=o("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),a;return t[0]!==n||t[1]!==e?(a=s.createElement(r("CometAccessibilityAnnouncement.react"),babelHelpers.extends({},e,{key:n})),t[0]=n,t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9643878485689642"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:r("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:t.threadId}}}}},root:r("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};l.default=e}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9555699731214088"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:r("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:t.thread_id}}}}},root:r("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};l.default=e}),98);
__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.error,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[u.cardWidth,u.errorBoundary],t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWInboxErrorState.react"),{error:n,plural:!1,source:"fb_chat_tab",xstyle:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),98);
__d("FBIconChevronDownFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M453.03 1077.72a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06l-2.97 2.97-2.97-2.97z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(t===void 0&&(t="Got unexpected null or undefined"),e==null)throw r("FBLogger")("hdwp").mustfixThrow(t);return e}l.nullthrows=e}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.filter(t.db.table(119).fetch(),function(n){return t.i64.eq(n.ctaId,e[0])}).next().then(function(e,o){var a=e.done,i=e.value;return a?0:(o=i.item,r[0]=new t.Map,r[0].set("banner_id",o.bannerId),r[0].set("cta_type",o.ctaType),r[0].set("context_id",o.contextId),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",t.i64.cast([0,73]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0])))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure",e.__tables__=["in_thread_banner_ctas"],a.exports=e}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSExecuteCTA"),a.ctaId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchBanners"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return e[3]!==void 0?(r[0]=new t.Map,r[0].set("open_message_thread_key",e[0]),r[0].set("armadillo_thread_key",e[1]),r[0].set("trace_id",e[3]),r[0].set("should_copy_messages",e[2]),r[1]=r[0].get("open_message_thread_key"),r[2]=r[0].get("armadillo_thread_key"),r[3]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),[t.i64.to_string(r[1]),"_",t.i64.to_string(r[2])].join(""),t.i64.cast([0,436]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):(r[0]=new t.Map,r[0].set("open_message_thread_key",e[0]),r[0].set("armadillo_thread_key",e[1]),r[0].set("should_copy_messages",e[2]),r[1]=r[0].get("open_message_thread_key"),r[2]=r[0].get("armadillo_thread_key"),r[3]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),[t.i64.to_string(r[1]),"_",t.i64.to_string(r[2])].join(""),t.i64.cast([0,436]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0])))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSInitiateThreadMigration"),a.openMessageThreadKey,a.armadilloThreadKey,a.shouldCopyMessages,a.traceId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSLocalCreateOptimisticGroupThreadStoredProcedure",["LSLocalCreateOptimisticGroupThread","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSLocalCreateOptimisticGroupThread"),a.participants,a.nullstateDescriptionText,a.threadName,a.checkExistingThreads,a.threadMetadata);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"ctm_ad_context",t.i64.cast([0,235]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRequestAdContextFromThreadKey"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[4]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[5]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[4],r[5],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("thread_key",e[0]),r[2].set("marketplace_cta_type",e[1]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"marketplace_server_mutation_cta",t.i64.cast([0,279]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSServerMutationCta"),a.threadKey,a.marketplaceCtaType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){if(o("LSMessagingThreadTypeUtil").isOneToOne(t)){if(n.length===1){var i=n[0],l=i[0],s=i[1];return s!=null?[l,s]:void 0}var u=n.filter(function(t){var n=t[0];return!(e||(e=o("I64"))).equal(n.contactId,a)});if(u.length===0){r("FBLogger")("messenger_web").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(e||(e=o("I64"))).to_int32(t),n.length,n.some(function(t){var n=t[0];return(e||(e=o("I64"))).equal(n.contactId,a)}));return}var c=u[0],d=c[0],m=c[1];if(m!=null)return[d,m]}}l.default=s}),98);
__d("LSThreadTitleWithContactWrapper.react",["LSMessagingThreadTypeUtil","LSThreadTitle.react","MWChatTextTransform","getMWV2OtherUser","react","react-compiler-runtime","useLSComputedThreadName"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.thread,a=e.transforms,i=e.wrapOutput,l=r("useLSComputedThreadName")(n,a),s=l.actorId,u=l.participantsAndContacts,c=l.threadNameElement,d=n.threadType,m;if(t[0]!==s||t[1]!==u||t[2]!==n.threadType||t[3]!==c||t[4]!==i){m=Symbol.for("react.early_return_sentinel");e:{var p=r("getMWV2OtherUser")(d,u,s);if(p!=null){m=i(p[1],c);break e}}t[0]=s,t[1]=u,t[2]=n.threadType,t[3]=c,t[4]=i,t[5]=m}else m=t[5];return m!==Symbol.for("react.early_return_sentinel")?m:c}function c(e){var t=o("react-compiler-runtime").c(7),n=e.thread,a=e.transforms,i=e.wrapOutput,l=a===void 0?o("MWChatTextTransform").textTransforms:a;if(!o("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)||i==null){var c;return t[0]!==n||t[1]!==l?(c=s.jsx(r("LSThreadTitle.react"),{thread:n,transforms:l}),t[0]=n,t[1]=l,t[2]=c):c=t[2],c}var d;return t[3]!==n||t[4]!==l||t[5]!==i?(d=s.jsx(u,{thread:n,transforms:l,wrapOutput:i}),t[3]=n,t[4]=l,t[5]=i,t[6]=d):d=t[6],d}l.default=c}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743836"),s=o("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",e),u=s;l.default=u}),98);
__d("useMAWMaybeAutoTriggerDownload",["MAWDownloadMediaInWorkerDeferred","MAWMediaDownloadStatus","MAWMediaManagerUiIntegrationCheck","MAWRetryReceiverFetchSticker","isReceiverFetchSticker","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(30),n=e.attachment,a=e.downloadStatusKeyOverride,i=e.downloadStatusV2,l=e.downloadType,s=e.mediaRenderQpl,d=e.shouldDisableAutoTriggerDownload,m=e.triggerUIView,p=e.xmaMediaType,_=d===void 0?!1:d,f;t[0]!==n?(f=r("isReceiverFetchSticker")(n),t[0]=n,t[1]=f):f=t[1];var g=f,h=!g&&r("MAWMediaDownloadStatus").DOWNLOADING,y;t[2]!==h?(y=[r("MAWMediaDownloadStatus").MISSING_FILE,r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE,h].filter(Boolean),t[2]=h,t[3]=y):y=t[3];var C=y,b;t[4]!==(i==null?void 0:i.mainMediaStatus)||t[5]!==l||t[6]!==C?(b=(!o("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()||l==null||l==="fullsize"||l==="fullsizeAndPreview")&&C.includes(i==null?void 0:i.mainMediaStatus),t[4]=i==null?void 0:i.mainMediaStatus,t[5]=l,t[6]=C,t[7]=b):b=t[7];var v=b,S;t[8]!==(i==null?void 0:i.previewMediaStatus)||t[9]!==l||t[10]!==C?(S=o("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()&&l==="preview"&&C.includes(i==null?void 0:i.previewMediaStatus),t[8]=i==null?void 0:i.previewMediaStatus,t[9]=l,t[10]=C,t[11]=S):S=t[11];var R=S,L=!_&&(R||v),E=c(!1),k=r("useAsyncReStore")(),I;t[12]!==n||t[13]!==k||t[14]!==l||t[15]!==g||t[16]!==s||t[17]!==L||t[18]!==m?(I=function(){L&&E.current===!1&&(E.current=!0,g?o("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(k,n,s):o("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:n,dbPromise:k,downloadType:l,mediaRenderQpl:s,triggerUIView:m}))},t[12]=n,t[13]=k,t[14]=l,t[15]=g,t[16]=s,t[17]=L,t[18]=m,t[19]=I):I=t[19];var T;t[20]!==n||t[21]!==k||t[22]!==a||t[23]!==l||t[24]!==g||t[25]!==s||t[26]!==L||t[27]!==m||t[28]!==p?(T=[n,s,L,m,g,k,a,p,l],t[20]=n,t[21]=k,t[22]=a,t[23]=l,t[24]=g,t[25]=s,t[26]=L,t[27]=m,t[28]=p,t[29]=T):T=t[29],u(I,T)}l.default=d}),98);
__d("MAWAttachmentStateHandlerContentBase.react",["FBLogger","I64","InteractionTracingMetrics","LSIntEnum","MAWClientMediaStatusUtils","MAWMediaDownloadStatusUIStateType","MAWMediaManagerUiIntegrationCheck","MessagingAttachmentType","react","useMAWBulkMediaDownloadManualRetry","useMAWMaybeAutoTriggerDownload","useMAWMediaDownloadStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=e||(e=r("react")),p=d.useEffect,_=d.useMemo;function f(e){var t=e.attachmentsFromGroupToRetry,n=e.dbAttachment,a=e.descriptionForLogging,i=e.downloadStatusKeyOverride,l=e.errorComponentRenderer,c=e.errorWithBlurComponentRenderer,d=e.loadingPlaceholderRenderer,m=e.mediaRenderQpl,f=e.shouldDisableAutoTriggerDownload,g=f===void 0?!1:f,h=e.successfulComponentRenderer,y=e.xmaMediaType,C=_(function(){return t!=null&&t.length>0?t:[{attachment:n}]},[n,t]),b=r("useMAWBulkMediaDownloadManualRetry")(C,m),v=r("useMAWMediaDownloadStatus")(n,m,i),S=v.status,R=v.uiState;r("useMAWMaybeAutoTriggerDownload")({attachment:n,downloadStatusKeyOverride:i,downloadStatusV2:S!=null?o("MAWClientMediaStatusUtils").getMAWMediaStatus(S):null,downloadType:(s||(s=o("I64"))).equal(n.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&o("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()?"preview":"fullsizeAndPreview",mediaRenderQpl:m,shouldDisableAutoTriggerDownload:g,triggerUIView:"thread",xmaMediaType:y}),p(function(){var e={string:{call_site:a,download_status_main_details:S==null?void 0:S.mainMediaStatusDetails,download_status_main_media:String((S==null?void 0:S.mainMediaStatus)!=null?o("MAWClientMediaStatusUtils").getMAWMediaDownloadStatus((u||(u=o("LSIntEnum"))).unwrapIntEnum(S.mainMediaStatus)):S==null?void 0:S.mainMediaStatus),download_status_preview_details:S==null?void 0:S.previewMediaStatusDetails,download_status_preview_media:String((S==null?void 0:S.previewMediaStatus)!=null?o("MAWClientMediaStatusUtils").getMAWMediaDownloadStatus((u||(u=o("LSIntEnum"))).unwrapIntEnum(S.previewMediaStatus)):S==null?void 0:S.previewMediaStatus),download_status_ui_state:R}};m==null||m.addPoint("render-attachment-state-handler-content-wrapper-"+(R!=null?R:"null"),e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-attachment-state-handler-content-wrapper-"+(R!=null?R:"null"),"AppTiming")})},[m,R,S==null?void 0:S.mainMediaStatusDetails,S==null?void 0:S.mainMediaStatus,S==null?void 0:S.previewMediaStatusDetails,S==null?void 0:S.previewMediaStatus,a]),p(function(){switch(R){case"non_retryable_error":case"retryable_error":case"non_retryable_error_with_preview":case"retryable_error_with_preview":S!=null&&S.mainMediaStatusDetails?m==null||m.endFail(R+": "+(S==null?void 0:S.mainMediaStatusDetails)):m==null||m.endFail(R);break;case null:case"downloaded":case"loading":break;default:m==null||m.endFail("unknown_state",{string:{unknown_state_value:R}});break}},[m,R,a]);var L=o("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(R);switch(R){case null:case"loading":return d(a+".MAWAttachmentStateHandlerContentBase.NoMedia",!1);case"non_retryable_error":case"retryable_error":return l(L,b);case"non_retryable_error_with_preview":case"retryable_error_with_preview":return c==null?l(L,b):c(L,b);case"downloaded":return h(d);default:return r("FBLogger")("messenger_web_media").mustfix("[MAW Attachment Content] Unknown MediaDownloadStatusUIState %s",R),d(a+".MAWAttachmentStateHandlerContentBase.UnknownState",!1)}}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWFileUtils",["fbt","I64","formatFileSize"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=s._(/*BTDS*/"File");function c(t){return t.filesize==null?null:r("formatFileSize")((e||(e=o("I64"))).to_int32(t.filesize))}l.PLACEHOLDER_FILENAME=u,l.getFileSize=c}),226);
__d("MAWFilePressable.react",["CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileUtils","MWFileViewerLogger","MWXPressable.react","goUriOnNewWindow","react","react-compiler-runtime","useMWFileOnPress"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.linkProps,i=e.onPress,l=e.testid,s;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(s=u.jsx(r("MWXPressable.react"),{display:"inline",linkProps:a,onPress:i,overlayDisabled:!0,testid:void 0,xstyle:p.filePressable,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s):s=t[4],s}function f(e){var t=o("react-compiler-runtime").c(6),n=e.attachmentID,a=e.children,i=e.entrypoint,l=e.linkProps,s=e.messageID,c=e.onPress,d=e.testid,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=o("MWFileViewerLogger").generateSessionId(),t[0]=m):m=t[0];var p=r("useMWFileOnPress")(s,n,c,i,m),f;return t[1]!==a||t[2]!==l||t[3]!==p||t[4]!==d?(f=u.jsx(_,{linkProps:l,onPress:p,testid:void 0,children:a}),t[1]=a,t[2]=l,t[3]=p,t[4]=d,t[5]=f):f=t[5],f}function g(e){var t,n=e.children,a=e.entrypoint,i=e.file,l=e.getFileUrl,c=e.mediaRenderQpl,p=e.onPress,g=e.renderUnsupportedAttachment,h=e.testid,y=((t=i.filename)!=null?t:o("MWFileUtils").PLACEHOLDER_FILENAME).toString(),C=l!=null?l(i,"MAWFilePressable",c):o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense(i,"MAWFilePressable",c),b=o("MWChatMessageId").makeSent((s||(s=o("I64"))).to_string(i.threadKey),i.messageId,s.to_string(i.timestampMs)),v={download:y,target:"_blank",url:C},S=o("MWFileUtils").getFileSize(i),R=d(function(e,t){r("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(e.message||"Cannot open file viewer in "+t),C!=null&&r("goUriOnNewWindow")(C)},[C]);return m(function(){C!=null&&C.length>0?(c==null||c.addPoint("render-file-pressable"),c==null||c.endSuccess()):c==null||c.endFail("load-file-error")},[c,C]),(C==null||C.length===0)&&g!=null?g(i):b.type==="sent"?u.jsx(r("CometErrorBoundary.react"),{onError:R,children:u.jsx(f,{attachmentID:i.attachmentFbid,entrypoint:a,linkProps:v,messageID:b.value,onPress:p,testid:void 0,children:n({filename:y,messageID:b,size:S})})}):u.jsx(_,{linkProps:v,onPress:p,testid:void 0,children:n({filename:y,messageID:b,size:S})})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.file,i=t.getFileUrl,l=t.mediaRenderQpl,s=t.renderUnsupportedAttachment,d;n[0]!==a?(d=function(n){var t=n.filename,o=n.size;return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.root,!1),{children:[u.jsx(r("MWChatFilePreview.react"),{attachment:a,withPreview:!1}),u.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1g0dm76 xv54qhq x13faqbe",children:[u.jsx(r("MWXTextPairing.react"),{headline:t,headlineLineLimit:3,level:4}),u.jsx("div",{className:"x889kno",children:u.jsx(r("MWXTextPairing.react"),{body:o,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]}))},n[0]=a,n[1]=d):d=n[1];var m;return n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==s||n[6]!==d?(m=u.jsx(r("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:a,getFileUrl:i,mediaRenderQpl:l,renderUnsupportedAttachment:s,testid:void 0,children:d}),n[2]=a,n[3]=i,n[4]=l,n[5]=s,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("MAWChatTabInThreadBanner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWChatTabInThreadBanner_query",selections:[{args:null,kind:"FragmentSpread",name:"MWEBChatTabBannerNux_query"}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MWEBChatTabBannerNux_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNux_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNux_query.graphql","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsThreadListQPWrapper.react","cr:20045","cr:20249","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=o("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(r("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEBChatTabBannerNux.react"));function d(t){var a=o("react-compiler-runtime").c(8),l=t.query,s=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEBChatTabBannerNux_query.graphql"),l),d;a[0]!==s?(d={entrypoint:r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:s},a[0]=s,a[1]=d):d=a[1];var m=r("useEncryptedBackupsProcessStatePreLoaded")(d),p=r("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(),_=p.vestaClientID,f=_!=null;switch(m){case 3:{if(n("cr:20249")!=null&&!f){var g;return a[2]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx(n("cr:20249"),{children:null}),a[2]=g):g=a[2],g}return null}case 2:{var h;if(o("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS)return null;if(((h=s.viewer)==null?void 0:h.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells)!=null){var y,C=(y=s.viewer)==null?void 0:y.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,b;a[3]===Symbol.for("react.memo_cache_sentinel")?(b={},a[3]=b):b=a[3];var v;return a[4]!==C?(v=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(o("CometRelay").MatchContainer,{match:C,props:b})}),a[4]=C,a[5]=v):v=a[5],v}if(n("cr:20045")!=null){var S;return a[6]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(n("cr:20045"),{children:null,source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP}),a[6]=S):S=a[6],S}var R;return a[7]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(c,{fallback:null,props:{children:null,source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:o("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}}),a[7]=R):R=a[7],R}default:return null}}l.default=d}),98);
__d("MAWChatTabInThreadBanner.react",["CometPlaceholder.react","CometRelay","MAWChatTabInThreadBanner_query.graphql","MWEBChatTabBannerNux.react","cr:9715","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.query,l=o("CometRelay").useFragment(e!==void 0?e:e=n("MAWChatTabInThreadBanner_query.graphql"),i);if(n("cr:9715")&&r("gkx")("1778")){var s;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:u.jsx(n("cr:9715"),{hasNoMargin:!0})}),a[0]=s):s=a[0],s}else{var c;return a[1]!==l?(c=u.jsx(r("MWEBChatTabBannerNux.react"),{query:l}),a[1]=l,a[2]=c):c=a[2],c}}l.default=c}),98);
__d("MAWCreateOptimisticSecureThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSGroupParticipantJoinState","LSIntEnum","MAWVerifyThreadExistsUtils","Promise","ReQLTable"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){return o("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(r("LSFactory")(e),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),threadType:t},"createSecureOccamadilloOptimisticThread").then(function(t){var n=t[0];return o("ReQLTable").update(e.threads,[n],function(e){if(e==null)throw r("FBLogger")("maw_threads").mustfixThrow("Optimistic thread is missing");return babelHelpers.extends({},e,{clientThreadKey:n})}).then(function(){return n})})}function d(t,a,i){return c(t,i).then(function(i){return(e||(e=n("Promise"))).all(a.map(function(e){return t.participants.add({authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),contactId:e.id,deliveredWatermarkTimestampMs:(s||(s=o("I64"))).zero,groupParticipantJoinState:u.ofNumber(r("LSGroupParticipantJoinState").MEMBER),isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:s.zero,readWatermarkTimestampMs:s.zero,subscribeSource:void 0,threadKey:i})})).then(function(){return i})})}l.call=d}),98);
__d("MAWCutoverEncryptedBackupsBanner.react",["CometErrorBoundary.react","cr:3127","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),a=e.isShown,i;t[0]!==a?(i=a&&n("cr:3127")?s.jsx(r("CometErrorBoundary.react"),{fallback:c,children:s.jsx(n("cr:3127"),{})}):null,t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==i?(l=s.jsx(s.Fragment,{children:i}),t[2]=i,t[3]=l):l=t[3],l}function c(){return null}l.default=u}),98);
__d("MAWEphemeralGatingUtil",["$InternalEnum","MetaConfig","gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({SEEN_BASED:0,SEND_BASED:1}),s="0,60,900,86400";function u(){var e=r("MetaConfig")._("56");(e===null||e==="")&&(e=s);var t=e.replace('"',"").split(",").map(function(e){return parseInt(e,10)});return r("gkx")("2260")&&t.push(10,30,60,120),t}function c(){var e=r("MetaConfig")._("65");return r("justknobx")._("1546")&&e}l.EphemeralityType=e,l.getExpirationOptions=u,l.isResetEphemeralSettingsEnabled=c}),98);
__d("MAWFTSSyncConsts",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("justknobx")._("2655");l.THREAD_VIEW_DELAY_UNTIL_RESTORE=e}),98);
__d("MAWMessageAssociatedDataContext",["I64","MWPActor.react","MWPMessageReactions.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useMemo,p=d({reactions:[],selectedReaction:null});function _(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.reactions;r("vulture")("ToW1qNDBDegMiTt6aDE2LdNlXjs=");var i=o("MWPActor.react").useActor(),l;if(t[0]!==i||t[1]!==a){var c;t[3]!==i?(c=function(t){return(s||(s=o("I64"))).equal(t.actorId,i)},t[3]=i,t[4]=c):c=t[4],l=a.filter(c).at(0),t[0]=i,t[1]=a,t[2]=l}else l=t[2];var d=l,m,_;t[5]!==a||t[6]!==d?(_={reactions:a,selectedReaction:d},t[5]=a,t[6]=d,t[7]=_):_=t[7],m=_;var f=m,g;return t[8]!==f||t[9]!==n?(g=u.jsx(p.Provider,{value:f,children:n}),t[8]=f,t[9]=n,t[10]=g):g=t[10],g}function f(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.message;r("vulture")("Dm8E024czWpE17PwrxErWovey_w=");var i=o("MWPActor.react").useActor(),l=o("MWPMessageReactions.react").useReactions(a),s;if(t[0]!==i||t[1]!==l){var c;t[3]!==i?(c=function(t){return t.actorId===i},t[3]=i,t[4]=c):c=t[4],s=l.filter(c),t[0]=i,t[1]=l,t[2]=s}else s=t[2];var d=s[0],m,_;t[5]!==l||t[6]!==d?(_={reactions:l,selectedReaction:d},t[5]=l,t[6]=d,t[7]=_):_=t[7],m=_;var f=m,g;return t[8]!==f||t[9]!==n?(g=u.jsx(p.Provider,{value:f,children:n}),t[8]=f,t[9]=n,t[10]=g):g=t[10],g}l.MAWMessageAssociatedDataContext=p,l.MAWMessageAssociatedDataContextProvider=_,l.MAWMessageAssociatedDataContextFetchReactionsLSProvider=f}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function s(t,n,o,a,i,l,s,u,c,d){e.onReady(function(e){return r("promiseDone")(e.runMessageIntegrityCheck(t,n,o,a,i,l,s,u,c,d))})}l.runMessageIntegrityCheckDeferred=s}),98);
__d("MAWMessageIntegrityCheckFlytrapQueue",["FBLogger","I64","LSDatabaseSingleton","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","WATimeUtils","justknobx","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MAWMessageIntegrityFetchAndCompareData").__setRef("MAWMessageIntegrityCheckFlytrapQueue"),c=r("justknobx")._("3629"),d=[],m=null;function p(e){var t=o("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(e.threadKey,e.uiMessages);t!=null&&(d.push([t,e]),d.length>c&&d.shift())}function _(){return m!=null||(m=new Promise(async function(e,t){try{var n=[].concat(d),r=await f(n.reverse());e(r)}catch(e){t(e)}finally{m=null}})),m}async function f(t){var n=await u.load(),a=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,i=await Promise.all(t.map(async function(e){var t=e[0],i=e[1],l=i.lastItemFromPreviousPage,u=i.pageSize,c=i.threadKey,d=i.uiMessages,m=o("MAWMessageIntegrityCheckFlytrapResultCache").getMessageIntegrityCheckResult(t);if(m!=null)return[c,m];var p=l!=null?{lastItemFromPreviousPage:l,type:"lastItemFromPreviousPage"}:{timeOfSnapshotMs:o("WATimeUtils").millisTime(),type:"latestPageSnapshot"},_=o("MAWMessageIntegrityEBFetchStatus").hasEBFailure(c),f=await n.fetchAndCompareMessagesData({db:a,fromReferencePoint:p,hasEbFetchFailed:_,localMessages:d,pageSize:u,threadKey:c});return f.success===!1?(r("FBLogger")("messenger_web_missing_messages").info("Message Integrity Check skipped for threadKey %s, reason %s",(s||(s=o("I64"))).to_float(c),f.error),null):(m=f.value.missingInTargetCategory,o("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(t,m),[c,m])}));return g(i.filter(Boolean))}function g(e){return e.reduce(function(e,t){var n=t[0],r=t[1];if(r.length===0)return e;var a=(s||(s=o("I64"))).to_float(n);return e.threadKeyToCategoryMapByExternalIds[a]==null&&(e.threadKeyToCategoryMapByExternalIds[a]={}),r.forEach(function(t){var n=t[0],r=t[1];e.threadKeyToCategoryMapByExternalIds[a][n.externalId]=r}),e},{numPagesChecked:e.length,threadKeyToCategoryMapByExternalIds:{}})}l.enqueueFlytrapMessageIntegrityCheck=p,l.getFlytrapMissingMessageReport=_}),98);
__d("MAWThreadViewAttachmentStateHandlerContent.react",["CometHeroHoldTrigger.react","MAWAttachmentStateHandlerContentBase.react","MWV2AttachmentLoadingPlaceholder.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(23),n=e.attachmentsFromGroupToRetry,a=e.connectBottom,i=e.connectTop,l=e.dbAttachment,u=e.descriptionForLogging,c=e.downloadStatusKeyOverride,d=e.errorComponentRenderer,m=e.errorWithBlurComponentRenderer,p=e.loadingPlaceholderStyle,_=e.mediaRenderQpl,f=e.outgoing,g=e.placeholderHeight,h=e.placeholderMaxHeight,y=e.placeholderMaxWidth,C=e.placeholderWidth,b=e.shouldDisableAutoTriggerDownload,v=e.successfulComponentRenderer,S=e.xmaMediaType,R=b===void 0?!1:b,L=u+".MAWThreadViewAttachmentStateHandlerContent",E;t[0]!==a||t[1]!==i||t[2]!==(l==null?void 0:l.attributionAppName)||t[3]!==p||t[4]!==_||t[5]!==f||t[6]!==g||t[7]!==h||t[8]!==y||t[9]!==C?(E=function(t,n){return s.jsxs(s.Fragment,{children:[s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:a,connectTop:i,descriptionForLogging:t,hasAppAttribution:(l==null?void 0:l.attributionAppName)!=null,height:g,maxHeight:h!=null?h:g,maxWidth:y!=null?y:C,mediaRenderQpl:_,outgoing:f,width:C,xstyle:p}),!n&&s.jsx(r("CometHeroHoldTrigger.react"),{description:t,hold:!0})]})},t[0]=a,t[1]=i,t[2]=l==null?void 0:l.attributionAppName,t[3]=p,t[4]=_,t[5]=f,t[6]=g,t[7]=h,t[8]=y,t[9]=C,t[10]=E):E=t[10];var k;return t[11]!==n||t[12]!==l||t[13]!==c||t[14]!==d||t[15]!==m||t[16]!==_||t[17]!==R||t[18]!==v||t[19]!==L||t[20]!==E||t[21]!==S?(k=s.jsx(r("MAWAttachmentStateHandlerContentBase.react"),{attachmentsFromGroupToRetry:n,dbAttachment:l,descriptionForLogging:L,downloadStatusKeyOverride:c,errorComponentRenderer:d,errorWithBlurComponentRenderer:m,loadingPlaceholderRenderer:E,mediaRenderQpl:_,shouldDisableAutoTriggerDownload:R,successfulComponentRenderer:v,xmaMediaType:S}),t[11]=n,t[12]=l,t[13]=c,t[14]=d,t[15]=m,t[16]=_,t[17]=R,t[18]=v,t[19]=L,t[20]=E,t[21]=S,t[22]=k):k=t[22],k}l.default=u}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","react-compiler-runtime","stylex","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useRef;function _(t){var n=o("react-compiler-runtime").c(35),a=t.attachment,i=t.connectBottom,l=t.connectTop,s=t.isReply,d=t.isRetryableError,_=t.mediaRenderQpl,f=t.message,g=t.onRetry,h=t.outgoing,y=t.width,C=s===void 0?!1:s;r("vulture")("HK-Rwh7CS-uCi_-N9j5dewGr_Ts=");var b=a.playableDurationMs,v=(u||(u=o("I64"))).to_float(b!=null?b:(u||(u=o("I64"))).zero)/1e3,S=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:h===!0?"right":"left",connectBottom:i,connectTop:l}),R=o("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,f.messageId,void 0,r("emptyFunction"),!1,v,_),L=R[2],E=R[4],k;if(n[0]!==f.ephemeralDurationInSec){var I;k=(u||(u=o("I64"))).gt((I=f.ephemeralDurationInSec)!=null?I:(u||(u=o("I64"))).zero,u.zero),n[0]=f.ephemeralDurationInSec,n[1]=k}else k=n[1];var T=k,D=p(),x=o("MWPAudioHighlightStylesHooks").useHighlightStyles(h),$=o("MWPAudioPlayerUtils").useCalculatePlayerWidth(y,T),P=$+"px",N;n[2]!==P?(N={width:P},n[2]=P,n[3]=N):N=n[3];var M=N,w,A;n[4]!==d||n[5]!==_?(w=function(){_==null||_.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:d}})},A=[_,d],n[4]=d,n[5]=_,n[6]=w,n[7]=A):(w=n[6],A=n[7]),m(w,A);var F=r("MWPAudioPlayerContainer.react"),O=!1,B=null,W="mw_audio_player_error_placeholder",q=o("MWPAudioPlayerUtils").UseCase,U=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.common,S,h?o("MWPAudioPlayerSharedStyles").styles.commonOutgoing:o("MWPAudioPlayerSharedStyles").styles.commonIncoming,C&&o("MWPAudioPlayerSharedStyles").styles.commonReply,h&&C&&o("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),V=a.isAttachmentConsumed===!0,H;n[8]!==g?(H=function(){g&&g()},n[8]=g,n[9]=H):H=n[9];var G;n[10]!==d||n[11]!==h||n[12]!==H?(G=c.jsx(r("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:d,onPress:H,outgoing:h,scrubberRef:D}),n[10]=d,n[11]=h,n[12]=H,n[13]=G):G=n[13];var z;n[14]!==L||n[15]!==v||n[16]!==x||n[17]!==h||n[18]!==E||n[19]!==V||n[20]!==G?(z=c.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:L,currentTime:v,disabled:!0,duration:v,hasEnded:!1,hasScrubber:!1,isListened:V,isPlaying:!1,onUpdateScrubber:r("emptyFunction"),outgoing:h,progressHighlightRef:E,scrubberRef:D,waveformData:null,xstyle:x,children:G}),n[14]=L,n[15]=v,n[16]=x,n[17]=h,n[18]=E,n[19]=V,n[20]=G,n[21]=z):z=n[21];var j;n[22]!==v||n[23]!==h?(j=c.jsx("div",{children:c.jsx(r("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:h,time:v})}),n[22]=v,n[23]=h,n[24]=j):j=n[24];var K;n[25]!==U||n[26]!==z||n[27]!==j?(K=c.jsxs("div",babelHelpers.extends({},U,{children:[z,j]})),n[25]=U,n[26]=z,n[27]=j,n[28]=K):K=n[28];var Q;return n[29]!==F||n[30]!==L||n[31]!==M||n[32]!==q.PLAYER||n[33]!==K?(Q=c.jsx(F,{audioEl:L,hasScrubber:O,mediaRenderQpl:B,scrubberRef:D,style:M,testid:void 0,useCase:q.PLAYER,children:K}),n[29]=F,n[30]=L,n[31]=M,n[32]=q.PLAYER,n[33]=K,n[34]=Q):Q=n[34],Q}l.default=_}),98);
__d("MAWSecureAudioAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWAudioPlayer.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","mwpMessageIsReply","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(30),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,c=e.mediaRenderQpl,d=e.message,m=e.outgoing,p=e.shouldDisableAutoTriggerDownload,_,f;t[0]!==c?(_=function(){c==null||c.addPoint("render-audio-attachment")},f=[c],t[0]=c,t[1]=_,t[2]=f):(_=t[1],f=t[2]),u(_,f);var g=o("MWPAudioPlayerUtils").useCalculatePlayerWidth(),h=o("MWPAudioPlayerUtils").useCalculatePlayerHeight(o("MWPAudioPlayerUtils").UseCase.PLAYER),y;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m?(y=function(t,o){return s.jsx(r("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:i,connectBottom:n,connectTop:a,isRetryableError:t,mediaRenderQpl:c,message:d,onRetry:o,outgoing:m})},t[3]=n,t[4]=a,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=y):y=t[9];var C=y,b;t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==C||t[14]!==l||t[15]!==c||t[16]!==d||t[17]!==m?(b=function(t){return s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:s.jsx(r("MWAudioPlayer.react"),{attachment:i,connectBottom:n,connectTop:a,getPlayableUrl:l,isReply:r("mwpMessageIsReply")(d),isSecure:!0,mediaRenderQpl:c,message:d,outgoing:m,renderUnsupportedAttachment:function(){return C(!1)}})})},t[10]=n,t[11]=a,t[12]=i,t[13]=C,t[14]=l,t[15]=c,t[16]=d,t[17]=m,t[18]=b):b=t[18];var v=b,S;return t[19]!==n||t[20]!==a||t[21]!==i||t[22]!==C||t[23]!==c||t[24]!==m||t[25]!==h||t[26]!==g||t[27]!==p||t[28]!==v?(S=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:C,mediaRenderQpl:c,outgoing:m,placeholderHeight:h,placeholderWidth:g,shouldDisableAutoTriggerDownload:p,successfulComponentRenderer:v}),t[19]=n,t[20]=a,t[21]=i,t[22]=C,t[23]=c,t[24]=m,t[25]=h,t[26]=g,t[27]=p,t[28]=v,t[29]=S):S=t[29],S}l.default=c}),98);
__d("MWV2AttachmentErrorPlaceholder.react",["fbt","MWXAspectRatioContainer.react","MWXIconCautionTriangle","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXTooltip.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a=t.connectBottom,i=t.connectTop,l=t.detailedUserFacingErrorMessage,u=t.hasAppAttribution,m=t.height,p=t.outgoing,_=t.width,f=t.xstyle,g=r("useCurrentDisplayMode")(),h=m!=null?m:100,y=_!=null?_:200,C=p===!0?"right":"left",b=u===!0?"bottom":"none",v;n[0]!==a||n[1]!==i||n[2]!==C||n[3]!==b?(v=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:C,connectBottom:a,connectTop:i,flatten:b}),n[0]=a,n[1]=i,n[2]=C,n[3]=b,n[4]=v):v=n[4];var S=v,R;n[5]!==l?(R=l!=null?l:s._(/*BTDS*/"Error loading media"),n[5]=l,n[6]=R):R=n[6];var L;n[7]!==S||n[8]!==g||n[9]!==f?(L=function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([n,d.content,g==="dark"?d.dark:d.light,S,f]),{"data-testid":void 0,children:c.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconCautionTriangle"),size:20})}))},n[7]=S,n[8]=g,n[9]=f,n[10]=L):L=n[10];var E;n[11]!==h||n[12]!==L||n[13]!==y?(E=c.jsx(r("MWXAspectRatioContainer.react"),{height:h,maxHeight:200,maxWidth:480,width:y,children:L}),n[11]=h,n[12]=L,n[13]=y,n[14]=E):E=n[14];var k;return n[15]!==R||n[16]!==E?(k=c.jsx(r("MWXTooltip.react"),{tooltip:R,children:E}),n[15]=R,n[16]=E,n[17]=k):k=n[17],k}l.default=m}),226);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t,n=o("react-compiler-runtime").c(25),a=e.file,i=e.isRetryableError,l=e.mediaRenderQpl,c=e.onRetry,d=(t=a.filename)!=null?t:o("MWFileUtils").PLACEHOLDER_FILENAME,m;n[0]!==d?(m=d.toString(),n[0]=d,n[1]=m):m=n[1];var p=m,_;n[2]!==a?(_=o("MWFileUtils").getFileSize(a),n[2]=a,n[3]=_):_=n[3];var f=_,g,h;n[4]!==i||n[5]!==l?(g=function(){l==null||l.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:i}})},h=[l,i],n[4]=i,n[5]=l,n[6]=g,n[7]=h):(g=n[6],h=n[7]),u(g,h);var y;n[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5 x87ps6o"},n[8]=y):y=n[8];var C;n[9]!==a||n[10]!==i||n[11]!==c?(C=s.jsx(r("MWChatFilePreview.react"),{attachment:a,isError:!0,isRetryableError:i,onRetry:c,withPreview:!1}),n[9]=a,n[10]=i,n[11]=c,n[12]=C):C=n[12];var b;n[13]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1g0dm76 xv54qhq x13faqbe"},n[13]=b):b=n[13];var v;n[14]!==p?(v=s.jsx(r("MWXTextPairing.react"),{headline:p,headlineColor:"disabled",headlineLineLimit:3,level:4}),n[14]=p,n[15]=v):v=n[15];var S;n[16]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x1x80s81 x889kno"},n[16]=S):S=n[16];var R;n[17]!==f?(R=s.jsx("div",babelHelpers.extends({},S,{children:s.jsx(r("MWXTextPairing.react"),{body:f,bodyColor:"disabled",bodyLineLimit:1,level:4})})),n[17]=f,n[18]=R):R=n[18];var L;n[19]!==R||n[20]!==v?(L=s.jsxs("div",babelHelpers.extends({},b,{children:[v,R]})),n[19]=R,n[20]=v,n[21]=L):L=n[21];var E;return n[22]!==L||n[23]!==C?(E=s.jsxs("div",babelHelpers.extends({},y,{"data-testid":void 0,children:[C,L]})),n[22]=L,n[23]=C,n[24]=E):E=n[24],E}l.default=c}),98);
__d("MAWSecureFileAttachmentContent.react",["CometPlaceholder.react","MAWChatFile.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c=60,d=250,m={bubble:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(25),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getFileUrl,p=e.mediaRenderQpl,_=e.outgoing,f=e.shouldDisableAutoTriggerDownload,g,h;t[0]!==p?(g=function(){p==null||p.addPoint("render-file-attachment")},h=[p],t[0]=p,t[1]=g,t[2]=h):(g=t[1],h=t[2]),u(g,h);var y;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==p||t[7]!==_?(y=function(t,o){return s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,xstyle:m.bubble,children:s.jsx(r("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:i,isRetryableError:t,mediaRenderQpl:p,onRetry:o})})},t[3]=n,t[4]=a,t[5]=i,t[6]=p,t[7]=_,t[8]=y):y=t[8];var C=y,b;t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==p||t[14]!==_?(b=function(t){return s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,xstyle:m.bubble,children:s.jsx(r("MAWChatFile.react"),{file:i,getFileUrl:l,mediaRenderQpl:p,renderUnsupportedAttachment:function(){return s.jsx(r("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:n,connectTop:a,height:c,outgoing:_,width:d})}})})})},t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=p,t[14]=_,t[15]=b):b=t[15];var v=b,S;return t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==C||t[20]!==p||t[21]!==_||t[22]!==f||t[23]!==v?(S=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:C,mediaRenderQpl:p,outgoing:_,placeholderHeight:c,placeholderWidth:d,shouldDisableAutoTriggerDownload:f,successfulComponentRenderer:v}),t[16]=n,t[17]=a,t[18]=i,t[19]=C,t[20]=p,t[21]=_,t[22]=f,t[23]=v,t[24]=S):S=t[24],S}l.default=p}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Small:"small",Large:"large"}),l=e;i.default=l}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWXAspectRatioContainer.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useEffect,m={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0},content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(27),a=t.attachment,i=t.connectBottom,l=t.connectTop,u=t.hasAppAttribution,p=t.height,_=t.iconSize,f=t.isRetryableError,g=t.maxHeight,h=t.maxWidth,y=t.mediaRenderQpl,C=t.onRetry,b=t.outgoing,v=t.width,S=t.withTooltip,R=t.xstyle,L=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(a,f,C),E=L.mediaStatusText,k=L.retryButton,I,T;n[0]!==f||n[1]!==y?(I=function(){y==null||y.addPoint("render-error-placeholder",{bool:{is_retryable_error:f}})},T=[y,f],n[0]=f,n[1]=y,n[2]=I,n[3]=T):(I=n[2],T=n[3]),d(I,T);var D=r("useCurrentDisplayMode")(),x=p!=null?p:100,$=v!=null?v:200,P=b===!0?"right":"left",N=u===!0?"bottom":"none",M;n[4]!==i||n[5]!==l||n[6]!==P||n[7]!==N?(M=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:P,connectBottom:i,connectTop:l,flatten:N}),n[4]=i,n[5]=l,n[6]=P,n[7]=N,n[8]=M):M=n[8];var w=M,A=g!=null?g:200,F=h!=null?h:480,O;n[9]!==w||n[10]!==D||n[11]!==_||n[12]!==f||n[13]!==C||n[14]!==R?(O=function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([n,m.content,D==="dark"?m.dark:m.light,w,R]),{"data-testid":void 0,children:f?c.jsx(r("MWXPressable.react"),{display:"inline",label:s._(/*BTDS*/"Retry"),onPress:C,testid:void 0,xstyle:[m.circleButton,m.container,_===r("MediaDownloadStatusIconSize").Large&&m.buttonLarge,_===r("MediaDownloadStatusIconSize").Small&&m.buttonSmall],children:c.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconRefreshAlt"),size:_===r("MediaDownloadStatusIconSize").Large?24:12})}):c.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x19rn6z x78zum5 xl56j7k xxk0z11 xvy4d1p"},1:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x19rn6z x78zum5 xl56j7k xdd8jsf xvni27"}}[(_===r("MediaDownloadStatusIconSize").Large)<<0],{children:c.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconExclamationMarkCircle"),size:_===r("MediaDownloadStatusIconSize").Large?24:12})}))}))},n[9]=w,n[10]=D,n[11]=_,n[12]=f,n[13]=C,n[14]=R,n[15]=O):O=n[15];var B;n[16]!==x||n[17]!==A||n[18]!==F||n[19]!==O||n[20]!==$?(B=c.jsx(r("MWXAspectRatioContainer.react"),{height:x,maxHeight:A,maxWidth:F,width:$,children:O}),n[16]=x,n[17]=A,n[18]=F,n[19]=O,n[20]=$,n[21]=B):B=n[21];var W=B,q;return n[22]!==W||n[23]!==E||n[24]!==k||n[25]!==S?(q=S===!0?c.jsx(r("MWXTooltip.react"),{label:E,tooltip:c.jsxs(r("MWXText.react"),{color:"tooltip",type:"meta4",children:[E,k]}),children:W}):W,n[22]=W,n[23]=E,n[24]=k,n[25]=S,n[26]=q):q=n[26],q}l.default=p}),226);
__d("MWV2AttachmentPlaceholderWithBlurImage.react",["CometPlaceholder.react","FDSBlurredBackgroundImage.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(30),a=t.connectBottom,i=t.connectTop,l=t.dbAttachment,s=t.getPreviewUrl,d=t.hasAppAttribution,p=t.height,_=t.isGroupedImage,f=t.maxHeight,g=t.maxWidth,h=t.mediaRenderQpl,y=t.message,C=t.outgoing,b=t.width,v=t.xstyle,S=r("useCurrentDisplayMode")(),R=p!=null?p:100,L=b!=null?b:200,E=C===!0?"right":"left",k=d===!0?"bottom":"none",I;n[0]!==a||n[1]!==i||n[2]!==E||n[3]!==k?(I=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:E,connectBottom:a,connectTop:i,flatten:k}),n[0]=a,n[1]=i,n[2]=E,n[3]=k,n[4]=I):I=n[4];var T=I,D=f!=null?f:200,x=g!=null?g:480,$;n[5]!==T||n[6]!==S||n[7]!==v?($=function(n){return u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([n,c.content,S==="dark"?c.dark:c.light,T,v]),{"data-testid":void 0}))},n[5]=T,n[6]=S,n[7]=v,n[8]=$):$=n[8];var P;n[9]!==R||n[10]!==D||n[11]!==x||n[12]!==$||n[13]!==L?(P=u.jsx(r("MWXAspectRatioContainer.react"),{height:R,maxHeight:D,maxWidth:x,width:L,children:$}),n[9]=R,n[10]=D,n[11]=x,n[12]=$,n[13]=L,n[14]=P):P=n[14];var N=P,M;n[15]===Symbol.for("react.memo_cache_sentinel")?(M={className:"x47corl"},n[15]=M):M=n[15];var w;return n[16]!==a||n[17]!==i||n[18]!==l||n[19]!==N||n[20]!==s||n[21]!==R||n[22]!==_||n[23]!==f||n[24]!==g||n[25]!==h||n[26]!==y||n[27]!==C||n[28]!==L?(w=u.jsx("div",babelHelpers.extends({},M,{children:y!=null?u.jsx(r("CometPlaceholder.react"),{fallback:N,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:u.jsx(r("MWV2ChatImage.react"),{attachment:l,connectBottom:a,connectTop:i,getPreviewUrl:s,isGroupedImage:_,isSecure:!0,maxHeight:f!=null?f:R,maxWidth:g!=null?g:L,mediaRenderQpl:null,message:y,navigateToRouteForMediaViewer:!1,outgoing:C,renderUnsupportedAttachment:function(){return N},shouldBlur:!0})}):u.jsx(r("CometPlaceholder.react"),{fallback:N,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:u.jsx(m,{dbAttachment:l,fallback:N,getPreviewUrl:s,heightCalculated:R,maxHeight:f,maxWidth:g,mediaRenderQpl:h,widthCalculated:L})})})),n[16]=a,n[17]=i,n[18]=l,n[19]=N,n[20]=s,n[21]=R,n[22]=_,n[23]=f,n[24]=g,n[25]=h,n[26]=y,n[27]=C,n[28]=L,n[29]=w):w=n[29],w}function m(e){var t=o("react-compiler-runtime").c(11),n=e.dbAttachment,a=e.fallback,i=e.getPreviewUrl,l=e.heightCalculated,s=e.maxHeight,d=e.maxWidth,m=e.mediaRenderQpl,p=e.widthCalculated,_;t[0]!==n||t[1]!==i||t[2]!==m?(_=i(n,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",m),t[0]=n,t[1]=i,t[2]=m,t[3]=_):_=t[3];var f=_,g;return t[4]!==a||t[5]!==l||t[6]!==s||t[7]!==d||t[8]!==f||t[9]!==p?(g=f!=null?u.jsx(r("MWXAspectRatioContainer.react"),{height:l,maxHeight:s,maxWidth:d,width:p,children:function(t){return u.jsx(r("FDSBlurredBackgroundImage.react"),{src:f,xstyle:[t,c.gallery]})}}):a,t[4]=a,t[5]=l,t[6]=s,t[7]=d,t[8]=f,t[9]=p,t[10]=g):g=t[10],g}l.default=d}),98);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconExclamationMarkCircle","MWXIconStrict.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(35),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPreviewUrl,c=e.hasAppAttribution,d=e.height,m=e.iconSize,p=e.isGroupedImage,_=e.maxHeight,f=e.maxWidth,g=e.mediaRenderQpl,h=e.message,y=e.outgoing,C=e.width,b=e.withTooltip,v=e.xstyle,S,R;t[0]!==g||t[1]!==h?(S=function(){g==null||g.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:h!=null}})},R=[g,h],t[0]=g,t[1]=h,t[2]=S,t[3]=R):(S=t[2],R=t[3]),u(S,R);var L=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(i,!1),E=L.mediaStatusText,k=L.retryButton,I;t[4]===Symbol.for("react.memo_cache_sentinel")?(I={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},t[4]=I):I=t[4];var T;t[5]!==m?(T={0:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 xl56j7k xxk0z11 xvy4d1p"},1:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 xl56j7k xdd8jsf xvni27"}}[(m===r("MediaDownloadStatusIconSize").Large)<<0],t[5]=m,t[6]=T):T=t[6];var D=m===r("MediaDownloadStatusIconSize").Large?24:12,x;t[7]!==D?(x=s.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconExclamationMarkCircle"),size:D}),t[7]=D,t[8]=x):x=t[8];var $;t[9]!==T||t[10]!==x?($=s.jsx("div",babelHelpers.extends({},I,{children:s.jsx("div",babelHelpers.extends({},T,{"data-testid":void 0,children:x}))})),t[9]=T,t[10]=x,t[11]=$):$=t[11];var P;t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==l||t[16]!==c||t[17]!==d||t[18]!==p||t[19]!==_||t[20]!==f||t[21]!==g||t[22]!==h||t[23]!==y||t[24]!==C||t[25]!==v?(P=s.jsx(r("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:l,hasAppAttribution:c,height:d,isGroupedImage:p,maxHeight:_,maxWidth:f,mediaRenderQpl:g,message:h,outgoing:y,width:C,xstyle:v}),t[12]=n,t[13]=a,t[14]=i,t[15]=l,t[16]=c,t[17]=d,t[18]=p,t[19]=_,t[20]=f,t[21]=g,t[22]=h,t[23]=y,t[24]=C,t[25]=v,t[26]=P):P=t[26];var N;t[27]!==$||t[28]!==P?(N=s.jsxs(s.Fragment,{children:[$,P]}),t[27]=$,t[28]=P,t[29]=N):N=t[29];var M=N,w;return t[30]!==M||t[31]!==E||t[32]!==k||t[33]!==b?(w=b===!0?s.jsx(r("MWXTooltip.react"),{label:E,tooltip:s.jsxs(r("MWXText.react"),{color:"tooltip",type:"meta4",children:[E,k]}),children:M}):M,t[30]=M,t[31]=E,t[32]=k,t[33]=b,t[34]=w):w=t[34],w}l.default=c}),98);
__d("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconRefreshAlt","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(38),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPreviewUrl,m=e.hasAppAttribution,p=e.height,_=e.iconSize,f=e.isGroupedImage,g=e.maxHeight,h=e.maxWidth,y=e.mediaRenderQpl,C=e.message,b=e.onRetry,v=e.outgoing,S=e.width,R=e.withTooltip,L=e.xstyle,E,k;t[0]!==y||t[1]!==C?(E=function(){y==null||y.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:C!=null,is_retryable_error:!0}})},k=[y,C],t[0]=y,t[1]=C,t[2]=E,t[3]=k):(E=t[2],k=t[3]),c(E,k);var I=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(i,!0,b),T=I.mediaStatusText,D=I.retryButton,x;t[4]===Symbol.for("react.memo_cache_sentinel")?(x={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},t[4]=x):x=t[4];var $;t[5]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Retry"),t[5]=$):$=t[5];var P=_===r("MediaDownloadStatusIconSize").Large&&d.buttonLarge,N=_===r("MediaDownloadStatusIconSize").Small&&d.buttonSmall,M;t[6]!==P||t[7]!==N?(M=[d.circleButton,d.container,P,N],t[6]=P,t[7]=N,t[8]=M):M=t[8];var w=_===r("MediaDownloadStatusIconSize").Large?24:12,A;t[9]!==w?(A=u.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconRefreshAlt"),size:w}),t[9]=w,t[10]=A):A=t[10];var F;t[11]!==b||t[12]!==M||t[13]!==A?(F=u.jsx("div",babelHelpers.extends({},x,{children:u.jsx(r("MWXPressable.react"),{display:"inline",label:$,onPress:b,testid:void 0,xstyle:M,children:A})})),t[11]=b,t[12]=M,t[13]=A,t[14]=F):F=t[14];var O;t[15]!==n||t[16]!==a||t[17]!==i||t[18]!==l||t[19]!==m||t[20]!==p||t[21]!==f||t[22]!==g||t[23]!==h||t[24]!==y||t[25]!==C||t[26]!==v||t[27]!==S||t[28]!==L?(O=u.jsx(r("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:l,hasAppAttribution:m,height:p,isGroupedImage:f,maxHeight:g,maxWidth:h,mediaRenderQpl:y,message:C,outgoing:v,width:S,xstyle:L}),t[15]=n,t[16]=a,t[17]=i,t[18]=l,t[19]=m,t[20]=p,t[21]=f,t[22]=g,t[23]=h,t[24]=y,t[25]=C,t[26]=v,t[27]=S,t[28]=L,t[29]=O):O=t[29];var B;t[30]!==F||t[31]!==O?(B=u.jsxs(u.Fragment,{children:[F,O]}),t[30]=F,t[31]=O,t[32]=B):B=t[32];var W=B,q;return t[33]!==W||t[34]!==T||t[35]!==D||t[36]!==R?(q=R===!0?u.jsx(r("MWXTooltip.react"),{label:T,tooltip:u.jsxs(r("MWXText.react"),{color:"tooltip",type:"meta4",children:[T,D]}),children:W}):W,t[33]=W,t[34]=T,t[35]=D,t[36]=R,t[37]=q):q=t[37],q}l.default=m}),226);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","I64","MAWThreadViewAttachmentStateHandlerContent.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(74),n=e.attachmentsFromGroupToRetry,a=e.connectBottom,i=e.connectTop,l=e.dbAttachment,c=e.getPreviewUrl,p=e.isGroupedImage,_=e.mediaRenderQpl,f=e.message,g=e.outgoing,h=e.previewHeight,y=e.previewWidth,C=e.shouldDisableAutoTriggerDownload,b=C===void 0?!1:C,v=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),S=m(!1),R=S[0],L=S[1],E,k;t[0]!==_?(E=function(){_==null||_.addPoint("render-image-attachment")},k=[_],t[0]=_,t[1]=E,t[2]=k):(E=t[1],k=t[2]),d(E,k);var I=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),T=I!=null?I:void 0,D;t[3]!==p||t[4]!==T?(D=o("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,T,p),t[3]=p,t[4]=T,t[5]=D):D=t[5];var x=D,$=x.maxHeight,P=x.maxWidth,N=l!=null&&(s||(s=o("I64"))).to_int32(l.attachmentType)===r("MessagingAttachmentType").ANIMATED_IMAGE;if(f==null||l==null){var M=(l==null?void 0:l.attributionAppName)!=null,w;t[6]!==a||t[7]!==i||t[8]!==$||t[9]!==P||t[10]!==_||t[11]!==g||t[12]!==h||t[13]!==y||t[14]!==M?(w=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:a,connectTop:i,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:M,height:h,maxHeight:$,maxWidth:P,mediaRenderQpl:_,outgoing:g,width:y}),t[6]=a,t[7]=i,t[8]=$,t[9]=P,t[10]=_,t[11]=g,t[12]=h,t[13]=y,t[14]=M,t[15]=w):w=t[15];var A;t[16]===Symbol.for("react.memo_cache_sentinel")?(A=u.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),t[16]=A):A=t[16];var F;return t[17]!==w?(F=u.jsxs(u.Fragment,{children:[w,A]}),t[17]=w,t[18]=F):F=t[18],F}var O;t[19]!==a||t[20]!==i||t[21]!==l||t[22]!==$||t[23]!==P||t[24]!==_||t[25]!==g||t[26]!==h||t[27]!==y?(O=function(t,n){return u.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:l,connectBottom:a,connectTop:i,hasAppAttribution:l.attributionAppName!=null,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,isRetryableError:t,maxHeight:$,maxWidth:P,mediaRenderQpl:_,onRetry:n,outgoing:g,width:y})},t[19]=a,t[20]=i,t[21]=l,t[22]=$,t[23]=P,t[24]=_,t[25]=g,t[26]=h,t[27]=y,t[28]=O):O=t[28];var B=O,W;t[29]!==a||t[30]!==i||t[31]!==l||t[32]!==c||t[33]!==p||t[34]!==$||t[35]!==P||t[36]!==_||t[37]!==f||t[38]!==g||t[39]!==h||t[40]!==y?(W=function(t,n){return t?u.jsx(r("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:a,connectTop:i,dbAttachment:l,getPreviewUrl:c,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,isGroupedImage:p,maxHeight:$,maxWidth:P,mediaRenderQpl:_,message:f,onRetry:n,outgoing:g,width:y}):u.jsx(r("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:a,connectTop:i,dbAttachment:l,getPreviewUrl:c,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,isGroupedImage:p,maxHeight:$,maxWidth:P,mediaRenderQpl:_,message:f,outgoing:g,width:y})},t[29]=a,t[30]=i,t[31]=l,t[32]=c,t[33]=p,t[34]=$,t[35]=P,t[36]=_,t[37]=f,t[38]=g,t[39]=h,t[40]=y,t[41]=W):W=t[41];var q=W,U;t[42]!==v||t[43]!==a||t[44]!==i||t[45]!==l||t[46]!==B||t[47]!==c||t[48]!==N||t[49]!==R||t[50]!==p||t[51]!==$||t[52]!==P||t[53]!==_||t[54]!==f||t[55]!==g||t[56]!==h||t[57]!==y?(U=function(t){if(f==null)return t("MAWSecureImageAttachmentContentV2.NoMessage",!1);var e=N&&v!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON;return u.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:e&&R===!1?u.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:a,connectTop:i,dbAttachment:l,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isSecure:!0,mediaRenderQpl:_,message:f,onPlay:function(){return L(!0)},outgoing:g,previewHeight:h,previewWidth:y,testid:void 0}):u.jsx(r("MWV2ChatImage.react"),{attachment:l,connectBottom:a,connectTop:i,getPreviewUrl:c,isGroupedImage:p,isSecure:!0,maxHeight:$,maxWidth:P,mediaRenderQpl:_,message:f,navigateToRouteForMediaViewer:!1,onPressOverride:e?function(){return L(!1)}:void 0,outgoing:g,renderUnsupportedAttachment:function(){return B(!1)}})})},t[42]=v,t[43]=a,t[44]=i,t[45]=l,t[46]=B,t[47]=c,t[48]=N,t[49]=R,t[50]=p,t[51]=$,t[52]=P,t[53]=_,t[54]=f,t[55]=g,t[56]=h,t[57]=y,t[58]=U):U=t[58];var V=U,H;return t[59]!==n||t[60]!==a||t[61]!==i||t[62]!==l||t[63]!==B||t[64]!==q||t[65]!==$||t[66]!==P||t[67]!==_||t[68]!==g||t[69]!==h||t[70]!==y||t[71]!==b||t[72]!==V?(H=u.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:n,connectBottom:a,connectTop:i,dbAttachment:l,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:B,errorWithBlurComponentRenderer:q,mediaRenderQpl:_,outgoing:g,placeholderHeight:h,placeholderMaxHeight:$,placeholderMaxWidth:P,placeholderWidth:y,shouldDisableAutoTriggerDownload:b,successfulComponentRenderer:V}),t[59]=n,t[60]=a,t[61]=i,t[62]=l,t[63]=B,t[64]=q,t[65]=$,t[66]=P,t[67]=_,t[68]=g,t[69]=h,t[70]=y,t[71]=b,t[72]=V,t[73]=H):H=t[73],H}l.default=p}),98);
__d("MAWSecureGroupedImageAttachment.react",["MAWGetAttachmentThumbnailBlob","MAWSecureImageAttachmentContent.react","react","react-compiler-runtime","useGetMediaGroupStyles"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(23),n=e.mediaGroupInfo,a=e.mediaRenderQpl,i=e.outgoing,l=n.messagesAndAttachmentsShownInGroup,c=n.tileSize,d=o("useGetMediaGroupStyles").useGetMediaGroupStyles(i,c),m=d.containerStyles,p=d.coordinations,_=d.imageSize,f=d.wrapperStyles,g,h;t[0]!==a?(g=function(){a==null||a.addPoint("render-grouped-image-attachment"),a==null||a.addAnnotations({bool:{is_grouped_image:!0}})},h=[a],t[0]=a,t[1]=g,t[2]=h):(g=t[1],h=t[2]),u(g,h);var y;if(t[3]!==p||t[4]!==_||t[5]!==n.attachmentsToRetryDownload||t[6]!==a||t[7]!==l||t[8]!==i||t[9]!==c||t[10]!==f){var C;t[12]!==p||t[13]!==_||t[14]!==n.attachmentsToRetryDownload||t[15]!==a||t[16]!==i||t[17]!==c||t[18]!==f?(C=function(t,l){var e=t.attachment,u=t.message;return s.jsx("div",{className:f,style:babelHelpers.extends({zIndex:c-l},p[l]),children:s.jsx(r("MAWSecureImageAttachmentContent.react"),{attachmentsFromGroupToRetry:n.attachmentsToRetryDownload,connectBottom:!1,connectTop:!1,dbAttachment:e,getPreviewUrl:o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,isGroupedImage:!0,mediaRenderQpl:a,message:u,outgoing:i,previewHeight:_,previewWidth:_})},l)},t[12]=p,t[13]=_,t[14]=n.attachmentsToRetryDownload,t[15]=a,t[16]=i,t[17]=c,t[18]=f,t[19]=C):C=t[19],y=l.map(C),t[3]=p,t[4]=_,t[5]=n.attachmentsToRetryDownload,t[6]=a,t[7]=l,t[8]=i,t[9]=c,t[10]=f,t[11]=y}else y=t[11];var b;return t[20]!==m||t[21]!==y?(b=s.jsx("div",{className:m,"data-testid":void 0,children:y}),t[20]=m,t[21]=y,t[22]=b):b=t[22],b}l.default=c}),98);
__d("MAWSecureStickerAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(28),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPreviewUrl,c=e.mediaRenderQpl,d=e.outgoing,m=e.previewHeight,p=e.previewWidth,_=e.shouldDisableAutoTriggerDownload,f,g;t[0]!==c?(f=function(){c==null||c.addPoint("render-sticker-attachment")},g=[c],t[0]=c,t[1]=f,t[2]=g):(f=t[1],g=t[2]),u(f,g);var h;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==p?(h=function(t,o){return s.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:i,connectBottom:n,connectTop:a,hasAppAttribution:i.attributionAppName!=null,height:m,iconSize:r("MediaDownloadStatusIconSize").Large,isRetryableError:t,mediaRenderQpl:c,onRetry:o,outgoing:d,width:p})},t[3]=n,t[4]=a,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=h):h=t[10];var y=h,C;t[11]!==i||t[12]!==y||t[13]!==l||t[14]!==c?(C=function(t){return i.receiverFetchId!=null&&i.previewUrl==null?t("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:s.jsx(r("MWV2Sticker.react"),{attachment:i,getPreviewUrl:l,mediaRenderQpl:c,renderUnsupportedAttachment:function(){return y(!1)}})})},t[11]=i,t[12]=y,t[13]=l,t[14]=c,t[15]=C):C=t[15];var b=C,v=i.receiverFetchId!=null?i.messageId:i.attachmentFbid,S;return t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==v||t[20]!==y||t[21]!==c||t[22]!==d||t[23]!==m||t[24]!==p||t[25]!==_||t[26]!==b?(S=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:v,errorComponentRenderer:y,mediaRenderQpl:c,outgoing:d,placeholderHeight:m,placeholderWidth:p,shouldDisableAutoTriggerDownload:_,successfulComponentRenderer:b}),t[16]=n,t[17]=a,t[18]=i,t[19]=v,t[20]=y,t[21]=c,t[22]=d,t[23]=m,t[24]=p,t[25]=_,t[26]=b,t[27]=S):S=t[27],S}l.default=c}),98);
__d("MAWSecureVideoInvalidAttachment.react",["MWV2AttachmentErrorPlaceholderV2.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(14),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.height,c=e.iconSize,d=e.maxHeight,m=e.maxWidth,p=e.mediaRenderQpl,_=e.outgoing,f=e.width,g=e.withTooltip,h=e.xstyle;r("vulture")("Qt8wUEz-jEQQAGEk2V_G0Xgf2bc=");var y;t[0]!==p?(y=function(){p==null||p.addPoint("invalid-media-rendered"),p==null||p.endFail("invalid-media",{bool:{is_invalid_media:!0}})},t[0]=p,t[1]=y):y=t[1],u(y,void 0);var C;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==_||t[10]!==f||t[11]!==g||t[12]!==h?(C=s.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:n,connectBottom:a,connectTop:i,height:l,iconSize:c,isRetryableError:!1,maxHeight:d,maxWidth:m,mediaRenderQpl:null,outgoing:_,width:f,withTooltip:g,xstyle:h}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=m,t[9]=_,t[10]=f,t[11]=g,t[12]=h,t[13]=C):C=t[13],C}l.default=c}),98);
__d("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react",["fbt","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconDownload","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","MessengerWebUXLoggerImpl","justknobx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(58),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,m=e.getPreviewUrl,p=e.hasAppAttribution,_=e.height,f=e.iconSize,g=e.isGroupedImage,h=e.maxHeight,y=e.maxWidth,C=e.mediaRenderQpl,b=e.message,v=e.outgoing,S=e.placeholderMessage,R=e.previewHeight,L=e.previewWidth,E=e.width,k=e.withTooltip,I=e.xstyle,T=o("MessengerWebUXLoggerImpl").useInteractionLogger(),D;t[0]!==i||t[1]!==l?(D=l(i,"MWV2AttachmentDownloadablePlaceholderWithBlurImage"),t[0]=i,t[1]=l,t[2]=D):D=t[2];var x=D,$,P;if(t[3]!==C||t[4]!==b||t[5]!==x?($=function(){C==null||C.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:b!=null,has_playable_url:!!x,is_downloadable:!0}})},P=[C,b,x],t[3]=C,t[4]=b,t[5]=x,t[6]=$,t[7]=P):($=t[6],P=t[7]),c($,P),!x&&r("justknobx")._("4203")){var N=m!=null?m:l,M;return t[8]!==n||t[9]!==a||t[10]!==i||t[11]!==h||t[12]!==y||t[13]!==C||t[14]!==b||t[15]!==v||t[16]!==R||t[17]!==L||t[18]!==N?(M=u.jsx(r("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:N,height:R,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:h,maxWidth:y,mediaRenderQpl:C,message:b,outgoing:v,width:L}),t[8]=n,t[9]=a,t[10]=i,t[11]=h,t[12]=y,t[13]=C,t[14]=b,t[15]=v,t[16]=R,t[17]=L,t[18]=N,t[19]=M):M=t[19],M}var w;t[20]===Symbol.for("react.memo_cache_sentinel")?(w={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},t[20]=w):w=t[20];var A;t[21]===Symbol.for("react.memo_cache_sentinel")?(A=s._(/*BTDS*/"Download"),t[21]=A):A=t[21];var F;t[22]!==x?(F={download:!0,url:x},t[22]=x,t[23]=F):F=t[23];var O;t[24]!==T?(O=function(){T==null||T({eventName:"click_unsupported_video_download_from_fallback"})},t[24]=T,t[25]=O):O=t[25];var B=f===r("MediaDownloadStatusIconSize").Large&&d.buttonLarge,W=f===r("MediaDownloadStatusIconSize").Small&&d.buttonSmall,q;t[26]!==B||t[27]!==W?(q=[d.circleButton,d.container,B,W],t[26]=B,t[27]=W,t[28]=q):q=t[28];var U=f===r("MediaDownloadStatusIconSize").Large?24:12,V;t[29]!==U?(V=u.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconDownload"),size:U}),t[29]=U,t[30]=V):V=t[30];var H;t[31]!==q||t[32]!==V||t[33]!==F||t[34]!==O?(H=u.jsx("div",babelHelpers.extends({},w,{children:u.jsx(r("MWXPressable.react"),{display:"inline",label:A,linkProps:F,onPress:O,xstyle:q,children:V})})),t[31]=q,t[32]=V,t[33]=F,t[34]=O,t[35]=H):H=t[35];var G;t[36]!==n||t[37]!==a||t[38]!==i||t[39]!==m||t[40]!==p||t[41]!==_||t[42]!==g||t[43]!==h||t[44]!==y||t[45]!==C||t[46]!==b||t[47]!==v||t[48]!==E||t[49]!==I?(G=u.jsx(r("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:m,hasAppAttribution:p,height:_,isGroupedImage:g,maxHeight:h,maxWidth:y,mediaRenderQpl:C,message:b,outgoing:v,width:E,xstyle:I}),t[36]=n,t[37]=a,t[38]=i,t[39]=m,t[40]=p,t[41]=_,t[42]=g,t[43]=h,t[44]=y,t[45]=C,t[46]=b,t[47]=v,t[48]=E,t[49]=I,t[50]=G):G=t[50];var z;t[51]!==H||t[52]!==G?(z=u.jsxs(u.Fragment,{children:[H,G]}),t[51]=H,t[52]=G,t[53]=z):z=t[53];var j=z,K;return t[54]!==j||t[55]!==S||t[56]!==k?(K=k===!0?u.jsx(r("MWXTooltip.react"),{label:S,tooltip:u.jsx(r("MWXText.react"),{color:"tooltip",type:"meta4",children:S}),children:j}):j,t[54]=j,t[55]=S,t[56]=k,t[57]=K):K=t[57],K}l.default=m}),226);
__d("MAWSecureVideoUnsupportedCodecAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentDownloadablePlaceholderWithBlurImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(21),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,c=e.getPreviewUrl,d=e.hasAppAttribution,m=e.height,p=e.iconSize,_=e.maxHeight,f=e.maxWidth,g=e.mediaRenderQpl,h=e.message,y=e.outgoing,C=e.previewHeight,b=e.previewWidth,v=e.width,S=e.withTooltip,R=e.xstyle,L;t[0]!==g?(L=function(){g==null||g.addPoint("downloadable-unsupported-media-rendered"),g==null||g.endFail("unsupported-media",{bool:{is_unsupported_media:!0}})},t[0]=g,t[1]=L):L=t[1],u(L,void 0);var E=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(i,!1),k=E.mediaStatusText,I=n!=null?n:!1,T=a!=null?a:!1,D=d!=null?d:!1,x=y!=null?y:!1,$=S!=null?S:!1,P;return t[2]!==i||t[3]!==l||t[4]!==c||t[5]!==m||t[6]!==p||t[7]!==_||t[8]!==f||t[9]!==h||t[10]!==k||t[11]!==C||t[12]!==b||t[13]!==I||t[14]!==T||t[15]!==D||t[16]!==x||t[17]!==$||t[18]!==v||t[19]!==R?(P=s.jsx(r("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react"),{connectBottom:I,connectTop:T,dbAttachment:i,getPlayableUrl:l,getPreviewUrl:c,hasAppAttribution:D,height:m,iconSize:p,maxHeight:_,maxWidth:f,mediaRenderQpl:null,message:h,outgoing:x,placeholderMessage:k,previewHeight:C,previewWidth:b,width:v,withTooltip:$,xstyle:R}),t[2]=i,t[3]=l,t[4]=c,t[5]=m,t[6]=p,t[7]=_,t[8]=f,t[9]=h,t[10]=k,t[11]=C,t[12]=b,t[13]=I,t[14]=T,t[15]=D,t[16]=x,t[17]=$,t[18]=v,t[19]=R,t[20]=P):P=t[20],P}l.default=c}),98);
__d("MAWSecureVideoAttachmentContent.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MAWMediaSetMediaValidatedResult","MAWSecureVideoInvalidAttachment.react","MAWSecureVideoUnsupportedCodecAttachment.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MediaDownloadStatusIconSize","cr:13757","gkx","react","react-compiler-runtime","useAsyncReStore","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect;function _(e){var t,a,i=o("react-compiler-runtime").c(79),l=e.connectBottom,s=e.connectTop,u=e.dbAttachment,d=e.getPlayableUrl,m=e.getPreviewUrl,_=e.mediaRenderQpl,h=e.message,y=e.outgoing,C=e.previewHeight,b=e.previewWidth,v=e.shouldDisableAutoTriggerDownload,S=v===void 0?!1:v,R,L;i[0]!==_?(R=function(){_==null||_.addPoint("render-video-attachment")},L=[_],i[0]=_,i[1]=R,i[2]=L):(R=i[1],L=i[2]),p(R,L);var E=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),k;i[3]!==E||i[4]!==C||i[5]!==b?(k=o("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:C,width:b},E),i[3]=E,i[4]=C,i[5]=b,i[6]=k):k=i[6];var I=k,T=I.maxHeight,D=I.maxWidth,x=(t=r("useShouldShowPlaybackErrorFallback")(u,_))!=null?t:!1,$=(a=r("useShouldShowUnsupportedCodecFallback")(u,_))!=null?a:!1,P;i[7]!==l||i[8]!==s||i[9]!==u||i[10]!==d||i[11]!==m||i[12]!==T||i[13]!==D||i[14]!==_||i[15]!==h||i[16]!==y||i[17]!==C||i[18]!==b?(P=function(t,n){return c.jsx(g,{connectBottom:l,connectTop:s,dbAttachment:u,getPlayableUrl:d,getPreviewUrl:m,isRetryableError:t,manualRetry:n,maxHeight:T,maxWidth:D,mediaRenderQpl:_,message:h,outgoing:y,previewHeight:C,previewWidth:b})},i[7]=l,i[8]=s,i[9]=u,i[10]=d,i[11]=m,i[12]=T,i[13]=D,i[14]=_,i[15]=h,i[16]=y,i[17]=C,i[18]=b,i[19]=P):P=i[19];var N=P;if(x){var M;return i[20]!==l||i[21]!==s||i[22]!==u||i[23]!==T||i[24]!==D||i[25]!==_||i[26]!==y||i[27]!==C||i[28]!==b?(M=c.jsx(r("MAWSecureVideoInvalidAttachment.react"),{attachment:u,connectBottom:l,connectTop:s,height:C,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:T,maxWidth:D,mediaRenderQpl:_,outgoing:y,width:b}),i[20]=l,i[21]=s,i[22]=u,i[23]=T,i[24]=D,i[25]=_,i[26]=y,i[27]=C,i[28]=b,i[29]=M):M=i[29],M}if($){var w=m!=null?m:d,A;return i[30]!==l||i[31]!==s||i[32]!==u||i[33]!==d||i[34]!==T||i[35]!==D||i[36]!==_||i[37]!==h||i[38]!==y||i[39]!==C||i[40]!==b||i[41]!==w?(A=c.jsx(r("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:l,connectTop:s,dbAttachment:u,getPlayableUrl:d,getPreviewUrl:w,height:C,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:T,maxWidth:D,mediaRenderQpl:_,message:h,outgoing:y,width:b}),i[30]=l,i[31]=s,i[32]=u,i[33]=d,i[34]=T,i[35]=D,i[36]=_,i[37]=h,i[38]=y,i[39]=C,i[40]=b,i[41]=w,i[42]=A):A=i[42],A}var F=r("gkx")("5398")&&u.gifPlayback===!0,O;i[43]!==s||i[44]!==u||i[45]!==N||i[46]!==d||i[47]!==F||i[48]!==_||i[49]!==h||i[50]!==y?(O=function(t){return c.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:c.jsx(n("cr:13757"),{attachment:u,autoPlaySetting:f(h.authorityLevel,F),connectTop:s,getPlayableUrl:d,gifPlayback:F,isSecure:!0,loops:F||!r("gkx")("8625"),mediaRenderQpl:_,message:h,navigateToRouteForMediaViewer:!1,outgoing:y,renderUnsupportedAttachment:function(){return N(!1)}})})},i[43]=s,i[44]=u,i[45]=N,i[46]=d,i[47]=F,i[48]=_,i[49]=h,i[50]=y,i[51]=O):O=i[51];var B=O,W;i[52]!==l||i[53]!==s||i[54]!==u||i[55]!==d||i[56]!==m||i[57]!==T||i[58]!==D||i[59]!==_||i[60]!==h||i[61]!==y||i[62]!==C||i[63]!==b?(W=function(t,n){return t?c.jsx(r("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:l,connectTop:s,dbAttachment:u,getPreviewUrl:m!=null?m:d,height:C,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:T,maxWidth:D,mediaRenderQpl:_,message:h,onRetry:n,outgoing:y,width:b}):c.jsx(r("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:l,connectTop:s,dbAttachment:u,getPreviewUrl:m!=null?m:d,height:C,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:T,maxWidth:D,mediaRenderQpl:_,message:h,outgoing:y,width:b})},i[52]=l,i[53]=s,i[54]=u,i[55]=d,i[56]=m,i[57]=T,i[58]=D,i[59]=_,i[60]=h,i[61]=y,i[62]=C,i[63]=b,i[64]=W):W=i[64];var q=W,U;return i[65]!==l||i[66]!==s||i[67]!==u||i[68]!==N||i[69]!==q||i[70]!==T||i[71]!==D||i[72]!==_||i[73]!==y||i[74]!==C||i[75]!==b||i[76]!==S||i[77]!==B?(U=c.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:l,connectTop:s,dbAttachment:u,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:N,errorWithBlurComponentRenderer:q,mediaRenderQpl:_,outgoing:y,placeholderHeight:C,placeholderMaxHeight:T,placeholderMaxWidth:D,placeholderWidth:b,shouldDisableAutoTriggerDownload:S,successfulComponentRenderer:B}),i[65]=l,i[66]=s,i[67]=u,i[68]=N,i[69]=q,i[70]=T,i[71]=D,i[72]=_,i[73]=y,i[74]=C,i[75]=b,i[76]=S,i[77]=B,i[78]=U):U=i[78],U}function f(e,t){var n=void 0,a=(s||(s=o("I64"))).gt(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),i=!r("gkx")("8624"),l=a&&i;return l||t?n:"off"}function g(e){var t=o("react-compiler-runtime").c(32),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,s=e.getPreviewUrl,u=e.isRetryableError,d=e.manualRetry,m=e.maxHeight,_=e.maxWidth,f=e.mediaRenderQpl,g=e.message,h=e.outgoing,y=e.previewHeight,C=e.previewWidth,b=r("useAsyncReStore")(),v,S;if(t[0]!==i.attachmentFbid||t[1]!==b||t[2]!==u||t[3]!==f?(v=function(){u||(o("MAWMediaSetMediaValidatedResult").call(b,i.attachmentFbid,{validatedMimeType:"unsupported-video"}),f==null||f.addPoint("browser_cant_play_video",{string:{invalid_media_reason:"browser_cant_play_video"}}))},S=[i.attachmentFbid,b,u,f],t[0]=i.attachmentFbid,t[1]=b,t[2]=u,t[3]=f,t[4]=v,t[5]=S):(v=t[4],S=t[5]),p(v,S),!u){var R=s!=null?s:l,L;return t[6]!==n||t[7]!==a||t[8]!==i||t[9]!==l||t[10]!==m||t[11]!==_||t[12]!==f||t[13]!==g||t[14]!==h||t[15]!==y||t[16]!==C||t[17]!==R?(L=c.jsx(r("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPlayableUrl:l,getPreviewUrl:R,height:y,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:m,maxWidth:_,mediaRenderQpl:f,message:g,outgoing:h,width:C}),t[6]=n,t[7]=a,t[8]=i,t[9]=l,t[10]=m,t[11]=_,t[12]=f,t[13]=g,t[14]=h,t[15]=y,t[16]=C,t[17]=R,t[18]=L):L=t[18],L}var E=i.attributionAppName!=null,k;return t[19]!==n||t[20]!==a||t[21]!==i||t[22]!==u||t[23]!==d||t[24]!==m||t[25]!==_||t[26]!==f||t[27]!==h||t[28]!==y||t[29]!==C||t[30]!==E?(k=c.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:i,connectBottom:n,connectTop:a,hasAppAttribution:E,height:y,iconSize:r("MediaDownloadStatusIconSize").Large,isRetryableError:u,maxHeight:m,maxWidth:_,mediaRenderQpl:f,onRetry:d,outgoing:h,width:C}),t[19]=n,t[20]=a,t[21]=i,t[22]=u,t[23]=d,t[24]=m,t[25]=_,t[26]=f,t[27]=h,t[28]=y,t[29]=C,t[30]=E,t[31]=k):k=t[31],k}l.default=_}),98);
__d("MAWSecureViewOnceMessageBubble.react",["MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageBubble.react","MWXText.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useEffect,d=r("gkx")("23219");function m(e){var t=o("react-compiler-runtime").c(21),n=e.connectBottom,a=e.connectTop,i=e.label,l=e.mediaRenderQpl,s=e.outgoing,m,p;t[0]!==l?(m=function(){l==null||l.addPoint("render-tombstoned-message",{bool:{outgoing_or_has_seen:!0}}),l==null||l.endSuccess()},p=[l],t[0]=l,t[1]=m,t[2]=p):(m=t[1],p=t[2]),c(m,p);var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={eventName:"view_once_message_bubble_rendered"},t[3]=_):_=t[3];var f=r("MessengerWebUXLogger").useImpressionLoggerRef(_),g=s?"right":"left",h=s?"outgoing":"incoming",y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5"},t[4]=y):y=t[4];var C;t[5]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x1lliihq xbelrpt xbyyjgo"},t[5]=C):C=t[5];var b=s?"white":"primary",v;t[6]!==b?(v=u.jsx("div",babelHelpers.extends({},C,{children:u.jsx(r("MWXIconStrict.react"),{color:b,icon:r("MWViewOnceMessageIcon"),isDecorative:!0,size:18})})),t[6]=b,t[7]=v):v=t[7];var S=s?d?"primaryOnMedia":"secondaryOnMedia":"secondary",R;t[8]!==i||t[9]!==S?(R=u.jsx(r("MWXText.react"),{color:S,type:"bodyLink3",children:i}),t[8]=i,t[9]=S,t[10]=R):R=t[10];var L;t[11]!==f||t[12]!==R||t[13]!==v?(L=u.jsxs("div",babelHelpers.extends({},y,{"data-testid":void 0,ref:f,children:[v,R]})),t[11]=f,t[12]=R,t[13]=v,t[14]=L):L=t[14];var E;return t[15]!==n||t[16]!==a||t[17]!==L||t[18]!==g||t[19]!==h?(E=u.jsx(r("MWXMessageBubble.react"),{align:g,color:h,connectBottom:n,connectTop:a,variant:"opaque",children:L}),t[15]=n,t[16]=a,t[17]=L,t[18]=g,t[19]=h,t[20]=E):E=t[20],E}l.default=m}),98);
__d("MAWSecureViewOnceAttachmentContent.react",["fbt","I64","LSIntEnum","MAWLocalizationType","MAWSecureViewOnceMessageBubble.react","MWV2TombstonedMessage.react","MWViewOnceMessageIcon","MWXIconStrict.react","MessagingAttachmentType","MessengerWebUXLogger","RavenMessagingState","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(22),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.mediaRenderQpl,m=e.outgoing,p;t[0]!==i.attachmentType?(p=(u||(u=o("I64"))).equal(i.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE)),t[0]=i.attachmentType,t[1]=p):p=t[1];var _=p,f=i.ephemeralMediaState!=null&&(u||(u=o("I64"))).equal(i.ephemeralMediaState,(c||(c=o("LSIntEnum"))).ofNumber(r("RavenMessagingState").SEEN)),g;t[2]===Symbol.for("react.memo_cache_sentinel")?(g={eventName:"view_once_message_tombstoned_rendered"},t[2]=g):g=t[2];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g);if(m||f){var y;t[3]!==_?(y=_?s._(/*BTDS*/"Photo"):s._(/*BTDS*/"Video"),t[3]=_,t[4]=y):y=t[4];var C;return t[5]!==n||t[6]!==a||t[7]!==l||t[8]!==m||t[9]!==y?(C=d.jsx(r("MAWSecureViewOnceMessageBubble.react"),{connectBottom:n,connectTop:a,label:y,mediaRenderQpl:l,outgoing:m}),t[5]=n,t[6]=a,t[7]=l,t[8]=m,t[9]=y,t[10]=C):C=t[10],C}var b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5"},t[11]=b):b=t[11];var v;t[12]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx("div",{className:"x1lliihq xbelrpt xzbario",children:d.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWViewOnceMessageIcon"),isDecorative:!0,size:18})}),t[12]=v):v=t[12];var S=_?o("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_PHOTO_MESSAGE:o("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_VIDEO_MESSAGE,R;t[13]!==S?(R=r("getMAWLocalizedFallbackMsgSnippet")(S),t[13]=S,t[14]=R):R=t[14];var L;t[15]!==h||t[16]!==R?(L=d.jsxs("div",babelHelpers.extends({},b,{"data-testid":void 0,ref:h,children:[v,R]})),t[15]=h,t[16]=R,t[17]=L):L=t[17];var E;return t[18]!==l||t[19]!==m||t[20]!==L?(E=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:m,mediaRenderQpl:l,children:L}),t[18]=l,t[19]=m,t[20]=L,t[21]=E):E=t[21],E}l.default=m}),226);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MWXMAAttachment.react","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(17),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.hasText,c=e.mediaRenderQpl,_=e.outgoing,f=r("useAsyncReStore")(),g,h;t[0]!==i||t[1]!==f||t[2]!==c?(g=function(){i.hasMedia!==!0&&o("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:i,dbPromise:f,mediaRenderQpl:c,triggerUIView:"thread"})},h=[i,c,f],t[0]=i,t[1]=f,t[2]=c,t[3]=g,t[4]=h):(g=t[3],h=t[4]),u(g,h);var y;t[5]!==c?(y=function(){c==null||c.addPoint("render-xma-attachment")},t[5]=c,t[6]=y):y=t[6];var C;t[7]!==i.hasMedia||t[8]!==c?(C=[i.hasMedia,c],t[7]=i.hasMedia,t[8]=c,t[9]=C):C=t[9],u(y,C);var b;return t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==l||t[14]!==c||t[15]!==_?(b=s.jsx(r("MWXMAAttachment.react"),{attachment:i,connectBottom:n,connectTop:a,getFaviconUrlXMA:p,getHeaderUrlXMA:m,getPreviewUrlXMA:d,hasText:l,mediaRenderQpl:c,outgoing:_}),t[10]=n,t[11]=a,t[12]=i,t[13]=l,t[14]=c,t[15]=_,t[16]=b):b=t[16],b}function d(e,t,n,r){if(r==null||r.addPoint("fetch_preview_url_xma_start"),e.previewUrl!=null){r==null||r.addPoint("fetch_preview_url_xma_receiver_fetch");var a=o("LSMediaUrlAttachment").previewUrl(e);return r==null||r.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:!!a},string:{fetch_by:"receiver_fetch"}}),a}if(e.hasXmaPreview===!0){var i=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(e,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+n,r);return r==null||r.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:!!i},string:{fetch_by:"maw_backend"}}),i}r==null||r.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}})}function m(e,t,n){if(n==null||n.addPoint("fetch_header_url_xma_start"),e.headerImageUrl!=null){n==null||n.addPoint("fetch_header_url_xma_receiver_fetch");var r=o("LSMediaUrlAttachment").headerImageUrl(e);return n==null||n.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:!!r},string:{fetch_by:"receiver_fetch"}}),r}if(e.hasXmaHeaderImage===!0){var a=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(e,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+t,n);return n==null||n.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:!!a},string:{fetch_by:"maw_backend"}}),a}n==null||n.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}})}function p(e,t,n,r){if(r==null||r.addPoint("fetch_favicon_url_xma_start"),e.faviconUrl!=null){r==null||r.addPoint("fetch_favicon_url_xma_receiver_fetch");var a=o("LSMediaUrlAttachment").faviconUrl(e);return r==null||r.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:!!a},string:{fetch_by:"receiver_fetch"}}),a}if(e.hasXmaFavicon===!0){var i=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(e,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+n,r);return r==null||r.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:!!i},string:{fetch_by:"maw_backend"}}),i}r==null||r.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}})}l.default=c}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","InteractionTracingMetrics","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureAudioAttachmentContent.react","MAWSecureFileAttachmentContent.react","MAWSecureGroupedImageAttachment.react","MAWSecureImageAttachmentContent.react","MAWSecureStickerAttachmentContent.react","MAWSecureVideoAttachmentContent.react","MAWSecureViewOnceAttachmentContent.react","MAWSecureXMAAttachmentContent.react","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWLSThread","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2TombstonedMessage.react","MWXLink.react","MWXMessageBubble.react","MWXText.react","MessagingAttachmentType","getMAWLocalizedFallbackMsgSnippet","isReceiverFetchSticker","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleXmaEventsLogging","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useMemo,_={unsetWidth:{width:"x4pn7vq",$$css:!0}};function f(e){var t=e.dbAttachment,n=e.connectBottom,a=e.connectTop,i=e.hasText,l=e.mediaRenderQpl,d=e.message,p=e.outgoing,_=t.attachmentFbid,f=t.attachmentType,g=t.authorityLevel;m(function(){l==null||l.addPoint("render-secure-attachment-content"),_===(s||(s=o("I64"))).to_string((s||(s=o("I64"))).max_int)&&(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&(l==null||l.addPoint("loading_eb_frontloading"))},[_,g,t,l]);var h=r("useGetMediaGroupInformation")(d,!0,l),y=o("MAWAttachmentSizeUtils").getSizeFromAttachment(t),C=y.height,b=y.width;switch(!0){case(_===(s||(s=o("I64"))).to_string((s||(s=o("I64"))).max_int)&&(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))):return c.jsxs(c.Fragment,{children:[c.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:n,connectTop:a,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:t.attributionAppName!=null,height:C,mediaRenderQpl:l,outgoing:p,width:b}),c.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):return r("MAWSecureGroupedImageAttachment.react")!=null&&h!=null?c.jsx(r("MAWSecureGroupedImageAttachment.react"),{mediaGroupInfo:h,mediaRenderQpl:l,outgoing:p}):c.jsx(r("MAWSecureImageAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):return c.jsx(r("MAWSecureVideoAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPlayableUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,getPreviewUrl:o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)):return c.jsx(r("MAWSecureAudioAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPlayableUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)):return c.jsx(r("MAWSecureImageAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)):return t.receiverFetchId!=null?c.jsx(r("MAWSecureStickerAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:function(t){return o("LSMediaUrlAttachment").previewUrl(t)},mediaRenderQpl:l,outgoing:p,previewHeight:C,previewWidth:b}):c.jsx(r("MAWSecureStickerAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)):return c.jsx(r("MAWSecureXMAAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,hasText:i,mediaRenderQpl:l,outgoing:p});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE)):return c.jsx(r("MAWSecureFileAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getFileUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,outgoing:p});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO)):return r("MAWSecureViewOnceAttachmentContent.react")!=null?c.jsx(r("MAWSecureViewOnceAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,mediaRenderQpl:l,outgoing:p}):c.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:p,children:r("getMAWLocalizedFallbackMsgSnippet")(p?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:return l==null||l.endFail("unsupported-attachment"),"Unsupported attachment type"}}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(76),n=e.connectBottom,a=e.connectTop,i=e.hasEmphasisRing,l=e.hasText,d=e.mediaRenderQpl,p=e.message,g=e.outgoing,y=o("MWLSThread").useThread(p.threadKey,h),C=r("useXMAPreviewsDisabledSetting")(),b=o("MWPAttachmentDataContext").useMWPGetAttachments(p),v=b!=null&&b.length>0?b[0]:null,S=p.authorityLevel,R=p.threadKey,L;t[0]!==v||t[1]!==p||t[2]!==y?(L={attachment:v,message:p,threadType:y},t[0]=v,t[1]=p,t[2]=y,t[3]=L):L=t[3];var E=r("useHandleXmaEventsLogging")(L),k;t[4]!==v||t[5]!==d||t[6]!==C?(k=function(){v!=null&&(d==null||d.addAttachmentAnnotations==null||d.addAttachmentAnnotations(v),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"is_receiver_fetch_sticker",r("isReceiverFetchSticker")(v)?1:0)})),d==null||d.addPoint("render-secure-attachment",{bool:{has_attachment:v!=null}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-secure-attachment","AppTiming"),r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_previews_disabled",C?1:0)})},t[4]=v,t[5]=d,t[6]=C,t[7]=k):k=t[7];var I;t[8]!==S||t[9]!==v||t[10]!==d||t[11]!==C?(I=[S,v,d,C],t[8]=S,t[9]=v,t[10]=d,t[11]=C,t[12]=I):I=t[12],m(k,I),r("useIssueXMAReceiverFetchTask")(p.messageId,v,R,v==null?void 0:v.receiverFetchId,v==null?void 0:v.xmaContentType,d);var T;t[13]!==v?(T=v?r("isReceiverFetchSticker")(v):!1,t[13]=v,t[14]=T):T=t[14],r("useIssueMediaReceiverFetchTask")(T,p.messageId,R,v==null?void 0:v.receiverFetchId,!0,d,v==null?void 0:v.previewUrl,v==null?void 0:v.previewUrlExpirationTimestampMs,v==null?void 0:v.attachmentType);var D,x;t[15]!==n||t[16]!==a||t[17]!==i||t[18]!==l||t[19]!==p||t[20]!==g?(x=i===!0?function(e){return c.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:n,connectTop:a,flattenTop:l,message:p,outgoing:g,precedesXMA:!1,children:e})}:void 0,t[15]=n,t[16]=a,t[17]=i,t[18]=l,t[19]=p,t[20]=g,t[21]=x):x=t[21],D=x;var $=D;if(v==null)return null;var P=(v==null?void 0:v.xmaContentType)!=null&&(u||(u=o("LSIntEnum"))).toNumber(v.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_ENT_DELETED,N=(v==null?void 0:v.xmaContentType)!=null&&(u||(u=o("LSIntEnum"))).toNumber(v.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK,M=C&&o("MAWIsFBXMA").isFBXMA(v==null?void 0:v.xmaContentType);if(M||N||P){d==null||d.addPoint("render_rf_xma_fallback"),M||P?d==null||d.endSuccess():N&&(d==null||d.endFail("fetch_xma_data_receiver_fetch_failed"));var w=v==null?void 0:v.actionUrl,A;t[22]!==p||t[23]!==w?(A=babelHelpers.extends({},p,{text:w}),t[22]=p,t[23]=w,t[24]=A):A=t[24];var F=A,O;t[25]===Symbol.for("react.memo_cache_sentinel")?(O=c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),t[25]=O):O=t[25];var B=g?"white":"primary",W;t[26]!==g?(W={0:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a x18lvrbx"},1:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a xyk4ms5"}}[!!g<<0],t[26]=g,t[27]=W):W=t[27];var q=v==null?void 0:v.actionUrl,U;t[28]!==E?(U=function(){return E()},t[28]=E,t[29]=U):U=t[29];var V;t[30]===Symbol.for("react.memo_cache_sentinel")?(V={textDecoration:"underline"},t[30]=V):V=t[30];var H=v==null?void 0:v.actionUrl,G;t[31]!==q||t[32]!==U||t[33]!==H?(G=c.jsx(r("MWXLink.react"),{encryptedLink:!0,href:q,onClick:U,style:V,children:H}),t[31]=q,t[32]=U,t[33]=H,t[34]=G):G=t[34];var z;t[35]!==W||t[36]!==G?(z=c.jsx("div",babelHelpers.extends({},W,{children:G})),t[35]=W,t[36]=G,t[37]=z):z=t[37];var j;t[38]!==B||t[39]!==z?(j=c.jsx(r("MWXText.react"),{color:B,type:"bodyLink3",children:z}),t[38]=B,t[39]=z,t[40]=j):j=t[40];var K;return t[41]!==n||t[42]!==a||t[43]!==i||t[44]!==g||t[45]!==j||t[46]!==F?(K=c.jsxs(c.Fragment,{children:[O,c.jsx(r("MWV2ChatBubbleContainer.react"),{connectBottom:n,connectTop:a,hasEmphasisRing:i,message:F,outgoing:g,precedesXMA:!1,children:j})]}),t[41]=n,t[42]=a,t[43]=i,t[44]=g,t[45]=j,t[46]=F,t[47]=K):K=t[47],K}if(o("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(p.displayedContentTypes,v)){d==null||d.addPoint("fetch_xma_data_receiver_fetch");var Q;t[48]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),t[48]=Q):Q=t[48];var X=g?"right":"left",Y,J;t[49]===Symbol.for("react.memo_cache_sentinel")?(J=c.jsx(r("MWChatTypingIndicator.react"),{}),Y=c.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),t[49]=Y,t[50]=J):(Y=t[49],J=t[50]);var Z;t[51]!==n||t[52]!==a||t[53]!==X?(Z=c.jsxs(r("MWXMessageBubble.react"),{align:X,color:"incoming",connectBottom:n,connectTop:a,children:[J,Y]}),t[51]=n,t[52]=a,t[53]=X,t[54]=Z):Z=t[54];var ee;return t[55]!==a||t[56]!==p||t[57]!==g||t[58]!==Z?(ee=c.jsxs(c.Fragment,{children:[Q,c.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,message:p,outgoing:g,xstyle:_.unsetWidth,children:Z})]}),t[55]=a,t[56]=p,t[57]=g,t[58]=Z,t[59]=ee):ee=t[59],ee}var te=(s||(s=o("I64"))).equal(p.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(4))?!1:void 0,ne;t[60]!==v?(ne=o("HelpdeskGeminiNullthrows").nullthrows(v),t[60]=v,t[61]=ne):ne=t[61];var re;t[62]!==n||t[63]!==a||t[64]!==l||t[65]!==d||t[66]!==p||t[67]!==g||t[68]!==ne?(re=c.jsx(f,{connectBottom:n,connectTop:a,dbAttachment:ne,hasText:l,mediaRenderQpl:d,message:p,outgoing:g}),t[62]=n,t[63]=a,t[64]=l,t[65]=d,t[66]=p,t[67]=g,t[68]=ne,t[69]=re):re=t[69];var oe;return t[70]!==a||t[71]!==p||t[72]!==$||t[73]!==te||t[74]!==re?(oe=c.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,message:p,paint:te,renderEmphasisRing:$,children:re}),t[70]=a,t[71]=p,t[72]=$,t[73]=te,t[74]=re,t[75]=oe):oe=t[75],oe}function h(e){return e.threadType}l.default=g}),98);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e,t,n,a,i,l,u,c){var d=o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(e,t,"below"),m=o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(e,n,"below");return s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:o("MAWMsg").isMediaMsg(e)||o("MAWMsg").isXMAMsg(e)?s.jsx(r("MAWSecureAttachment.react"),{connectBottom:m,connectTop:d,hasEmphasisRing:c,hasText:l,mediaRenderQpl:i,message:e,outgoing:a}):s.jsx(r("MAWSecurePlaceholder.react"),{actorId:u,message:e})})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=o("react-compiler-runtime").c(3),n=o("MWPActor.react").useActor(),r;t[0]!==n||t[1]!==e?(r=function(r,o,a,i,l,s){return c(r,o,a,i,s,l,n,e)},t[0]=n,t[1]=e,t[2]=r):r=t[2];var a=r;return a}l.render=c,l.useRenderAttachment=d}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWMessageAssociatedDataContext","MAWMsg","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPAttachmentDataContext","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","qex","react","react-compiler-runtime","shouldUseImageGrouping","useGetMediaGroupInformation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t,n=o("react-compiler-runtime").c(53),a=e.domElementRef,i=e.entryPoint,l=e.lastEbMessageTime,c=e.messageAssociatedData,m=e.modal,p=e.row,_=e.rowIndexFromBottom,f=e.thread,g=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),h;n[0]!==f.threadType?(h=o("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType),n[0]=f.threadType,n[1]=h):h=n[1];var y=h,C=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),b=C.visibleMessage,v=p.message,S;n[2]!==y||n[3]!==v||n[4]!==f.threadKey?(S=y?(s||(s=o("I64"))).equal(f.threadKey,v.threadKey):!1,n[2]=y,n[3]=v,n[4]=f.threadKey,n[5]=S):S=n[5];var R=S,L=!1;if(b!=null){var E=b.messageId;e:switch(b.source){case"Reply":case"Pinned":case"Bump":case"FullScreenMediaViewer":{L=E===v.messageId;break e}case"Search":{var k;n[6]!==v.messageId||n[7]!==E?(k=E===v.messageId&&r("isMWNewSearchUXEnabled")(),n[6]=v.messageId,n[7]=E,n[8]=k):k=n[8],L=k;break e}default:L=!1}}var I=o("MAWSecureAttachmentRenderer.react").useRenderAttachment(L),T,D;n[9]!==f.threadType?(T=function(){return f.threadType},D=[f.threadType],n[9]=f.threadType,n[10]=T,n[11]=D):(T=n[10],D=n[11]);var x=o("Int64Hooks").useMemoInt64(T,D),$=r("useGetMediaGroupInformation")(v,R);if($!=null&&$.groupId!=null&&$.isFirstMediaMessageInGroup===!1)return null;var P=$==null?void 0:$.isMediaGroupLastMessage,N=m===v.messageId,M;n[12]!==a||n[13]!==i||n[14]!==L||n[15]!==R||n[16]!==l||n[17]!==v||n[18]!==I||n[19]!==p.nextMessage||n[20]!==p.prevMessage||n[21]!==_||n[22]!==g||n[23]!==P||n[24]!==N||n[25]!==f.threadKey||n[26]!==x?(M={containerThreadKey:f.threadKey,domElementRef:a,entryPoint:i,hasMessageEmphasisRing:L,isMediaGroupLastMessage:P,isModal:N,isSecureMessage:R,lastEbMessageTime:l,message:v,nextMessage:p.nextMessage,prevMessage:p.prevMessage,renderAttachment:I,rowIndexFromBottom:_,stopHoveringRef:g,threadType:x},n[12]=a,n[13]=i,n[14]=L,n[15]=R,n[16]=l,n[17]=v,n[18]=I,n[19]=p.nextMessage,n[20]=p.prevMessage,n[21]=_,n[22]=g,n[23]=P,n[24]=N,n[25]=f.threadKey,n[26]=x,n[27]=M):M=n[27];var w=M;if(!((t=r("qex")._("1599"))!=null&&t)){var A;n[28]!==w?(A=u.jsx(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},w)),n[28]=w,n[29]=A):A=n[29];var F;return n[30]!==R||n[31]!==v||n[32]!==A?(F=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProvider,{isSecureMessage:R,message:v,children:A}),n[30]=R,n[31]=v,n[32]=A,n[33]=F):F=n[33],F}if(c!=null){var O=c.reactions,B=c.attachmentData,W;n[34]!==w?(W=u.jsx(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},w)),n[34]=w,n[35]=W):W=n[35];var q;n[36]!==O||n[37]!==W?(q=u.jsx(o("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextProvider,{reactions:O,children:W}),n[36]=O,n[37]=W,n[38]=q):q=n[38];var U=q;if(d(v)){var V;return n[39]!==B||n[40]!==U?(V=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderMAW,{attachmentData:B,children:U}),n[39]=B,n[40]=U,n[41]=V):V=n[41],V}else{var H;return n[42]!==U||n[43]!==v?(H=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:v,children:U}),n[42]=U,n[43]=v,n[44]=H):H=n[44],H}}else{var G;n[45]!==w?(G=u.jsx(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},w)),n[45]=w,n[46]=G):G=n[46];var z;n[47]!==v||n[48]!==G?(z=u.jsx(o("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextFetchReactionsLSProvider,{message:v,children:G}),n[47]=v,n[48]=G,n[49]=z):z=n[49];var j;return n[50]!==v||n[51]!==z?(j=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:v,children:z}),n[50]=v,n[51]=z,n[52]=j):j=n[52],j}}function d(e){var t,n;if(o("MAWMsg").isMediaMsg(e)&&!((t=r("qex")._("60"))!=null&&t)||o("MAWMsg").isXMAMsg(e)&&!((n=r("qex")._("1595"))!=null&&n)||o("MAWMsg").isReceiverFetchXMAMsg(e)||!o("MAWMsg").isMediaMsg(e)&&!o("MAWMsg").isXMAMsg(e))return!1;var a=r("shouldUseImageGrouping")(e,!0);return!a}l.default=c}),98);
__d("MWMessageElementRefList",[],(function(t,n,r,o,a,i){"use strict";function e(){var e=new Map,t=new Map,n={contents:void 0};return{get:function(r,o){var t=e.get(r);if(t==null){n.contents=[r,o];return}return o(t)},set:function(o){var r=t.get(o);if(r!=null)return r;var a=function(r){if(r==null){e.delete(o);return}if(e.set(o,r),n.contents!=null&&n.contents[0]===o){var t=n.contents,a=t[0],i=t[1];i(r),n.contents=void 0;return}};return t.set(o,a),a}}}i.default=e}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef,_=c.useState;function f(t,n){var a=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),l=a.visibleMessage,u=p(r("MWMessageElementRefList")()),c=t==null?void 0:t.threadKey,f=t==null?void 0:t.threadType,g=p(),h=(e||(e=r("useReStore")))(),y=o("ReQLSuspense").useFirst(function(){if(c==null)return o("ReQL").empty();if(l==null)return o("ReQL").fromTableDescending(h.tables.messages_ranges_v2__generated).getKeyRange(c);var e=l.timestamp;return o("ReQL").fromTableDescending(h.tables.messages_ranges_v2__generated).getKeyRange(c).bounds({lte:[e]}).filter(function(t){var n=t.maxTimestampMs,r=t.minTimestampMs;return(s||(s=o("I64"))).ge(e,r)&&(s||(s=o("I64"))).le(e,n)})},[c,l,h],i.id+":59"),C=_(function(){return y}),b=C[0],v=C[1];m(function(){g.current=void 0,l==null&&(n==null?void 0:n.current)!=null&&n.current.scrollToBottom()},[n,l]);var S=d(function(e){var t=n==null?void 0:n.current;if(t!=null){r("setTimeout")(function(){return t.scrollElementIntoViewIfNeeded(e)},0);return}},[n]),R=d(function(e){if(e!==g.current)return u.current.get(e,function(t){S(t),g.current=e})},[S]);return m(function(){y!=null?v(y):l==null&&v(function(){})},[l,y,v]),m(function(){l!=null&&b!=null&&l.messageId!=null&&R(l.messageId)},[h,l,b,R]),o("Int64Hooks").useEffectInt64(function(){if(t!=null&&y==null&&l!=null&&l.messageId!=null){var e=l.messageId,n=(s||(s=o("I64"))).to_int32(f!=null?f:(s||(s=o("I64"))).neg_one);if(n!==-1&&(n===15||n===16))return;r("promiseDone")(h.runInTransaction(function(n){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(n),{messageId:e,threadKey:t.threadKey,threadType:t.threadType})},"readwrite",void 0,void 0,i.id+":146"))}},[h,l,y,c,f,t]),{messageElementRefs:u,messageRange:b,visibleMessage:l!=null?l:void 0}}l.default=f}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(8),l=o("MWPActor.react").useActor(),s=(e||(e=r("useReStore")))(),u;a[0]!==l||a[1]!==s.tables.participants||a[2]!==t?(u=function(){return o("ReQL").fromTableAscending(s.tables.participants).getKeyRange(t,l)},a[0]=l,a[1]=s.tables.participants,a[2]=t,a[3]=u):u=a[3];var c;a[4]!==l||a[5]!==s||a[6]!==t?(c=[s,l,t],a[4]=l,a[5]=s,a[6]=t,a[7]=c):c=a[7];var d=o("ReQLSuspense").useFirst(u,c,i.id+":24");return(n=d==null?void 0:d.isAdmin)!=null?n:!1}l.default=s}),98);
__d("useMWV2ConversationScrollerRefs",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useMemo,c=s.useRef;function d(){var e=o("react-compiler-runtime").c(2),t=c(null),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={type:"Bottom"},e[0]=n):n=e[0];var r=c(n),a,i;return e[1]===Symbol.for("react.memo_cache_sentinel")?(i={scrollerRef:t,scrollPositionRef:r},e[1]=i):i=e[1],a=i,a}l.default=d}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(12),l=r("useMWV2ConversationScrollerRefs")(),s=r("useMWCurrentVisibleMessage")(t,l.scrollerRef),c=s.messageRange,d=(n=c==null?void 0:c.isLoadingBefore)!=null?n:!1,m=t.threadKey,p=(e||(e=r("useReStore")))(),_;a[0]!==p.tables.messages||a[1]!==m?(_=function(){return o("ReQL").fromTableDescending(p.tables.messages).getKeyRange(m).filter(u)},a[0]=p.tables.messages,a[1]=m,a[2]=_):_=a[2];var f;a[3]!==p||a[4]!==m?(f=[p,m],a[3]=p,a[4]=m,a[5]=f):f=a[5];var g=o("ReQLSuspense").useFirst(_,f,i.id+":37"),h;a[6]!==p.tables.attachments||a[7]!==m?(h=function(){return o("ReQL").fromTableDescending(p.tables.attachments).getKeyRange(m)},a[6]=p.tables.attachments,a[7]=m,a[8]=h):h=a[8];var y;a[9]!==p||a[10]!==m?(y=[p,m],a[9]=p,a[10]=m,a[11]=y):y=a[11];var C=o("ReQLSuspense").useFirst(h,y,i.id+":46"),b=g!=null||C!=null;return!(b||d)}function u(e){return!e.isAdminMessage}function c(e){var t=o("react-compiler-runtime").c(2),n=s(e);if(!n)return!1;var r;return t[0]!==e.threadType?(r=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType),t[0]=e.threadType,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=s(e),r=o("MWLSThread").useThread(e.threadKey,m);if(!n)return!1;var a;return t[0]!==r?(a=o("MWCMThreadTypes.react").isIGBroadcastChannelThread(r),t[0]=r,t[1]=a):a=t[1],a}function m(e){return e.threadSubtype}function p(e){var t=o("react-compiler-runtime").c(3),n=c(e),a=r("useMWLSIsViewerThreadAdminUsingThreadKey")(e.threadKey),i;return t[0]!==a||t[1]!==n?(i=(o("MWPActor.react").isAPPlus()||o("MWPActor.react").isPromode())&&n&&a,t[0]=a,t[1]=n,t[2]=i):i=t[2],i}l.useMWIsThreadWithZeroMessage=s,l.useMWIsFBBroadcastChannelWithZeroMessage=c,l.useMWIsIGBroadcastChannelWithZeroMessage=d,l.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=p}),98);
__d("MWContextBannerWithKeyboardFocus.react",["fbt","MWContextBanner.react","MWPMessageListFocusableTableRowSimple.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c="mwcontextbanner";function d(e){var t=o("react-compiler-runtime").c(4),n=e.threadKey,a=e.threadType,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Conversation details"),t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=u.jsx(r("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:i,checkIfContentsAreTabbable:!0,focusCellOnRender:!1,nameForModality:c,showButtonInsideRow:!0,children:u.jsx(r("MWContextBanner.react"),{includeBaseViewWrapper:!1,threadKey:n,threadType:a})}),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}l.default=d}),226);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MAWMessageIntegrityCheckFlytrapQueue","MetaConfig","Random","WATimeUtils","cometPushToast","cr:10710","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=(u||(u=o("react"))).useCallback,m=(e=n("cr:10710")==null?void 0:n("cr:10710").getIntegrityCheckSampleRate())!=null?e:r("MetaConfig")._("59");function p(e,t,n){var a=o("react-compiler-runtime").c(10),i=r("useMWEntrypoint")(),l;a[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread"),a[0]=l):l=a[0];var u=r("useMWXLazyDialog")(l),d=u[0],p;a[1]!==d?(p=function(t,n){r("gkx")("4852")&&o("cometPushToast").cometPushToast({action:{label:s._(/*BTDS*/"Report"),onPress:function(r){return d({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(c||(c=o("I64"))).to_string(t)+" at time: "+(n!=null?n:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:s._(/*BTDS*/"[Employee-only] Detected Missing Messages. Please submit a bug report to Messenger Web"),truncateText:!1})},a[1]=d,a[2]=p):p=a[2];var _=p,f,g;return a[3]!==e||a[4]!==i||a[5]!==_||a[6]!==t||a[7]!==n?(f=function(a,l,s,u){if(o("MAWMessageIntegrityCheckFlytrapQueue").enqueueFlytrapMessageIntegrityCheck({lastItemFromPreviousPage:a,pageSize:s,threadKey:t,uiMessages:l}),!!o("Random").coinflip(m)){var r=o("WATimeUtils").millisTime();o("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(e,t,n,i,s,a,l,u,r,function(){return _(t,(a==null?void 0:a.primarySortKey)==null?null:(c||(c=o("I64"))).to_float(a==null?void 0:a.primarySortKey))})}},g=[e,t,n,i,_],a[3]=e,a[4]=i,a[5]=_,a[6]=t,a[7]=n,a[8]=f,a[9]=g):(f=a[8],g=a[9]),o("Int64Hooks").useCallbackInt64(f,g)}l.default=p}),226);
__d("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.occamadillo_most_recent_message_per_thread||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.occamadillo_most_recent_message_per_thread).getKeyRange(t)},n[0]=a.tables.occamadillo_most_recent_message_per_thread,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var u=o("ReQLSuspense").useFirst(l,s,i.id+":26");return u==null?void 0:u.timestampMs}l.default=s}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","CometScreenReaderText.react","EBMessageMetadataQuery","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageListRow.react","MAWMiActOnActThreadReady","MAWThreadMappingUtils","MWBaseTheme","MWBlockingProtectionContext.react","MWChatInteraction","MWContextBannerWithKeyboardFocus.react","MWEBEntrypointsKillswitch.enum","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWLSThreadDisplayContext","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","WAJids","cr:19626","cr:3907","gkx","justknobx","mwpMessageIsReply","qex","react","react-compiler-runtime","useAsyncReStore","useCheckMessageIntegrityForSecureThread","useMWEBBackupState","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useId,f=m.useMemo,g=m.useState;function h(e){return d.jsx(r("MWJumpToMostRecentMessageButton.react"),{onPress:e})}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){var n=r("qex")._("1419")===!0;return n?o("MAWThreadMappingUtils").getIntJidOnceInThreadMappingTable(e,t,"MAWMessageList").then(function(e){return(c||(c=o("I64"))).to_string(e)}):o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,"MAWMessageList").then(function(e){var t=e.chatJid;return o("WAJids").threadIdForChatJid(t)})}async function C(e,t){var n=await e,r=await o("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:await y(n,t)});return r.value?r.value.messages:[]}function b(e){var t=o("react-compiler-runtime").c(11),n=e.theme,a=e.threadKey,i=e.threadType,l=n===void 0?o("MWBaseTheme").empty:n,s=o("MWPTypingIndicators.react").useTypingParticipants(a),u=o("MWPTypingIndicators.react").useAccessibilityText(s);if(s.length>0){var c;t[0]!==u?(c=d.jsx("div",{"aria-live":"polite",children:d.jsx(r("CometScreenReaderText.react"),{text:u})}),t[0]=u,t[1]=c):c=t[1];var m;t[2]!==a||t[3]!==i?(m=d.jsx(o("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:a,threadType:i}),t[2]=a,t[3]=i,t[4]=m):m=t[4];var p;t[5]!==c||t[6]!==m?(p=d.jsx(r("MWV2MessageRowSimple.react"),{children:d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[c,m]})}),t[5]=c,t[6]=m,t[7]=p):p=t[7];var _;return t[8]!==p||t[9]!==l?(_=d.jsx(r("BaseTheme.react"),{config:l,children:p}),t[8]=p,t[9]=l,t[10]=_):_=t[10],_}else return null}var v=o("withCometPlaceholder").withCometPlaceholder(b,null,"MAWTypingIndicators");function S(t){var a=o("react-compiler-runtime").c(61),i=t.cutoverOpenThread,l=t.entryPoint,s=t.onScrollToBottom,m=t.ref,f=t.thread,y=(e||(e=r("useReStore")))(),b=r("useAsyncReStore")(),S=o("MWPActor.react").useActor(),E=r("useMWPAriaLabelForMessageListGrid")(f),k=r("useMWMessageRowTheme")(),I=g(""),T=I[0],D=I[1],x=_(),$=o("CometRelay").useRelayEnvironment(),P;a[0]===Symbol.for("react.memo_cache_sentinel")?(P=[],a[0]=P):P=a[0];var N=g(P),M=N[0],w=N[1],A;a[1]!==b||a[2]!==f.authorityLevel||a[3]!==f.threadKey?(A=function(){(c||(c=o("I64"))).equal(f.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))||C(b,f.threadKey).then(function(e){return w(e)}).catch(L)},a[1]=b,a[2]=f.authorityLevel,a[3]=f.threadKey,a[4]=A):A=a[4];var F;a[5]!==b||a[6]!==$||a[7]!==f.authorityLevel||a[8]!==f.threadKey?(F=[b,$,f.authorityLevel,f.threadKey],a[5]=b,a[6]=$,a[7]=f.authorityLevel,a[8]=f.threadKey,a[9]=F):F=a[9],p(A,F);var O;a[10]===Symbol.for("react.memo_cache_sentinel")?(O={entrypoint:r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},a[10]=O):O=a[10];var B=r("useMWEBBackupState")(O),W=r("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(f.threadKey),q;e:{if(B===2){q=null;break e}else if(M.length>0&&M[0].sortOrderMs!=null){var U;a[11]!==M[0].sortOrderMs?(U=(c||(c=o("I64"))).of_string(M[0].sortOrderMs),a[11]=M[0].sortOrderMs,a[12]=U):U=a[12],q=U;break e}q=W!=null?W:(c||(c=o("I64"))).zero}var V=q,H=r("useCheckMessageIntegrityForSecureThread")(y,f.threadKey,f.threadType),G=n("cr:19626")(!1,f,o("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector),z;a[13]!==f.threadType?(z=o("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType),a[13]=f.threadType,a[14]=z):z=a[14];var j=z,K=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),Q=K==="ChatTab",X;a[15]===Symbol.for("react.memo_cache_sentinel")?(X=r("justknobx")._("2575"),a[15]=X):X=a[15];var Y=X,J;a[16]===Symbol.for("react.memo_cache_sentinel")?(J=r("gkx")("14315")?8:r("justknobx")._("2038"),a[16]=J):J=a[16];var Z=J,ee=Q?Z:Y,te;a[17]!==H||a[18]!==j||a[19]!==f.threadKey?(te=function(t,n,r,a){j&&H(t,n,r,a);var e=o("MWChatInteraction").getInteractionTraceForThreadKey((c||(c=o("I64"))).to_string(f.threadKey));e!=null&&e.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:a,page_size:r,total_number_of_messages:n.length})},a[17]=H,a[18]=j,a[19]=f.threadKey,a[20]=te):te=a[20];var ne;a[21]!==k||a[22]!==f.threadKey||a[23]!==f.threadType?(ne=function(){return d.jsx(v,{theme:k,threadKey:f.threadKey,threadType:f.threadType})},a[21]=k,a[22]=f.threadKey,a[23]=f.threadType,a[24]=ne):ne=a[24];var re;a[25]!==f.threadKey||a[26]!==f.threadType?(re=function(){return d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),d.jsx(r("MWContextBannerWithKeyboardFocus.react"),{threadKey:f.threadKey,threadType:f.threadType})]})},a[25]=f.threadKey,a[26]=f.threadType,a[27]=re):re=a[27];var oe;a[28]!==S||a[29]!==l||a[30]!==V||a[31]!==T||a[32]!==f?(oe=function(t){var e=t.domElementRef,n=t.message,a=t.messageAssociatedData,i=t.nextMessage,s=t.prevMessage,u=t.rowIndexFromBottom,m=r("mwpMessageIsReply")(n),p=(c||(c=o("I64"))).equal(n.senderId,S);return d.jsx(r("CometErrorBoundary.react"),{fallback:function(){return d.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:p,isReply:m})},children:d.jsx(r("MAWMessageListRow.react"),{domElementRef:e,entryPoint:l,lastEbMessageTime:V,messageAssociatedData:a,modal:T,row:{message:n,nextMessage:i,prevMessage:s},rowIndexFromBottom:u,thread:f})})},a[28]=S,a[29]=l,a[30]=V,a[31]=T,a[32]=f,a[33]=oe):oe=a[33];var ae;a[34]!==i||a[35]!==l||a[36]!==s||a[37]!==G||a[38]!==ee||a[39]!==m||a[40]!==ne||a[41]!==re||a[42]!==oe||a[43]!==te||a[44]!==f?(ae=d.jsx(r("MWPRelayBaseMessageList.react"),{entryPoint:l,onPageLoaded:te,onScrollToBottom:s,pageSize:ee,ref:m,renderFooter:ne,renderHeader:re,renderJumpToMostRecentMessageButton:h,renderLoadingAnimation:R,renderRow:oe,secondaryThread:i,shouldPausePageLoadTracking:G,thread:f}),a[34]=i,a[35]=l,a[36]=s,a[37]=G,a[38]=ee,a[39]=m,a[40]=ne,a[41]=re,a[42]=oe,a[43]=te,a[44]=f,a[45]=ae):ae=a[45];var ie=ae,le;a[46]===Symbol.for("react.memo_cache_sentinel")?(le={className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d"},a[46]=le):le=a[46];var se;a[47]===Symbol.for("react.memo_cache_sentinel")?(se="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",a[47]=se):se=a[47];var ue;a[48]!==ie||a[49]!==x?(ue=n("cr:3907")==null?ie:d.jsx(n("cr:3907"),{id:x,children:ie}),a[48]=ie,a[49]=x,a[50]=ue):ue=a[50];var ce;a[51]!==E||a[52]!==T||a[53]!==ue?(ce=d.jsx(r("MWBlockingProtectionContext.react").Provider,{children:d.jsx(r("MWPMessageListFocusTable.react"),{ariaLabel:E,modal:T,setModal:D,children:ue})}),a[51]=E,a[52]=T,a[53]=ue,a[54]=ce):ce=a[54];var de;a[55]!==ce||a[56]!==f?(de=d.jsx(o("CometPageletWithDiv.react").Placeholder,{className:se,fallback:null,name:"MWV2MessageList",children:d.jsx(o("MWPThreadCapabilitiesContext").Provider,{thread:f,children:ce})}),a[55]=ce,a[56]=f,a[57]=de):de=a[57];var me;return a[58]!==x||a[59]!==de?(me=d.jsx("div",babelHelpers.extends({},le,{"data-testid":void 0,id:x,children:de})),a[58]=x,a[59]=de,a[60]=me):me=a[60],me}function R(e){return d.jsx(r("MWInboxThreadMessagesSpinner.react"),{vcIgnore:e})}R.displayName=R.name+" [from "+i.id+"]";function L(e){return r("FBLogger")("messenger_web").catching(e).warn("Unable to get last EB message timestamp")}l.default=S}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WAJids","WMIWABridgeApi","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useEffect,m=c.useRef;function p(e,t){var n=o("react-compiler-runtime").c(11),a;n[0]!==t.tables.contacts||n[1]!==t.tables.participants||n[2]!==e.threadKey?(a=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(e.threadKey),o("ReQL").fromTableAscending(t.tables.contacts)).map(_).filter(Boolean)},n[0]=t.tables.contacts,n[1]=t.tables.participants,n[2]=e.threadKey,n[3]=a):a=n[3];var l;n[4]!==t||n[5]!==e.threadKey?(l=[t,e.threadKey],n[4]=t,n[5]=e.threadKey,n[6]=l):l=n[6];var s=o("ReQLSuspense").useArray(a,l,i.id+":30"),u;n[7]===Symbol.for("react.memo_cache_sentinel")?(u=new Set,n[7]=u):u=n[7];var c=m(u),p,f;n[8]!==s?(p=function(){var e=c.current.size!==s.length||!s.every(function(e){return c.current.has(e)});if(!(!e&&s.length>2)){var t=new Set(s);c.current=t,r("promiseDone")(r("WMIWABridgeApi").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:t}))}},f=[s],n[8]=s,n[9]=p,n[10]=f):(p=n[9],f=n[10]),d(p,f)}function _(e){var t=e[0],n=e[1],a=t.contactId;return(s||(s=o("I64"))).ge(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?o("WAJids").toMsgrUserJid((s||(s=o("I64"))).to_string(a)):null}l.default=p}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:1683","cr:19886","react","react-compiler-runtime","useReStore","useSecureThreadDetailGetDevices"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useState;function _(e,t){}var f=(e=n("cr:1683"))!=null?e:_;function g(e){var t=o("react-compiler-runtime").c(17),a=e.cutoverOpenThread,i=e.entryPoint,l=e.messageListRef,d=e.thread,_=(s||(s=r("useReStore")))();r("useSecureThreadDetailGetDevices")(d,_);var g=p(!0),h=g[0],y=g[1],C;t[0]!==a?(C=a!=null&&(u||(u=o("I64"))).equal(a.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),t[0]=a,t[1]=C):C=t[1];var b=C;f(_,d.threadKey);var v;t[2]!==h||t[3]!==b?(v=n("cr:19886")!=null&&b&&m.jsx(n("cr:19886"),{isShown:!h}),t[2]=h,t[3]=b,t[4]=v):v=t[4];var S;t[5]!==v?(S=m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:v}),t[5]=v,t[6]=S):S=t[6];var R;t[7]===Symbol.for("react.memo_cache_sentinel")?(R=m.jsx(r("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),t[7]=R):R=t[7];var L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L=function(t){return y(t)},t[8]=L):L=t[8];var E;t[9]!==a||t[10]!==i||t[11]!==l||t[12]!==d?(E=m.jsxs(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:!0,children:[R,m.jsx(r("MAWMessageList.react"),{cutoverOpenThread:a,entryPoint:i,onScrollToBottom:L,ref:l,thread:d})]}),t[9]=a,t[10]=i,t[11]=l,t[12]=d,t[13]=E):E=t[13];var k;return t[14]!==S||t[15]!==E?(k=m.jsxs(m.Fragment,{children:[S,E]}),t[14]=S,t[15]=E,t[16]=k):k=t[16],k}l.default=g}),98);
__d("MAWSecureThreadQPContainerInner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerInner_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQuickPromotion_eligiblePromotions"}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};a.exports=e}),null);
__d("MAWSecureThreadQuickPromotion.react",["CometQuickPromotionLoggerContext.react","CometRelay","MAWSecureThreadQuickPromotion_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql");function d(e){var t,n=o("react-compiler-runtime").c(8),a=e.eligiblePromotions,i=o("CometRelay").useFragment(c,a),l;if(n[0]!==(i==null?void 0:i.nodes)){var s;l=i==null||(s=i.nodes)==null?void 0:s.find(m),n[0]=i==null?void 0:i.nodes,n[1]=l}else l=n[1];var d=l,p=d==null||(t=d.comet_qp_sections)==null?void 0:t.renderer_strategy,_;n[2]===Symbol.for("react.memo_cache_sentinel")?(_={context_surface_id:8879,context_trigger:"messenger_e2ee_thread_open"},n[2]=_):_=n[2];var f=r("useQuickPromotionFalcoEvent")(_);if(p==null)return null;var g;n[3]!==p?(g=u.jsx(o("CometRelay").MatchContainer,{match:p}),n[3]=p,n[4]=g):g=n[4];var h;return n[5]!==f||n[6]!==g?(h=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:g}),n[5]=f,n[6]=g,n[7]=h):h=n[7],h}function m(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=d}),98);
__d("MAWSecureThreadQPContainerInner.react",["CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner_query.graphql","MAWSecureThreadQuickPromotion.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQPContainerInner_query.graphql");function d(e){var t,n=o("react-compiler-runtime").c(2),a=e.query,i=o("CometRelay").useFragment(c,a),l=i==null||(t=i.viewer)==null?void 0:t.eligible_promotions;if(l==null)return null;var s;return n[0]!==l?(s=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.EligiblePromotions",children:u.jsx(r("MAWSecureThreadQuickPromotion.react"),{eligiblePromotions:l})}),n[0]=l,n[1]=s):s=n[1],s}l.default=d}),98);
__d("MAWSecureThreadQPContainerQuery.graphql",["MAWSecureThreadQPContainerQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQPContainerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{if:null,kind:"Defer",label:"MAWSecureThreadQPContainerInner_query$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:n("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}};n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MAWSecureThreadQPContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner.react","MAWSecureThreadQPContainerQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQPContainerQuery.graphql");function d(e){var t=o("react-compiler-runtime").c(2),n=e.mawSecureThreadQPContainerQueryRef,a=o("CometRelay").usePreloadedQuery(c,n),i;return t[0]!==a?(i=u.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:u.jsx(r("MAWSecureThreadQPContainerInner.react"),{query:a})})}),t[0]=a,t[1]=i):i=t[1],i}l.default=d}),98);
__d("MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24029028516731081"}),null);
__d("MAWSecureThreadQPContainerLazyLoadedQuery.graphql",["MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQPContainerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{if:null,kind:"Defer",label:"MAWSecureThreadQPContainerInner_query$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:n("MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerLazyLoadedQuery",operationKind:"query",text:null}};n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MAWSecureThreadQPContainerLazyLoaded.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner.react","MAWSecureThreadQPContainerLazyLoadedQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQPContainerLazyLoadedQuery.graphql");function d(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useLazyLoadQuery(c,{}),n;return e[0]!==t?(n=u.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:u.jsx(r("MAWSecureThreadQPContainerInner.react"),{query:t})})}),e[0]=t,e[1]=n):n=e[1],n}l.default=d}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){r("MWGetChatTabOpenQPLEventTrace")(e,function(e){e.failTrace(t,!0)})}l.default=e}),98);
__d("MWThreadErrorBoundary.react",["CometErrorBoundary.react","FBLogger","MWFailChatTabOpenQPLEvent","MWInboxErrorState.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={errorBoundary:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.message,i=e.threadKey,l;t[0]!==a||t[1]!==i?(l=function(t){r("MWFailChatTabOpenQPLEvent")(i,t.toString()),r("FBLogger")("messenger_web_entrypoints").catching(t).mustfix(a+": %s",t.toString())},t[0]=a,t[1]=i,t[2]=l):l=t[2];var u;return t[3]!==n||t[4]!==l?(u=s.jsx(r("CometErrorBoundary.react"),{fallback:d,onError:l,children:n}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}function d(e){return s.jsx(r("MWInboxErrorState.react"),{error:e,plural:!1,source:"thread_error_boundary",xstyle:u.errorBoundary})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWBridgeFireAndForget","MAWLocalizationType","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","react-compiler-runtime","useMWGetOtherUserContact","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useEffect;function m(e){return e.showOpenMessageHistory===!1}function p(t,a){var l=o("react-compiler-runtime").c(27),c=(s||(s=r("useReStore")))(),p;l[0]!==c.tables.mi_act_mapping_table||l[1]!==t?(p=function(){return o("ReQL").fromTableAscending(c.tables.mi_act_mapping_table).getKeyRange(t)},l[0]=c.tables.mi_act_mapping_table,l[1]=t,l[2]=p):p=l[2];var _;l[3]!==c||l[4]!==t?(_=[t,c],l[3]=c,l[4]=t,l[5]=_):_=l[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":37"),g=f==null?void 0:f.jid,h=f==null?void 0:f.serverThreadKey,y;l[6]!==c.tables.cutover_threads||l[7]!==g?(y=function(){return g!=null?o("ReQL").fromTableAscending(c.tables.cutover_threads).getKeyRange(g).filter(m):o("ReQL").empty()},l[6]=c.tables.cutover_threads,l[7]=g,l[8]=y):y=l[8];var C;l[9]!==c||l[10]!==g?(C=[c,g],l[9]=c,l[10]=g,l[11]=C):C=l[11];var b=o("ReQLSuspense").useFirst(y,C,i.id+":46"),v;l[12]===Symbol.for("react.memo_cache_sentinel")?(v=["id"],l[12]=v):v=l[12];var S=r("useMWGetOtherUserContact")(t,a,v),R=S==null,L;l[13]!==S?(L=(S==null?void 0:S.id)!=null?(u||(u=o("I64"))).to_string(S.id):null,l[13]=S,l[14]=L):L=l[14];var E=L,k;l[15]!==c.tables||l[16]!==b||l[17]!==R||l[18]!==E||l[19]!==h?(k=function(){!b||h==null||!r("justknobx")._("1446")||r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(c.tables,h,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(t,r){return o("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:r,cutoverTimestampMs:o("WATimeUtils").castToMillisTime((u||(u=o("I64"))).to_float(b.timestampMs)),localizationType:R?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:E!=null?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN,otherUserID:E}),(e||(e=n("Promise"))).resolve()}))},l[15]=c.tables,l[16]=b,l[17]=R,l[18]=E,l[19]=h,l[20]=k):k=l[20];var I;l[21]!==c||l[22]!==b||l[23]!==R||l[24]!==E||l[25]!==h?(I=[c,b,R,E,h],l[21]=c,l[22]=b,l[23]=R,l[24]=E,l[25]=h,l[26]=I):I=l[26],d(k,I)}l.default=p}),98);
__d("updateEphemeralDuration",["JSResourceForInteraction","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i,l){var s=o("WATimeUtils").millisTime();return r("JSResourceForInteraction")("MAWEphemeralSettingsUpdate").__setRef("updateEphemeralDuration").load().then(function(e){return e.updateEphemeralSettings(t,s,n,l)}).then(function(e){return a(),!0}).catch(function(e){return i(),!1})}l.default=e}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","MWFBLogger","Promise","promiseDone","react","react-compiler-runtime","updateEphemeralDuration","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef,m=0;function p(e){var t=o("react-compiler-runtime").c(4),n=r("useAsyncReStore")(),a=d(null),i,l;t[0]!==n||t[1]!==e?(i=function(){(a.current==null||a.current!==e)&&(a.current=e,o("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&r("promiseDone")(n,function(t){return r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(t.tables,e,"useMAWResetEphemeralSettings",function(t,n){return _(e,n)}))}))},l=[e,n],t[0]=n,t[1]=e,t[2]=i,t[3]=l):(i=t[2],l=t[3]),o("Int64Hooks").useEffectInt64(i,l)}function _(t,a){var i=o("MAWEphemeralGatingUtil").getExpirationOptions();return a!=null?o("MAWGetEphemeralSettings").getEphemeralSetting(a,t).then(function(n){n&&n.ephemeralExpirationInSec>0&&n.ephemeralExpirationInSec<o("DateConsts").SEC_PER_DAY&&!i.includes(n.ephemeralExpirationInSec)&&r("promiseDone")(r("updateEphemeralDuration")(a,m,!0,function(){o("MWFBLogger").MWLogger().DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""])),a,n.ephemeralExpirationInSec)},function(){o("MWFBLogger").MWLogger().DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""])),a,n.ephemeralExpirationInSec)},t))}):(u||(u=n("Promise"))).resolve()}l.default=p}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometPageletWithDiv.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail.react","MAWSecureThreadQPContainer.react","MAWSecureThreadQPContainerLazyLoaded.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWThreadErrorBoundary.react","MemoryUtils","QPLUserFlow","WARandomHex","logMessengerWebFalcoEvent","qpl","react","react-compiler-runtime","useAsyncReStore","useMAWMaybeInsertDualThreadCutoverAdminMessage","useMAWMaybeResetEphemeralSettings"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState;function g(e,t){var n=o("react-compiler-runtime").c(23),a;n[0]!==e?(a=(s||(s=o("I64"))).to_int32(e),n[0]=e,n[1]=a):a=n[1];var i=a,l,u;n[2]!==t||n[3]!==i||n[4]!==e?(l=function(){r("QPLUserFlow").start(r("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:t,thread_id:(s||(s=o("I64"))).to_string(e)}},instanceKey:i})},u=[t,i,e],n[2]=t,n[3]=i,n[4]=e,n[5]=l,n[6]=u):(l=n[5],u=n[6]),o("Int64Hooks").useEffectInt64(l,u);var c;n[7]!==i?(c=function(t){r("QPLUserFlow").addPoint(r("qpl")._(25306607,"1883"),t,{instanceKey:i})},n[7]=i,n[8]=c):c=n[8];var d=c,m;n[9]!==i?(m=function(t){r("QPLUserFlow").endSuccess(r("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(t)}},instanceKey:i})},n[9]=i,n[10]=m):m=n[10];var p=m,_;n[11]!==i?(_=function(t){r("QPLUserFlow").addAnnotations(r("qpl")._(25306607,"1883"),{string:t},{instanceKey:i})},n[11]=i,n[12]=_):_=n[12];var f=_,g;n[13]!==i?(g=function(t){r("QPLUserFlow").addAnnotations(r("qpl")._(25306607,"1883"),{int:t},{instanceKey:i})},n[13]=i,n[14]=g):g=n[14];var h=g,y;n[15]!==i?(y=function(t,n){r("QPLUserFlow").endFailure(r("qpl")._(25306607,"1883"),t,{annotations:{string:{is_cutover:String(n)}},instanceKey:i})},n[15]=i,n[16]=y):y=n[16];var C=y,b;return n[17]!==h||n[18]!==f||n[19]!==d||n[20]!==C||n[21]!==p?(b={addQplAnnotations:f,addQPLAnnotationsInt:h,addQplPoint:d,qplEndFailure:C,qplEndSuccess:p},n[17]=h,n[18]=f,n[19]=d,n[20]=C,n[21]=p,n[22]=b):b=n[22],b}function h(e,t,n){return n!=null?"show_od_cutover":e==null?"not_cutover_thread":t!=null?e.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function y(e){var t=o("react-compiler-runtime").c(65),n=e.entryPoint,a=e.mawSecureThreadQPContainerQueryRef,l=e.messageListRef,d=e.thread,m=g(d.threadKey,n),y=m.addQplAnnotations,C=m.addQPLAnnotationsInt,b=m.addQplPoint,v=m.qplEndFailure,S=m.qplEndSuccess;r("useMAWMaybeResetEphemeralSettings")(d.threadKey),r("useMAWMaybeInsertDualThreadCutoverAdminMessage")(d.threadKey,d.threadType);var R=_(""),L;t[0]!==y||t[1]!==v||t[2]!==S?(L=function(t){switch(t){case"loading":return;case"show":case"show_od_cutover":{y({showOpenHistory:"show"}),S(!0);return}case"not_cutover_thread":{S(!1);return}case"dual_thread_cutover":{S(!1);return}case"error":{v(R.current,!0);return}default:throw r("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",t)}},t[0]=y,t[1]=v,t[2]=S,t[3]=L):L=t[3];var E=L,k=r("useAsyncReStore")(),I;t[4]!==k?(I=function(t,n){return k.then(function(e){return e.runInTransaction(function(e){return r("LSInitiateThreadMigrationStoredProcedure")(r("LSFactory")(e),{armadilloThreadKey:n,openMessageThreadKey:t,shouldCopyMessages:!1,traceId:o("WARandomHex").randomHex(8)})},"readwrite",void 0,void 0,i.id+":267")})},t[4]=k,t[5]=I):I=t[5];var T=I,D=o("MAWThreadCutover").useGetCutoverMapping(d.threadKey),x=o("MAWThreadCutover").useCutoverOpenThread(d.threadKey);o("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(d.threadKey);var $=o("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(d.threadKey),P;t[6]!==D||t[7]!==x||t[8]!==$?(P=h(D,x,$),t[6]=D,t[7]=x,t[8]=$,t[9]=P):P=t[9];var N=f(P),M=N[0],w=N[1],A,F;t[10]!==D||t[11]!==x||t[12]!==E||t[13]!==$||t[14]!==M?(A=function(){if(E(M),!(M==="show"||M==="dual_thread_cutover")){if($!=null)return w("show_od_cutover");if(D!=null)return x==null?w("loading"):D.showOpenMessageHistory!==!1?w("show"):w("dual_thread_cutover")}},F=[D,x,E,$,M],t[10]=D,t[11]=x,t[12]=E,t[13]=$,t[14]=M,t[15]=A,t[16]=F):(A=t[15],F=t[16]),o("Int64Hooks").useEffectInt64(A,F);var O=_(!1),B;t[17]!==d.authorityLevel?(B=(s||(s=o("I64"))).ge(d.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),t[17]=d.authorityLevel,t[18]=B):B=t[18];var W=B,q;t[19]!==W||t[20]!==a?(q=W?a!=null?c.jsx(r("MAWSecureThreadQPContainer.react"),{mawSecureThreadQPContainerQueryRef:a}):c.jsx(r("MAWSecureThreadQPContainerLazyLoaded.react"),{}):null,t[19]=W,t[20]=a,t[21]=q):q=t[21];var U=q,V;t[22]!==C||t[23]!==y||t[24]!==b||t[25]!==D||t[26]!==T||t[27]!==v?(V=function(){if(!((D==null?void 0:D.armadilloThreadId)==null||(D==null?void 0:D.openThreadId)==null)&&O.current!==!0){O.current=!0,b("thread_migration_initiating_start");var e=o("MemoryUtils").getCurrentMemory(),t=e.usedJSHeapSize;C({usedJSHeapSizeStart:t}),y(),T(D.openThreadId,D.armadilloThreadId).then(function(){O.current=!1,b("thread_migration_initiating_end");var e=o("MemoryUtils").getCurrentMemory(),t=e.usedJSHeapSize;C({usedJSHeapSizeEnd:t})}).catch(function(e){O.current=!1,R.current="fail_to_init_thread_migration",w("error"),r("FBLogger")("messenger_web_entrypoints").catching(e).mustfix("fail_to_init_thread_migration"),v(R.current,!0)})}},t[22]=C,t[23]=y,t[24]=b,t[25]=D,t[26]=T,t[27]=v,t[28]=V):V=t[28];var H=D==null?void 0:D.armadilloThreadId,G=D==null?void 0:D.openThreadId,z;t[29]!==C||t[30]!==y||t[31]!==b||t[32]!==T||t[33]!==v||t[34]!==S||t[35]!==G||t[36]!==H?(z=[C,y,b,H,G,T,v,S],t[29]=C,t[30]=y,t[31]=b,t[32]=T,t[33]=v,t[34]=S,t[35]=G,t[36]=H,t[37]=z):z=t[37],p(V,z);var j=x!=null,K;t[38]!==(D==null?void 0:D.openThreadId)||t[39]!==n||t[40]!==j||t[41]!==E||t[42]!==M||t[43]!==d.threadKey||t[44]!==d.threadType?(K=function(){var e;R.current!==""&&(r("logMessengerWebFalcoEvent")({threadKey:d.threadKey,threadType:d.threadType},"no_open_messages_in_cutover_thread",n,{cutoverThreadKey:(s||(s=o("I64"))).to_string((e=D==null?void 0:D.openThreadId)!=null?e:(s||(s=o("I64"))).neg_one),hasCutoverOpenThread:j.toString(),reason:R.current,showOpenMsgHistoryState:M}),E(M))},t[38]=D==null?void 0:D.openThreadId,t[39]=n,t[40]=j,t[41]=E,t[42]=M,t[43]=d.threadKey,t[44]=d.threadType,t[45]=K):K=t[45];var Q;t[46]!==D||t[47]!==n||t[48]!==j||t[49]!==E||t[50]!==M||t[51]!==d.threadKey||t[52]!==d.threadType?(Q=[D,n,M,j,d.threadKey,d.threadType,E],t[46]=D,t[47]=n,t[48]=j,t[49]=E,t[50]=M,t[51]=d.threadKey,t[52]=d.threadType,t[53]=Q):Q=t[53],o("Int64Hooks").useEffectInt64(K,Q);var X=M==="show_od_cutover"?$:M==="show"?x:void 0,Y;t[54]!==n||t[55]!==l||t[56]!==X||t[57]!==d?(Y=c.jsx(r("MAWSecureThreadDetail.react"),{cutoverOpenThread:X,entryPoint:n,messageListRef:l,thread:d}),t[54]=n,t[55]=l,t[56]=X,t[57]=d,t[58]=Y):Y=t[58];var J;t[59]!==U||t[60]!==Y?(J=c.jsxs(c.Fragment,{children:[U,Y]}),t[59]=U,t[60]=Y,t[61]=J):J=t[61];var Z;return t[62]!==J||t[63]!==d.threadKey?(Z=c.jsx(r("MWThreadErrorBoundary.react"),{message:"Error while loading secure thread messages",threadKey:d.threadKey,children:J}),t[62]=J,t[63]=d.threadKey,t[64]=Z):Z=t[64],Z}function C(e){var t=o("react-compiler-runtime").c(6),n=e.entryPoint,r=e.mawSecureThreadQPContainerQueryRef,a=e.messageListRef,i=e.thread,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",t[0]=l):l=t[0];var s;return t[1]!==n||t[2]!==r||t[3]!==a||t[4]!==i?(s=c.jsx(o("CometPageletWithDiv.react").Div,{className:l,name:"MAWSecureThreadDetailWrapper",children:c.jsx(y,{entryPoint:n,mawSecureThreadQPContainerQueryRef:r,messageListRef:a,thread:i})}),t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=s):s=t[5],s}l.default=C}),98);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:22341","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22341")),r("gkx")("23219"));l.default=e}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","react-compiler-runtime","useMWAddParticipantDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.label,a=e.testid,i=e.threadKey,l=e.threadType,u=r("useMWAddParticipantDialog")(i,l),c=r("MessengerWebUXLogger").useInteractionLogger(),d;t[0]!==c||t[1]!==u||t[2]!==i||t[3]!==l?(d=function(){u(),c==null||c({eventName:"open_add_members_dialog",threadKey:i,threadType:l})},t[0]=c,t[1]=u,t[2]=i,t[3]=l,t[4]=d):d=t[4];var m=d,p;return t[5]!==n||t[6]!==m||t[7]!==a?(p=s.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconFriendGenericAdd"),label:n,onPress:m,size:36,testid:void 0}),t[5]=n,t[6]=m,t[7]=a,t[8]=p):p=t[8],p}l.default=u}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FDSContextualMessage.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useRef,p=d.useState,_=r("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function f(e){var t=e.thread,n=r("useMWXLazyDialog")(_),a=n[0],i=p(!1),l=i[0],u=i[1],d=o("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__"),f=d[0],g=d[1],h=m(f),y=m(!1),C=r("useVisibilityObserver")({onVisible:function(){y.current||(y.current=!0,g(function(e){return e+1}))}});return h.current<3&&!l?c.jsx("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",ref:C,children:c.jsx(r("FDSContextualMessage.react"),{addOnPrimary:c.jsx(r("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:s._(/*BTDS*/"Go to notification settings"),onPress:function(){a({threadKey:t.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:s._(/*BTDS*/"You'll receive notifications for this chat unless you mute them or change your settings."),headline:s._(/*BTDS*/"Welcome to {param} \ud83d\udc4b",[s._param("param",t.threadName)]),level:4,onClose:function(){u(!0)}})}):null}f.displayName=f.name+" [from "+i.id+"]";function g(t){var n=o("react-compiler-runtime").c(11),a=t.thread,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.community_folders||n[1]!==a.parentThreadKey?(s=function(){return o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(a.parentThreadKey)},n[0]=l.tables.community_folders,n[1]=a.parentThreadKey,n[2]=s):s=n[2];var u;n[3]!==l||n[4]!==a.parentThreadKey?(u=[l,a.parentThreadKey],n[3]=l,n[4]=a.parentThreadKey,n[5]=u):u=n[5];var d=o("ReQLSuspense").useFirst(s,u,i.id+":126");if(d){var m;n[6]!==d?(m=o("LSCommunityBitOffset").has(39,d),n[6]=d,n[7]=m):m=n[7];var p=m,_;return n[8]!==p||n[9]!==a?(_=p?c.jsx(f,{thread:a}):null,n[8]=p,n[9]=a,n[10]=_):_=n[10],_}else return null}function h(e){var t=o("react-compiler-runtime").c(2),n=e.thread,a;return t[0]!==n?(a=c.jsx(r("CometErrorBoundary.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWCMAutoJoinNotifNUX",children:c.jsx(g,{thread:n})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=h}),226);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWLSChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function d(e,t){var n=o("react-compiler-runtime").c(3),a;return n[0]!==e||n[1]!==t?(a=function(o){e(function(e){var n=e.onReturn;return s.jsx(r("CometPlaceholder.react"),{fallback:s.jsx(r("MWV2ChatTabLoadingWithGlimmers.react"),{tab:t}),name:"MWCMSubThreadChatTabWithSubthread",children:s.jsx(c,{onReturn:function(){n()},tab:t,threadKey:o})})})},n[0]=e,n[1]=t,n[2]=a):a=n[2],a}function m(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.pushPage,a=e.tab,i=d(r,a),l;return t[0]!==n||t[1]!==i?(l=s.jsx(o("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:i,children:n}),t[0]=n,t[1]=i,t[2]=l):l=t[2],l}function p(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.tab,i=e.thread,l=i.threadKey,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x5a5i1n x1obq294 x2c8kfy x1hm9lzh xhvchuf x1jx94hy x1rgmuzj xbbk1sx"},t[0]=u):u=t[0];var c;t[1]!==a?(c=s.jsx(r("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),t[1]=a,t[2]=c):c=t[2];var d;t[3]!==n||t[4]!==a||t[5]!==i.threadKey||t[6]!==l?(d=function(t){return s.jsx(m,{pushPage:t,tab:a,children:s.jsxs(o("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:a,threadKey:i.threadKey,children:[s.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:a,threadKey:l}),n]})})},t[3]=n,t[4]=a,t[5]=i.threadKey,t[6]=l,t[7]=d):d=t[7];var p;return t[8]!==c||t[9]!==d?(p=s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:c,fitContentWidth:!0,children:d})})),t[8]=c,t[9]=d,t[10]=p):p=t[10],p}l.default=p}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react"));function p(e){var t=o("react-compiler-runtime").c(4),n=e.connectionStatus,r=e.renderWrapper;if(n==="Connected")return null;if(n==="Disconnected"){var a;return t[0]!==r?(a=r(s._(/*BTDS*/"No internet connection")),t[0]=r,t[1]=a):a=t[1],a}else if(n==="Connecting"){var i;return t[2]!==r?(i=r(s._(/*BTDS*/"Connecting...")),t[2]=r,t[3]=i):i=t[3],i}else return null}function _(t){var n=o("react-compiler-runtime").c(7),a=t.renderWrapper,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.connectivity_status?(s=function(){return o("ReQL").fromTableDescending(l.tables.connectivity_status).map(f)},n[0]=l.tables.connectivity_status,n[1]=s):s=n[1];var u;n[2]!==l?(u=[l],n[2]=l,n[3]=u):u=n[3];var c=o("ReQLSuspense").useFirst(s,u,i.id+":54"),d=c!=null?c:"Connected",_;return n[4]!==a||n[5]!==d?(_=m.jsx(p,{connectionStatus:d,renderWrapper:a}),n[4]=a,n[5]=d,n[6]=_):_=n[6],_}function f(e){return(u||(u=o("I64"))).equal(e.internetConnectionState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"}l.default=_}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx("div",{className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xtijo5x x1o0tod xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm",children:s.jsx(r("MWXText.react"),{type:"meta4",children:e})})}u.displayName=u.name+" [from "+i.id+"]";function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("MWPChatConnectionStatusCard.react"),{renderWrapper:u}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.icon;if(n==null)return null;var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x4tc44c x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1yrsyyn x1icxu4v x10b6aqq x25sj25"},t[0]=a):a=t[0];var i;return t[1]!==n.icon?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("MWXIconStrict.react"),{color:"white",icon:n.icon,size:12})})),t[1]=n.icon,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWChatInthreadIconParser.react",["FBLogger","MWPXMAIconParser","MWXIconFriendGenericAdd"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case"friend-woman-add":return r("MWXIconFriendGenericAdd");default:r("FBLogger")("messenger_web_sharing").mustfix("Unknown XMA Icon: %s",e);return}}function s(t){var n=o("MWPXMAIconParser").parse(t);if(n!=null){if(typeof n=="string")return n;var r=n.color,a=n.icon,i=e(a);if(i!=null)return{color:r,icon:i}}}l.parse=s}),98);
__d("MWChatInThreadBanner.react",["FBLogger","FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(16),n=e.action,a=e.button,i=a.ctaTitle;switch(n.type){case"link":{var l;t[0]!==n.url?(l={url:n.url},t[0]=n.url,t[1]=l):l=t[1];var c;return t[2]!==i||t[3]!==l?(c=s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:s.jsx(r("FDSButton.react"),{label:i,linkProps:l,type:"secondary"})}),t[2]=i,t[3]=l,t[4]=c):c=t[4],c}case"action":{var d;return t[5]!==n.contextRef||t[6]!==n.onPress||t[7]!==i?(d=s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:s.jsx(r("FDSButton.react"),{label:i,onPress:n.onPress,ref:n.contextRef,type:"secondary"})}),t[5]=n.contextRef,t[6]=n.onPress,t[7]=i,t[8]=d):d=t[8],d}case"popover":{var m;if(t[9]!==n||t[10]!==i){var p;t[12]!==i?(p=function(t,n){return s.jsx(r("FDSButton.react"),{label:i,onPress:function(){return n()},ref:t,type:"secondary"})},t[12]=i,t[13]=p):p=t[13],m=n.popoverTrigger(p),t[9]=n,t[10]=i,t[11]=m}else m=t[11];var _;return t[14]!==m?(_=s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:m}),t[14]=m,t[15]=_):_=t[15],_}case"unimplemented":return r("FBLogger")("messenger_web_sharing").mustfix("In thread banner cta not implemented, CTA type: %s CTA Title: %s",a.ctaType,a.ctaTitle),null}}function d(e){var t,n,a=o("react-compiler-runtime").c(63),i=e.banner,l=e.ctaParser,d=e.impressionRef,p;if(a[0]!==i.banner.iconUrl){var _;p=o("MWChatInthreadIconParser.react").parse((_=i.banner.iconUrl)!=null?_:""),a[0]=i.banner.iconUrl,a[1]=p}else p=a[1];var f=p,g=i.banner.chevronCtaType!=null,h=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),y=h==="Inbox",C;a[2]!==f?(C=f!=null?typeof f=="string"?s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx("div",{className:"x14z9mp",children:s.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:f}})})}):s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx("div",{className:[u.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:s.jsx(r("MWChatInthreadBannerIcon.react"),{icon:f})})}):null,a[2]=f,a[3]=C):C=a[3];var b=C,v;a[4]!==i.banner.cta1Title||a[5]!==i.banner.heading?(v=i.banner.heading!=null?s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx("span",{className:"x1yrsyyn x10b6aqq",children:s.jsxs(r("MWXText.react"),{type:"meta3",children:[i.banner.heading," ",s.jsx(r("MWXText.react"),{color:"blueLink",type:"meta3",children:s.jsx(r("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:i.banner.cta1Title})})]})})}):null,a[4]=i.banner.cta1Title,a[5]=i.banner.heading,a[6]=v):v=a[6];var S=v,R=((t=i.banner.titleSectionOne)!=null?t:"")+((n=i.banner.titleSectionTwo)!=null?n:""),L;a[7]!==i.banner.heading||a[8]!==R?(L=s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx(r("MWXTextPairing.react"),{body:R,bodyLineLimit:1,level:4,meta:i.banner.heading,metaLineLimit:1,metaLocation:"above"})}),a[7]=i.banner.heading,a[8]=R,a[9]=L):L=a[9];var E=L,k;a[10]!==i.banner.infoLabel?(k=i.banner.infoLabel!=null?s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXText.react"),{type:"meta1",children:s.jsx("span",{className:"x1qhmfi1 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x6ikm8r x10wlt62 x4p5aij x11lfxj5 x1j85h84 x135b78x xlyipyv xuxw1ft",children:i.banner.infoLabel})})}):null,a[10]=i.banner.infoLabel,a[11]=k):k=a[11];var I=k,T=i.leftButton,D=i.rightButton,x;if(T!=null&&D!=null){var $;a[12]!==i||a[13]!==l||a[14]!==T?($=l(i,T),a[12]=i,a[13]=l,a[14]=T,a[15]=$):$=a[15];var P;a[16]!==T||a[17]!==$?(P=s.jsx(c,{action:$,button:T}),a[16]=T,a[17]=$,a[18]=P):P=a[18];var N;a[19]!==i||a[20]!==l||a[21]!==D?(N=l(i,D),a[19]=i,a[20]=l,a[21]=D,a[22]=N):N=a[22];var M;a[23]!==D||a[24]!==N?(M=s.jsx(c,{action:N,button:D}),a[23]=D,a[24]=N,a[25]=M):M=a[25];var w;a[26]!==M||a[27]!==P?(w=s.jsxs(r("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[P,M]}),a[26]=M,a[27]=P,a[28]=w):w=a[28],x=w}else{var A=T!=null?T:D;if(A!=null){var F;a[29]!==i||a[30]!==A||a[31]!==l?(F=l(i,A),a[29]=i,a[30]=A,a[31]=l,a[32]=F):F=a[32];var O;a[33]!==A||a[34]!==F?(O=s.jsx(r("MWXRow.react"),{paddingTop:8,children:s.jsx(c,{action:F,button:A})}),a[33]=A,a[34]=F,a[35]=O):O=a[35],x=O}}var B;a[36]!==g?(B=g?s.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:s.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconChevronRight"),size:12})}):null,a[36]=g,a[37]=B):B=a[37];var W=B,q;a[38]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x1a8lsjc xh8yej3"},a[38]=q):q=a[38];var U=i.banner.cta1Type==="fbvr_dma_learn_more"?S:E,V;a[39]!==W||a[40]!==b||a[41]!==I||a[42]!==U?(V=s.jsxs(r("MWXRow.react"),{paddingTop:10,children:[b,U,I,W]}),a[39]=W,a[40]=b,a[41]=I,a[42]=U,a[43]=V):V=a[43];var H;a[44]!==x||a[45]!==V?(H=s.jsxs("div",babelHelpers.extends({},q,{children:[V,x]})),a[44]=x,a[45]=V,a[46]=H):H=a[46];var G=H,z;if(a[47]!==i||a[48]!==G||a[49]!==l){var j=i.bannerAction!=null?l(i,i.bannerAction):void 0;if(j!=null)e:switch(j.type){case"link":{z=s.jsx(r("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:j.url},xstyle:m,children:G});break e}case"action":{z=s.jsx(r("MWXPressable.react"),{expanding:!0,onPress:j.onPress,ref:j.contextRef,children:G});break e}case"popover":{var K;a[51]!==G?(K=function(t,n){return s.jsx(r("MWXPressable.react"),{expanding:!0,onPress:function(){return n()},ref:t,children:G})},a[51]=G,a[52]=K):K=a[52],z=j.popoverTrigger(K);break e}case"unimplemented":{var Q,X,Y=(Q=(X=i.bannerAction)==null?void 0:X.ctaType)!=null?Q:"";Y!=="member_requests_view"&&r("FBLogger")("messenger_web_ia").mustfix("In thread banner cta not implemented: %s",Y),z=G}}else z=G;a[47]=i,a[48]=G,a[49]=l,a[50]=z}else z=a[50];var J;a[53]===Symbol.for("react.memo_cache_sentinel")?(J={className:"xfpmyvw x1n2onr6"},a[53]=J):J=a[53];var Z;a[54]!==y?(Z=y?s.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,a[54]=y,a[55]=Z):Z=a[55];var ee;a[56]===Symbol.for("react.memo_cache_sentinel")?(ee={className:"x80vd3b x1q0q8m5 xso031l"},a[56]=ee):ee=a[56];var te;a[57]!==z?(te=s.jsx("div",babelHelpers.extends({},ee,{"data-testid":void 0,children:z})),a[57]=z,a[58]=te):te=a[58];var ne;return a[59]!==d||a[60]!==Z||a[61]!==te?(ne=s.jsxs("div",babelHelpers.extends({},J,{ref:d,children:[Z,te]})),a[59]=d,a[60]=Z,a[61]=te,a[62]=ne):ne=a[62],ne}function m(){return[u.linkBanner]}l.default=d}),98);
__d("MWChatTabInThreadBannerInner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerInner_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWChatTabInThreadBanner_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t,n){return n!=null?t.get((s||(s=o("I64"))).to_string(n)):null};function c(e,t,n){return{banner:e,bannerAction:u(t,e.bannerCtaId),leftButton:u(t,e.cta1Id),overflowMenuActions:(n!=null?[n.cta1Id,n.cta2Id,n.cta3Id,n.cta4Id,n.cta5Id]:[]).map(function(e){return u(t,e)}).filter(Boolean),rightButton:u(t,e.cta2Id)}}function d(t,n){var a=o("react-compiler-runtime").c(18),l=(e||(e=r("useReStore")))(),s;a[0]!==t.bannerId||a[1]!==l.tables.in_thread_banner_overflow_menu||a[2]!==n?(s=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner_overflow_menu).getKeyRange(n,t.bannerId)},a[0]=t.bannerId,a[1]=l.tables.in_thread_banner_overflow_menu,a[2]=n,a[3]=s):s=a[3];var u;a[4]!==t.bannerId||a[5]!==l||a[6]!==n?(u=[l,n,t.bannerId],a[4]=t.bannerId,a[5]=l,a[6]=n,a[7]=u):u=a[7];var d=o("ReQLSuspense").useFirst(s,u,i.id+":67"),p;a[8]!==t.bannerId||a[9]!==l.tables.in_thread_banner_ctas?(p=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner_ctas).getKeyRange(t.bannerId).map(m)},a[8]=t.bannerId,a[9]=l.tables.in_thread_banner_ctas,a[10]=p):p=a[10];var _;a[11]!==t.bannerId||a[12]!==l?(_=[l,t.bannerId],a[11]=t.bannerId,a[12]=l,a[13]=_):_=a[13];var f=o("ReQLSuspense").useArray(p,_,i.id+":74"),g;if(a[14]!==t||a[15]!==d||a[16]!==f){var h=new Map(f);g=c(t,h,d),a[14]=t,a[15]=d,a[16]=f,a[17]=g}else g=a[17];return g}function m(e){return[(s||(s=o("I64"))).to_string(e.ctaId),e]}l.createBanner=c,l.useInThreadBannerWithCta=d}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l,s;t[0]!==n||t[1]!==a?(l=function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSRequestAdContextFromThreadKeyStoredProcedure")(r("LSFactory")(e),{threadKey:a})},"readwrite",void 0,void 0,i.id+":24"))},s=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=s):(l=t[2],s=t[3]),u(l,s)}l.default=c}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l,s;t[0]!==n||t[1]!==a?(l=function(){var e=n.runInTransaction(function(e){return r("LSFetchBannersStoredProcedure")(r("LSFactory")(e),{threadKey:a})},"readwrite",void 0,void 0,i.id+":23");r("promiseDone")(e)},s=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=s):(l=t[2],s=t[3]),u(l,s)}l.default=c}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(11),n=o("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),a=n.isOnMemberRequestsPageRef,i=n.pushMemberRequestsPage,l=n.setShouldNavToMemberRequests,s=n.setThreadInfoVisible,u=n.threadInfoVisible,c=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),d=c==="ChatTab",m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={},t[0]=m):m=t[0];var p=r("useMWXEntryPointDialog")(r("MWCMMemberRequestsDialog.entrypoint"),m),_=p[0],f;t[1]!==_?(f=function(t){_({parentSurface:"request_to_join_activity_banner",threadKey:t})},t[1]=_,t[2]=f):f=t[2];var g=f,h;return t[3]!==d||t[4]!==a||t[5]!==g||t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==u?(h=function(n,r){var t=function(){o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(e||(e=o("I64"))).to_string(n.banner.threadKey)})};return r.ctaType!=="cm_thread_member_requests_view"?{type:"unimplemented"}:d?{onPress:function(){t(),g(n.banner.threadKey)},type:"action"}:{onPress:function(){t(),a.current!==!0&&(u===!0?i("request_to_join_activity_banner"):(l(!0),s(!0)))},type:"action"}},t[3]=d,t[4]=a,t[5]=g,t[6]=i,t[7]=l,t[8]=s,t[9]=u,t[10]=h):h=t[10],h}l.default=s}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t,n){return n.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return a({adId:n.ctaId,threadKey:t.banner.threadKey})},type:"action"}},e[1]=a,e[2]=i):i=e[2],i}l.default=e}),98);
__d("MpixEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4586"),s=o("FalcoLoggerInternal").create("mpix_event",e),u=s;l.default=u}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t){r("promiseDone")(n.runInTransaction(function(e){return r("LSExecuteCTAStoredProcedure")(r("LSFactory")(e),{ctaId:t})},"readwrite",void 0,void 0,i.id+":34"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,o){r("promiseDone")(n.runInTransaction(function(e){return r("LSServerMutationCtaStoredProcedure")(r("LSFactory")(e),{marketplaceCtaType:o,threadKey:t})},"readwrite",void 0,void 0,i.id+":28"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWLSMarketplaceCtaParser",["CometFRX.entrypoint","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWResponsiveLayoutContext.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","MpixEventFalcoEvent","ReQL","ReQLSuspense","gkx","logVultureJSDeadEntrypoint","react","react-compiler-runtime","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"],f=new Set(_),g=new Set(_.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function h(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;n[0]!==l||n[1]!==a.tables.participants||n[2]!==t?(u=function(){return o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,l)}).map(y)},n[0]=l,n[1]=a.tables.participants,n[2]=t,n[3]=u):u=n[3];var c;return n[4]!==l||n[5]!==a||n[6]!==t?(c=[l,t,a],n[4]=l,n[5]=a,n[6]=t,n[7]=c):c=n[7],o("ReQLSuspense").useFirst(u,c,i.id+":88")}function y(e){return(s||(s=o("I64"))).to_string(e.contactId)}function C(){var e=o("react-compiler-runtime").c(23),t=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),n=r("useMWLSMarketplaceServerMutationCta")(),a=r("useMWLSExecuteInThreadBannerCta")(),i=h(t),l;e[0]!==t?(l=(s||(s=o("I64"))).to_string(t),e[0]=t,e[1]=l):l=e[1];var u=l,d=r("gkx")("17233"),p;e[2]!==i||e[3]!==u?(p=d?window.btoa("message_thread:"+u):i!=null?i:"",e[2]=i,e[3]=u,e[4]=p):p=e[4];var _=p,g="report_button",y;e[5]!==_?(y={entryPoint:g,id:_,location:"marketplace_messenger_report_buyer"},e[5]=_,e[6]=y):y=e[6];var C=y,v;e[7]!==_?(v={entryPoint:g,id:_,location:"marketplace_messenger_report_seller"},e[7]=_,e[8]=v):v=e[8];var S=v,R=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),C),L=R[0],E=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),S),k=E[0],I;e[9]!==u?(I={thread_id:u},e[9]=u,e[10]=I):I=e[10];var T=r("useMWXEntryPointDialog")(r("CometMarketplaceInboxLabelChatDialog.entrypoint"),I),D=T[0],x;e[11]!==u?(x={threadId:u},e[11]=u,e[12]=x):x=e[12];var $=r("useMWXEntryPointDialog")(r("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),x),P=$[0],N=m(r("MWResponsiveLayoutContext.react")),M=N.isDenseMode,w,A;return e[13]!==a||e[14]!==n||e[15]!==M||e[16]!==i||e[17]!==D||e[18]!==P||e[19]!==L||e[20]!==k||e[21]!==u?(A=function(t,l){var e=l.ctaId,d=l.ctaType,m=l.deeplinkUrl,p=l.webviewUrl;if(d==="marketplace_see_details"||d==="marketplace_banner_open_native"){var _=p!=null?p:m;if(_!=null)return{type:"link",url:_};r("FBLogger")("mp_messaging").mustfix("Marketplace see details cta without url")}if(d==="marketplace_view_profile"){var g=p!=null?p:m;if(g!=null)return{type:"link",url:g};r("FBLogger")("mp_messaging").mustfix("Marketplace view profile cta without url")}if(d==="marketplace_scaled_rate_seller"&&p!=null)return{type:"link",url:p};if(d==="marketplace_more_options"&&t.overflowMenuActions.length>0)return{popoverTrigger:function(n){return c.jsx(r("MWXLazyPopoverTrigger.react"),{align:M?"middle":"end",popoverProps:{ctaParser:function(n){return A(t,n)},menu:t.overflowMenuActions},popoverResource:r("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:n})},type:"popover"};if(d==="marketplace_report_buyer"||d==="marketplace_report_seller"){if(i!=null){var h={other_user_id:i,thread_id:u};e:switch(d){case"marketplace_report_buyer":{r("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_buyer_error",extra_data:h}});break e}case"marketplace_report_seller":{r("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_seller_error",extra_data:h}});break e}default:}return{onPress:function(){d==="marketplace_report_buyer"?L({}):k({})},type:"action"}}r("FBLogger")("mp_messaging").mustfix("Haven't implemented report buyer/seller for threads with more than 1 person")}if(f.has(d))return{onPress:function(){return a(e)},type:"action"};if(d==="marketplace_label_chat")return{onPress:function(){return D({threadID:u},function(){return a(e)})},type:"action"};if(d==="marketplace_mark_as_paid")return{onPress:function(){return P({threadID:u},function(){return a(e)})},type:"action"};if(d==="marketplace_create_discount")return{onPress:b,type:"action"};if(d==="marketplace_server_mutation"){var y=l.actionContentBlob,C="";if(y!=null){var v,S=((v=JSON.parse(y))!=null?v:{}).marketplace_cta_type;typeof S=="string"?C=S:r("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return n((s||(s=o("I64"))).of_string(u),C)},type:"action"}}return{type:"unimplemented"}},e[13]=a,e[14]=n,e[15]=M,e[16]=i,e[17]=D,e[18]=P,e[19]=L,e[20]=k,e[21]=u,e[22]=A):A=e[22],w=A,w}function b(){o("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view"),r("logVultureJSDeadEntrypoint")("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")}l.marketplaceCta=g,l.useMWLSMarketplaceCtaParser=C}),98);
__d("useMWLSInThreadBannerCtaParser",["react-compiler-runtime","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(4),t=o("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),n=r("useMWLSAdContextCtaParser")(),a=r("useMWCMMemberRequestsCtaParser.react")(),i;return e[0]!==n||e[1]!==a||e[2]!==t?(i=function(r,i){var e=i.ctaType;return o("useMWLSMarketplaceCtaParser").marketplaceCta.has(e)?t(r,i):e==="ads_context"?n(r,i):e==="cm_thread_member_requests_view"?a(r,i):{type:"unimplemented"}},e[0]=n,e[1]=a,e[2]=t,e[3]=i):i=e[3],i}l.default=e}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(e){var t=o("react-compiler-runtime").c(4),n=e.banner,a=e.impressionRef,i=e.threadKey;r("vulture")("voIkgf6SASkRSHFIles9gCGP8kU=");var l=o("useInThreadBannerWithCta").useInThreadBannerWithCta(n,i),s=r("useMWLSInThreadBannerCtaParser")(),u;return t[0]!==l||t[1]!==s||t[2]!==a?(u=c.jsx(r("MWChatInThreadBanner.react"),{banner:l,ctaParser:s,impressionRef:a}),t[0]=l,t[1]=s,t[2]=a,t[3]=u):u=t[3],u}function m(t){var n=o("react-compiler-runtime").c(13),a=t.threadKey;r("vulture")("aJ4XBh6UHJ43hjjRq06qJG6xLHE="),r("useMWLSEnsureInThreadBannerExists")(),r("useMWLSEnsureAdContextExists")();var l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.in_thread_banner||n[1]!==a?(u=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner).getKeyRange(a)},n[0]=l.tables.in_thread_banner,n[1]=a,n[2]=u):u=n[2];var m;n[3]!==l||n[4]!==a?(m=[l,a],n[3]=l,n[4]=a,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(u,m,i.id+":61"),_=p==null?void 0:p.cta1Type,f=p==null?void 0:p.cta2Type,g;n[6]!==(p==null?void 0:p.bannerCtaType)||n[7]!==a?(g={onImpressionStart:function(){(p==null?void 0:p.bannerCtaType)==="cm_thread_member_requests_view"&&o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(s||(s=o("I64"))).to_string(a)})}},n[6]=p==null?void 0:p.bannerCtaType,n[7]=a,n[8]=g):g=n[8];var h=r("useSinglePartialViewImpression")(g);if(p==null||_==="proactive_warning_affirmative"||_==="proactive_warning_negative"||f==="proactive_warning_affirmative"||f==="proactive_warning_negative"||_==="ctx_whatsapp_redirect_banner"||f==="ctx_whatsapp_redirect_banner")return null;var y;return n[9]!==p||n[10]!==h||n[11]!==a?(y=c.jsx(d,{banner:p,impressionRef:h,threadKey:a}),n[9]=p,n[10]=h,n[11]=a,n[12]=y):y=n[12],y}l.default=m}),98);
__d("getMWLocalStorageThreadsWithBannerDismissed",["FBLogger","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n;try{var o,a;n=JSON.parse((o=(a=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(t))!=null?o:"{}")}catch(e){r("FBLogger")("armadillo").warn("Local storage value retrieval failed with error of "+String(e)+" when "+("retrieving value of "+t+" from web storage.")),n={}}return n}l.parseLocalStorageThreadsWithBannerDismissed=s}),98);
__d("useIsDualThreadInThreadBannerNotDismissed",["I64","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","getMWLocalStorageThreadsWithBannerDismissed","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=t.threadKey,i=o("MAWThreadCutover").useGetCutoverOpenThreadKey(a),l=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(i),s;if(n[0]!==l||n[1]!==a){var u=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED);s=l&&!Object.prototype.hasOwnProperty.call(u,(e||(e=o("I64"))).to_string(a)),n[0]=l,n[1]=a,n[2]=s}else s=n[2];var c=s,d;n[3]!==t?(d=o("LSThreadBitOffset").has(260,t),n[3]=t,n[4]=d):d=n[4];var m=d,p;if(n[5]!==m||n[6]!==a){var _=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);p=m&&!Object.prototype.hasOwnProperty.call(_,(e||(e=o("I64"))).to_string(a)),n[5]=m,n[6]=a,n[7]=p}else p=n[7];var f=p;return c||f}l.default=s}),98);
__d("MWChatTabInThreadBannerInner.react",["CometErrorBoundary.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","LSMessagingThreadTypeUtil","MAWChatTabInThreadBanner.react","MWChatEncryptedBackupsQPLSource.enum","MWChatTabInThreadBannerInner_query.graphql","MWLSInThreadBannerComponent.react","cr:13469","cr:17333","react","react-compiler-runtime","useIsDualThreadInThreadBannerNotDismissed","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,l=o("react-compiler-runtime").c(17),s=t.query,c=t.thread,m=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatTabInThreadBannerInner_query.graphql"),s),p=m==null||(a=m.viewer)==null||(a=a.eligible_promotions)==null||(a=a.nodes[0])==null||(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy,_;l[0]===Symbol.for("react.memo_cache_sentinel")?(_={context_surface_id:8888,context_trigger:"chat_tab_open"},l[0]=_):_=l[0];var f=r("useQuickPromotionFalcoEvent")(_),g=r("useIsDualThreadInThreadBannerNotDismissed")(c);if(p!=null){var h;l[1]!==p?(h=u.jsx(o("CometRelay").MatchContainer,{match:p}),l[1]=p,l[2]=h):h=l[2];var y;return l[3]!==f||l[4]!==h?(y=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:h}),l[3]=f,l[4]=h,l[5]=y):y=l[5],y}else if(g){var C;l[6]!==c?(C=n("cr:17333")&&u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(n("cr:17333"),{source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:{capabilities:c.capabilities,capabilities2:c.capabilities2,capabilities3:c.capabilities3,capabilities4:c.capabilities4,capabilities5:c.capabilities5,threadKey:c.threadKey,threadType:c.threadType}})}),l[6]=c,l[7]=C):C=l[7];var b;l[8]!==c?(b=n("cr:13469")&&u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(n("cr:13469"),{source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:c})}),l[8]=c,l[9]=b):b=l[9];var v;return l[10]!==C||l[11]!==b?(v=u.jsxs(u.Fragment,{children:[C,b]}),l[10]=C,l[11]=b,l[12]=v):v=l[12],v}else if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)){var S;return l[13]!==m?(S=u.jsx(r("MAWChatTabInThreadBanner.react"),{query:m}),l[13]=m,l[14]=S):S=l[14],S}else{if(o("LSMessagingThreadTypeUtil").isJoinedSocialChannel(c.threadType))return null;var R;return l[15]!==c.threadKey?(R=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:u.jsx(r("CometErrorBoundary.react"),{fallback:d,children:u.jsx(r("MWLSInThreadBannerComponent.react"),{threadKey:c.threadKey})})}),l[15]=c.threadKey,l[16]=R):R=l[16],R}}function d(){return null}l.default=c}),98);
__d("MWChatTabInThreadBannerQuery.graphql",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,t],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:n("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWChatTabInThreadBanner.react",["MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerQuery.graphql","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.mwChatTabInThreadBannerQueryRef,l=t.thread,s=o("RelayHooks").usePreloadedQuery(e!==void 0?e:e=n("MWChatTabInThreadBannerQuery.graphql"),i),c;return a[0]!==s||a[1]!==l?(c=u.jsx(r("MWChatTabInThreadBannerInner.react"),{query:s,thread:l}),a[0]=s,a[1]=l,a[2]=c):c=a[2],c}l.default=c}),98);
__d("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24323470597342398"}),null);
__d("MWChatTabInThreadBannerLazyLoadedQuery.graphql",["MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,t],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:n("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerLazyLoadedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}})();a.exports=e}),null);
__d("MWChatTabInThreadBannerLazyLoaded.react",["CometRelay","MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerLazyLoadedQuery.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.thread,l=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWChatTabInThreadBannerLazyLoadedQuery.graphql"),{},{fetchPolicy:"store-or-network"}),s;return a[0]!==l||a[1]!==i?(s=u.jsx(r("MWChatTabInThreadBannerInner.react"),{query:l,thread:i}),a[0]=l,a[1]=i,a[2]=s):s=a[2],s}l.default=c}),98);
__d("MWChatTabLSDependencies",["LSCompleteThreadCutover","LSDynamicDependencies","LSMailboxTaskCompletionApiOnTaskCompletion","LSReceiveMarkThreadReadNative","LSSyncBumpThreadDataToClient","LSUpdateCommunityThreadStaleState","LSUpdateParentFolderReadWatermark","LSUpdateThreadNullState","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadRowExists","LSWriteCTAIdToThreadsTable"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("LSDynamicDependencies").addToCachedModules({completeThreadCutover:r("LSCompleteThreadCutover"),mailboxTaskCompletionApiOnTaskCompletion:r("LSMailboxTaskCompletionApiOnTaskCompletion"),receiveMarkThreadReadNative:r("LSReceiveMarkThreadReadNative"),syncBumpThreadDataToClient:r("LSSyncBumpThreadDataToClient"),updateCommunityThreadStaleState:r("LSUpdateCommunityThreadStaleState"),updateParentFolderReadWatermark:r("LSUpdateParentFolderReadWatermark"),updateThreadNullState:r("LSUpdateThreadNullState"),verifyE2EEMetadataThreadExistsV2:r("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadRowExists:r("LSVerifyThreadRowExists"),writeCTAIdToThreadsTable:r("LSWriteCTAIdToThreadsTable")})}l.init=e}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),r=e.senderUnsendNUXEnabled,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=n("cr:2884")==null?null:s.jsx(n("cr:2884"),{}),t[0]=a):a=t[0];var i;t[1]!==r?(i=n("cr:4186")!=null&&r?s.jsx(n("cr:4186"),{}):null,t[1]=r,t[2]=i):i=t[2];var l;return t[3]!==i?(l=s.jsxs(s.Fragment,{children:[a,i]}),t[3]=i,t[4]=l):l=t[4],l}l.default=u}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","FDSButton.react","FDSSkittleIcon.react","FDSUndoFilled16Icon","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),d={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(19),n=e.onDismiss,a=e.onView,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"A reminder about unsent messages"),t[0]=i):i=t[0];var l=i,m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Unsending messages gives people more control over the messages they've sent. They can still be included in reports."),t[1]=m):m=t[1];var _=m,f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={},t[2]=f):f=t[2];var g=f,h=r("useMWXLazyDialog")(c),y=h[0],C;t[3]!==y?(C=function(){return y(g,p)},t[3]=y,t[4]=C):C=t[4];var b=C,v;t[5]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},t[5]=v):v=t[5];var S;t[6]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(r("MDSRowItem.react"),{xstyle:d.imageRow,children:u.jsx(r("FDSSkittleIcon.react"),{color:"gray",icon:r("FDSUndoFilled16Icon"),size:36})}),t[6]=S):S=t[6];var R;t[7]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(r("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:u.jsx(r("MDSRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"primary",type:"headline4",children:l})})}),t[7]=R):R=t[7];var L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsxs(r("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[S,u.jsxs(r("MDSRowItem.react"),{expanding:!0,children:[R,u.jsx(r("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:u.jsx(r("MDSRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:_})})})]})]}),t[8]=L):L=t[8];var E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Learn more"),t[9]=E):E=t[9];var k;t[10]!==b||t[11]!==a?(k=u.jsx(r("MDSRowItem.react"),{xstyle:d.button,children:u.jsx(r("FDSButton.react"),{label:E,onPress:function(){return b(),a()},type:"secondary"})}),t[10]=b,t[11]=a,t[12]=k):k=t[12];var I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"OK"),t[13]=I):I=t[13];var T;t[14]!==n?(T=u.jsx(r("MDSRowItem.react"),{xstyle:d.button,children:u.jsx(r("FDSButton.react"),{label:I,onPress:n,type:"secondary"})}),t[14]=n,t[15]=T):T=t[15];var D;return t[16]!==k||t[17]!==T?(D=u.jsxs("div",babelHelpers.extends({},v,{children:[L,u.jsxs(r("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k,T]})]})),t[16]=k,t[17]=T,t[18]=D):D=t[18],D}function p(){}l.default=m}),226);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n;return Date.now()-(e||(e=o("I64"))).to_float((n=t.unsentTimestampMs)!=null?n:(e||(e=o("I64"))).zero)<=1e4}l.default=s}),98);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9581169425252316"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"nux_id",variableName:"id"}],r={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[r],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","react-compiler-runtime","useMessengerUnsendNUXQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback,c=e!==void 0?e:e=n("useMessengerUnsendNUXQuery.graphql");function d(e){var t=o("react-compiler-runtime").c(13),n=o("RelayHooks").useRelayEnvironment(),a;t[0]!==n||t[1]!==e?(a=function(a){r("promiseDone")(o("CometRelay").fetchQuery(n,c,{id:e}).toPromise(),function(e){var t,n,r=(t=e==null||(n=e.nux)==null?void 0:n.should_show)!=null?t:!1;a(r)},null)},t[0]=n,t[1]=e,t[2]=a):a=t[2];var i=a,l;t[3]!==n||t[4]!==e?(l=function(){o("CometDismissFBNuxMutation").commit(n,e)},t[3]=n,t[4]=e,t[5]=l):l=t[5];var s=l,u;t[6]!==n||t[7]!==e?(u=function(){o("CometLogImpressionFBNuxMutation").commit(n,e)},t[6]=n,t[7]=e,t[8]=u):u=t[8];var d=u,m;return t[9]!==d||t[10]!==s||t[11]!==i?(m=[i,s,d],t[9]=d,t[10]=s,t[11]=i,t[12]=m):m=t[12],m}l.default=d}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","react-compiler-runtime","useMessengerUnsendNUX","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useRef,_=d.useState;function f(){var t=o("react-compiler-runtime").c(16),n=o("MWPActor.react").useActor(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),i=o("MWLSThread").useThread(a,g),l=i!=null&&o("LSMessagingThreadTypeUtil").isDiscoverableChannel(i),u=(e||(e=r("useReStore")))(),d=_(!1),m=d[0],f=d[1],h=p(!1),y=p(!1),C=p(),b=r("useMessengerUnsendNUX")(8568),v=b[0],S=b[1],R=b[2],L;t[0]===Symbol.for("react.memo_cache_sentinel")?(L=function(){var e=C.current;if(e!=null){e(),C.current=void 0;return}},t[0]=L):L=t[0];var E=L,k;t[1]!==S?(k=function(){return y.current=!0,S(),E(),f(!1)},t[1]=S,t[2]=k):k=t[2];var I=k,T;t[3]!==m||t[4]!==v?(T=function(t){var e=!m&&!h.current;if(e&&r("isMessageUnsentInLastTenSeconds")(t))return h.current=!0,v(function(e){if(h.current=!1,e)return f(!0);E(),y.current=!0})},t[3]=m,t[4]=v,t[5]=T):T=t[5];var D=T,x,$;if(t[6]!==n||t[7]!==m||t[8]!==u||t[9]!==R||t[10]!==D||t[11]!==a?(x=function(){if(!y.current)return C.current=o("ReQL").fromTableAscending(u.tables.messages).getKeyRange(a).filter(function(e){return e.isUnsent?!(s||(s=o("I64"))).equal(e.senderId,n):!1}).subscribe(function(e,t){t.operation!=="delete"&&D(t.value)}),function(){if(E(),m&&!y.current)return R()}},$=[u,n,m,R,D,a,E],t[6]=n,t[7]=m,t[8]=u,t[9]=R,t[10]=D,t[11]=a,t[12]=x,t[13]=$):(x=t[12],$=t[13]),o("Int64Hooks").useEffectInt64(x,$),m&&!l){var P;return t[14]!==I?(P=c.jsx(r("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:I,onView:I}),t[14]=I,t[15]=P):P=t[15],P}else return null}function g(e){return e.threadType}l.default=f}),98);
__d("MWChatUnsendNUXSender.react",["I64","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","react-compiler-runtime","useMessengerUnsendNUX","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef;function _(){var t=o("react-compiler-runtime").c(11),n=o("MWPActor.react").useActor(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),i=(e||(e=r("useReStore")))(),l=p(!1),u=p(!1),c=p(!1),d=p(),_=r("useMessengerUnsendNUX")(8598),f=_[0],g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=function(){var e=d.current;if(e!=null){e(),d.current=void 0;return}},t[0]=g):g=t[0];var h=g,y;t[1]!==f?(y=function(t){var e=!l.current&&!u.current;if(e&&r("isMessageUnsentInLastTenSeconds")(t))return l.current=!0,f(function(){l.current=!1,h(),c.current=!0})},t[1]=f,t[2]=y):y=t[2];var C=y,b;t[3]!==n||t[4]!==C||t[5]!==i.tables.messages||t[6]!==a?(b=function(){return d.current=o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(a).filter(function(e){return e.isUnsent&&(s||(s=o("I64"))).equal(e.senderId,n)}).subscribe(function(e,t){t.operation!=="delete"&&C(t.value)}),h},t[3]=n,t[4]=C,t[5]=i.tables.messages,t[6]=a,t[7]=b):b=t[7];var v;return t[8]!==C||t[9]!==a?(v=[a,C,h],t[8]=C,t[9]=a,t[10]=v):v=t[10],m(b,v),null}l.default=_}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function p(){var e=o("react-compiler-runtime").c(7),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Cross-app messaging update"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"After mid-December, you will no longer be able to chat with people on Instagram from a Facebook profile, so this chat will become read-only. Start a new chat on Instagram to continue the conversation."),e[1]=a):a=e[1];var i=a,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},e[2]=l):l=e[2];var d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(r("MWXRowItem.react"),{xstyle:m.imageRow,children:c.jsx(r("MWXImage.react"),{src:u("331359")})}),e[3]=d):d=e[3];var p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=c.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,children:c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"primary",type:"headline4",children:n})})}),e[4]=p):p=e[4];var f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsxs(r("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[d,c.jsxs(r("MWXRowItem.react"),{expanding:!0,children:[p,c.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:8,children:c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:i})})})]})]}),e[5]=f):f=e[5];var g;return e[6]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsxs("div",babelHelpers.extends({},l,{children:[f,c.jsx(r("MWXRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:c.jsx(r("MWXRowItem.react"),{xstyle:m.button,children:c.jsx(r("MWXButton.react"),{label:s._(/*BTDS*/"Learn more"),onPress:_,type:"primary"})})})]})),e[6]=g):g=e[6],g}function _(){r("goURIOnWindow")(window.open("","_blank"),d)}l.default=p}),226);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","react-compiler-runtime","useMWCMEditChatInfoDialogEntrypoint"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.icon,a=e.label,i=e.threadKey,l=r("useMWCMEditChatInfoDialogEntrypoint")(i),u;t[0]!==l?(u=function(){return l()},t[0]=l,t[1]=u):u=t[1];var c;return t[2]!==n||t[3]!==a||t[4]!==u?(c=s.jsx(r("MWXCircleButton.react"),{icon:n,label:a,onPress:u,size:36}),t[2]=n,t[3]=a,t[4]=u,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","react-compiler-runtime","useCopyText"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=s._(/*BTDS*/"Copy link"),m=s._(/*BTDS*/"Link copied");function p(e){var t=o("react-compiler-runtime").c(11),n=e.threadInviteLink,a;t[0]!==n?(a={value:n},t[0]=n,t[1]=a):a=t[1];var i=r("useCopyText")(a),l=i[2],s;t[2]!==l?(s=function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),l(),o("cometPushToast").cometPushSimpleToast(m)},t[2]=l,t[3]=s):s=t[3];var c=s,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},t[4]=p):p=t[4];var _;t[5]!==c?(_=u.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconLink"),label:d,onPress:c,size:36}),t[5]=c,t[6]=_):_=t[6];var f,g;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx(r("MWVerticalRhythm"),{height:8}),g=u.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:d}),t[7]=f,t[8]=g):(f=t[7],g=t[8]);var h;return t[9]!==_?(h=u.jsxs("li",babelHelpers.extends({},p,{children:[_,f,g]})),t[9]=_,t[10]=h):h=t[10],h}l.default=p}),226);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useRef,d=r("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function m(t){var n=t.children,o=t.threadKey,a=c(null),i=(e||(e=r("useReStore")))(),l=r("useMWXLazyDialog")(d),s=l[0],u=function(){r("promiseDone")(i.tables.threads.get(o),function(e){e!=null&&s({thread:e})})};return n(u,a)}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Share");function d(e){var t=o("react-compiler-runtime").c(5),n=e.onPress,a;t[0]!==n?(a=u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconShare"),label:c,onPress:n,size:36})}),t[0]=n,t[1]=a):a=t[1];var i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("MWXColumnItem.react"),{paddingTop:8,children:u.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:c})}),t[2]=i):i=t[2];var l;return t[3]!==a?(l=u.jsxs(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:c,children:[a,i]}),t[3]=a,t[4]=l):l=t[4],l}l.default=d}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.thread,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];var i=r("useMWXEntryPointDialog")(r("MWChannelInviteDialog.entrypoint"),a),l=i[0],u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},t[1]=u):u=t[1];var c;return t[2]!==l||t[3]!==n?(c=s.jsx("li",babelHelpers.extends({},u,{children:s.jsx(r("MWShareThreadQuickActionButton.react"),{onPress:function(){l({channelThread:n,loggingContext:r("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})})),t[2]=l,t[3]=n,t[4]=c):c=t[4],c}l.default=u}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSectionStorageKey","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","justknobx","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","promiseDone","react","react-compiler-runtime","useCommunityFolder","useCommunityMembers","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useMemo,_=m.useRef,f=s._(/*BTDS*/"Invite"),g=s._(/*BTDS*/"Edit");function h(e){var t,n=e.thread,a=_(null),i=r("useCommunityFolder")(n),l=r("mwCMIsAnyCMThread")(n.threadType),m=r("mwCMisStandAloneCommunity")(i==null?void 0:i.communityType),h=o("MWCMThreadTypes.react").isBroadcastThread(n.threadType),y=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(n.threadType),C=o("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType),b=r("useIsReadOnlyFeatureLimitedWithThreadType")(n.threadType)&&(!C||r("isFeatureLimitEnabled")()),v=o("useCommunityMembers").useClearMemberList(),S=p(function(){return i!=null&&l?[i.enableState,o("LSThreadBitOffset").has(120,n),o("LSCommunityBitOffset").has(17,i),i.fbGroupId]:[void 0,!1,!1,(u||(u=o("I64"))).zero]},[l,i,n]),R=S[0],L=S[1],E=S[2],k=l&&(u||(u=o("I64"))).equal(R!=null?R:(c||(c=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").ENABLED),(c||(c=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").DISABLE_REQUESTED)),I=o("MWInboxPersistedUIState").usePersistedUIState(!1,o("MWInboxInfoMembersSectionStorageKey").storageKey),T=I[0],D=r("useMWXEntryPointDialog")(r("MWCMBulkInviteDialog.entrypoint"),{}),x=D[0],$=r("useMWXEntryPointDialog")(r("MWLSGroupMembershipDialog.entrypoint"),{groupID:(u||(u=o("I64"))).to_string((t=i==null?void 0:i.fbGroupId)!=null?t:(u||(u=o("I64"))).zero)}),P=$[0],N=p(function(){return[l?s._(/*BTDS*/"Copy link"):s._(/*BTDS*/"Add"),l?s._(/*BTDS*/"Info"):s._(/*BTDS*/"Name"),i!=null&&h?s._(/*BTDS*/"Contributors"):s._(/*BTDS*/"Members")]},[h,l,i]),M=N[0],w=N[1],A=N[2],F=o("LSThreadBitOffset").has(60,n)&&!o("MWCMThreadTypes.react").isMarketplaceThread(n.threadSubtype),O=o("LSThreadBitOffset").has(81,n),B=r("canMWAddMemberToGroupThread")(n,b)&&!o("MWCMThreadTypes.react").isMarketplaceThread(n.threadSubtype),W=o("LSThreadBitOffset").has(26,n),q=o("LSThreadBitOffset").has(108,n),U=F&&O,V=r("MessengerWebUXLogger").useInteractionLogger();return d.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:d.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[l&&!k?L?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconFriendGenericAdd"),label:f,onPress:function(){return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite"),x({fbThreadId:(u||(u=o("I64"))).to_string(n.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},r("emptyFunction"))},size:36}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:f})]}):d.jsx(r("MWCMShortLinkShare.react"),{thread:n,children:function(t,n){return d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconLink"),label:M,onPress:n,size:36}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:M})]})}}):null,!l&&y&&q&&(u||(u=o("I64"))).equal(n.threadInvitesEnabledV2,(c||(c=o("LSIntEnum"))).ofNumber(1))?d.jsxs(d.Fragment,{children:[n.threadInviteLink!=null&&d.jsx(r("MWSharePublicChatQuickAction.react"),{thread:n}),n.threadInviteLink!=null&&d.jsx(r("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:n.threadInviteLink})]}):null,!l&&B?d.jsx(r("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:n,children:d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWAddMemberToGroupCircleButton.react"),{label:M,threadKey:n.threadKey,threadType:n.threadType}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:M})]})}):null,y&&U?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWEditChannelDialogTrigger.react"),{threadKey:n.threadKey,children:function(t,n){return d.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconPencil"),label:g,onPress:function(){return t()},ref:n,size:36})}}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:g})]}):null,!l&&F&&!U?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWEditThreadNameDialogTrigger.react"),{threadKey:n.threadKey,children:function(t,o){return d.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconPencil"),label:w,onPress:function(){t(),V==null||V({eventName:"open_edit_thread_name_dialog",threadKey:n.threadKey,threadType:n.threadType})},ref:o,size:36})}}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]}):null,l&&O&&!k&&E&&!m?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWContextBannerQuickActionsEditChatInfo.react"),{icon:r("MWXIconPencil"),label:g,threadKey:n.threadKey}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:g})]}):r("justknobx")._("1116")?null:W?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconGroup"),label:A,onPress:function(){return P({folder:i},function(){l&&!T&&r("promiseDone")(v())})},ref:a,size:36}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]}):null]})})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=d.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:d.jsx(h,babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}l.default=y}),226);
__d("MWEBRestoreInThreadScrollPersistentBanner.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useRef,m=r("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreInThreadScrollPersistentBanner.react");function p(){var t=o("react-compiler-runtime").c(17),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={},t[0]=n):n=t[0];var a=r("useMWXEntryPointDialog")(r("MAWEncryptedBackupsRestoreDialog.entrypoint"),n),i=a[0],l=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),u=l.startFlow,p=(e||(e=r("useReStore")))(),_=d(!1),f=r("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_SCROLL_PERSISTENT_BANNER,g;t[1]!==p||t[2]!==u?(g=function(t){o("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:p,onFetch:function(n){var e=n.ebsmWiped,a=n.firstUpsellTime,i=n.hasEbKeysLocally,l=n.hasEBSM,s=n.hasPDB,c=n.hasUserRestoredBefore,d=n.hasUserRestoredBeforeTemp;u({additionalAnnotations:{eb_session_identifier:a,ebsm_wiped:e,has_eb_keys_locally:i,has_ebsm:l,has_pdb:s,has_user_restored_before:c,has_user_restored_before_temp:d,restore_upsell_first_impression_time:a},event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:f}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,t),_.current===!1&&(_.current=!0,r("promiseDone")(m.load(),function(e){return e(i)}))}})},t[1]=p,t[2]=u,t[3]=g):g=t[3];var h=g,y;t[4]!==h?(y={onVisible:function(){h("RESTORE_IN_THREAD_PERSISTENT_BANNER_IMPRESSION")}},t[4]=h,t[5]=y):y=t[5];var C=r("useVisibilityObserver")(y),b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xfpmyvw x80vd3b x1q0q8m5 xso031l xt0psk2 x1o1nzlu x10b6aqq x889kno x10l6tqk xh8yej3 x1vjfegm"},t[6]=b):b=t[6];var v;t[7]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Messages are missing."),t[7]=v):v=t[7];var S;t[8]!==i||t[9]!==h?(S=function(){h("RESTORE_IN_THREAD_PERSISTENT_BANNER_CTA_CLICKED"),i({source:f})},t[8]=i,t[9]=h,t[10]=S):S=t[10];var R;t[11]===Symbol.for("react.memo_cache_sentinel")?(R=c.jsx("div",{style:{color:"var(--mwp-header-button-color)",display:"inline"},children:s._(/*BTDS*/"Restore now")}),t[11]=R):R=t[11];var L;t[12]!==S?(L=c.jsxs(r("MWXText.react"),{align:"center",color:"secondary",numberOfLines:2,type:"meta4",children:[v," ",c.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:c.jsx(r("MWXLink.react"),{onClick:S,target:"_blank",testid:void 0,weight_DEPRECATED:"semibold",children:R})})]}),t[12]=S,t[13]=L):L=t[13];var E;return t[14]!==C||t[15]!==L?(E=c.jsx("div",babelHelpers.extends({},b,{ref:C,children:L})),t[14]=C,t[15]=L,t[16]=E):E=t[16],E}l.default=p}),226);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapper.react",["MWEBEntrypointsKillswitch.enum","MWEBRestoreInThreadScrollPersistentBanner.react","react","react-compiler-runtime","useCometRouterState","useMWEBBackupState","useMWEBGetUpsellState"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(2),t=r("useCometRouterState")(),n=t==null?void 0:t.main.route.tabKey,a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a={entrypoint:r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER},e[0]=a):a=e[0];var i=r("useMWEBBackupState")(a),l=r("useMWEBGetUpsellState")(),u=l.isRestoreUpsellsDismissed;if(n!=="messenger"&&i===4&&u===!1){var c;return e[1]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(r("MWEBRestoreInThreadScrollPersistentBanner.react"),{}),e[1]=c):c=e[1],c}return null}l.default=u}),98);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapperWithEBCheck.react",["cr:9932"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9932")}),98);
__d("MWFDSChevronDown.svg.react",["cr:21600"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21600")}),98);
__d("MWFDSFriendGenericAdd.svg.react",["cr:21665"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21665")}),98);
__d("MWFullThreadProvider.react",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a=t.children,l=t.threadKey,s=(e||(e=r("useReStore")))(),u;n[0]!==s.tables.threads||n[1]!==l?(u=function(){return o("ReQL").fromTableAscending(s.tables.threads).getKeyRange(l)},n[0]=s.tables.threads,n[1]=l,n[2]=u):u=n[2];var c;n[3]!==s||n[4]!==l?(c=[s,l],n[3]=s,n[4]=l,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(u,c,i.id+":25");if(d!=null){var m;return n[6]!==a||n[7]!==d?(m=a(d),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}}l.default=c}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:22264","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22264")),r("gkx")("23219"));l.default=e}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchSecureMissingMessage","promiseDone","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={entrypoint:r("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES},n[0]=l):l=n[0];var s=r("useMWEBBackupState")(l),d=s===3,m,p;n[1]!==a||n[2]!==d||n[3]!==t?(m=function(){return o("ReQL").fromTableDescending(a.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(t).map(function(e){var n=e.offlineThreadingId,l=o("ReQLSuspense").first(o("ReQL").fromTableDescending(a.tables.messages.index("optimistic")).getKeyRange(n),i.id+":48");return l==null&&r("promiseDone")(r("fetchSecureMissingMessage")(a,t,n,d,"MAWFetchPinnedMessage")),{message:l,pinnedOfflineThreadingId:n}})},p=[a,t,d],n[1]=a,n[2]=d,n[3]=t,n[4]=m,n[5]=p):(m=n[4],p=n[5]);var _=o("ReQLSuspense").useArray(m,p,i.id+":38"),f;return n[6]!==_?(f=_.map(c).filter(u),n[6]=_,n[7]=f):f=n[7],f}function u(e){return!(e!=null&&e.isUnsent)}function c(e){return e.message}l.default=s}),98);
__d("useMWFetchMessageByPinnedMessageId",["LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","fetchOpenMissingMessage","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(22),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.threads||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(t)},n[0]=a.tables.threads,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var c=o("ReQLSuspense").useFirst(l,s,i.id+":34"),d=o("MAWThreadCutover").useGetCutoverOpenThreadKey(t),m=d!=null,p=d!=null?d:t,_=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(d),f;n[6]!==c?(f=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),n[6]=c,n[7]=f):f=n[7];var g=f,h=g&&(!m||_),y;n[8]!==a.tables.threads||n[9]!==p?(y=function(){return o("ReQL").fromTableDescending(a.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(p)},n[8]=a.tables.threads,n[9]=p,n[10]=y):y=n[10];var C;n[11]!==a||n[12]!==p?(C=[a,p],n[11]=a,n[12]=p,n[13]=C):C=n[13];var b=o("ReQLSuspense").useFirst(y,C,i.id+":54"),v,S;n[14]!==a||n[15]!==h||n[16]!==p||n[17]!==b?(v=function(){return h?o("ReQL").empty():o("ReQL").fromTableDescending(a.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(p).map(function(e){var t=e.messageId,n=o("ReQLSuspense").first(o("ReQL").fromTableDescending(a.tables.messages.index("messageId")).getKeyRange(t),i.id+":73");return b!=null&&n==null&&r("promiseDone")(r("fetchOpenMissingMessage")(a,b,t)),{message:n,pinnedMessageId:t}})},S=[a,p,h,b],n[14]=a,n[15]=h,n[16]=p,n[17]=b,n[18]=v,n[19]=S):(v=n[18],S=n[19]);var R=o("ReQLSuspense").useArray(v,S,i.id+":64"),L;return n[20]!==R?(L=R.map(u).filter(Boolean),n[20]=R,n[21]=L):L=n[21],L}function u(e){return e.message}l.default=s}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBroadcastChannelLoggingShapes","MWGroupBlockingProtectionUtils","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","isMWBumpMessage","justknobx","react","react-compiler-runtime","useGetOriginalMsgFromBumpMsg","useMAWFetchSecureMessageByPinnedExternalId","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u.useMemo,_={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},f=r("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function g(e,t,n){var a,i,l,s=e==null?void 0:e.text,u=t&&e!=null?(c||(c=o("I64"))).equal(n,e.threadKey):!1,d=p(function(){var t,n;return new Set(u?(t=e==null||(n=e.mentionIds)==null||n.split==null?void 0:n.split(","))!=null?t:[]:[])},[u,e==null?void 0:e.mentionIds]),m=o("MWUnvaultedText").getMWUnvaultedText(u,s),_=(a=(i=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(m,[],d,n))==null?void 0:i.textWithSubstitutions)!=null?a:m,f=(l=o("useStringWithSubstitutions").useStringWithSubstitutions(m,n))!=null?l:m,g=r("isMWBumpMessage")(e==null?void 0:e.replyType);return g?f:_}function h(e){return e==null?"":(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(2))?s._(/*BTDS*/"Media"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(4))?s._(/*BTDS*/"Audio"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(4096))||(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(134217728))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(16384))?s._(/*BTDS*/"GIF"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(64))?s._(/*BTDS*/"File"):s._(/*BTDS*/"Attachment")}function y(e){r("FBLogger")("messenger_web_pinned_messages").catching(e).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",e.message)}function C(e){var t=o("react-compiler-runtime").c(2),n=e.thread,a;return t[0]!==n?(a=m.jsx(r("CometErrorBoundary.react"),{fallback:b,onError:y,children:m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(v,{thread:n})})}),t[0]=n,t[1]=a):a=t[1],a}function b(){return null}function v(t){var n=o("react-compiler-runtime").c(66),a=t.thread,l=r("useMWXLazyDialog")(f),u=l[0],d=(e||(e=r("useReStore")))(),p=r("useMWFetchMessageByPinnedMessageId")(a.threadKey),y=r("useMAWFetchSecureMessageByPinnedExternalId")(a.threadKey),C;if(n[0]!==p||n[1]!==y){var b=y.concat(p),v=[];C=b.reduce(S,v),n[0]=p,n[1]=y,n[2]=C}else C=n[2];var R=C,L=o("MWPActor.react").useActor(),E;n[3]===Symbol.for("react.memo_cache_sentinel")?(E={source:"Pinned"},n[3]=E):E=n[3];var k=r("useMWJumpToMessageWrapper")(E),I=(R==null?void 0:R.length)>0?R[0]:null,T;n[4]!==d||n[5]!==I?(T=function(){return(I==null?void 0:I.senderId)!=null?o("ReQL").fromTableAscending(d.tables.contacts).getKeyRange(I.senderId):o("ReQL").empty()},n[4]=d,n[5]=I,n[6]=T):T=n[6];var D=I==null?void 0:I.senderId,x;n[7]!==d||n[8]!==D?(x=[D,d],n[7]=d,n[8]=D,n[9]=x):x=n[9];var $=o("ReQLSuspense").useFirst(T,x,i.id+":248"),P;n[10]!==d||n[11]!==I||n[12]!==a.threadKey?(P=function(){return(I==null?void 0:I.senderId)!=null?o("ReQL").fromTableAscending(d.tables.participants).getKeyRange(a.threadKey,I.senderId):o("ReQL").empty()},n[10]=d,n[11]=I,n[12]=a.threadKey,n[13]=P):P=n[13];var N=I==null?void 0:I.senderId,M;n[14]!==d||n[15]!==N||n[16]!==a.threadKey?(M=[N,d,a.threadKey],n[14]=d,n[15]=N,n[16]=a.threadKey,n[17]=M):M=n[17];var w=o("ReQLSuspense").useFirst(P,M,i.id+":258"),A;n[18]!==a.threadType?(A=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),n[18]=a.threadType,n[19]=A):A=n[19];var F=A,O=r("useGetOriginalMsgFromBumpMsg")(I==null?void 0:I.replyType,I==null?void 0:I.replySourceId,I==null?void 0:I.threadKey),B=O!=null?O:I,W=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(B==null?void 0:B.senderId,a.threadKey),q=g(B,F,a.threadKey),U;e:{if(r("justknobx")._("1501")&&W){var V;n[20]===Symbol.for("react.memo_cache_sentinel")?(V=o("MWBlockedTombstoneMessage.react").HIDDEN_MESSAGE_LABEL.toString(),n[20]=V):V=n[20],U=V;break e}var H;n[21]!==B||n[22]!==q?(H=q!=null&&q!==""?q:h(B),n[21]=B,n[22]=q,n[23]=H):H=n[23],U=H}var G=U,z=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(R.length===0)return null;var j;n[24]!==a.threadKey||n[25]!==a.threadType?(j={eventName:"open_view_pinned_messages_dialog",threadKey:a.threadKey,threadType:a.threadType},n[24]=a.threadKey,n[25]=a.threadType,n[26]=j):j=n[26];var K=j,Q;n[27]!==a.threadType?(Q=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),n[27]=a.threadType,n[28]=Q):Q=n[28];var X=Q,Y;if(n[29]!==L||n[30]!==I||n[31]!==($==null?void 0:$.name)||n[32]!==(w==null?void 0:w.nickname)){var J,Z;Y=(I==null?void 0:I.senderId)!=null&&(c||(c=o("I64"))).equal(L,I.senderId)?"You":(J=(Z=w==null?void 0:w.nickname)!=null?Z:$==null?void 0:$.name)!=null?J:"",n[29]=L,n[30]=I,n[31]=$==null?void 0:$.name,n[32]=w==null?void 0:w.nickname,n[33]=Y}else Y=n[33];var ee=Y,te;n[34]!==X||n[35]!==G?(te=X?s._(/*BTDS*/"Pinned Messages Banner with last pinned message by broadcast channel admin: {lastPinnedMessage}",[s._param("lastPinnedMessage",G)]):s._(/*BTDS*/"Pinned Messages Banner with last pinned message: {lastPinnedMessage}",[s._param("lastPinnedMessage",G)]),n[34]=X,n[35]=G,n[36]=te):te=n[36];var ne;n[37]!==X||n[38]!==k||n[39]!==R[0]||n[40]!==R.length||n[41]!==u||n[42]!==a.threadKey?(ne=function(){if(R.length===1){var e=R[0];e!=null&&e.messageId!=null&&e.timestampMs!=null&&k(e.messageId,e.timestampMs)}else u({threadKey:a.threadKey});X&&o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers.extends({},o("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(R.length>1).toString()},threadFbid:a.threadKey}))},n[37]=X,n[38]=k,n[39]=R[0],n[40]=R.length,n[41]=u,n[42]=a.threadKey,n[43]=ne):ne=n[43];var re=z?_.pinnedMessagesWrapperInbox:_.pinnedMessagesWrapperChatTabs,oe;n[44]!==re?(oe=[_.pinnedMessagesWrapper,re],n[44]=re,n[45]=oe):oe=n[45];var ae;n[46]===Symbol.for("react.memo_cache_sentinel")?(ae=m.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(r("MWXIconForListCell.react"),{color:"secondary",icon:r("MWXIconPushpin"),size:"medium"})}),n[46]=ae):ae=n[46];var ie;n[47]!==X||n[48]!==ee?(ie=m.jsx(r("MWXColumnItem.react"),{verticalAlign:"center",xstyle:_.rowText,children:m.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:X?s._(/*BTDS*/"{channel_creator_name}{middot} Admin",[s._param("channel_creator_name",ee),s._param("middot",m.jsx(r("BaseMiddot.react"),{}))]):s._(/*BTDS*/"{message_sender_name}",[s._param("message_sender_name",ee)])})}),n[47]=X,n[48]=ee,n[49]=ie):ie=n[49];var le;n[50]!==G?(le=m.jsx(r("MWXColumnItem.react"),{verticalAlign:"center",xstyle:_.rowText,children:m.jsx(r("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:G})}),n[50]=G,n[51]=le):le=n[51];var se;n[52]!==ie||n[53]!==le?(se=m.jsx(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(r("MWXColumn.react"),{children:[ie,le]})}),n[52]=ie,n[53]=le,n[54]=se):se=n[54];var ue;n[55]!==R.length?(ue=R.length>1&&m.jsx(r("MWXRowItem.react"),{children:m.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconChevronDown"),size:16})}),n[55]=R.length,n[56]=ue):ue=n[56];var ce;n[57]!==se||n[58]!==ue?(ce=m.jsxs(r("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:_.row,children:[ae,se,ue]}),n[57]=se,n[58]=ue,n[59]=ce):ce=n[59];var de;return n[60]!==K||n[61]!==te||n[62]!==ne||n[63]!==oe||n[64]!==ce?(de=m.jsx(r("MWXPressable.react"),{"aria-label":te,display:"inline",expanding:!0,loggingEvent:K,onPress:ne,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:oe,children:ce}),n[60]=K,n[61]=te,n[62]=ne,n[63]=oe,n[64]=ce,n[65]=de):de=n[65],de}function S(e,t){return t!=null?[].concat(e,[t]):e}l.default=C}),226);
__d("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWInboxPostcutoverSecureThreadBannerDialog.react").__setRef("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint")};l.default=e}),98);
__d("getMWInlineQPBannerStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={inlineQPBanner:{backgroundColor:"x1jx94hy",boxShadow:"xyqbzfk",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},inlineQPBannerWrapper:{backgroundColor:"x1jx94hy",borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",$$css:!0}};l.inlineQPBannerStyles=e}),98);
__d("setHasDismissedSecretConversationsDeprecationBanner.react",["WebStorage","getMWLocalStorageThreadsWithBannerDismissed"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(!((e||(e=r("WebStorage"))).getLocalStorage()==null||(e||(e=r("WebStorage"))).isLocalStorageQuotaExceeded())){var a=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(n);Object.prototype.hasOwnProperty.call(a,t)||(a[t]=!0,(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),n,JSON.stringify(a)))}}l.setHasDismissedSecretConversationsDeprecationBanner=s}),98);
__d("MWInboxPostcutoverSecureThreadBanner.react",["fbt","ix","I64","LSContactBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPostcutoverSecureThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWGetOtherUserContact","useMWRedirectToOpenThreadOfDualThread","useMWXEntryPointDialog","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=c||(c=o("react")),p=c.useState,_=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPostcutoverSecureThreadBanner.react"),f=r("gkx")("23433"),g=r("gkx")("18115"),h="ACT";function y(t){var n=o("react-compiler-runtime").c(17),a=t.source,i=t.thread,l=f?s._(/*BTDS*/"Messenger"):s._(/*BTDS*/"Facebook"),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c=u(f?"876158":"781429"),n[0]=c):c=n[0];var y=c,C=i.threadKey,b=i.threadType,v=o("MAWThreadCutover").useIsDualThreadCutoverSecureThread(C),S=o("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(C)!=null,R;n[1]!==C?(R=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(C))},n[1]=C,n[2]=R):R=n[2];var L=p(R),E=L[0],k=L[1],I=r("useMWRedirectToOpenThreadOfDualThread")(C),T=r("useMWEntrypoint")(),D;n[3]!==T||n[4]!==v||n[5]!==C||n[6]!==b?(D={onVisible:function(){_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_impression_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})})}},n[3]=T,n[4]=v,n[5]=C,n[6]=b,n[7]=D):D=n[7];var x=r("useVisibilityObserver")(D),$=o("MWPActor.react").useActor(),P=o("MAWThreadCutover").useGetCutoverOpenThreadKey(C),N;n[8]!==$||n[9]!==P?(N=P!=null&&(d||(d=o("I64"))).equal($,P),n[8]=$,n[9]=P,n[10]=N):N=n[10];var M=N,w;n[11]===Symbol.for("react.memo_cache_sentinel")?(w=["firstName","name"].concat(o("LSContactBitOffset").contactCapabilityFields),n[11]=w):w=n[11];var A=r("useMWGetOtherUserContact")(C,b,w),F;if(n[12]!==M||n[13]!==(A==null?void 0:A.firstName)||n[14]!==(A==null?void 0:A.name)){var O;F=M===!0?s._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with yourself was archived."):s._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with {name} was archived.",[s._param("name",(O=A==null?void 0:A.firstName)!=null?O:A==null?void 0:A.name)]),n[12]=M,n[13]=A==null?void 0:A.firstName,n[14]=A==null?void 0:A.name,n[15]=F}else F=n[15];var B=F,W;n[16]===Symbol.for("react.memo_cache_sentinel")?(W={},n[16]=W):W=n[16];var q=r("useMWXEntryPointDialog")(r("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint"),W),U=q[0],V=q[1],H=q[2],G=q[3];return E&&v&&S&&g&&m.jsx("div",babelHelpers.extends({"data-testid":void 0},(e||(e=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:m.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Open other chat"),onPress:function(){_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_view_archived_chat_cta_click_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),I()},type:"secondary"},addOnSecondary:{label:s._(/*BTDS*/"Learn more"),onHoverIn:V,onHoverOut:H,onPress:function(){var e;_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_learn_more_cta_click_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),U({isSelfThread:M,otherUserName:(e=A==null?void 0:A.firstName)!=null?e:A==null?void 0:A.name,source:a})},onPressIn:G},body:B,headline:s._(/*BTDS*/"{platformName} upgraded security",[s._param("platformName",l)]),icon:{props:{isDecorative:!0,src:y},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(C),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2),_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_dismissed_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),k(!1)},ref:x,secondaryReduceEmphasis:!1,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})}))}l.default=y}),226);
__d("MWInboxPrecutoverOpenThreadBanner.react",["cr:7109","cr:7110","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(4);if(n("cr:7110")!=null){var r;return t[0]!==e?(r=s.jsx(n("cr:7110"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}else if(n("cr:7109")!=null){var a;return t[2]!==e.thread?(a=s.jsx(n("cr:7109"),{thread:e.thread}),t[2]=e.thread,t[3]=a):a=t[3],a}return null}l.default=u}),98);
__d("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWInboxPrecutoverOpenThreadBannerDialog.react").__setRef("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint")};l.default=e}),98);
__d("useMWRedirectToEncryptedThreadOfDualThread",["LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(t){var n=o("react-compiler-runtime").c(13),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.mi_act_mapping_table||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table.index("jid")).getKeyRange(t)},n[0]=a.tables.mi_act_mapping_table,n[1]=t,n[2]=l):l=n[2];var u;n[3]!==a||n[4]!==t?(u=[a,t],n[3]=a,n[4]=t,n[5]=u):u=n[5];var c=o("ReQLSuspense").useFirst(l,u,i.id+":31"),d=r("useMWNavigation")(),m=r("useMWPCreateOneToOneThreadThenNavigate")(d,"preCutoverThread","dualThreadCutoverComposer"),p=c!=null,_=c==null?void 0:c.clientThreadPk,f=c==null?void 0:c.serverThreadKey,g;return n[6]!==_||n[7]!==m||n[8]!==p||n[9]!==d||n[10]!==f||n[11]!==t?(g=function(){p&&f!=null?d.openTabOrInbox({clientThreadKey:_,threadKey:f,threadType:(s||(s=o("LSIntEnum"))).ofNumber(15)},"preCutoverThread",void 0,void 0,{subEntrypoint:"dualThreadCutoverComposer"}):m==null||m(t)},n[6]=_,n[7]=m,n[8]=p,n[9]=d,n[10]=f,n[11]=t,n[12]=g):g=n[12],g}l.default=d}),98);
__d("MWInboxPrecutoverOpenThreadBannerV1.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m,p=m||(m=o("react")),_=m.useState,f=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV1.react");function g(t){var n=o("react-compiler-runtime").c(38),a=t.thread,l=a.threadKey,m=a.threadType,g=(e||(e=r("useReStore")))(),y=o("MWPActor.react").useActor(),C;n[0]!==y||n[1]!==l?(C=(d||(d=o("I64"))).equal(y,l),n[0]=y,n[1]=l,n[2]=C):C=n[2];var b=C,v,S;n[3]!==y||n[4]!==g||n[5]!==b||n[6]!==l||n[7]!==m?(v=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(m)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(g.tables.participants).getKeyRange(l),o("ReQL").fromTableAscending(g.tables.contacts)).filter(function(e){var t=e[1];return b||!(d||(d=o("I64"))).equal(t.id,y)}).map(h):o("ReQL").empty()},S=[g,l,m,y,b],n[3]=y,n[4]=g,n[5]=b,n[6]=l,n[7]=m,n[8]=v,n[9]=S):(v=n[8],S=n[9]);var R=o("ReQLSuspense").useFirst(v,S,i.id+":63"),L=o("MAWThreadCutover").useIsCutoverOpenThread(l),E=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(l),k;n[10]!==a?(k=o("LSThreadBitOffset").has(260,a),n[10]=a,n[11]=k):k=n[11];var I=k,T=r("useMWRedirectToEncryptedThreadOfDualThread")(l),D;n[12]!==l?(D=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(l))},n[12]=l,n[13]=D):D=n[13];var x=_(D),$=x[0],P=x[1],N;if(n[14]!==b||n[15]!==(R==null?void 0:R.firstName)||n[16]!==(R==null?void 0:R.name)){var M;N=b?s._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat will remain active."):s._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat with {name} will remain active.",[s._param("name",(M=R==null?void 0:R.firstName)!=null?M:R==null?void 0:R.name)]),n[14]=b,n[15]=R==null?void 0:R.firstName,n[16]=R==null?void 0:R.name,n[17]=N}else N=n[17];var w=N,A=r("useMWEntrypoint")(),F;n[18]!==m?(F=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m),n[18]=m,n[19]=F):F=n[19];var O=F,B;n[20]!==A||n[21]!==L||n[22]!==O||n[23]!==l||n[24]!==m?(B={onVisible:function(){f.onReady(function(e){return e.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_impression_event",is_cutover:L,thread_id:(d||(d=o("I64"))).to_string(l),thread_type:d.to_string(m),transport_type:O?"ACT":"MI"}})})}},n[20]=A,n[21]=L,n[22]=O,n[23]=l,n[24]=m,n[25]=B):B=n[25];var W=r("useVisibilityObserver")(B),q;return n[26]!==w||n[27]!==A||n[28]!==L||n[29]!==E||n[30]!==I||n[31]!==O||n[32]!==T||n[33]!==W||n[34]!==$||n[35]!==l||n[36]!==m?(q=$&&I&&!L&&!E&&p.jsx("div",babelHelpers.extends({"data-testid":void 0},(c||(c=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:p.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Switch to other chat"),onPress:function(){f.onReady(function(e){return e.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_cta_click_event",is_cutover:L,thread_id:(d||(d=o("I64"))).to_string(l),thread_type:d.to_string(m),transport_type:O?"ACT":"MI"}})}),T()},type:"secondary"},body:w,headline:s._(/*BTDS*/"This chat will be archived soon"),icon:{props:{src:u("876158")},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(l),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED),f.onReady(function(e){return e.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_dismissed_event",is_cutover:L,thread_id:(d||(d=o("I64"))).to_string(l),thread_type:d.to_string(m),transport_type:O?"ACT":"MI"}})}),P(!1)},ref:W,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),n[26]=w,n[27]=A,n[28]=L,n[29]=E,n[30]=I,n[31]=O,n[32]=T,n[33]=W,n[34]=$,n[35]=l,n[36]=m,n[37]=q):q=n[37],q}function h(e){var t=e[1];return t}l.default=g}),226);
__d("MWInboxPrecutoverOpenThreadBannerV2.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPrecutoverOpenThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m,p=m||(m=o("react")),_=m.useState,f=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV2.react"),g="MI";function h(t){var n=o("react-compiler-runtime").c(43),a=t.source,l=t.thread,m=l.threadKey,h=l.threadType,C=(e||(e=r("useReStore")))(),b=o("MWPActor.react").useActor(),v;n[0]!==b||n[1]!==m?(v=(d||(d=o("I64"))).equal(b,m),n[0]=b,n[1]=m,n[2]=v):v=n[2];var S=v,R,L;n[3]!==b||n[4]!==C||n[5]!==S||n[6]!==m||n[7]!==h?(R=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(h)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(C.tables.participants).getKeyRange(m),o("ReQL").fromTableAscending(C.tables.contacts)).filter(function(e){var t=e[1];return S||!(d||(d=o("I64"))).equal(t.id,b)}).map(y):o("ReQL").empty()},L=[C,m,h,b,S],n[3]=b,n[4]=C,n[5]=S,n[6]=m,n[7]=h,n[8]=R,n[9]=L):(R=n[8],L=n[9]);var E=o("ReQLSuspense").useFirst(R,L,i.id+":71"),k=o("MAWThreadCutover").useIsCutoverOpenThread(m),I=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(m),T;n[10]!==l?(T=o("LSThreadBitOffset").has(260,l),n[10]=l,n[11]=T):T=n[11];var D=T,x=r("useMWRedirectToEncryptedThreadOfDualThread")(m),$=r("useMWEntrypoint")(),P;n[12]!==m?(P=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(m))},n[12]=m,n[13]=P):P=n[13];var N=_(P),M=N[0],w=N[1],A;n[14]!==$||n[15]!==k||n[16]!==m||n[17]!==h?(A={onVisible:function(){f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_impression_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})})}},n[14]=$,n[15]=k,n[16]=m,n[17]=h,n[18]=A):A=n[18];var F=r("useVisibilityObserver")(A),O;if(n[19]!==S||n[20]!==(E==null?void 0:E.firstName)||n[21]!==(E==null?void 0:E.name)){var B;O=S?s._(/*BTDS*/"You have two chats with yourself. The other chat is end-to-end encrypted, so it will stay active. Archived chats are still viewable."):s._(/*BTDS*/"You have two chats with {name}. The other chat is end-to-end encrypted, so it will stay active. Archived chats are still viewable.",[s._param("name",(B=E==null?void 0:E.firstName)!=null?B:E==null?void 0:E.name)]),n[19]=S,n[20]=E==null?void 0:E.firstName,n[21]=E==null?void 0:E.name,n[22]=O}else O=n[22];var W=O,q;n[23]===Symbol.for("react.memo_cache_sentinel")?(q=r("gkx")("23433")?u("876158"):u("781429"),n[23]=q):q=n[23];var U=q,V;n[24]===Symbol.for("react.memo_cache_sentinel")?(V={},n[24]=V):V=n[24];var H=r("useMWXEntryPointDialog")(r("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint"),V),G=H[0],z=H[1],j=H[2],K=H[3],Q;return n[25]!==W||n[26]!==$||n[27]!==M||n[28]!==k||n[29]!==I||n[30]!==D||n[31]!==S||n[32]!==z||n[33]!==j||n[34]!==K||n[35]!==G||n[36]!==E||n[37]!==x||n[38]!==F||n[39]!==a||n[40]!==m||n[41]!==h?(Q=M&&D&&!k&&!I&&p.jsx("div",babelHelpers.extends({"data-testid":void 0},(c||(c=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:p.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Open other chat"),onPress:function(){f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_other_chat_cta_click_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})}),x()},type:"secondary"},addOnSecondary:{label:s._(/*BTDS*/"Learn more"),onHoverIn:z,onHoverOut:j,onPress:function(){f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_learn_more_cta_click_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})}),G({entryPoint:$,isCutoverOpenThread:k,isSecure:!1,isSelfThread:S,otherUserOrSelf:E,source:a,threadKey:m,threadType:h})},onPressIn:K},body:W,headline:s._(/*BTDS*/"This chat will be archived soon"),icon:{props:{isDecorative:!0,src:U},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(m),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED_V2),f.onReady(function(e){return e.log(function(){return{entry_point:$,event_type:"secret_conversation_pre_cutover_thread_banner_dismissed_event",is_cutover:k,thread_id:(d||(d=o("I64"))).to_string(m),thread_type:d.to_string(h),transport_type:g}})}),w(!1)},ref:F,secondaryReduceEmphasis:!1,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),n[25]=W,n[26]=$,n[27]=M,n[28]=k,n[29]=I,n[30]=D,n[31]=S,n[32]=z,n[33]=j,n[34]=K,n[35]=G,n[36]=E,n[37]=x,n[38]=F,n[39]=a,n[40]=m,n[41]=h,n[42]=Q):Q=n[42],Q}function y(e){var t=e[1];return t}l.default=h}),226);
__d("MWMDotMeReferrerContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c();function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.referrer,a;return t[0]!==n||t[1]!==r?(a=s.jsx(m.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function _(){return d(m)}l.MWMDotMeReferrerContextProvider=p,l.useMDotMeReferrer=_}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark_mode_legible_text_pill:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"x1mvi0mv",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginInlineEnd:"x1xegmmw",marginBottom:"xjpr12u",marginInlineStart:"x13fj5qh",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.onClick,i=r("useCurrentDisplayMode")()==="dark",l=i&&u.dark_mode_legible_text_pill,c;t[0]!==l?(c=[u.pill,l],t[0]=l,t[1]=c):c=t[1];var d;return t[2]!==n||t[3]!==a||t[4]!==c?(d=s.jsx(r("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:c,children:n}),t[2]=n,t[3]=a,t[4]=c,t[5]=d):d=t[5],d}l.default=c}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n,a,l){var c=o("react-compiler-runtime").c(9),m=(u||(u=r("useReStore")))(),p=o("MWPActor.react").useActor(),_=o("MWMDotMeReferrerContext.react").useMDotMeReferrer(),f,g;return c[0]!==p||c[1]!==m||c[2]!==l||c[3]!==a||c[4]!==_||c[5]!==t||c[6]!==n?(f=function(c,f){var u=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,a),g=c!=null?(e||(e=o("I64"))).equal(c.ctaType,(s||(s=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED))&&c.ctaId===f.ctaId:!1,h=r("gkx")("6771")&&c!=null&&(e||(e=o("I64"))).equal(c.ctaType,(s||(s=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").ICEBREAKER))&&c.ctaId===f.ctaId,y=g||h?_:void 0;r("promiseDone")(m.runInTransaction(function(e){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(e),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:l!=null?l:void 0,mark_read:!0,platform_ref:y,platform_token:f.platformToken,power_up_style:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),source:u}),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),senderId:p,text:f.title,threadKey:t,threadType:n})},"readwrite",void 0,void 0,i.id+":79"));var C=(e||(e=o("I64"))).to_string(t);if(g)r("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:C}}});else{var b,v=(b=f.ctaIdentifier)!=null?b:"";r("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:C},quick_reply:{id:v,type:64}}})}r("MessageSendClickFalcoEvent").log(d)},g=[t,a,_,m,p,n,l],c[0]=p,c[1]=m,c[2]=l,c[3]=a,c[4]=_,c[5]=t,c[6]=n,c[7]=f,c[8]=g):(f=c[7],g=c[8]),o("Int64Hooks").useCallbackInt64(f,g)}function d(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").icebreaker}}}l.default=c}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","react-compiler-runtime","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useState;function m(e){var t=o("react-compiler-runtime").c(21),n=e.initiatingSource,a=e.lsSource,i=e.nullstateCtas,l=e.threadKey,s=e.threadType,m=a===void 0?"unknown":a,_=r("useMWV2SendIcebreakerMessage")(l,s,m,n),f;t[0]!==i?(f=i.map(p),t[0]=i,t[1]=f):f=t[1];var g=f,h=d(!1),y=h[0],C=h[1],b,v;t[2]!==g||t[3]!==y||t[4]!==l?(b=function(){if(!y&&g.length>0){C(!0);var e=(u||(u=o("I64"))).to_string(l);r("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:g,num_items:g.length,type:60},page:{id:e}}})}},v=[y,g,l],t[2]=g,t[3]=y,t[4]=l,t[5]=b,t[6]=v):(b=t[5],v=t[6]);var S=o("Int64Hooks").useCallbackInt64(b,v),R;t[7]!==S?(R={onVisible:S},t[7]=S,t[8]=R):R=t[8];var L=r("useVisibilityObserver")(R),E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1n2onr6 xh8yej3 x1eb86dx"},t[9]=E):E=t[9];var k;t[10]===Symbol.for("react.memo_cache_sentinel")?(k={className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"},t[10]=k):k=t[10];var I;if(t[11]!==i||t[12]!==_){var T;t[14]!==_?(T=function(t){return t.ctaType==="nullstate_icebreaker"?c.jsx("li",{className:"xamitd3 xsag5q8 xpdmqnj x1g0dm76 x2b8uid",children:c.jsx(r("MWV2ThreadNullstatePill.react"),{onClick:function(){return _(void 0,t)},children:t.title})},(u||(u=o("I64"))).to_string(t.ctaId)):null},t[14]=_,t[15]=T):T=t[15],I=i.map(T),t[11]=i,t[12]=_,t[13]=I}else I=t[13];var D;t[16]!==I?(D=c.jsx("ul",babelHelpers.extends({},k,{children:I})),t[16]=I,t[17]=D):D=t[17];var x;return t[18]!==L||t[19]!==D?(x=c.jsx("div",babelHelpers.extends({},E,{ref:L,children:D})),t[18]=L,t[19]=D,t[20]=x):x=t[20],x}function p(e){return e.ctaIdentifier}function _(t){var n=o("react-compiler-runtime").c(8),a=r("useStable")(f),l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.threads||n[1]!==t.threadKey?(s=function(){return o("ReQL").fromTableAscending(l.tables.threads,["lastActivityTimestampMs"]).getKeyRange(t.threadKey)},n[0]=l.tables.threads,n[1]=t.threadKey,n[2]=s):s=n[2];var d;n[3]!==l||n[4]!==t.threadKey?(d=[l,t.threadKey],n[3]=l,n[4]=t.threadKey,n[5]=d):d=n[5];var p=o("ReQLSuspense").useFirst(s,d,i.id+":127");if(p==null||t.nullstateCtas.length===0||a-(u||(u=o("I64"))).to_int32(p.lastActivityTimestampMs)<216e5)return null;var _;return n[6]!==t?(_=c.jsx(m,babelHelpers.extends({},t)),n[6]=t,n[7]=_):_=n[7],_}function f(){return o("ServerTime").getMillis()}l.default=_}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oDyka"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1oDyka")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};a.exports=e}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i=o("react-compiler-runtime").c(6),l=t.eligiblePromotions,s=o("CometRelay").useFragment(e!==void 0?e:e=n("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),l),c=s==null||(a=s.nodes[0])==null||(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy,d;i[0]===Symbol.for("react.memo_cache_sentinel")?(d={context_surface_id:8783,context_trigger:"messenger_thread_open"},i[0]=d):d=i[0];var m=r("useQuickPromotionFalcoEvent")(d);if(c==null)return null;var p;i[1]!==c?(p=u.jsx(o("CometRelay").MatchContainer,{match:c}),i[1]=c,i[2]=p):p=i[2];var _;return i[3]!==m||i[4]!==p?(_=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:m,children:p}),i[3]=m,i[4]=p,i[5]=_):_=i[5],_}l.default=c}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],t=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:t,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:t,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oDyka"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1oDyka")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"24262581233432542",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function p(e){switch(e){case"ChatTab":return d;default:return m}}function _(t){var a,i=t.communityId,l=t.fbGroupId,s=t.threadId,d=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=p(d),_=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:i!=null?(u||(u=o("I64"))).to_string(i):null,fb_group_id:o("MWCMGetValidId").MWCMHasValidFbGroupId(l)?(u||(u=o("I64"))).to_string(l):null,thread_id:(u||(u=o("I64"))).to_string(s),trigger:m}),f=_==null||(a=_.viewer)==null?void 0:a.eligible_promotions;return f==null?null:c.jsx(r("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:f})}_.displayName=_.name+" [from "+i.id+"]";function f(e){return c.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWQuickPromotionThreadViewBannerContainer",children:c.jsx(_,babelHelpers.extends({},e))})})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext;function d(e){var t=o("react-compiler-runtime").c(13),n=e.nullstate,a=e.nullstateCtas,i=n.welcomeText,l=c(r("MWPreloadedText")),d,m;t[0]!==a||t[1]!==i?(d=s._(/*BTDS*/"Tap to send"),m=i!==d.toString()&&a.length>0,t[0]=a,t[1]=i,t[2]=d,t[3]=m):(d=t[2],m=t[3]);var p=m;if(l.text!=null||!p&&i==null)return null;var _;t[4]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xmzvs34 xf159sx"},t[4]=_):_=t[4];var f;t[5]!==i?(f=i!=null&&u.jsx("div",{className:"x1hhzuzn",children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:i})}),t[5]=i,t[6]=f):f=t[6];var g;t[7]!==d||t[8]!==p?(g=p&&u.jsx("div",{className:"x1hhzuzn",children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:d})}),t[7]=d,t[8]=p,t[9]=g):g=t[9];var h;return t[10]!==f||t[11]!==g?(h=u.jsxs("div",babelHelpers.extends({},_,{children:[f,g]})),t[10]=f,t[11]=g,t[12]=h):h=t[12],h}l.default=d}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useContext;function p(e){var t=o("react-compiler-runtime").c(22),n=e.nullstate,a=e.threadKey,i=e.threadTitle,l=m(r("MWPreloadedText")),p=n.privacyText,g=n.privacyTextCtaTitle,h=n.privacyTextNonWelcomeScreen,y;t[0]!==i?(y=s._(/*BTDS*/"When you send a message, {name} will see your {= public info link}.",[s._param("name",i),s._param("= public info link",d.jsx(r("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:d.jsx(r("MWXText.react"),{type:"body4",children:s._(/*BTDS*/"public info")})}))]),t[0]=i,t[1]=y):y=t[1];var C=y,b;t[2]===Symbol.for("react.memo_cache_sentinel")?(b=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react"),t[2]=b):b=t[2];var v=r("useMWXLazyDialog")(b),S=v[0],R=r("gkx")("8631"),L=R?"blueLink":"primary",E;t[3]!==S||t[4]!==a?(E=function(){S({entryPoint:"NULL_STATE",threadKey:a},_),r("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(u||(u=o("I64"))).to_string(a)}})},t[3]=S,t[4]=a,t[5]=E):E=t[5];var k;t[6]!==g?(k=g!=null?d.jsx(f,{children:g}):null,t[6]=g,t[7]=k):k=t[7];var I;t[8]!==E||t[9]!==k?(I=d.jsx(r("MWXLink.react"),{color_DEPRECATED:L,onClick:E,role:"link",target:"_blank",children:k}),t[8]=E,t[9]=k,t[10]=I):I=t[10];var T=I,D=l.text!=null&&!!h,x;t[11]!==p||t[12]!==h||t[13]!==D?(x=D||p!=null?d.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:D?h:p}):null,t[11]=p,t[12]=h,t[13]=D,t[14]=x):x=t[14];var $=x,P;t[15]!==C||t[16]!==n.privacyTextCtaType||t[17]!==$||t[18]!==T?(P=r("gkx")("24144")&&(u||(u=o("I64"))).equal(n.privacyTextCtaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").PRIVACY_DISCLOSURE))?d.jsxs(d.Fragment,{children:[$," ",T]}):C,t[15]=C,t[16]=n.privacyTextCtaType,t[17]=$,t[18]=T,t[19]=P):P=t[19];var N;return t[20]!==P?(N=d.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:P}),t[20]=P,t[21]=N):N=t[21],N}function _(){}function f(e){var t=o("react-compiler-runtime").c(4),n=e.children,a=r("gkx")("8631");if(a){var i;return t[0]!==n?(i=d.jsx(d.Fragment,{children:n}),t[0]=n,t[1]=i):i=t[1],i}var l;return t[2]!==n?(l=d.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:n}),t[2]=n,t[3]=l):l=t[3],l}l.default=p}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","react-compiler-runtime","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useState,p={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(20),a=t.initiatingSource,i=t.lsSource,l=t.nullstate,s=t.nullstateCtas,_=t.threadKey,g=t.threadType,h=r("useMWV2SendIcebreakerMessage")(_,g,i,a),y;n[0]!==s?(y=s.map(f).filter(Boolean),n[0]=s,n[1]=y):y=n[1];var C=y,b=m(!1),v=b[0],S=b[1],R,L;n[2]!==C||n[3]!==v||n[4]!==_?(R=function(){if(!v&&C.length>0){S(!0);var e=(u||(u=o("I64"))).to_string(_);r("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:C,num_items:String(C.length),type:60},page:{id:e}}})}},L=[v,C,_],n[2]=C,n[3]=v,n[4]=_,n[5]=R,n[6]=L):(R=n[5],L=n[6]);var E=o("Int64Hooks").useCallbackInt64(R,L),k;n[7]!==E?(k={onVisible:E},n[7]=E,n[8]=k):k=n[8];var I=r("useVisibilityObserver")(k),T;n[9]===Symbol.for("react.memo_cache_sentinel")?(T={className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x14z9mp xat24cr x1lziwak"},n[9]=T):T=n[9];var D;if(n[10]!==l||n[11]!==s||n[12]!==h){var x;n[14]!==l||n[15]!==h?(x=function(n){var t=(u||(u=o("I64"))).equal(l.ctaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED))&&l.ctaId!=null&&(u||(u=o("I64"))).equal(l.ctaId,n.ctaId);return d.createElement("li",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.cta_list_item,t?p.cta_list_item_center:!1),{key:(u||(u=o("I64"))).to_string(n.ctaId)}),d.jsx(r("MWV2ThreadNullstatePill.react"),{onClick:function(){return h(l,n)},children:n.title}))},n[14]=l,n[15]=h,n[16]=x):x=n[16],D=s.map(x),n[10]=l,n[11]=s,n[12]=h,n[13]=D}else D=n[13];var $;return n[17]!==I||n[18]!==D?($=d.jsx("ul",babelHelpers.extends({},T,{ref:I,children:D})),n[17]=I,n[18]=D,n[19]=$):$=n[19],$}function f(e){return e.ctaIdentifier}l.default=_}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(23),n=e.initiatingSource,a=e.lsSource,i=e.nullstate,l=e.nullstateCtas,d=e.threadKey,m=e.threadName,p=e.threadType,_=a===void 0?"unknown":a,f=u(r("MWPreloadedText")),g=i.privacyText,h;t[0]!==i||t[1]!==l?(h=s.jsx(r("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:i,nullstateCtas:l}),t[0]=i,t[1]=l,t[2]=h):h=t[2];var y;t[3]!==n||t[4]!==_||t[5]!==i||t[6]!==l||t[7]!==f.text||t[8]!==d||t[9]!==p?(y=f.text!=null?null:s.jsx(r("MWV2ThreadNullstateCTAs.react"),{initiatingSource:n,lsSource:_,nullstate:i,nullstateCtas:l,threadKey:d,threadType:p}),t[3]=n,t[4]=_,t[5]=i,t[6]=l,t[7]=f.text,t[8]=d,t[9]=p,t[10]=y):y=t[10];var C;t[11]!==i||t[12]!==g||t[13]!==d||t[14]!==m||t[15]!==p?(C=g!=null?s.jsx("div",{className:"xx6bls6 xmzvs34 xf159sx",children:s.jsx(r("MWThreadNullstatePrivacyText.react"),{nullstate:i,threadKey:d,threadTitle:s.jsx(r("LSThreadTitle.react"),{thread:{threadKey:d,threadName:m,threadType:p}})})}):null,t[11]=i,t[12]=g,t[13]=d,t[14]=m,t[15]=p,t[16]=C):C=t[16];var b;t[17]!==h||t[18]!==y||t[19]!==C?(b=s.jsxs("div",{children:[h,y,C]}),t[17]=h,t[18]=y,t[19]=C,t[20]=b):b=t[20];var v=b,S;return t[21]!==v?(S=s.jsx(r("MWXScrollableArea.react"),{xstyle:c.privacy_text_offset,children:v}),t[21]=v,t[22]=S):S=t[22],S}var m=s.memo(d,o("Int64Hooks").mostlyShallowEqual);l.default=m}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPageletWithDiv.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWContextBannerWithKeyboardFocus.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","ReQL","ReQLSuspense","cr:1600","cr:4723","cr:5483","cr:9056","logMessengerWebFalcoEvent","promiseDone","react","react-compiler-runtime","useCommunityFolder","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","usePageletMetadata","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=r("CometDebounce")(r("logMessengerWebFalcoEvent"));function p(t){var n=o("react-compiler-runtime").c(11),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t?(l=function(){return o("MWPreloadableQueries").threadNullStateQuery(a,t)},s=[a,t],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useFirst(l,s,i.id+":93"),c,d;n[4]!==a||n[5]!==t?(c=function(){return o("MWPreloadableQueries").threadNullStateCtaQuery(a,t)},d=[a,t],n[4]=a,n[5]=t,n[6]=c,n[7]=d):(c=n[6],d=n[7]);var m=o("ReQLSuspense").useArray(c,d,i.id+":100"),p;return n[8]!==u||n[9]!==m?(p=[u,m],n[8]=u,n[9]=m,n[10]=p):p=n[10],p}function _(t,n){var a=o("react-compiler-runtime").c(10),i=(e||(e=r("useReStore")))(),l;a[0]!==i.tables.messages||a[1]!==i.tables.reactions||a[2]!==i.tables.threads||a[3]!==n||a[4]!==t?(l=function(){r("promiseDone")((async function(){var e,r=await Promise.all([(e=o("ReQL")).firstAsync(e.fromTableDescending(i.tables.threads).getKeyRange(t)),e.firstAsync(e.fromTableDescending(i.tables.messages).getKeyRange(t)),e.toArrayAsync(e.fromTableDescending(i.tables.reactions).getKeyRange(t).take(20))]),a=r[0],l=r[1],u=r[2];if(!(l==null||a==null)){var c=u.reduce(f,(s||(s=o("I64"))).zero),d=s.max(l.timestampMs,c),p=s.compare(d,a.lastActivityTimestampMs)>-1;m({threadKey:a.threadKey,threadType:a.threadType},"thread_and_message_list_last_activity_mismatch",n,{hasMissingMessage:!p,threadLastActivityTimeMs:s.to_string(a.lastActivityTimestampMs),threadLastMessageTimeMs:s.to_string(d)})}})())},a[0]=i.tables.messages,a[1]=i.tables.reactions,a[2]=i.tables.threads,a[3]=n,a[4]=t,a[5]=l):l=a[5];var u;a[6]!==i||a[7]!==n||a[8]!==t?(u=[i,n,t],a[6]=i,a[7]=n,a[8]=t,a[9]=u):u=a[9],o("Int64Hooks").useEffectInt64(l,u)}function f(e,t){var n;return(s||(s=o("I64"))).max(e,(n=t.reactionCreationTimestampMs)!=null?n:(s||(s=o("I64"))).zero)}function g(t){var a,l=o("react-compiler-runtime").c(107),c=t.entryPoint,m=t.messageListRef,f=t.thread,g=(e||(e=r("useReStore")))(),y=p(f.threadKey),C=y[0],b=y[1],v;l[0]!==g.tables.cm_channel_list||l[1]!==f.threadKey?(v=function(){return o("ReQL").fromTableAscending(g.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(f.threadKey)},l[0]=g.tables.cm_channel_list,l[1]=f.threadKey,l[2]=v):v=l[2];var S;l[3]!==g||l[4]!==f.threadKey?(S=[g,f.threadKey],l[3]=g,l[4]=f.threadKey,l[5]=S):S=l[5];var R=o("ReQLSuspense").useFirst(v,S,i.id+":192"),L=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(g.tables.threads,["lastActivityTimestampMs"]).getKeyRange(f.threadKey).map(h)},[g,f.threadKey],i.id+":201"))!=null?a:!1,E=o("MWPActor.react").useActor(),k;l[6]!==E||l[7]!==g.tables.messages||l[8]!==f.threadKey?(k=function(){return o("ReQL").fromTableAscending(g.tables.messages,["senderId"]).getKeyRange(f.threadKey).filter(function(e){var t=e.senderId;return(s||(s=o("I64"))).equal(t,E)})},l[6]=E,l[7]=g.tables.messages,l[8]=f.threadKey,l[9]=k):k=l[9];var I;l[10]!==E||l[11]!==g||l[12]!==f.threadKey?(I=[g,f.threadKey,E],l[10]=E,l[11]=g,l[12]=f.threadKey,l[13]=I):I=l[13];var T=o("ReQLSuspense").useFirst(k,I,i.id+":215")!=null,D;l[14]!==f.threadType?(D=(s||(s=o("I64"))).to_string(f.threadType),l[14]=f.threadType,l[15]=D):D=l[15],r("usePageletMetadata")("threadType",D);var x;l[16]===Symbol.for("react.memo_cache_sentinel")?(x=o("MWPActor.react").isAPPlus(),l[16]=x):x=l[16];var $=x,P;l[17]!==f.threadType?(P=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f.threadType),l[17]=f.threadType,l[18]=P):P=l[18];var N=P,M=r("useLSMessagingInitiatingSource")(),w;l[19]!==f?(w=n("cr:9056")!=null?d.jsx(n("cr:9056"),{thread:f}):null,l[19]=f,l[20]=w):w=l[20];var A=w,F;l[21]!==f.threadType?(F=o("MWCMThreadTypes.react").isJoinedCMThread(f.threadType),l[21]=f.threadType,l[22]=F):F=l[22];var O=F,B;l[23]!==O||l[24]!==f?(B=o("LSThreadBitOffset").has(167,f)&&O,l[23]=O,l[24]=f,l[25]=B):B=l[25];var W=B,q;l[26]!==f?(q=o("LSThreadBitOffset").has(193,f),l[26]=f,l[27]=q):q=l[27];var U=q,V,H;l[28]!==g||l[29]!==W||l[30]!==f.threadKey?(V=function(){W&&r("promiseDone")(g.runInTransaction(function(e){return r("LSFetchAdditionalThreadDataStoredProcedure")(r("LSFactory")(e),{threadKey:f.threadKey})},"readwrite",void 0,void 0,i.id+":248"))},H=[g,f.threadKey,W],l[28]=g,l[29]=W,l[30]=f.threadKey,l[31]=V,l[32]=H):(V=l[31],H=l[32]),o("Int64Hooks").useEffectInt64(V,H);var G,z;l[33]!==M||l[34]!==b||l[35]!==f.threadKey||l[36]!==f.threadType?(G=function(){return d.jsxs(d.Fragment,{children:[d.jsx(r("MWPQuickReplies.react"),{threadKey:f.threadKey}),d.jsx(r("MWPersistentIcebreakers"),{initiatingSource:M,lsSource:"inboxInThread",nullstateCtas:b,threadKey:f.threadKey,threadType:f.threadType})]})},z=[f.threadKey,f.threadType,b,M],l[33]=M,l[34]=b,l[35]=f.threadKey,l[36]=f.threadType,l[37]=G,l[38]=z):(G=l[37],z=l[38]);var j=o("Int64Hooks").useCallbackInt64(G,z),K,Q;l[39]!==f.threadKey||l[40]!==f.threadType?(K=function(){return d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),d.jsx(r("MWContextBannerWithKeyboardFocus.react"),{threadKey:f.threadKey,threadType:f.threadType}),d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},Q=[f.threadKey,f.threadType],l[39]=f.threadKey,l[40]=f.threadType,l[41]=K,l[42]=Q):(K=l[41],Q=l[42]);var X=o("Int64Hooks").useCallbackInt64(K,Q);_(f.threadKey,c);var Y=r("useCommunityFolder")(f),J=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),Z=J!=null&&J==="ChatTab",ee;l[43]!==(R==null?void 0:R.channelPrivacy)?(ee=(R==null?void 0:R.channelPrivacy)!=null&&(s||(s=o("I64"))).equal(R==null?void 0:R.channelPrivacy,(u||(u=o("LSIntEnum"))).ofNumber(2)),l[43]=R==null?void 0:R.channelPrivacy,l[44]=ee):ee=l[44];var te=ee,ne;l[45]!==f.authorityLevel?(ne=(s||(s=o("I64"))).ge(f.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),l[45]=f.authorityLevel,l[46]=ne):ne=l[46];var re=ne,oe;l[47]!==Z||l[48]!==f?(oe=n("cr:4723")!=null&&!Z?d.jsx(n("cr:4723"),{thread:f}):null,l[47]=Z,l[48]=f,l[49]=oe):oe=l[49];var ae=oe,ie;l[50]!==U?(ie=r("MWChatXACSunsettingBanner.react")!=null&&U?d.jsx(r("MWChatXACSunsettingBanner.react"),{}):null,l[50]=U,l[51]=ie):ie=l[51];var le=ie,se;l[52]!==te||l[53]!==O||l[54]!==f.parentThreadKey?(se=n("cr:5483")!=null&&O&&!te?d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWOpenThreadDetail.CommunityMessagingNUXDialog",children:d.jsx(n("cr:5483"),{folderId:f.parentThreadKey})}):null,l[52]=te,l[53]=O,l[54]=f.parentThreadKey,l[55]=se):se=l[55];var ue=se,ce;l[56]!==(Y==null?void 0:Y.fbGroupId)||l[57]!==(Y==null?void 0:Y.folderId)||l[58]!==re||l[59]!==f.threadKey?(ce=re?d.jsx(r("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:Y==null?void 0:Y.folderId,fbGroupId:Y==null?void 0:Y.fbGroupId,threadId:f.threadKey}):null,l[56]=Y==null?void 0:Y.fbGroupId,l[57]=Y==null?void 0:Y.folderId,l[58]=re,l[59]=f.threadKey,l[60]=ce):ce=l[60];var de=ce,me=r("useMWReportThreadOpenOnMountAndFocusWithLogger")(f);if(C!=null&&!L){var pe;l[61]!==f?(pe=d.jsx(r("MWCMAutoJoinNotifNUX.react"),{thread:f}),l[61]=f,l[62]=pe):pe=l[62];var _e;l[63]!==f.threadKey||l[64]!==f.threadType?(_e=d.jsx(r("MWContextBanner.react"),{threadKey:f.threadKey,threadType:f.threadType}),l[63]=f.threadKey,l[64]=f.threadType,l[65]=_e):_e=l[65];var fe;l[66]===Symbol.for("react.memo_cache_sentinel")?(fe=d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l[66]=fe):fe=l[66];var ge;l[67]!==M||l[68]!==C||l[69]!==b||l[70]!==f.threadKey||l[71]!==f.threadName||l[72]!==f.threadType?(ge=d.jsx(r("MWV2ThreadNullstate.react"),{initiatingSource:M,lsSource:"inboxInThread",nullstate:C,nullstateCtas:b,threadKey:f.threadKey,threadName:f.threadName,threadType:f.threadType}),l[67]=M,l[68]=C,l[69]=b,l[70]=f.threadKey,l[71]=f.threadName,l[72]=f.threadType,l[73]=ge):ge=l[73];var he;return l[74]!==A||l[75]!==le||l[76]!==ue||l[77]!==ae||l[78]!==de||l[79]!==me||l[80]!==pe||l[81]!==_e||l[82]!==ge?(he=d.jsxs(d.Fragment,{children:[me,de,A,pe,ue,le,ae,_e,fe,ge]}),l[74]=A,l[75]=le,l[76]=ue,l[77]=ae,l[78]=de,l[79]=me,l[80]=pe,l[81]=_e,l[82]=ge,l[83]=he):he=l[83],he}var ye;l[84]!==f?(ye=d.jsx(r("MWCMAutoJoinNotifNUX.react"),{thread:f}),l[84]=f,l[85]=ye):ye=l[85];var Ce;l[86]===Symbol.for("react.memo_cache_sentinel")?(Ce=d.jsx(r("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),l[86]=Ce):Ce=l[86];var be;l[87]!==c||l[88]!==T||l[89]!==m||l[90]!==j||l[91]!==X||l[92]!==f?(be=d.jsx(r("MWMessageList"),{entryPoint:c,hasUserSentMessage:T,ref:m,renderFooter:j,renderHeader:X,thread:f}),l[87]=c,l[88]=T,l[89]=m,l[90]=j,l[91]=X,l[92]=f,l[93]=be):be=l[93];var ve;l[94]!==N||l[95]!==f?(ve=$&&N&&n("cr:1600")!=null?d.jsx(n("cr:1600"),{thread:f}):null,l[94]=N,l[95]=f,l[96]=ve):ve=l[96];var Se;return l[97]!==A||l[98]!==le||l[99]!==ue||l[100]!==ae||l[101]!==de||l[102]!==me||l[103]!==ye||l[104]!==be||l[105]!==ve?(Se=d.jsxs(d.Fragment,{children:[me,de,A,ye,le,ue,Ce,ae,be,ve]}),l[97]=A,l[98]=le,l[99]=ue,l[100]=ae,l[101]=de,l[102]=me,l[103]=ye,l[104]=be,l[105]=ve,l[106]=Se):Se=l[106],Se}function h(e){var t=e.lastActivityTimestampMs;return!(s||(s=o("I64"))).equal(t,s.zero)}function y(e){var t=o("react-compiler-runtime").c(5),n=e.entryPoint,r=e.messageListRef,a=e.thread,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==r||t[3]!==a?(l=d.jsx(o("CometPageletWithDiv.react").Div,{className:i,name:"MWOpenThreadDetail",children:d.jsx(g,{entryPoint:n,messageListRef:r,thread:a})}),t[1]=n,t[2]=r,t[3]=a,t[4]=l):l=t[4],l}l.default=y}),98);
__d("MWThreadLiveLocationSessionsContextProvider.react",["MWThreadLiveLocationSessionsSetterContext.react","MWThreadLiveLocationSessionsStateContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useCallback,m=u.useMemo,p=u.useState;function _(e){var t=o("react-compiler-runtime").c(10),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={},t[0]=r):r=t[0];var a=p(r),i=a[0],l=a[1],s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=function(t,n,r){l(function(e){var o=e[t];if(o==null||o.eventTimeStamp<r){var a;return babelHelpers.extends({},e,(a={},a[t]={encryptionKey:n,eventTimeStamp:r},a))}return e})},t[1]=s):s=t[1];var u=s,d,m;t[2]!==i?(m={sessions:i},t[2]=i,t[3]=m):m=t[3],d=m;var _=d,f,g;t[4]===Symbol.for("react.memo_cache_sentinel")?(g={addOrUpdateSession:u},t[4]=g):g=t[4],f=g;var h=f,y;t[5]!==n?(y=c.jsx(o("MWThreadLiveLocationSessionsSetterContext.react").MAWThreadLiveLocationSessionsSetterContext.Provider,{value:h,children:n}),t[5]=n,t[6]=y):y=t[6];var C;return t[7]!==_||t[8]!==y?(C=c.jsx(o("MWThreadLiveLocationSessionsStateContext.react").MAWThreadLiveLocationSessionsStateContext.Provider,{value:_,children:y}),t[7]=_,t[8]=y,t[9]=C):C=t[9],C}l.default=_}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MWThreadLiveLocationSessionsContextProvider.react","MessengerWebUXLogger","cr:9772","justknobx","promiseDone","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.memo,_=m.useEffect;function f(t){var a=o("react-compiler-runtime").c(30),i=t.entryPoint,l=t.mawSecureThreadQPContainerQueryRef,c=t.messageListRef,m=t.thread,p=(e||(e=r("useReStore")))(),f=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(m.threadKey),g;a[0]===Symbol.for("react.memo_cache_sentinel")?(g=babelHelpers.extends({eventName:"thread_view_impression"},r("justknobx")._("4581")?{extraData:{isIpad:navigator.userAgent.match(/iPad/)||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints!=null&&navigator.maxTouchPoints>2?"1":"0"}}:{}),a[0]=g):g=a[0];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g),y;a[1]!==i?(y=i?{entry_point:i}:void 0,a[1]=i,a[2]=y):y=a[2];var C;a[3]!==m.parentThreadKey?(C=(s||(s=o("I64"))).to_string(m.parentThreadKey),a[3]=m.parentThreadKey,a[4]=C):C=a[4];var b;a[5]!==m.threadKey?(b=(s||(s=o("I64"))).to_string(m.threadKey),a[5]=m.threadKey,a[6]=b):b=a[6];var v;a[7]!==y||a[8]!==C||a[9]!==b?(v={client_extras:y,community_id:C,event:"chat_preview_open",surface:"chat_preview",thread_id:b},a[7]=y,a[8]=C,a[9]=b,a[10]=v):v=a[10];var S=r("useGroupsCometChatsEngagementImpressionLogger")(v),R,L;a[11]!==p||a[12]!==f?(R=function(){f&&r("promiseDone")(o("MWLSDatabaseLazySync").sync(p,(u||(u=o("LSIntEnum"))).ofNumber(118)))},L=[p,f],a[11]=p,a[12]=f,a[13]=R,a[14]=L):(R=a[13],L=a[14]),_(R,L);var E;a[15]!==m.threadType?(E=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),a[15]=m.threadType,a[16]=E):E=a[16];var k=E,I=o("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(m.threadKey),T;a[17]===Symbol.for("react.memo_cache_sentinel")?(T={className:"x78zum5 xdt5ytf x1iyjqo2 xhc7eg"},a[17]=T):T=a[17];var D=I?S:h,x;a[18]!==i||a[19]!==k||a[20]!==l||a[21]!==c||a[22]!==m?(x=n("cr:9772")==null||!k?d.jsx(r("MWOpenThreadDetail.react"),{entryPoint:i,messageListRef:c,thread:m}):d.jsx(r("MWThreadLiveLocationSessionsContextProvider.react"),{children:d.jsx(n("cr:9772"),{entryPoint:i,mawSecureThreadQPContainerQueryRef:l,messageListRef:c,thread:m})}),a[18]=i,a[19]=k,a[20]=l,a[21]=c,a[22]=m,a[23]=x):x=a[23];var $;a[24]!==x||a[25]!==m.threadKey?($=d.jsx(o("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:d.jsx(o("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:m.threadKey,children:x})}),a[24]=x,a[25]=m.threadKey,a[26]=$):$=a[26];var P;return a[27]!==D||a[28]!==$?(P=d.jsx("div",babelHelpers.extends({},T,{ref:D,children:$})),a[27]=D,a[28]=$,a[29]=P):P=a[29],P}var g=p(f);l.default=g}),98);
__d("MWPThreadPreview.react",["CometHeroInteractionWithDiv.react","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSLocalCreateOptimisticGroupThreadStoredProcedure","LSMessagingThreadTypeUtil","LSVec","LSVerifyContactRowExistsStoredProcedure","LSVerifyThreadRowExistsStoredProcedure","MWChatInteraction","MWPActor.react","MWPThreadThemeProvider.react","MWThreadKey.react","MWXSpinner.react","Promise","ReQL","ReQLSuspense","cr:13308","cr:9777","gkx","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useEffect,f=p.useMemo,g={preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0}};function h(t){var a=o("react-compiler-runtime").c(8),l=(c||(c=r("useReStore")))(),u;a[0]!==l||a[1]!==t?(u=function(){r("promiseDone")(l.runInTransaction(function(a){return(e||(e=n("Promise"))).all(t.map(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(a),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,i.id+":91"))},a[0]=l,a[1]=t,a[2]=u):u=a[2];var d;a[3]!==t?(d=JSON.stringify(t.map(y)),a[3]=t,a[4]=d):d=a[4];var m;a[5]!==l||a[6]!==d?(m=[l,d],a[5]=l,a[6]=d,a[7]=m):m=a[7],_(u,m)}function y(e){return(u||(u=o("I64"))).to_string(e.id)}function C(e){var t=o("react-compiler-runtime").c(25),n=e.children,a=e.renderThreadPreview,i=e.renderThreadView,l=e.thread,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=o("MWChatInteraction").get("open_with_tokens"),t[0]=s):s=t[0];var c=s,d,p;if(t[1]!==l.threadKey||t[2]!==l.threadType?(d=function(){c!=null&&(r("InteractionTracingMetrics").addAnnotation(c,"thread_id",(u||(u=o("I64"))).to_string(l.threadKey)),r("InteractionTracingMetrics").addAnnotation(c,"thread_type",u.to_string(l.threadType)),r("InteractionTracingMetrics").addAnnotationBoolean(c,"is_secure",o("LSMessagingThreadTypeUtil").isArmadilloSecure(l.threadType)))},p=[c,l.threadKey,l.threadType],t[1]=l.threadKey,t[2]=l.threadType,t[3]=d,t[4]=p):(d=t[3],p=t[4]),_(d,p),a!=null){var f;return t[5]!==n||t[6]!==a||t[7]!==l?(f=a(l,n),t[5]=n,t[6]=a,t[7]=l,t[8]=f):f=t[8],f}var h=l.threadKey,y;t[9]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j"},t[9]=y):y=t[9];var C=l.themeFbid,b;t[10]!==i||t[11]!==l?(b=i(l),t[10]=i,t[11]=l,t[12]=b):b=t[12];var v;t[13]!==b||t[14]!==l.themeFbid?(v=m.jsx(r("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:c,pageletName:"ChatTab",xstyle:g.preview,children:m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:C,children:b})}),t[13]=b,t[14]=l.themeFbid,t[15]=v):v=t[15];var S;t[16]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x2lah0s x879a55"},t[16]=S):S=t[16];var R;t[17]!==n?(R=m.jsx("div",babelHelpers.extends({},S,{children:n})),t[17]=n,t[18]=R):R=t[18];var L;t[19]!==R||t[20]!==v?(L=m.jsxs("div",babelHelpers.extends({},y,{children:[v,R]})),t[19]=R,t[20]=v,t[21]=L):L=t[21];var E;return t[22]!==L||t[23]!==l.threadKey?(E=m.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:h,children:L}),t[22]=L,t[23]=l.threadKey,t[24]=E):E=t[24],E}function b(e){var t=o("react-compiler-runtime").c(22),n=e.children,a=e.recipientToken,l=e.renderThreadPreview,u=e.renderThreadView,d=e.setPreviewThread,p=(c||(c=r("useReStore")))(),f=a.threadType,g=a.id,y;t[0]!==a?(y=[a],t[0]=a,t[1]=y):y=t[1],h(y);var b,v;t[2]!==g||t[3]!==p||t[4]!==f?(b=function(){r("promiseDone")(p.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(s||(s=o("LSIntEnum"))).ofNumber(1),threadKey:g,threadType:f})},"readwrite",void 0,void 0,i.id+":188"))},v=[p,g,f],t[2]=g,t[3]=p,t[4]=f,t[5]=b,t[6]=v):(b=t[5],v=t[6]),o("Int64Hooks").useEffectInt64(b,v);var S;t[7]!==g||t[8]!==p.tables.threads?(S=function(){return o("ReQL").fromTableAscending(p.tables.threads).getKeyRange(g)},t[7]=g,t[8]=p.tables.threads,t[9]=S):S=t[9];var R;t[10]!==g||t[11]!==p?(R=[p,g],t[10]=g,t[11]=p,t[12]=R):R=t[12];var L=o("ReQLSuspense").useFirst(S,R,i.id+":199"),E,k;if(t[13]!==d||t[14]!==L?(E=function(){d(L)},k=[d,L],t[13]=d,t[14]=L,t[15]=E,t[16]=k):(E=t[15],k=t[16]),_(E,k),L!=null){var I;return t[17]!==n||t[18]!==l||t[19]!==u||t[20]!==L?(I=m.jsx(C,{renderThreadPreview:l,renderThreadView:u,thread:L,children:n}),t[17]=n,t[18]=l,t[19]=u,t[20]=L,t[21]=I):I=t[21],I}else return null}function v(e,t,n){var a=o("react-compiler-runtime").c(21),l=(c||(c=r("useReStore")))(),s=(u||(u=o("I64"))).to_string(o("MWPActor.react").useActor()),d;a[0]!==l.tables.participants||a[1]!==t?(d=function(){return o("ReQL").fromTableAscending(l.tables.participants).filter(function(e){return t.has((u||(u=o("I64"))).to_string(e.contactId))}).map(k)},a[0]=l.tables.participants,a[1]=t,a[2]=d):d=a[2];var m;a[3]!==l||a[4]!==t?(m=[l,t],a[3]=l,a[4]=t,a[5]=m):m=a[5];var p=o("ReQLSuspense").useArray(d,m,i.id+":235"),_;a[6]!==s||a[7]!==l.tables.participants||a[8]!==l.tables.threads||a[9]!==n||a[10]!==p||a[11]!==t||a[12]!==e.length?(_=function(){var r=new Set(p);return o("ReQL").fromTableAscending(l.tables.threads).filter(function(e){return(u||(u=o("I64"))).equal(e.threadType,n)}).filter(E).filter(function(e){var t=e.clientThreadKey;return t!=null?r.has((u||(u=o("I64"))).to_string(t)):!1}).filter(L).map(function(e){var t=e.clientThreadKey,n=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(l.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(t).map(R).filter(function(e){return e!==s}),i.id+":275");return{participantsWithoutActor:n,thread:e}}).filter(function(n){var r=n.participantsWithoutActor;return e.length===1&&r.length===0?!0:r.every(function(e){return t.has(e)})?r.length===t.size:!1}).map(S)},a[6]=s,a[7]=l.tables.participants,a[8]=l.tables.threads,a[9]=n,a[10]=p,a[11]=t,a[12]=e.length,a[13]=_):_=a[13];var f;return a[14]!==s||a[15]!==l||a[16]!==n||a[17]!==p||a[18]!==t||a[19]!==e.length?(f=[p,l,n,e.length,s,t],a[14]=s,a[15]=l,a[16]=n,a[17]=p,a[18]=t,a[19]=e.length,a[20]=f):f=a[20],o("ReQLSuspense").useFirst(_,f,i.id+":248")}function S(e){return e.thread}function R(e){return(u||(u=o("I64"))).to_string(e.contactId)}function L(e){var t=e.clientThreadKey;return t!=null}function E(e){return e.threadName==null}function k(e){return(u||(u=o("I64"))).to_string(e.threadKey)}function I(e,t,a,l,d,m){var p=o("react-compiler-runtime").c(9),_=d===void 0?null:d,f=m===void 0?null:m,g=(c||(c=r("useReStore")))(),h=e==null,y,C;p[0]!==l||p[1]!==g||p[2]!==h||p[3]!==_||p[4]!==f||p[5]!==t||p[6]!==a?(y=function(){if(h){if((u||(u=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(2))){r("promiseDone")(g.runInTransaction(function(e){return r("LSLocalCreateOptimisticGroupThreadStoredProcedure")(r("LSFactory")(e),{checkExistingThreads:l,participants:r("LSVec").ofArray(a.map(D)),threadMetadata:_!=null?_:void 0,threadName:f!=null?f:void 0}).then(T)},"readwrite",void 0,void 0,i.id+":334"));return}else if((u||(u=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(15))&&a.length===1&&n("cr:13308")!=null&&r("gkx")("17734")){r("promiseDone")(n("cr:13308").call(g,a[0].id,void 0,"MAWThreadPreview"));return}else if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(t)){if(n("cr:9777")==null)return;r("promiseDone")(g.runInTransaction(function(e){return n("cr:9777").call(e,a,t)},"readwrite",void 0,void 0,i.id+":375"));return}r("FBLogger")("messenger_web_creation").mustfix("Don't know how to create optimistic thread for thread of thread type %s",t!=null?(u||(u=o("I64"))).to_string(t):"")}},C=[l,g,h,a,_,t,f],p[0]=l,p[1]=g,p[2]=h,p[3]=_,p[4]=f,p[5]=t,p[6]=a,p[7]=y,p[8]=C):(y=p[7],C=p[8]),o("Int64Hooks").useEffectInt64(y,C)}function T(){}function D(e){return e.id}function x(e){var t=o("react-compiler-runtime").c(8),n=e.checkExistingThreads,r=e.children,a=e.renderThreadPreview,i=e.renderThreadView,l=e.setPreviewThread,s=e.threadMetadata,u=e.threadName,c=e.threadType,d=e.tokenContactIdsMaybeExcludingActor,p=e.tokens,f=e.tokensMaybeExcludingActor,g=s===void 0?null:s,y=u===void 0?null:u,b=v(f,d,c);h(f),I(b,c,p,n,g,y);var S;if(t[0]!==l||t[1]!==b?(S=function(){l(b)},t[0]=l,t[1]=b,t[2]=S):S=t[2],_(S,void 0),b!=null){var R;return t[3]!==r||t[4]!==a||t[5]!==i||t[6]!==b?(R=m.jsx(C,{renderThreadPreview:a,renderThreadView:i,thread:b,children:r}),t[3]=r,t[4]=a,t[5]=i,t[6]=b,t[7]=R):R=t[7],R}else return null}function $(e,t,n,a,l,d){var m=o("react-compiler-runtime").c(28),p=(c||(c=r("useReStore")))(),_=(u||(u=o("I64"))).to_string(o("MWPActor.react").useActor()),f;m[0]!==p.tables.participants||m[1]!==t?(f=function(){return o("ReQL").fromTableAscending(p.tables.participants).filter(function(e){return t.has((u||(u=o("I64"))).to_string(e.contactId))}).map(w)},m[0]=p.tables.participants,m[1]=t,m[2]=f):f=m[2];var g;m[3]!==p||m[4]!==t?(g=[p,t],m[3]=p,m[4]=t,m[5]=g):g=m[5];var h=o("ReQLSuspense").useArray(f,g,i.id+":462"),y=r("gkx")("24167")||r("gkx")("33038"),C;m[6]!==_||m[7]!==a||m[8]!==p.tables.participants||m[9]!==p.tables.threads||m[10]!==d||m[11]!==l||m[12]!==n||m[13]!==h||m[14]!==t||m[15]!==e.length?(C=function(){var c=new Set(h),m=function(){var t=e.length>1;if(t){if(d)return o("ReQL").fromTableAscending(p.tables.threads).filter(M);if(r("gkx")("5703"))return o("ReQL").fromTableDescending(p.tables.threads.index("lastActivityTimestampMs"))}return o("ReQL").fromTableAscending(p.tables.threads).filter(function(e){return(u||(u=o("I64"))).equal(e.threadType,n)})},f=m();return f.filter(function(e){return y&&l!=null?e.threadName===l:e.threadName==null}).filter(function(e){return a?!0:(u||(u=o("I64"))).equal(e.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))}).filter(function(e){return c.has((u||(u=o("I64"))).to_string(e.threadKey))}).map(function(e){var t=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(p.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(e.threadKey).map(N),i.id+":534");return{participantsWithActor:t,thread:e}}).filter(function(e){var n=e.participantsWithActor,r=n.filter(function(e){return e!==_});return r.length===0&&n.length===1?!0:n.length===r.length||r.length!==t.size?!1:r.every(function(e){return t.has(e)})}).map(P)},m[6]=_,m[7]=a,m[8]=p.tables.participants,m[9]=p.tables.threads,m[10]=d,m[11]=l,m[12]=n,m[13]=h,m[14]=t,m[15]=e.length,m[16]=C):C=m[16];var b;m[17]!==n?(b=JSON.stringify(n),m[17]=n,m[18]=b):b=m[18];var v;return m[19]!==_||m[20]!==a||m[21]!==p||m[22]!==b||m[23]!==l||m[24]!==h||m[25]!==t||m[26]!==e?(v=[h,p,b,a,e,t,_,l,y],m[19]=_,m[20]=a,m[21]=p,m[22]=b,m[23]=l,m[24]=h,m[25]=t,m[26]=e,m[27]=v):v=m[27],o("ReQLSuspense").useFirst(C,v,i.id+":478")}function P(e){return e.thread}function N(e){return(u||(u=o("I64"))).to_string(e.contactId)}function M(e){return(u||(u=o("I64"))).equal(e.threadType,(s||(s=o("LSIntEnum"))).ofNumber(16))}function w(e){return(u||(u=o("I64"))).to_string(e.threadKey)}function A(e){var t=o("react-compiler-runtime").c(23),n=e.checkExistingThreads,r=e.children,a=e.renderThreadPreview,i=e.renderThreadView,l=e.secureThreadToggleEnabled,s=e.setPreviewThread,u=e.threadMetadata,c=e.threadName,d=e.threadType,p=e.tokens,f=e.tokensMaybeExcludingActor,g=u===void 0?null:u,h=c===void 0?null:c,y,b;t[0]!==f?(b=new Set(f.map(F)),t[0]=f,t[1]=b):b=t[1],y=b;var v=y,S=$(f,v,d,n,h,l),R,L;if(t[2]!==s||t[3]!==S?(R=function(){S!=null&&s(S)},L=[s,S],t[2]=s,t[3]=S,t[4]=R,t[5]=L):(R=t[4],L=t[5]),_(R,L),S!=null){var E;return t[6]!==r||t[7]!==a||t[8]!==i||t[9]!==S?(E=m.jsx(C,{renderThreadPreview:a,renderThreadView:i,thread:S,children:r}),t[6]=r,t[7]=a,t[8]=i,t[9]=S,t[10]=E):E=t[10],E}else{var k;return t[11]!==n||t[12]!==r||t[13]!==a||t[14]!==i||t[15]!==s||t[16]!==g||t[17]!==h||t[18]!==d||t[19]!==v||t[20]!==p||t[21]!==f?(k=m.jsx(x,{checkExistingThreads:n,renderThreadPreview:a,renderThreadView:i,setPreviewThread:s,threadMetadata:g,threadName:h,threadType:d,tokenContactIdsMaybeExcludingActor:v,tokens:p,tokensMaybeExcludingActor:f,children:r}),t[11]=n,t[12]=r,t[13]=a,t[14]=i,t[15]=s,t[16]=g,t[17]=h,t[18]=d,t[19]=v,t[20]=p,t[21]=f,t[22]=k):k=t[22],k}}function F(e){return(u||(u=o("I64"))).to_string(e.id)}function O(e){var t=o("react-compiler-runtime").c(59),n=e.areWeCreatingASecureThread,a=e.checkExistingThreads,i=e.children,l=e.isCutoverInProgress,c=e.nullstate,d=e.renderThreadPreview,p=e.renderThreadView,f=e.secureThreadToggleEnabled,g=e.setPreviewThread,h=e.threadMetadata,y=e.threadName,C=e.tokens,v=a===void 0?!0:a,S=l===void 0?!1:l,R=c===void 0?null:c,L=f===void 0?!1:f,E=h===void 0?null:h,k=y===void 0?null:y,I=o("MWPActor.react").useActor(),T,D;if(t[0]!==I||t[1]!==C){var x;t[3]!==I?(x=function(t){return!(u||(u=o("I64"))).equal(t.id,I)},t[3]=I,t[4]=x):x=t[4],D=C.filter(x),t[0]=I,t[1]=C,t[2]=D}else D=t[2];T=D;var $=T,P;t[5]!==g||t[6]!==C.length?(P=function(){C.length===0&&g()},t[5]=g,t[6]=C.length,t[7]=P):P=t[7];var N;if(t[8]!==g||t[9]!==C?(N=[g,C],t[8]=g,t[9]=C,t[10]=N):N=t[10],_(P,N),S){var M;return t[11]===Symbol.for("react.memo_cache_sentinel")?(M=m.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:m.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24})}),t[11]=M):M=t[11],M}if(C.length===0)return R;var w=$.length;if(w!==1){if(w===0){if(n){var F;t[12]===Symbol.for("react.memo_cache_sentinel")?(F=(s||(s=o("LSIntEnum"))).ofNumber(15),t[12]=F):F=t[12];var O;return t[13]!==v||t[14]!==i||t[15]!==d||t[16]!==p||t[17]!==L||t[18]!==g||t[19]!==E||t[20]!==C?(O=m.jsx(A,{checkExistingThreads:v,renderThreadPreview:d,renderThreadView:p,secureThreadToggleEnabled:L,setPreviewThread:g,threadMetadata:E,threadType:F,tokens:C,tokensMaybeExcludingActor:C,children:i}),t[13]=v,t[14]=i,t[15]=d,t[16]=p,t[17]=L,t[18]=g,t[19]=E,t[20]=C,t[21]=O):O=t[21],O}var B;return t[22]!==i||t[23]!==d||t[24]!==p||t[25]!==g||t[26]!==C[0]?(B=m.jsx(b,{recipientToken:C[0],renderThreadPreview:d,renderThreadView:p,setPreviewThread:g,children:i}),t[22]=i,t[23]=d,t[24]=p,t[25]=g,t[26]=C[0],t[27]=B):B=t[27],B}}else{var W=$[0];if(v)if(n){var q;t[28]===Symbol.for("react.memo_cache_sentinel")?(q=(s||(s=o("LSIntEnum"))).ofNumber(15),t[28]=q):q=t[28];var U;return t[29]!==v||t[30]!==i||t[31]!==d||t[32]!==p||t[33]!==L||t[34]!==g||t[35]!==E||t[36]!==C||t[37]!==$?(U=m.jsx(A,{checkExistingThreads:v,renderThreadPreview:d,renderThreadView:p,secureThreadToggleEnabled:L,setPreviewThread:g,threadMetadata:E,threadType:q,tokens:C,tokensMaybeExcludingActor:$,children:i}),t[29]=v,t[30]=i,t[31]=d,t[32]=p,t[33]=L,t[34]=g,t[35]=E,t[36]=C,t[37]=$,t[38]=U):U=t[38],U}else{var V;return t[39]!==i||t[40]!==W||t[41]!==d||t[42]!==p||t[43]!==g?(V=m.jsx(b,{recipientToken:W,renderThreadPreview:d,renderThreadView:p,setPreviewThread:g,children:i}),t[39]=i,t[40]=W,t[41]=d,t[42]=p,t[43]=g,t[44]=V):V=t[44],V}}var H;t[45]!==n?(H=n?(s||(s=o("LSIntEnum"))).ofNumber(16):(s||(s=o("LSIntEnum"))).ofNumber(2),t[45]=n,t[46]=H):H=t[46];var G;return t[47]!==v||t[48]!==i||t[49]!==d||t[50]!==p||t[51]!==L||t[52]!==g||t[53]!==H||t[54]!==E||t[55]!==k||t[56]!==C||t[57]!==$?(G=m.jsx(A,{checkExistingThreads:v,renderThreadPreview:d,renderThreadView:p,secureThreadToggleEnabled:L,setPreviewThread:g,threadMetadata:E,threadName:k,threadType:H,tokens:C,tokensMaybeExcludingActor:$,children:i}),t[47]=v,t[48]=i,t[49]=d,t[50]=p,t[51]=L,t[52]=g,t[53]=H,t[54]=E,t[55]=k,t[56]=C,t[57]=$,t[58]=G):G=t[58],G}l.default=O}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("react-compiler-runtime").c(12),l;i[0]!==a?(l=a===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:a,i[0]=a,i[1]=l):l=i[1];var s=l,u=o("MWChatStateV2.react").useDispatch(),c=t==null?void 0:t.threadKey,d=t==null?void 0:t.clientThreadKey,m=t==null?void 0:t.threadType,p=t==null?void 0:t.authorityLevel,_,f;i[2]!==p||i[3]!==u||i[4]!==d||i[5]!==c||i[6]!==m||i[7]!==s.shouldClearOldHiddenTab||i[8]!==s.shouldUpdateThreadType||i[9]!==n.tabId?(_=function(){c!=null&&p!=null&&(e||(e=o("LSIntEnum"))).toNumber(p)>=r("LSAuthorityLevel").AUTHORITATIVE&&u(o("MWChatStateActions").updateThreadKeyDescriptor(n.tabId,c,d,s.shouldUpdateThreadType?m:void 0,{shouldClearOldHiddenTab:s.shouldClearOldHiddenTab}))},f=[n.tabId,c,d,u,p,m,s.shouldUpdateThreadType,s.shouldClearOldHiddenTab],i[2]=p,i[3]=u,i[4]=d,i[5]=c,i[6]=m,i[7]=s.shouldClearOldHiddenTab,i[8]=s.shouldUpdateThreadType,i[9]=n.tabId,i[10]=_,i[11]=f):(_=i[10],f=i[11]),o("Int64Hooks").useEffectInt64(_,f)}l.default=s}),98);
__d("MWOptimisticSecureThreadPreview.react",["CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","LSIntEnum","LSThreadAttributionStore","MWComposerGating.react","MWLSChatTabHeaderRoot.react","MWOpenAndSecureThreadView.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWV2TabContainer","ReQL","ReQLSuspense","cr:9410","react","react-compiler-runtime","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useMemo,f=m.useState;function g(t){var a,l=o("react-compiler-runtime").c(25),c=t.otherContactIdForOptimisticSecureThread,m=t.tab,_=(e||(e=r("useReStore")))(),g,y;l[0]!==_||l[1]!==c?(g=function(){return c==null?o("ReQL").empty():o("ReQL").fromTableAscending(_.tables.contacts,["blockedByViewerStatus","name","profilePictureUrl","id"]).getKeyRange(c)},y=[_,c],l[0]=_,l[1]=c,l[2]=g,l[3]=y):(g=l[2],y=l[3]);var C=o("ReQLSuspense").useFirst(g,y,i.id+":58"),b=f(),v=b[0],S=b[1],R;l[4]===Symbol.for("react.memo_cache_sentinel")?(R={shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1},l[4]=R):R=l[4],r("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(v,m,R);var L=v==null?void 0:v.threadKey,E,k;l[5]!==c||l[6]!==L?(E=function(){if(!(L==null||c==null)){var e=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(s||(s=o("I64"))).to_string(c));e.value!=="unknown"&&(e.type==="LSThreadAttribution"?o("LSThreadAttributionStore").setLSMessagingThreadAttribution((s||(s=o("I64"))).to_string(L),s.to_string(e.value)):o("LSThreadAttributionStore").setSource((s||(s=o("I64"))).to_string(L),e.value))}},k=[L,c],l[5]=c,l[6]=L,l[7]=E,l[8]=k):(E=l[7],k=l[8]),p(E,k);var I;l[9]===Symbol.for("react.memo_cache_sentinel")?(I=d.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:d.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})}),l[9]=I):I=l[9];var T=I,D;if(l[10]!==v){var x;D=v!=null&&d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.Composer",children:d.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:v.themeFbid,children:d.jsx(o("MWComposerGating.react").MWChatComposerGating,{isPreviewThread:!0,thread:v},(s||(s=o("I64"))).to_string((x=v.clientThreadKey)!=null?x:v.threadKey))})}),l[10]=v,l[11]=D}else D=l[11];var $=D,P,N;l[12]!==C?(N=C!=null?[{blockedByViewerStatus:C.blockedByViewerStatus,contextLine:"",displayName:C.name,id:C.id,profilePicUrl:C.profilePictureUrl,threadType:(u||(u=o("LSIntEnum"))).ofNumber(15),type_:(u||(u=o("LSIntEnum"))).ofNumber(1)}]:[],l[12]=C,l[13]=N):N=l[13],P=N;var M=P,w;l[14]!==M||l[15]!==$?(w=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.ThreadPreview",children:d.jsx(r("MWPThreadPreview.react"),{areWeCreatingASecureThread:!0,nullstate:T,renderThreadView:h,setPreviewThread:S,tokens:M,children:$})}),l[14]=M,l[15]=$,l[16]=w):w=l[16];var A=w,F=(a=v==null?void 0:v.threadKey)!=null?a:void 0,O;l[17]!==A||l[18]!==v||l[19]!==m?(O=n("cr:9410")!=null?d.jsx(n("cr:9410"),{children:function(t){return d.jsxs(d.Fragment,{children:[v&&d.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:m,threadKey:v.threadKey}),A]})}}):d.jsxs(d.Fragment,{children:[v&&d.jsx(r("MWLSChatTabHeaderRoot.react"),{tab:m,threadKey:v.threadKey}),A]}),l[17]=A,l[18]=v,l[19]=m,l[20]=O):O=l[20];var B;return l[21]!==F||l[22]!==O||l[23]!==m?(B=d.jsx(o("MWV2TabContainer").MWV2TabContainer,{tab:m,threadKey:F,children:O}),l[21]=F,l[22]=O,l[23]=m,l[24]=B):B=l[24],B}function h(e){return d.jsx(r("MWOpenAndSecureThreadView.react"),{thread:e})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),98);
__d("MWOnDemandCutoverThreadPreview.react",["Int64Hooks","MAWOnDemandCutoverTrigger","MWOptimisticSecureThreadPreview.react","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.otherContactIdForOnDemandCutoverThread,a=e.tab,i=r("useAsyncReStore")(),l,u;t[0]!==i||t[1]!==n?(l=function(){n!=null&&r("promiseDone")(i,function(e){o("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(e,n,"chatTab")})},u=[i,n],t[0]=i,t[1]=n,t[2]=l,t[3]=u):(l=t[2],u=t[3]),o("Int64Hooks").useEffectInt64(l,u);var c;return t[4]!==n||t[5]!==a?(c=s.jsx(r("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:n,tab:a}),t[4]=n,t[5]=a,t[6]=c):c=t[6],c}l.default=u}),98);
__d("MWPNewMessageAnnouncementHeader.react",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(2),n=e.message,r=e.outgoing,a=o("MWPForwardedContent").useTitle(n,r),i;return t[0]!==a?(i=s._(/*BTDS*/"{forward title}",[s._param("forward title",a)]),t[0]=a,t[1]=i):i=t[1],i}function p(e){var t,n,a=o("react-compiler-runtime").c(11),i=e.message,l=e.participant,p=e.sender,_=o("MWPActor.react").useActor(),f;a[0]!==_||a[1]!==p.id?(f=(u||(u=o("I64"))).equal(p.id,_),a[0]=_,a[1]=p.id,a[2]=f):f=a[2];var g=f,h=i.replySourceTypeV2!=null&&(u||(u=o("I64"))).equal(i.replySourceTypeV2,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)),y=(t=(n=l==null?void 0:l.nickname)!=null?n:p.firstName)!=null?t:p.name;if(h){var C;return a[3]!==g||a[4]!==i?(C=d.jsx(m,{message:i,outgoing:g}),a[3]=g,a[4]=i,a[5]=C):C=a[5],C}var b=i.replySnippet;if(b!=null){var v;return a[6]!==b?(v=s._(/*BTDS*/"{reply snippet}",[s._param("reply snippet",b)]),a[6]=b,a[7]=v):v=a[7],v}else if(g){var S;return a[8]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"You sent,"),a[8]=S):S=a[8],S}else{var R;return a[9]!==y?(R=s._(/*BTDS*/"{name of sender} sent,",[s._param("name of sender",y)]),a[9]=y,a[10]=R):R=a[10],R}}l.default=p}),226);
__d("useMWPAnnounceMessageForScreenReader",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","ServerTime","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef;function m(t,a){var i=o("react-compiler-runtime").c(12),l=(s||(s=r("useReStore")))(),c=o("MWPActor.react").useActor(),m;i[0]===Symbol.for("react.memo_cache_sentinel")?(m=o("ServerTime").getMillis(),i[0]=m):m=i[0];var p=d(m),_=a.threadKey,f;i[1]!==t||i[2]!==l.tables.contacts||i[3]!==l.tables.messages||i[4]!==l.tables.participants||i[5]!==_?(f=function(){return o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(_).subscribe(function(a,i){if(i.operation==="add"){var s=i.value;(u||(u=o("I64"))).to_float(s.timestampMs)>p.current&&(p.current=(u||(u=o("I64"))).to_float(s.timestampMs),r("promiseDone")((e||(e=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(s.senderId)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(s.threadKey,s.senderId))]),function(e){var n=e[0],r=e[1];if(n!=null)return t(s,n,r)}))}})},i[1]=t,i[2]=l.tables.contacts,i[3]=l.tables.messages,i[4]=l.tables.participants,i[5]=_,i[6]=f):f=i[6];var g;i[7]!==c||i[8]!==t||i[9]!==l||i[10]!==_?(g=[l,c,t,_],i[7]=c,i[8]=t,i[9]=l,i[10]=_,i[11]=g):g=i[11],o("Int64Hooks").useEffectInt64(f,g)}l.default=m}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","LSAuthorityLevel","LSIntEnum","MWPAttachmentDataContext","MWPNewMessageAnnouncementHeader.react","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","react","react-compiler-runtime","setTimeout","useMWPAnnounceMessageForScreenReader"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState;function g(e){var t=o("react-compiler-runtime").c(2),n=e.message,a=o("MWPAttachmentDataContext").useMWPGetAttachments(n),i;return t[0]!==a?(i=r("getMWPAttachmentMessageAnnouncement")(a),t[0]=a,t[1]=i):i=t[1],i}function h(e){var t=o("react-compiler-runtime").c(14),a=e.message,i=e.participant,l=e.sender,s=f(!1),u=s[0],c=s[1],m,p;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=r("setTimeout")(function(){return c(!0)},100);return function(){r("clearTimeout")(e)}},p=[],t[0]=m,t[1]=p):(m=t[0],p=t[1]),_(m,p),!u)return null;var h;t[2]!==a.text?(h=a.text!=null&&n("cr:2472")!=null?n("cr:2472").unvault(a.text):a.text,t[2]=a.text,t[3]=h):h=t[3];var y=h,C;t[4]!==a||t[5]!==i||t[6]!==l?(C=d.jsx(r("MWPNewMessageAnnouncementHeader.react"),{message:a,participant:i,sender:l}),t[4]=a,t[5]=i,t[6]=l,t[7]=C):C=t[7];var b=y!=null?y:null,v;t[8]!==a?(v=r("mwpMessageHasAttachment")(a)?d.jsx(g,{message:a}):null,t[8]=a,t[9]=v):v=t[9];var S;return t[10]!==C||t[11]!==b||t[12]!==v?(S=d.jsxs(r("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[C,b,v]}),t[10]=C,t[11]=b,t[12]=v,t[13]=S):S=t[13],S}function y(e){var t=o("react-compiler-runtime").c(1),n=e.thread,a=f(null),i=a[0],l=a[1],c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=function(t,n,a){if((s||(s=o("I64"))).equal(t.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return l(function(){return d.jsx(h,{message:t,participant:a,sender:n})})},t[0]=c):c=t[0];var m=c;return r("useMWPAnnounceMessageForScreenReader")(m,n),i}function C(e){var t=o("react-compiler-runtime").c(4),n;t[0]!==e?(n=babelHelpers.extends({},(c(e),e)),t[0]=e,t[1]=n):n=t[1];var a;return t[2]!==n?(a=d.jsx(r("CometErrorBoundary.react"),{fallback:void 0,children:d.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:d.jsx(y,babelHelpers.extends({},n))})}),t[2]=n,t[3]=a):a=t[3],a}l.default=C}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FBLogger","FDSButtonGroup.react","FDSContextualMessage.react","FDSFriendAddFilled16Icon","FDSSkittleIcon.react","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExistsStoredProcedure","MWCMThreadTypes.react","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","cr:4923","promiseDone","react","react-compiler-runtime","usePrevious","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useEffect,f=p.useState;function g(e){if(e.length===0){r("FBLogger")("messenger_web").mustfix("No member requests?");return}else if(e.length===1){var t;return s._(/*BTDS*/"{name} wants to join",[s._param("name",((t=e[0][1])==null?void 0:t.name)||"")])}else{var n,o=e.length-1;return s._(/*BTDS*/"_j{\"*\":\"{name} and {number} others want to join\",\"_1\":\"{name} and 1 other want to join\"}",[s._plural(o,"number"),s._param("name",((n=e[0][1])==null?void 0:n.name)||"")])}}function h(e){var t=o("react-compiler-runtime").c(25),a=e.memberRequests,i=e.setWasClosed,l=o("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),u=l.isOnMemberRequestsPageRef,c=l.pushMemberRequestsPage,d=l.setShouldNavToMemberRequests,p=l.setThreadInfoVisible,_=l.threadInfoVisible,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f={className:"xcrg951 x7m3og9 x1vjfegm"},t[0]=f):f=t[0];var h;t[1]!==a.length?(h=s._(/*BTDS*/"_j{\"*\":\"See requests\",\"_1\":\"See request\"}",[s._plural(a.length)]),t[1]=a.length,t[2]=h):h=t[2];var y;t[3]!==u||t[4]!==c||t[5]!==d||t[6]!==p||t[7]!==i||t[8]!==_?(y=function(){u.current!==!0&&(_===!0?c():(d(!0),p(!0))),i(!0)},t[3]=u,t[4]=c,t[5]=d,t[6]=p,t[7]=i,t[8]=_,t[9]=y):y=t[9];var C;t[10]!==h||t[11]!==y?(C=m.jsx(r("FDSButtonGroup.react"),{primary:{label:h,onPress:y,padding:"wide",type:"secondary"}}),t[10]=h,t[11]=y,t[12]=C):C=t[12];var b;t[13]!==a?(b=g(a),t[13]=a,t[14]=b):b=t[14];var v;t[15]!==a.length?(v=s._(/*BTDS*/"_j{\"*\":\"{number} member requests\",\"_1\":\"1 member request\"}",[s._plural(a.length,"number")]),t[15]=a.length,t[16]=v):v=t[16];var S;t[17]===Symbol.for("react.memo_cache_sentinel")?(S=m.jsx(r("FDSSkittleIcon.react"),{color:"gray",icon:n("cr:4923")!=null?n("cr:4923"):r("FDSFriendAddFilled16Icon"),size:36}),t[17]=S):S=t[17];var R;t[18]!==i?(R=function(){i(!0)},t[18]=i,t[19]=R):R=t[19];var L;return t[20]!==C||t[21]!==b||t[22]!==v||t[23]!==R?(L=m.jsx("div",babelHelpers.extends({},f,{children:m.jsx(r("FDSContextualMessage.react"),{addOnPrimary:C,body:b,headline:v,icon:S,level:4,onClose:R})})),t[20]=C,t[21]=b,t[22]=v,t[23]=R,t[24]=L):L=t[24],L}function y(t){var a=o("react-compiler-runtime").c(22),l=t.threadKey,s=f(!1),d=s[0],p=s[1],g=(c||(c=r("useReStore")))(),y;a[0]!==g.tables.contacts||a[1]!==g.tables.group_membership_approval_requests||a[2]!==l?(y=function(){return o("ReQL").fromTableAscending(g.tables.group_membership_approval_requests).getKeyRange(l).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(e.contactId),i.id+":173");return[e,t]})},a[0]=g.tables.contacts,a[1]=g.tables.group_membership_approval_requests,a[2]=l,a[3]=y):y=a[3];var b;a[4]!==g||a[5]!==l?(b=[g,l],a[4]=g,a[5]=l,a[6]=b):b=a[6];var v=o("ReQLSuspense").useArray(y,b,i.id+":168"),S=v.length,R=r("usePrevious")(S),L=o("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),E=L.isOnMemberRequestsPageRef,k;a[7]!==E.current||a[8]!==S||a[9]!==R?(k=function(){E.current!==!0&&R!==null&&S>R&&p(!1)},a[7]=E.current,a[8]=S,a[9]=R,a[10]=k):k=a[10];var I;a[11]!==E||a[12]!==S||a[13]!==R?(I=[S,R,p,E],a[11]=E,a[12]=S,a[13]=R,a[14]=I):I=a[14],_(k,I);var T,D;a[15]!==g||a[16]!==v?(T=function(){var t=v.map(C);r("promiseDone")(g.runInTransaction(function(a){return(e||(e=n("Promise"))).all(t.map(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(a),{authorityLevel:(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:u.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:u.ofNumber(r("LSContactIdType").FBID),contactType:u.ofNumber(r("LSContactType").USER),contactViewerRelationship:u.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:u.ofNumber(r("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:u.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,i.id+":205"))},D=[g,v],a[15]=g,a[16]=v,a[17]=T,a[18]=D):(T=a[17],D=a[18]),_(T,D);var x;return a[19]!==v||a[20]!==d?(x=!d&&v.length>0?m.jsx(h,{memberRequests:v,setWasClosed:p}):null,a[19]=v,a[20]=d,a[21]=x):x=a[21],x}function C(e){return e[0].contactId}function b(e){var t=o("react-compiler-runtime").c(8),n=e.thread,r;t[0]!==n.threadType?(r=o("LSMessagingThreadTypeUtil").isJoinedSocialChannel(n.threadType),t[0]=n.threadType,t[1]=r):r=t[1];var a=r,i;t[2]!==n?(i=o("LSThreadBitOffset").has(66,n)&&!o("MWCMThreadTypes.react").isStandardCMThread(n.threadType),t[2]=n,t[3]=i):i=t[3];var l=i,s;return t[4]!==a||t[5]!==l||t[6]!==n.threadKey?(s=l&&a?m.jsx(y,{threadKey:n.threadKey}):null,t[4]=a,t[5]=l,t[6]=n.threadKey,t[7]=s):s=t[7],s}function v(e){var t=o("react-compiler-runtime").c(2),n=e.thread,a;return t[0]!==n?(a=m.jsx(r("CometErrorBoundary.react"),{children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWPublicChatMemberRequestsBanner",children:m.jsx(b,{thread:n})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=v}),226);
__d("MWV2ChatTabThreadLinkHashContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(null);function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.threadLinkHash,a=r!=null?r:null,i;return t[0]!==n||t[1]!==a?(i=s.jsx(m.Provider,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function _(){return d(m)}l.MWV2ChatTabThreadLinkHashContextProvider=p,l.useGetChatTabThreadLinkHash=_}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.children;return t}var u=(e=n("cr:6234")==null?void 0:n("cr:6234").MWPAudioPlaybackContextProvider)!=null?e:s,c=u;l.default=c}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useC4GEngagementSurface"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),a=t.isSubthreadDisplayed,i=t.threadKey,l=t.threadType,s=a===void 0?!1:a,u=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),c=r("useC4GEngagementSurface")(),d,m;n[0]!==u||n[1]!==s||n[2]!==c||n[3]!==i||n[4]!==l?(d=function(){u&&(r("mwCMIsAnyCMThread")(l)||r("mwCMIsCMSubthread")(l)&&s)&&o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:r("mwCMIsCMSubthread")(l)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:c,thread_id:(e||(e=o("I64"))).to_string(i)})},m=[i,l,u,c,s],n[0]=u,n[1]=s,n[2]=c,n[3]=i,n[4]=l,n[5]=d,n[6]=m):(d=n[5],m=n[6]),o("Int64Hooks").useEffectInt64(d,m)}l.default=s}),98);
__d("useCometSubscribeMessengerIsOnDemandCutoverEligible",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(12),l=(e||(e=r("useReStore")))(),s,u;a[0]!==l||a[1]!==t||a[2]!==n?(s=function(){return t!=null&&n!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)?o("ReQL").fromTableAscending(l.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(t):o("ReQL").empty()},u=[l,t,n],a[0]=l,a[1]=t,a[2]=n,a[3]=s,a[4]=u):(s=a[3],u=a[4]);var c=o("ReQLSuspense").useFirst(s,u,i.id+":34"),d=o("MAWThreadCutover").useIsCutoverOpenThread(t);if(n==null||!o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)||d){var m;return a[5]===Symbol.for("react.memo_cache_sentinel")?(m=[!1,!0,null],a[5]=m):m=a[5],m}if(c==null){var p;return a[6]===Symbol.for("react.memo_cache_sentinel")?(p=[!1,!1,null],a[6]=p):p=a[6],p}var _;a[7]!==c?(_=c!=null&&o("LSContactBitOffset").has(76,c),a[7]=c,a[8]=_):_=a[8];var f=_,g;return a[9]!==f||a[10]!==c.id?(g=[f,!0,c.id],a[9]=f,a[10]=c.id,a[11]=g):g=a[11],g}l.default=s}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(9),n=o("MWChatStateContext").useChatState(d),r=o("MWChatStateV2.react").useDispatch(),a;t[0]!==r||t[1]!==e.tabId||t[2]!==e.tabType.threadKeyDescriptor||t[3]!==n?(a=function(){var t;if(((t=e.tabType.threadKeyDescriptor)==null?void 0:t.threadKey)!=null){var a=Array.from(n.values()).filter(function(t){var n,r,a=t.tabId,i=t.tabType;return((n=i.threadKeyDescriptor)==null?void 0:n.threadKey)==null||((r=e.tabType.threadKeyDescriptor)==null?void 0:r.threadKey)==null?!1:e.tabId>a&&(s||(s=o("I64"))).equal(i.threadKeyDescriptor.threadKey,e.tabType.threadKeyDescriptor.threadKey)});a.forEach(function(e){var t=e.closeWatermark,n=e.openWatermark,a=e.tabId;n>t&&r(o("MWChatStateActions").closeTab(Date.now(),a))})}},t[0]=r,t[1]=e.tabId,t[2]=e.tabType.threadKeyDescriptor,t[3]=n,t[4]=a):a=t[4];var i;t[5]!==r||t[6]!==e||t[7]!==n?(i=[r,e,n],t[5]=r,t[6]=e,t[7]=n,t[8]=i):i=t[8],u(a,i)}function d(e){return e.tabs}l.default=c}),98);
__d("MWV2ChatTab.react",["BaseHeadingContextWrapper.react","CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSContactUtils","LSFactory","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWThreadCutover","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabInThreadBanner.react","MWChatTabInThreadBannerLazyLoaded.react","MWChatTabLSDependencies","MWComposerGating.react","MWCreatorMessagingLoggingUtils","MWFullThreadProvider.react","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWLSChatTabHeaderRoot.react","MWOnDemandCutoverThreadPreview.react","MWOpenAndSecureThreadView.react","MWOptimisticSecureThreadPreview.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MetaConfig","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:10518","cr:1113","cr:21386","cr:9410","emptyFunction","promiseDone","react","react-compiler-runtime","useC4gEngagementImpressionLogging","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability","useCometSubscribeMessengerIsOnDemandCutoverEligible","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=c||(c=o("react")),p=c,_=p.memo,f=p.useCallback,g=p.useLayoutEffect,h=p.useRef;o("MWChatTabLSDependencies").init();var y=(e=n("cr:1113"))!=null?e:r("useEmptyFunction"),C=(s=n("cr:10518"))!=null?s:r("useEmptyFunction");function b(e){var t=e.children,n=e.themeFbid;return o("MWPThemeCSSProvider.react").useIsThemeV2()?m.jsx(r("CometTransientDialogProvider.react"),{children:m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:n,children:t})}):m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:n,children:m.jsx(r("CometTransientDialogProvider.react"),{children:t})})}function v(e){var t=o("react-compiler-runtime").c(90),a=e.isMinimized,i=e.mawSecureThreadQPContainerQueryRef,l=e.mwChatTabInThreadBannerQueryRef,s=e.otherContactIdForDefaultE2eeThread,u=e.otherContactIdForOnDemandCutover,c=e.shouldUseDefaultE2eeOneToOne,d=e.shouldUseOnDemandCutover,p=e.tab,_=e.thread,f=e.threadLinkHash,v=_.themeFbid,k=_.threadKey,I=_.threadType,T;t[0]!==_?(T={thread:_},t[0]=_,t[1]=T):T=t[1],y(T);var D;t[2]!==k||t[3]!==I?(D={threadKey:k,threadType:I},t[2]=k,t[3]=I,t[4]=D):D=t[4],r("useC4gEngagementImpressionLogging")(D),C(_);var x;t[5]!==I?(x=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(I),t[5]=I,t[6]=x):x=t[6];var $=x,P;t[7]!==_?(P=o("LSThreadBitOffset").has(167,_),t[7]=_,t[8]=P):P=t[8];var N=P,M=!o("LSThreadBitOffset").has(56,_),w;t[9]===Symbol.for("react.memo_cache_sentinel")?(w={getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:r("emptyFunction"),restoreScrollPosition:r("emptyFunction")},t[9]=w):w=t[9];var A=h(w),F=o("MWChatStateContext").useChatState(E);r("useMWCloseDuplicateChatTabs")(p);var O,B;t[10]!==F||t[11]!==p.tabId?(O=function(){if(F!==p.tabId){var e;(e=A.current)==null||e.restoreScrollPosition()}},B=[F,p.tabId],t[10]=F,t[11]=p.tabId,t[12]=O,t[13]=B):(O=t[12],B=t[13]),g(O,B);var W;t[14]!==$||t[15]!==_?(W=o("LSThreadBitOffset").has(106,_)&&$&&r("MetaConfig")._("105"),t[14]=$,t[15]=_,t[16]=W):W=t[16];var q=W,U;t[17]===Symbol.for("react.memo_cache_sentinel")?(U=function(){var e;(e=A.current)==null||e.jumpToMostRecentMessage()},t[17]=U):U=t[17];var V=U,H=o("MWCreatorMessagingLoggingUtils").useLogOnMessageSend(),G;t[18]!==H||t[19]!==_?(G=function(){H(_)},t[18]=H,t[19]=_,t[20]=G):G=t[20];var z=G,j=o("MWCreatorMessagingLoggingUtils").useLogOnThreadViewImpression(_.threadKey),K=o("LSContactUtils").useOtherUserReachabilityStatus(_),Q;t[21]!==K?(Q=o("LSContactUtils").getHasTextOnlyComposer(K),t[21]=K,t[22]=Q):Q=t[22];var X=Q,Y;t[23]!==F||t[24]!==p.tabId||t[25]!==_?(Y=p.tabId!==F?null:m.jsx(r("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:_}),t[23]=F,t[24]=p.tabId,t[25]=_,t[26]=Y):Y=t[26];var J;t[27]===Symbol.for("react.memo_cache_sentinel")?(J=m.jsx(r("MWChatConnectionStatusCard.react"),{}),t[27]=J):J=t[27];var Z;t[28]!==l||t[29]!==_?(Z=m.jsx(r("CometErrorBoundary.react"),{fallback:L,children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner.Root",children:l!=null?m.jsx(r("MWChatTabInThreadBanner.react"),{mwChatTabInThreadBannerQueryRef:l,thread:_}):m.jsx(r("MWChatTabInThreadBannerLazyLoaded.react"),{thread:_})})}),t[28]=l,t[29]=_,t[30]=Z):Z=t[30];var ee;t[31]!==q||t[32]!==_?(ee=q&&m.jsx(r("MWInboxPinnedMessagesBanner.react"),{thread:_}),t[31]=q,t[32]=_,t[33]=ee):ee=t[33];var te;t[34]!==a||t[35]!==i||t[36]!==_?(te=m.jsx(r("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:a,mawSecureThreadQPContainerQueryRef:i,messageListRef:A,thread:_}),t[34]=a,t[35]=i,t[36]=_,t[37]=te):te=t[37];var ne;t[38]!==z?(ne=function(t){return m.jsx(o("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:z,isMessengerInbox:!1,isPreviewThread:!1,thread:t})},t[38]=z,t[39]=ne):ne=t[39];var re;t[40]!==ne||t[41]!==k?(re=m.jsx(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:V,children:m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:m.jsx(r("MWFullThreadProvider.react"),{threadKey:k,children:ne})})}),t[40]=ne,t[41]=k,t[42]=re):re=t[42];var oe;t[43]!==re||t[44]!==f?(oe=m.jsx(r("MAWUnrecoverableErrorBoundary.react"),{fallback:R,children:m.jsx(r("CometErrorBoundary.react"),{fallback:S,children:m.jsx(o("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:f,children:re})})}),t[43]=re,t[44]=f,t[45]=oe):oe=t[45];var ae;t[46]!==X||t[47]!==M||t[48]!==te||t[49]!==oe||t[50]!==_?(ae=m.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:X,isMediaOnly:M,thread:_,children:[te,oe]}),t[46]=X,t[47]=M,t[48]=te,t[49]=oe,t[50]=_,t[51]=ae):ae=t[51];var ie;t[52]!==Y||t[53]!==Z||t[54]!==ee||t[55]!==ae?(ie=m.jsxs(m.Fragment,{children:[Y,J,Z,ee,ae]}),t[52]=Y,t[53]=Z,t[54]=ee,t[55]=ae,t[56]=ie):ie=t[56];var le=ie,se;t[57]!==le||t[58]!==N||t[59]!==p||t[60]!==_?(se=N?n("cr:21386")!=null?m.jsx(n("cr:21386").MWPConversationSearchContext,{children:m.jsx(r("MWCMSubThreadChatTabWithSubthread.react"),{tab:p,thread:_,children:le})}):m.jsx(r("MWCMSubThreadChatTabWithSubthread.react"),{tab:p,thread:_,children:le}):null,t[57]=le,t[58]=N,t[59]=p,t[60]=_,t[61]=se):se=t[61];var ue=se,ce;t[62]!==c||t[63]!==d||t[64]!==k?(ce=function(t){return c||d?m.jsx(m.Fragment,{children:t}):m.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:k,children:t})},t[62]=c,t[63]=d,t[64]=k,t[65]=ce):ce=t[65];var de=ce,me;t[66]!==le||t[67]!==j||t[68]!==p||t[69]!==k?(me=n("cr:9410")!=null?m.jsx(o("MWV2TabContainer").MWV2TabContainer,{domRef:j,tab:p,threadKey:k,children:m.jsx(n("cr:9410"),{children:function(t){return m.jsxs(m.Fragment,{children:[m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:m.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:p}),name:"MWChatTabHeader",children:m.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:p,threadKey:k})}),le]})}})}):m.jsxs(o("MWV2TabContainer").MWV2TabContainer,{domRef:j,tab:p,threadKey:k,children:[m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:m.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:p}),name:"MWChatTabHeader",children:m.jsx(r("MWLSChatTabHeaderRoot.react"),{tab:p,threadKey:k})}),le]}),t[66]=le,t[67]=j,t[68]=p,t[69]=k,t[70]=me):me=t[70];var pe=me,_e;t[71]!==pe||t[72]!==ue||t[73]!==s||t[74]!==u||t[75]!==c||t[76]!==d||t[77]!==p?(_e=ue!=null?ue:c&&r("MWOptimisticSecureThreadPreview.react")!=null?m.jsx(r("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:s,tab:p}):d?m.jsx(r("MWOnDemandCutoverThreadPreview.react"),{otherContactIdForOnDemandCutoverThread:u,tab:p}):pe,t[71]=pe,t[72]=ue,t[73]=s,t[74]=u,t[75]=c,t[76]=d,t[77]=p,t[78]=_e):_e=t[78];var fe=_e,ge;t[79]!==fe?(ge=m.jsx(o("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:m.jsx(o("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:m.jsx(r("BaseHeadingContextWrapper.react"),{children:fe})})}),t[79]=fe,t[80]=ge):ge=t[80];var he;t[81]!==ge||t[82]!==v?(he=m.jsx(r("XPlatWebAudioPlaybackContextProvider.react"),{children:m.jsx(o("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:m.jsx(b,{themeFbid:v,children:ge})})}),t[81]=ge,t[82]=v,t[83]=he):he=t[83];var ye;t[84]!==he||t[85]!==de?(ye=de(he),t[84]=he,t[85]=de,t[86]=ye):ye=t[86];var Ce;return t[87]!==ye||t[88]!==k?(Ce=m.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:k,children:ye}),t[87]=ye,t[88]=k,t[89]=Ce):Ce=t[89],Ce}function S(){return m.jsx(r("MWV2ErrorComposer.react"),{})}S.displayName=S.name+" [from "+i.id+"]";function R(e){return m.jsx(r("CometMessagingChatTabErrorState.react"),{error:e})}R.displayName=R.name+" [from "+i.id+"]";function L(){return null}function E(e){return e.focusedTabId}function k(e,t){var n=o("react-compiler-runtime").c(12),a=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e),l=(o("MAWThreadCutover").useIsCutoverOpenThread(e)||t!=null&&o("LSThreadBitOffset").has(128,t))&&!a,s;n[0]!==e?(s=(d||(d=o("I64"))).to_string(e),n[0]=e,n[1]=s):s=n[1];var c=o("MAWThreadCutover").useGetCutoverSecureThreadKey(s),m=(u||(u=r("useReStore")))(),p,_;n[2]!==c||n[3]!==m||n[4]!==l||n[5]!==e?(p=function(){if(l)if(c==null)r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(m,function(t){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(t),{waJid:e})},"readwrite"));else{var t=o("MWChatInteraction").get((d||(d=o("I64"))).to_string(e));if(t!=null){var n;o("MWChatInteraction").set(c,t),(n=r("InteractionTracingMetrics")).addMetadata(t,"thread_id",c),n.addMetadata(t,"thread_type","15"),n.addMetadata(t,"is_secure",!0),n.addMetadata(t,"redirectedFromPreCutover",1)}}},_=[c,m,l,e],n[2]=c,n[3]=m,n[4]=l,n[5]=e,n[6]=p,n[7]=_):(p=n[6],_=n[7]),o("Int64Hooks").useEffectInt64(p,_);var f,g;n[8]!==c||n[9]!==m?(f=function(){return c!=null?o("ReQL").fromTableAscending(m.tables.threads).getKeyRange((d||(d=o("I64"))).of_string(c)):o("ReQL").empty()},g=[m,c],n[8]=c,n[9]=m,n[10]=f,n[11]=g):(f=n[10],g=n[11]);var h=o("ReQLSuspense").useFirst(f,g,i.id+":457"),y=a?void 0:h;if(y!=null){var C=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(d||(d=o("I64"))).to_string(e));C.type==="MWLSEntrypoint"&&C.value!=="unknown"&&o("LSThreadAttributionStore").setSource((d||(d=o("I64"))).to_string(y.threadKey),C.value)}return y}function I(e){var t,n,a,l=o("react-compiler-runtime").c(34),s=e.isMinimized,c=e.mawSecureThreadQPContainerQueryRef,d=e.mwChatTabInThreadBannerQueryRef,p=e.tab,_=e.threadKeyDescriptor,f=s===void 0?!1:s,g=(u||(u=r("useReStore")))(),h=_.clientThreadKey,y=_.threadKey,C=_.threadLinkHash;o("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(y,_.threadType,h,"MWV2ChatTab");var b;l[0]!==g.tables.threads||l[1]!==y?(b=function(){return o("ReQL").fromTableAscending(g.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid","metadata"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(y)},l[0]=g.tables.threads,l[1]=y,l[2]=b):b=l[2];var S;l[3]!==g||l[4]!==y?(S=[g,y],l[3]=g,l[4]=y,l[5]=S):S=l[5];var R=o("ReQLSuspense").useFirst(b,S,i.id+":509"),L;l[6]!==h||l[7]!==g.tables.threads?(L=function(){return h!=null?o("ReQL").fromTableAscending(g.tables.threads.index("clientThreadKey")).getKeyRange(h):o("ReQL").empty()},l[6]=h,l[7]=g.tables.threads,l[8]=L):L=l[8];var E;l[9]!==h||l[10]!==g?(E=[g,h],l[9]=h,l[10]=g,l[11]=E):E=l[11];var I=o("ReQLSuspense").useFirst(L,E,i.id+":529"),T=k(y,R),D=(t=T!=null?T:R)!=null?t:I,x;l[12]===Symbol.for("react.memo_cache_sentinel")?(x={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},l[12]=x):x=l[12],r("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(D,p,x);var $=r("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")((n=D==null?void 0:D.threadKey)!=null?n:y,D==null?void 0:D.threadType),P=$[0],N=$[2],M=r("useCometSubscribeMessengerIsOnDemandCutoverEligible")((a=D==null?void 0:D.threadKey)!=null?a:y,D==null?void 0:D.threadType),w=M[0],A=M[2];if(D!=null){var F=f?"mwchat-tab-wrapper-minimized":void 0,O=f?"hidden":"visible",B;l[13]!==P||l[14]!==D?(B=D!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(D.threadType)&&P,l[13]=P,l[14]=D,l[15]=B):B=l[15];var W;l[16]!==w||l[17]!==D?(W=D!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(D.threadType)&&w,l[16]=w,l[17]=D,l[18]=W):W=l[18];var q;l[19]!==N||l[20]!==f||l[21]!==c||l[22]!==d||l[23]!==A||l[24]!==W||l[25]!==B||l[26]!==p||l[27]!==C||l[28]!==D?(q=m.jsx(v,{isMinimized:f,mawSecureThreadQPContainerQueryRef:c,mwChatTabInThreadBannerQueryRef:d,otherContactIdForDefaultE2eeThread:N,otherContactIdForOnDemandCutover:A,shouldUseDefaultE2eeOneToOne:B,shouldUseOnDemandCutover:W,tab:p,thread:D,threadLinkHash:C}),l[19]=N,l[20]=f,l[21]=c,l[22]=d,l[23]=A,l[24]=W,l[25]=B,l[26]=p,l[27]=C,l[28]=D,l[29]=q):q=l[29];var U;return l[30]!==q||l[31]!==F||l[32]!==O?(U=m.jsx(r("LegacyHidden"),{"data-testid":void 0,mode:O,children:q}),l[30]=q,l[31]=F,l[32]=O,l[33]=U):U=l[33],U}return null}var T=_(I);l.default=T}),98);
__d("MWV2ChatTabRoot.react",["MWV2ChatTab.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.props,a=e.queries,i=n.isMinimized,l=n.tab,u=n.threadKeyDescriptor,c=a.mawSecureThreadQPContainerQueryRef,d=a.mwChatTabInThreadBannerQueryRef,m;return t[0]!==i||t[1]!==c||t[2]!==d||t[3]!==l||t[4]!==u?(m=s.jsx(r("MWV2ChatTab.react"),{isMinimized:i,mawSecureThreadQPContainerQueryRef:c,mwChatTabInThreadBannerQueryRef:d,tab:l,threadKeyDescriptor:u}),t[0]=i,t[1]=c,t[2]=d,t[3]=l,t[4]=u,t[5]=m):m=t[5],m}l.default=u}),98);
__d("useMWInboxMessageSearchRestoreTrigger",["Int64Hooks","MAWFTSRestoreSyncDeferred","MAWFTSSyncConsts","MAWMiActOnActThreadReadyDeferred","MWLSThreadDisplayContext","Promise","promiseDone","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useRef;function c(t,a){var i=o("react-compiler-runtime").c(5),l=u(null),s=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c,d;i[0]!==t||i[1]!==s||i[2]!==a?(c=function(){var i=function(){r("promiseDone")(o("MAWFTSRestoreSyncDeferred").getInstance().then(function(e){e.setActiveThreadId(null),s==="ChatTab"&&r("qex")._("1028")===!0&&e.setShouldPauseRestore(!0)})),l.current!=null&&window.clearTimeout(l.current)};return s!=="Inbox"&&r("qex")._("1482")!==!0||(l.current!=null&&window.clearTimeout(l.current),l.current=window.setTimeout(function(){r("promiseDone")(o("MAWFTSRestoreSyncDeferred").getInstance().then(function(o){r("promiseDone")(r("MAWMiActOnActThreadReadyDeferred")(t,a,"useMWInboxMessageSearchRestoreTrigger",function(t,a){return o.setActiveThreadId(a,!1),r("promiseDone")(o.startSyncingLoop()),(e||(e=n("Promise"))).resolve()}))}))},o("MAWFTSSyncConsts").THREAD_VIEW_DELAY_UNTIL_RESTORE)),i},d=[t,s,a],i[0]=t,i[1]=s,i[2]=a,i[3]=c,i[4]=d):(c=i[3],d=i[4]),o("Int64Hooks").useEffectInt64(c,d)}l.default=c}),98);