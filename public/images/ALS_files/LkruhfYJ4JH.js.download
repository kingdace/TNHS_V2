;/*FB_PKG_DELIM*/

__d("BizInboxStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(Object.freeze({})),c=u;l.default=c}),98);
__d("BizKitBIOOrderDetailActionsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9787800071305333"}),null);
__d("BizKitBIOOrderDetailActionsQuery$Parameters",["BizKitBIOOrderDetailActionsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("BizKitBIOOrderDetailActionsQuery_facebookRelayOperation"),metadata:{},name:"BizKitBIOOrderDetailActionsQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("BusinessDefinedFormOpenImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3926"),s=o("FalcoLoggerInternal").create("business_defined_form_open_impression",e),u=s;l.default=u}),98);
__d("MWChatComposer3PBotCommandViewItem.react",["CometSearchMentionsBaseViewItem.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(10),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.label,c=l.rawData,d=c.subtitle,m;n[3]!==s||n[4]!==d?(m=u.jsx(r("MWXTextPairing.react"),{headline:s,level:4,meta:d,metaLineLimit:1,reduceEmphasis:!0}),n[3]=s,n[4]=d,n[5]=m):m=n[5];var p;return n[6]!==a||n[7]!==i||n[8]!==m?(p=u.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,children:m})),n[6]=a,n[7]=i,n[8]=m,n[9]=p):p=n[9],p}l.default=c}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r,o=t.commandId,a=t.commandPrefix,i=t.handle,l=t.rangeType;return r=e.call(this,""+(a!=null?a:"")+i,n)||this,r.__handle=i,r.__commandId=o,r.__rangeType=l,r.__commandPrefix=a,r}babelHelpers.inheritsLoose(t,e),t.getType=function(){return"command"},t.clone=function(n){var e,r=n.getEntity();return new t({commandId:r.commandId,commandPrefix:(e=n.__commandPrefix)!=null?e:"",handle:r.handle,rangeType:r.rangeType},n.__key)},t.importJSON=function(t){return s({commandId:t.commandId,handle:t.handle,rangeType:t.rangeType})};var n=t.prototype;return n.exportJSON=function(){return babelHelpers.extends({},e.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})},n.createDOM=function(n){var t=e.prototype.createDOM.call(this,n);return t.className="xv78j7m xt0e3qv x3jgonx",t.spellcheck=!1,t},n.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}},n.getRangeType=function(){return this.__rangeType},n.getCommandId=function(){return this.__commandId},t})(o("Lexical").TextNode);function s(t){return new e(t).setMode("segmented").toggleDirectionless()}l.MessengerLexicalCommandNode=e,l.$createMessengerLexicalCommandNode=s}),98);
__d("createCommandsHandleMatchStrategy",[],(function(t,n,r,o,a,i){"use strict";var e="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\[\\]\\\\/!%'\"~=<>_:;",l="\\b[\\w][^\\s"+e+"]",s="(^|\\s|\\/)((?:"+l+"{1,})$)",u=new RegExp(s);function c(e){var t=e.minMatchLength;return{findMentionableString:function(n){var e=u.exec(n);if(e===null)return null;var r=e[1],o=e[2];if(o!=null&&o.length>=t){var a=o;return r!=null&&r.startsWith("/")&&(a=""+r+o),{leadOffset:e.index+r.length,matchingString:o,replaceableString:a}}return null},name:"CommandsHandleMatchStrategy"}}i.default=c}),66);
__d("useMW3PBotsCommandsDataSourceResolverConfig",["I64","Promise","ReQL","ReQLSuspense","createCometMentionMatchStrategy","createCommandsHandleMatchStrategy","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(10),a=(u||(u=r("useReStore")))(),l;t[0]!==a.tables.custom_thread_commands||t[1]!==e?(l=function(){return o("ReQL").fromTableAscending(a.tables.custom_thread_commands.index("rank")).getKeyRange(e).filter(m).map(d)},t[0]=a.tables.custom_thread_commands,t[1]=e,t[2]=l):l=t[2];var c;t[3]!==a||t[4]!==e?(c=[a,e],t[3]=a,t[4]=e,t[5]=c):c=t[5];var p=o("ReQLSuspense").useArray(l,c,i.id+":33"),_;t[6]!==p?(_=function(t){return{entries:t.query.length?p.filter(function(e){return e.label.toLowerCase().startsWith(t.query.toLowerCase())}):p,params:t}},t[6]=p,t[7]=_):_=t[7];var f=_,g;return t[8]!==f?(g={bootstrap:function(){},fetchCache:f,fetchNetwork:function(t){return(s||(s=n("Promise"))).resolve(f(t))}},t[8]=f,t[9]=g):g=t[9],g}function d(t){var n=t.commandDescription,r=t.commandId,a=t.commandText;return{key:(e||(e=o("I64"))).to_string(r),label:a,rawData:{rangeType:"cu",subtitle:n},type:"entry"}}function m(e){return!e.isOpenPersistentMenu}function p(e){var t=o("react-compiler-runtime").c(9),n=c(e),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("createCommandsHandleMatchStrategy")({minMatchLength:4}),t[0]=a):a=t[0];var i;t[1]!==n?(i={dataSource:n,matchStrategy:a},t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=r("createCometMentionMatchStrategy")({minMatchLength:0,name:"CometMentionsNameMatchStrategy",triggers:"/"}),t[3]=l):l=t[3];var s;t[4]!==n?(s={dataSource:n,matchStrategy:l},t[4]=n,t[5]=s):s=t[5];var u;t[6]!==i||t[7]!==s?(u=[i,s],t[6]=i,t[7]=s,t[8]=u):u=t[8];var d=u;return r("useCometMentionsDataSourceResolverConfig")(d,!1)}l.default=p}),98);
__d("MW3PBotsCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposer3PBotCommandViewItem.react","MWCommandsComposerPluginTextNode","MWThreadKey.react","cometBaseMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometTypeaheadViewListStrategy","useMW3PBotsCommandsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.editor,a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),i=r("useMW3PBotsCommandsDataSourceResolverConfig")(a),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={viewItemStrategyRenderer:r("MWChatComposer3PBotCommandViewItem.react")},t[0]=l):l=t[0];var u=r("useCometTypeaheadViewListStrategy")(l),d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=r("cometBaseMentionsLexicalCreateNodeStrategy")(c),t[1]=d):d=t[1];var m;return t[2]!==i||t[3]!==n||t[4]!==u?(m=s.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:d,dataSourceResolverConfig:i,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:u}),t[2]=i,t[3]=n,t[4]=u,t[5]=m):m=t[5],m}function c(e){var t,n;return o("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:e.key,handle:e.label,rangeType:(t=(n=e.rawData)==null?void 0:n.rangeType)!=null?t:"n"})}l.default=u}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LSMessagingThreadTypeUtil","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","MW3PBotsCommandsComposerPlugin.react","cr:11486","cr:2559","react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_=r("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),f=(e=n("cr:2559").RichTextPlugin)!=null?e:n("cr:2559").PlainTextPlugin,g={editor:{flexGrow:"x1iyjqo2",maxHeight:"x19gmnou",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},h=s._(/*BTDS*/"Message").toString();function y(e){var t=e.ariaDescribedBy,a=e.ariaLabel,i=e.contentEditableRef,l=e.editor,s=e.endContent,u=e.handlePastedFiles,d=e.isSecureThread,y=e.mentionsPlugin,C=e.placeholderText,b=C===void 0?"Aa":C,v=e.policyProduct,S=e.startContent,R=e.surface,L=e.testId,E=e.threadSubtype,k=e.threadType,I=e.topContent,T=m(function(e){var t=e!=null?e:null;i.current=t},[i]),D=o("LexicalComposerContext").createLexicalComposerContext(),x=p(function(){return[l,D]},[l,D]),$=c.jsx(r("CometLexicalContentEditable.react"),{"aria-placeholder":b,ariaDescribedBy:t,ariaLabel:a!=null?a:h,contentEditableRef:T,placeholder:c.jsx(r("CometLexicalPlaceholder.react"),{children:b}),spellCheck:!0,tabIndex:0,webDriverTestID:L,xstyle:g.editor}),P=!(o("LSMessagingThreadTypeUtil").isPageToUserThread(E)&&r("MW3PBotsCommandsComposerPlugin.react"))&&!o("LSMessagingThreadTypeUtil").isAiBot(k)&&!d,N=r("useDeferredModuleOnReady")(_);return c.jsxs("div",{className:"x16sw7j7 x12ol6y4 x180vkcf x1khw62d x709u02 x9f619 xlai7qp x1iyjqo2 xeuugli",children:[I,c.jsxs("div",{className:"x78zum5 x13a6bvl",children:[S,c.jsx("div",{className:"x78zum5 x1iyjqo2 x1xmf6yo x1e56ztr xbmvrgn x1diwwjn xeuugli x1n2onr6",children:c.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:x,children:[c.jsx(r("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:v,surface:R}),f!=null&&c.jsx(f,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:$}),c.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{})]})}),s]}),y,P&&n("cr:11486")!=null&&c.jsx(n("cr:11486"),{editor:l}),o("LSMessagingThreadTypeUtil").isPageToUserThread(E)&&r("MW3PBotsCommandsComposerPlugin.react")&&c.jsx(r("MW3PBotsCommandsComposerPlugin.react"),{editor:l}),N==null?null:c.jsx(N,{editor:l,handlePastedFiles:u})]})}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),226);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1746398"),s=o("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",e),u=s;l.default=u}),98);
__d("CustomerInformationTemplateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5813"),s=o("FalcoLoggerInternal").create("customer_information_template",e),u=s;l.default=u}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});i.default=e}),66);
__d("FBIconLikeFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M462 1080.384c0-.575-.193-.74-.403-.905.116-.191.226-.466.226-.817 0-.717-.555-1.162-1.449-1.162h-2.437c.067-.376.147-1.401.147-1.766 0-.756-.18-1.697-.873-2.069a1.224 1.224 0 0 0-.637-.165c-.399 0-.663.164-.757.267a.312.312 0 0 0-.082.236l.058 1.567a.625.625 0 0 1-.071.348l-1.207 2.693a.195.195 0 0 1-.083.075l-.008.003-.007.004-.178.097a.454.454 0 0 0-.239.4v4.286c0 .132.06.257.16.344.052.045.727.68 1.393.68h3.93c.609 0 1.012-.206 1.231-.61.2-.37.168-.725.089-.983.332-.105.645-.355.738-.818.06-.299-.01-.548-.106-.733.291-.16.565-.396.565-.972m-9.553-2.384h-1.893a.554.554 0 0 0-.554.553v5.894c0 .306.248.553.553.553h1.893a.554.554 0 0 0 .554-.553v-5.894a.553.553 0 0 0-.553-.553"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBP2MECPCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("FBP2MECPCheckoutDialog.react").__setRef("FBP2MECPCheckoutDialog.entrypoint")};l.default=e}),98);
__d("FDSAppThreadsFilled16Icon",["cr:14370"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14370")}),98);
__d("FDSBadgeCheckmarkFilled12Icon",["cr:14485"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14485")}),98);
__d("GetPreviewDimension",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){return new(e||(e=n("Promise")))(function(e){var n=new Image;n.onload=function(){return e({previewHeight:n.height,previewWidth:n.width})},n.onerror=function(){return e()},n.src=t})}function s(t){return new(e||(e=n("Promise")))(function(e){var n=document.createElement("video");n.onloadedmetadata=function(){return e({previewHeight:n.videoHeight,previewWidth:n.videoWidth})},n.onerror=function(){return e()},n.src=t})}i.getPreviewDimensions=l,i.getVideoPreviewDimensions=s}),66);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29450402841273535"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:t},params:{id:n("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24128449330161547"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometUFICommentAvatarStickerAnimatedImage.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","FBReels_enable_meta_ai_label_gk.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:n("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:n("CometUFICommentAvatarStickerAnimatedImage.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:n("IsWorkUser.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:n("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:n("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:n("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:n("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:n("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider:n("FBReels_enable_meta_ai_label_gk.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:n("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider")}}};a.exports=e}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.authorID,n=t.groupID,a=t.postID,i=t.scale;return{queries:{queryReference:{parameters:r("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:e,feedLocation:"GROUP_PENDING",focusCommentID:null,groupID:n,postID:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:i||o("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:r("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")},s=e;l.default=s}),98);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="31945159775131666"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID,n=t.profileID,a=t.scale;return{queries:{queryReference:{parameters:r("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:e,profileID:n,scale:a||o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")},s=e;l.default=s}),98);
__d("HorizonWorldsUpdateSubscriptionManagementUserActionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUBSCRIBE:0,UNSUBSCRIBE:1});i.default=e}),66);
__d("IIGDAPI",["MAWBridge"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridge").getBridge().sendAndReceive("backend","igdapi",{args:n,type:e})}}l.makeBridgedApi=e}),98);
__d("IGDBridgedAPI",["IIGDAPI"],(function(t,n,r,o,a,i,l){"use strict";var e,s={33:(e=o("IIGDAPI")).makeBridgedApi("33"),46:e.makeBridgedApi("46"),sendEditMessage:e.makeBridgedApi("sendEditMessage"),sendMediaMessage:e.makeBridgedApi("sendMediaMessage"),sendOrRemoveReaction:e.makeBridgedApi("sendOrRemoveReaction"),sendXmaReceiverFetch:e.makeBridgedApi("sendXmaReceiverFetch")},u=s;l.default=u}),98);
__d("IGDChatTabsStateContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null),d=s.createContext(r("emptyFunction"));function m(){return u(c)}function p(){return u(d)}function _(){var e=m();return e==null?void 0:e.activeView}l.IGDChatTabsStateContext=c,l.IGDChatTabsDispatchContext=d,l.useIGDChatTabsState=m,l.useIGDChatTabsDispatch=p,l.useCurrentChatTabsView=_}),98);
__d("IGDChatTabsStateTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({ChatTabsThreadListView:"chat_tabs_thread_list_view",ChatTabsThreadView:"chat_tabs_thread_view",ChatTabsOmnipickerView:"chat_tabs_omnipicker_view"}),l=n("$InternalEnum")({NotificationWithJewel:"notification_with_jewel",NotificationWithTabOpen:"notification_with_tab_open",ChatTabsThreadListItem:"chat_tabs_thread_list_item",ChatTabsOmnipicker:"chat_tabs_omnipicker",ChatTabsPOG:"chat_tabs_pog",Profile:"profile",UserHoverCard:"user_hover_card",DirectInbox:"direct_inbox",Unknown:"unknown",QuickShare:"quick_share"});i.IGDChatTabsView=e,i.IGDChatTabsMessagingInitiationSource=l}),66);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://help.instagram.com/491565145294150/",u=s._(/*BTDS*/"Disappearing messages and calls are secured with end-to-end encryption.");l.LEARN_MORE_LINK=e,l.DM_SECURITY_NOTICE=u}),226);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","isInstamadillo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t?u(e,t):n()}async function u(t,n){if(!r("isInstamadillo")())return{openEb:!1,pluginType:void 0};var a=await t.messages.index("messageId").get(n.messageId);if(!o("IGDInstamadilloUtils").isInstamadilloMessage(a))return{openEb:!1,pluginType:void 0};var i=await t.e2ee_igMessageAuxiliaryInfo.get(n.messageId),l=!!(i!=null&&i.openEb);return{openEb:l,pluginType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO)}}l.IGDGetMessagePluginInfo=s}),98);
__d("IGDThreadListNewMessageLoggingDataContext",["react","react-compiler-runtime","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c("");function _(e){var t=o("react-compiler-runtime").c(4),n=e.children,a=d(p),i;e:{if(a){i=a;break e}var l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("uuidv4")(),t[0]=l):l=t[0],i=l}var u=i,c;return t[1]!==n||t[2]!==u?(c=s.jsx(p.Provider,{value:u,children:n}),t[1]=n,t[2]=u,t[3]=c):c=t[3],c}function f(){var e=o("react-compiler-runtime").c(1),t=d(p);if(t)return t;var n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=r("uuidv4")(),e[0]=n):n=e[0],n}l.IGDThreadListNewMessageLoggingContextProvider=_,l.useFlowInstanceIdContext=f}),98);
__d("LSCTAIconType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8,META_HORIZON:9});i.default=e}),66);
__d("LSCommunityInviteStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADDED_BUT_UNCONFIRMED:5,IN_COMMUNITY:0,INVITED:1,REQUEST_PENDING:2,UNENGAGED_MEMBER:4,UNREQUESTED:3});i.default=e}),66);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(o){return r[1]=new t.Map,r[1].set("game_id",e[1]),r[1].set("muted_user_id",e[0]),r[1].set("owner_id",r[0]),r[1].set("user_action_type",e[2]),r[2]=t.toJSON(r[1]),t.storedProcedure(n("LSIssueNewTask"),"instant_game_custom_update_mute_management",t.i64.cast([0,759]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxCustomUpdateMuteManagementStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCustomUpdateMuteManagement"),a.mutedUserId,a.gameId,a.userActionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_id",e[0]),r[0].set("message_id",e[1]),r[1]=r[0].get("thread_id"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),["cm_message_seen_count",t.i64.to_string(r[1])].join(""),t.i64.cast([0,540]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxFetchMessageSeenCountStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchMessageSeenCount"),a.threadKey,a.messageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.filter(t.db.table(243).fetch([[[e[0],e[1]]]]),function(n){return t.i64.eq(e[0],n.threadId)&&e[1]===n.messageId&&t.i64.eq(e[2],n.reactionFbid)}).next().then(function(n,r){var o=n.done,a=n.value;return o?t.db.table(243).add({threadId:e[0],messageId:e[1],reactionFbid:t.i64.cast([0,0]),minTimestampMs:t.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:t.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(r=a.item,t.forEach(t.db.table(243).fetch([[[r.threadId,r.messageId,r.reactionFbid,r.minTimestampMs]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!0})}))})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[1]=r[5])})},function(o){return r[3]=new t.Map,r[3].set("thread_id",e[0]),r[3].set("message_id",e[1]),r[3].set("reaction_fbid",e[2]),r[3].set("cursor",e[3]),r[3].set("sync_group",r[1]),r[4]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",t.i64.cast([0,577]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure",e.__tables__=["reactions_v2_details_ranges_v2__generated","threads"],a.exports=e}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueReactionsV2DetailsUsersListFetch"),a.threadId,a.messageId,a.reactionFbid,a.nextPageCursor);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMailboxAIBotFeedbackSubmissionStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,SUBMITTED:1});i.default=e}),66);
__d("LSSetClientCTAType",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(19).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({type_:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxSetClientCTATypeStoredProcedure",e.__tables__=["attachment_ctas"],a.exports=e}),null);
__d("LSMarkAsX",["LSIssueNewTask","LSSetClientCTAType"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSSetClientCTAType"),e[0],"xma_disabled_cta")},function(o){return r[0]=new t.Map,r[0].set("cta_id",e[0]),r[0].set("order_id",e[1]),r[0].set("cta_type",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"p2m_mark_as_x",t.i64.cast([0,808]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkAsXStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSMarkAsXStoredProcedure",["LSMarkAsX","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkAsX"),a.ctaId,a.orderId,a.ctaType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.previewUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.previewUrlFallback:e.previewUrl}function s(e){var t=e.previewUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.previewUrlFallback:e.previewUrlLarge}function u(e){var t=e.playableUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.playableUrlFallback:e.playableUrl}function c(e){var t=e.faviconUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.faviconUrlFallback:e.faviconUrl}l.previewUrl=e,l.previewUrlLarge=s,l.playableUrl=u,l.faviconUrl=c}),98);
__d("LSMessageHiddenState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_HIDDEN:0,POST_SEND_FRICTION:1,HIDDEN_REPORTED:2});i.default=e}),66);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[5]=n.syncGroup,t.i64.neq(r[5],void 0)?r[4]=r[5]:r[4]=t.i64.cast([0,1]),r[0]=r[4])})},function(o){return r[2]=new t.Map,r[2].set("action_type",e[4]),r[2].set("attachment_fbid",e[2]),r[2].set("message_id",e[0]),r[2].set("target_id",e[3]),r[2].set("thread_key",e[1]),r[2].set("sync_group",r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"process_marketplace_xma_cta",t.i64.cast([0,185]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticProcessMarketplaceCallFunctionCTA"),a.messageId,a.threadKey,a.attachmentFbid,a.targetId,a.actionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPresenceStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({OFFLINE:1,ACTIVE:2});i.default=e}),66);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_action_type",e[1]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"game_messenger_updates_management_xmat",t.i64.cast([0,755]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateBotSubscriptionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateBotSubscription","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateBotSubscription"),a.threadKey,a.userActionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUpdateHorizonWorldsUpdateSubscription",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_action_type",e[1]),r[0].set("world_id",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"horizontal_worlds_update_subscription_management",t.i64.cast([0,905]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateHorizonWorldsUpdateSubscriptionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateHorizonWorldsUpdateSubscription","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateHorizonWorldsUpdateSubscription"),a.threadKey,a.actionType,a.worldId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSVerifiedType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2,VERIFIED_HEADER_TITLE_ONLY:3,VERIFIED_CONTENT_TITLE_ONLY:4});i.default=e}),66);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useState;function _(e){return e<o("MAWEphemeralConsts").oneMinuteInSeconds?s._(/*BTDS*/"{seconds}",[s._param("seconds",String(e).concat("s"))]):e<o("MAWEphemeralConsts").oneHourInSeconds?s._(/*BTDS*/"{minutes}",[s._param("minutes",String(Math.floor(e/o("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]):e<o("MAWEphemeralConsts").oneDayInSeconds?s._(/*BTDS*/"{hours}",[s._param("hours",String(Math.floor(e/o("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):s._(/*BTDS*/"{days}",[s._param("days",String(Math.floor(e/o("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function f(e,t){var n=(u||(u=o("I64"))).to_int32(u.sub(e,u.of_float(o("WATimeUtils").unixTime())));return t!=null&&n>(u||(u=o("I64"))).to_int32(t)?(u||(u=o("I64"))).to_int32(t):n}function g(e){var t=o("react-compiler-runtime").c(17),n=e.ephemeralDurationInSec,a=e.expirationTimestamp,i=e.handleMessageExpired,l;t[0]!==n||t[1]!==a?(l=function(){return f(a,n)},t[0]=n,t[1]=a,t[2]=l):l=t[2];var u=p(l),d=u[0],g=u[1],h,y;t[3]!==d?(y=_(d),h=s._(/*BTDS*/"Message will disappear in: {time}",[s._param("time",y)]),t[3]=d,t[4]=h,t[5]=y):(h=t[4],y=t[5]);var C=h,b;t[6]!==i||t[7]!==d?(b=function(){d>0&&r("setTimeout")(function(){return g(d-1)},o("MAWEphemeralConsts").msPerSec),d===0&&(i==null||i())},t[6]=i,t[7]=d,t[8]=b):b=t[8];var v;t[9]!==a||t[10]!==i||t[11]!==d?(v=[d,a,i],t[9]=a,t[10]=i,t[11]=d,t[12]=v):v=t[12],m(b,v);var S;return t[13]!==C||t[14]!==d||t[15]!==y?(S=d>0?c.jsxs("div",{className:"x2b8uid xbkr7qi",children:[c.jsx(r("CometScreenReaderText.react"),{text:C}),c.jsx("div",{"aria-hidden":!0,children:c.jsx(r("MWXText.react"),{testid:void 0,type:"meta1",children:y})})]}):null,t[13]=C,t[14]=d,t[15]=y,t[16]=S):S=t[16],S}l.default=g}),226);
__d("MAWIsReceiverFetchXmaInLoadingState",["I64","LSIntEnum","LSXmaContentType","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(536870912));return a&&r("gkx")("7835")?(n==null?void 0:n.xmaDataclass)==null:a&&((n==null?void 0:n.xmaContentType)==null||(s||(s=o("LSIntEnum"))).toNumber(n==null?void 0:n.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH)}l.isReceiverFetchXmaInLoadingState=u}),98);
__d("MAWIsXMAWithPlaintextHash",["I64","LSIntEnum","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?![t.xmaPreviewFbid,t.xmaHeaderImageFbid,t.xmaFaviconFbid].filter(Boolean).every(isFinite):!1}l.isXMAWithPlaintextHash=u}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840460,"718");function s(t){var n=t.draftId,a=t.url,i=n.concat(a),l=o("MAWLoggerUtils").getInstanceKeyFromId(i),s=r("justknobx")._("2714");return r("QPLUserFlow").start(e,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:l,timeoutInMs:s}),{addAnnotations:function(n){r("QPLUserFlow").addAnnotations(e,n,{instanceKey:l})},addPoint:function(n,o){r("QPLUserFlow").addPoint(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endCancel:function(n,o){r("QPLUserFlow").endCancel(e,{annotations:n,cancelReason:o,instanceKey:l})},endFail:function(n,o){r("QPLUserFlow").endFailure(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endSuccess:function(){r("QPLUserFlow").endSuccess(e,{instanceKey:l})}}}l.startMediaPreProcessLinkPreviewQpl=s}),98);
__d("MDSCautionTriangleSvgIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{clipRule:"evenodd",d:"M19.747 8.027c-.764-1.367-2.73-1.367-3.494 0L6.757 25.025C6.012 26.358 6.977 28 8.504 28h18.992c1.528 0 2.492-1.642 1.747-2.975L19.747 8.027zm-3.159 5.97a1.414 1.414 0 112.824 0l-.353 6.005a1.06 1.06 0 01-2.118 0l-.353-6.005zm2.662 9.753a1.25 1.25 0 11-2.5 0 1.25 1.25 0 012.5 0z",fillRule:"evenodd"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:n})),t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),a=s.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}l.default=u}),98);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setAppID=function(t){return this.$1.appid=t,this},t.setAppversion=function(t){return this.$1.appversion=t,this},t.setClientUserID=function(t){return this.$1.client_userid=t,this},t.setClienttime=function(t){return this.$1.clienttime=t,this},t.setCountry=function(t){return this.$1.country=t,this},t.setDeviceid=function(t){return this.$1.deviceid=t,this},t.setExtraClientData=function(t){return this.$1.extra_client_data=t,this},t.setIsemployee=function(t){return this.$1.isemployee=t,this},t.setLoggingToken=function(t){return this.$1.logging_token=t,this},t.setName=function(t){return this.$1.name=t,this},t.setRawclienttime=function(t){return this.$1.rawclienttime=t,this},t.setSessionid=function(t){return this.$1.sessionid=t,this},t.setThreadID=function(t){return this.$1.thread_id=t,this},e})(),l={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};i.default=e}),66);
__d("XWebGraphQLMutationController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(t,n,r,o,a,i){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function l(t){if(!t)return"0";for(var n="";t>0;)n=e[t%62]+n,t=Math.floor(t/62);return n}i.default=l}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(t,n,r,o,a,i,l){"use strict";var e=0;function s(t,n){return o("WebGraphQLLegacyHelper").getURI({controller:r("XWebGraphQLMutationController"),docID:t,variables:{input:babelHelpers.extends({client_mutation_id:r("base62")(e++),actor_id:r("CurrentUser").getID()},n)}})}l.getMutationURI=s}),98);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","ThisControllerNoLongerExists","WebGraphQLMutationHelper","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.process=function(t,n){n===void 0&&(n=null);var e=o("PopupWindow").open("",500,1024),a=o("ThisControllerNoLongerExists").__DEADBUILDER__("cqlaolfxv").setString("cta_id",t).setString("message_id",n).getURI();new(r("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(t){return e.location=t.payload}).send()},t.postHandle=function(t,n){var e=o("WebGraphQLMutationHelper").getMutationURI(r("nullthrows")(r("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:t,message_id:n});new(r("AsyncRequest"))().setURI(e).send()},t.logCTAClick=function(t){var e=t==null?void 0:t.logging_token,n=e!=null?JSON.parse(e).click_source:"UNKNOWN",o={action_id:t==null?void 0:t.id,action_type:t==null?void 0:t.action_type,action_url:(t==null?void 0:t.action_url)!=null?t.action_url:t==null?void 0:t.action_link,click_source:n,page_id:t==null?void 0:t.page_id};new(r("MessengerPlatformClientTypedLogger"))().setClientUserID(r("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(o)).setLoggingToken(e).log()},e})(),s=new e;l.default=s}),98);
__d("MNXMASubtitleDecorationType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5,OCULUS_ICON:6,WHATSAPP_ICON:7,META_AI:8,META_HORIZON_ICON:9});i.default=e}),66);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle","children"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a,i,l;n[0]!==t?(l=t.xstyle,a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;n[4]===Symbol.for("react.memo_cache_sentinel")?(s={color:"var(--mwp-primary-theme-color)"},n[4]=s):s=n[4];var c;return n[5]!==a||n[6]!==i||n[7]!==l?(c=u.jsx(r("MWXLink.react"),babelHelpers.extends({style:s,weight_DEPRECATED:"bold",xstyle_DEPRECATED:l},i,{children:a})),n[5]=a,n[6]=i,n[7]=l,n[8]=c):c=n[8],c}l.default=c}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n,a,l=o("react-compiler-runtime").c(9),s=t.cta,c=t.message,d=(e||(e=r("useReStore")))(),m=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(d.tables.threads,["threadType"]).getKeyRange(c.threadKey)},[d,c.threadKey],i.id+":29"))==null?void 0:n.threadType,p=m==null?!1:o("LSMessagingThreadTypeUtil").isArmadilloSecure(m),_;l[0]!==c.text?(_=c.text==null?null:o("MAWVault").unvault(c.text),l[0]=c.text,l[1]=_):_=l[1];var f=_,g=(a=o("useStringWithSubstitutions").useStringWithSubstitutions(p?f:null,c.threadKey))!=null?a:f;if(g!=null)if(s!=null){var h;l[2]!==g?(h=u.jsx(r("CometTextWithEntities.react"),{text:g,transforms:o("MWChatTextTransform").textTransformsNoVault}),l[2]=g,l[3]=h):h=l[3];var y;return l[4]!==s||l[5]!==h?(y=u.jsxs(u.Fragment,{children:[h," ",s]}),l[4]=s,l[5]=h,l[6]=y):y=l[6],y}else{var C;return l[7]!==g?(C=u.jsx(r("CometTextWithEntities.react"),{text:g,transforms:o("MWChatTextTransform").textTransformsNoVault}),l[7]=g,l[8]=C):C=l[8],C}else return s!=null?s:null}l.default=c}),98);
__d("MWPAudioHighlightStylesHooks",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(2),n,r=e?u.outgoing:u.incoming,a;return t[0]!==r?(a=[u.root,r],t[0]=r,t[1]=a):a=t[1],n=a,n}l.useHighlightStyles=c}),98);
__d("MWPAudioPlayerIcons.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.color,r;return t[0]!==n?(r=s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:n})}),t[0]=n,t[1]=r):r=t[1],r}function c(e){var t=o("react-compiler-runtime").c(2),n=e.color,r;return t[0]!==n?(r=s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("rect",{fill:n,height:"18",rx:"2",width:"18",x:"9",y:"9"})}),t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=e.color,r;return t[0]!==n?(r=s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:n})}),t[0]=n,t[1]=r):r=t[1],r}l.PlayIcon=u,l.StopIcon=c,l.PauseIcon=d}),98);
__d("MWPAudioPlaybackThreadContext.react",["I64","Int64Hooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useContext,p={threadKey:(s||(s=o("I64"))).zero},_=d(p);function f(){return m(_).threadKey}function g(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.threadKey,a,i;t[0]!==r?(a=function(){return{threadKey:r}},i=[r],t[0]=r,t[1]=a,t[2]=i):(a=t[1],i=t[2]);var l=o("Int64Hooks").useMemoInt64(a,i),s;return t[3]!==n||t[4]!==l?(s=u.jsx(_.Provider,{value:l,children:n}),t[3]=n,t[4]=l,t[5]=s):s=t[5],s}l.useMWPAudioPlaybackThreadKey=f,l.MWPAudioPlaybackThreadContextProvider=g}),98);
__d("MWPAudioPlaybackContext.react",["fbt","$InternalEnum","FBLogger","I64","Int64Hooks","MWPAudioPlaybackThreadContext.react","ReQL","ReQLSuspense","WAMaybeTranscodeOggOpusToWavForPlayback","bx","emptyFunction","gkx","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=d||(d=o("react")),_=d,f=_.createContext,g=_.useCallback,h=_.useContext,y=_.useEffect,C=_.useMemo,b=_.useRef,v=_.useState,S=n("$InternalEnum")({SLOW:.5,NORMAL:1,FAST:1.5,DOUBLE:2}),R=function(){return r("FBLogger")("wmi").tags(["audio"])};function L(t){var n=new Audio;return n.addEventListener("error",function(){var t,r,o,a;R().MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["audioElement error code: ",". message: ",""])),(t=(r=n.error)==null?void 0:r.code)!=null?t:"null",(o=(a=n.error)==null?void 0:a.message)!=null?o:"null")}),n.preload="auto",!o("WAMaybeTranscodeOggOpusToWavForPlayback").isOggPlaybackSupported&&r("gkx")("3053")?window.fetch(t).then(function(e){return e.blob()}).then(function(e){return o("WAMaybeTranscodeOggOpusToWavForPlayback").maybeTranscodeOggOpusToWavForPlayback(e)}).then(function(e){var t=URL.createObjectURL(e);n.src=t,n.load()}).catch(function(e){R().catching(e).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to transcode Ogg to wav"])))}):(n.src=t,n.load()),n}function E(){return L(r("bx").getURL(r("bx")("577")))}function k(e){var t=Array.from(S.members()),n=t.findIndex(function(t){return t===e}),r=n+1;return t[r%t.length]}function I(e){return s._(/*BTDS*/"_j{\"*\":\"{playback rate}x\"}",[s._param("playback rate",e,[0])])}I.displayName=I.name+" [from "+i.id+"]";var T={activeAudio:null,activeMessageId:null,activeThreadKey:(m||(m=o("I64"))).zero,addMessageId:r("emptyFunction"),addNextPlayableUrl:r("emptyFunction"),clearActiveAudio:r("emptyFunction"),clearNextPlayableUrl:r("emptyFunction"),getMessageId:r("emptyFunction"),getNewOrExistingAudio:L,getNextPlayableUrl:r("emptyFunction"),maybeGetExistingAudio:r("emptyFunction"),onChangePlaybackRate:r("emptyFunction"),playbackRateLabel:I(S.NORMAL),setUseOutOfChatPlayback:r("emptyFunction")},D=f(T);function x(e,t,n,r,a){var i=o("react-compiler-runtime").c(23),l=h(D),s=l.activeAudio,u=l.activeThreadKey,c=l.addMessageId,d=l.addNextPlayableUrl,p=l.clearNextPlayableUrl,_=l.getNewOrExistingAudio,f=l.setUseOutOfChatPlayback,g=o("MWPAudioPlaybackThreadContext.react").useMWPAudioPlaybackThreadKey(),y;i[0]!==u||i[1]!==f||i[2]!==a||i[3]!==g?(y=function(){if(!(!a||(m||(m=o("I64"))).is_zero(u)||(m||(m=o("I64"))).is_zero(g)))return f(!(m||(m=o("I64"))).equal(u,g)),function(){f((m||(m=o("I64"))).equal(u,g))}},i[0]=u,i[1]=f,i[2]=a,i[3]=g,i[4]=y):y=i[4];var C;i[5]!==s||i[6]!==u||i[7]!==f||i[8]!==a||i[9]!==g?(C=[s,u,f,a,g],i[5]=s,i[6]=u,i[7]=f,i[8]=a,i[9]=g,i[10]=C):C=i[10],o("Int64Hooks").useEffectInt64(y,C);var b,v;return i[11]!==c||i[12]!==d||i[13]!==p||i[14]!==_||i[15]!==n||i[16]!==r||i[17]!==t||i[18]!==e||i[19]!==a||i[20]!==g?(b=function(){if(e!=null&&e!==""){var o=e.concat(n!=null?n:"");if(n!=null&&c(o,n),!a)return L(e);if(t!=null&&t!==""){var i=t.concat(r!=null?r:"");d(o,i),r!=null&&c(i,r)}else p(o);return _(e,g,n)}},v=[c,d,p,_,n,r,t,e,a,g],i[11]=c,i[12]=d,i[13]=p,i[14]=_,i[15]=n,i[16]=r,i[17]=t,i[18]=e,i[19]=a,i[20]=g,i[21]=b,i[22]=v):(b=i[21],v=i[22]),o("Int64Hooks").useMemoInt64(b,v)}function $(){var e=o("react-compiler-runtime").c(3),t=h(D),n=t.onChangePlaybackRate,r=t.playbackRateLabel,a;return e[0]!==n||e[1]!==r?(a=[r,n],e[0]=n,e[1]=r,e[2]=a):a=e[2],a}function P(){var e=o("react-compiler-runtime").c(8),t=h(D),n=t.activeAudio,a=t.activeMessageId,l=t.activeThreadKey,s=t.clearActiveAudio,u=t.clearNextPlayableUrl,d=t.getMessageId,m=t.getNextPlayableUrl,p=(c||(c=r("useReStore")))(),_,f;e[0]!==l||e[1]!==p?(_=function(){return o("ReQL").fromTableDescending(p.tables.threads).getKeyRange(l)},f=[p,l],e[0]=l,e[1]=p,e[2]=_,e[3]=f):(_=e[2],f=e[3]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":243"),y=n==null?void 0:n.src,C=y==null?void 0:y.concat(a!=null?a:""),b=C==null?null:m(C),v=o("ReQLSuspense").useFirst(function(){var e=b==null?null:d(b);return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(p.tables.messages.index("messageId"),["isUnsent"]).getKeyRange(e).filter(N)},[p,d,b],i.id+":253");C!=null&&b!=null&&v==null&&u(C);var S;return e[4]!==n||e[5]!==g||e[6]!==s?(S=[n,s,g],e[4]=n,e[5]=g,e[6]=s,e[7]=S):S=e[7],S}function N(e){return!e.isUnsent}function M(e){var t=o("react-compiler-runtime").c(28),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Map,t[0]=r):r=t[0];var a=b(r),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=new Map,t[1]=i):i=t[1];var l=b(i),s;t[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],t[2]=s):s=t[2];var u=b(s),c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=new Map,t[3]=c):c=t[3];var d=b(c),_,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(_=function(){var e=u.current;return function(){for(;e.length>0;){var t=e.pop(),n=t[0],r=t[1],o=t[2];n.removeEventListener(r,o),n.pause()}}},f=[],t[4]=_,t[5]=f):(_=t[4],f=t[5]),y(_,f);var g=v(S.NORMAL),h=g[0],C=g[1],R,T;t[6]!==h?(T=I(h),t[6]=h,t[7]=T):T=t[7],R=T;var x=R,$=v((m||(m=o("I64"))).zero),P=$[0],N=$[1],M=v(null),A=M[0],F=M[1],O=v(null),B=O[0],W=O[1],q=v(!1),U=q[0],V=q[1],H=(B==null?void 0:B.paused)===!1,G;G=U&&H?B:null;var z=G,j;t[8]===Symbol.for("react.memo_cache_sentinel")?(j=function(t,n){d.current.set(t,n)},t[8]=j):j=t[8];var K=j,Q;t[9]===Symbol.for("react.memo_cache_sentinel")?(Q=function(t){return d.current.get(t)},t[9]=Q):Q=t[9];var X=Q,Y;t[10]===Symbol.for("react.memo_cache_sentinel")?(Y=function(){W(w),F(null)},t[10]=Y):Y=t[10];var J=Y,Z;t[11]===Symbol.for("react.memo_cache_sentinel")?(Z=function(t){l.current.delete(t)},t[11]=Z):Z=t[11];var ee=Z,te;t[12]!==h?(te=function(t,n,r){var e,o=t.concat(r!=null?r:""),i=(e=a.current.get(o))!=null?e:L(t);i.playbackRate=h;var s=function(t,n){i.addEventListener(t,n),u.current.push([i,t,n])},c=function(){var e=l.current.get(o);if(e!=null){var t=a.current.get(e),n=d.current.get(e);if(t!=null&&t.paused)return void E().play().then(function(){return W(t),F(n),t.play().catch(function(){W(null),F(null)})})}W(null),F(null)};s("ended",c);var m=function(){for(var e of a.current.values())e!==i&&e.pause();W(i),F(r),N(n)};return s("playing",m),a.current.set(o,i),i},t[12]=h,t[13]=te):te=t[13];var ne=te,re;t[14]===Symbol.for("react.memo_cache_sentinel")?(re=function(t){return l.current.get(t)},t[14]=re):re=t[14];var oe=re,ae;t[15]===Symbol.for("react.memo_cache_sentinel")?(ae=function(){C(function(e){var t=k(e);for(var n of a.current.values())n.playbackRate=t;return t})},t[15]=ae):ae=t[15];var ie=ae,le;t[16]===Symbol.for("react.memo_cache_sentinel")?(le=function(t,n){l.current.set(t,n)},t[16]=le):le=t[16];var se=le,ue;t[17]===Symbol.for("react.memo_cache_sentinel")?(ue=function(t,n){if(t!=null){var e=t.concat(n!=null?n:"");return a.current.get(e)}},t[17]=ue):ue=t[17];var ce=ue,de,me;t[18]!==z||t[19]!==A||t[20]!==P||t[21]!==ne||t[22]!==x?(de=function(){return{activeAudio:z,activeMessageId:A,activeThreadKey:P,addMessageId:K,addNextPlayableUrl:se,clearActiveAudio:J,clearNextPlayableUrl:ee,getMessageId:X,getNewOrExistingAudio:ne,getNextPlayableUrl:oe,maybeGetExistingAudio:ce,onChangePlaybackRate:ie,playbackRateLabel:x,setUseOutOfChatPlayback:V}},me=[z,A,K,P,se,J,ee,X,ne,oe,ie,x,ce],t[18]=z,t[19]=A,t[20]=P,t[21]=ne,t[22]=x,t[23]=de,t[24]=me):(de=t[23],me=t[24]);var pe=o("Int64Hooks").useMemoInt64(de,me),_e;return t[25]!==n||t[26]!==pe?(_e=p.jsx(D.Provider,{value:pe,children:n}),t[25]=n,t[26]=pe,t[27]=_e):_e=t[27],_e}function w(e){return e!=null&&e.pause(),null}l.useMWPAudioPlaybackElement=x,l.useMWPAudioPlaybackRate=$,l.useMWPAudioOutOfChatPlayback=P,l.MWPAudioPlaybackContextProvider=M}),226);
__d("MWPAudioPlayerUtils",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWMediaRenderQplUtils","MWPAudioPlaybackContext.react","MWResponsiveLayoutContext.react","cancelAnimationFrame","getErrorNameFromMediaErrorCode","gkx","promiseDone","react","react-compiler-runtime","requestAnimationFrameAcrossTransitions","useMatchViewport","useStable"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useCallback,p=c.useContext,_=c.useEffect,f=c.useRef,g=c.useState,h=n("$InternalEnum").Mirrored(["PLAYER","RECORDER"]),y=d(h.PLAYER),C=r("gkx")("24145");function b(){var e=p(y);return C&&e===h.PLAYER}function v(e,t){if(t==null)return 0;var n=t.getBoundingClientRect(),r=n.left,o=n.width,a=e.clientX-r,i=o>0&&a>0?a/o:0;return S(i,0,1)}function S(e,t,n){return Math.min(Math.max(t,e),n)}function R(e){var t=o("react-compiler-runtime").c(5),n=e.currentTime,r=e.duration,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Audio scrubber"),t[0]=a):a=t[0];var i=Math.floor(n!=null?n:0),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={position:"absolute"},t[1]=l):l=t[1];var c;return t[2]!==r||t[3]!==i?(c=u.jsx("div",{"aria-label":a,"aria-valuemax":r,"aria-valuemin":0,"aria-valuenow":i,role:"slider",style:l,tabIndex:0}),t[2]=r,t[3]=i,t[4]=c):c=t[4],c}function L(){var e=o("react-compiler-runtime").c(2),t=b();if(t){var n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n={marginLeft:12,marginRight:12},e[0]=n):n=e[0],n}var r;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r={marginLeft:6,marginRight:6},e[1]=r):r=e[1],r}function E(e){return m(function(t){var n=e.current;if(n!=null)return t.stopPropagation(),n.updateHighlight(0)},[e])}function k(e,t,n,a,i,l){var s=o("react-compiler-runtime").c(13),u=i===void 0?!1:i,c=f(),d;s[0]!==t||s[1]!==e||s[2]!==l||s[3]!==u||s[4]!==a?(d=function(){var n=function(t){var e=c.current;if(e!=null)return e.updateHighlight(t)};if(l){n(u?100:0);return}if(a){var o={contents:void 0},i,s=function(l){var a;if(t.current!=null)a=t.current.currentTime/t.current.duration;else{var u=o.contents,c=0;u!=null?c=l-u:o.contents=l,a=c/(e*1e3)}var d=Math.min(a*100,100);if(n(d),d<100){i=r("requestAnimationFrameAcrossTransitions")(s);return}};return i=r("requestAnimationFrameAcrossTransitions")(s),function(){i!=null&&r("cancelAnimationFrame")(i)}}if(t.current!=null){var d=t.current.currentTime/t.current.duration;n(d*100)}},s[0]=t,s[1]=e,s[2]=l,s[3]=u,s[4]=a,s[5]=d):d=s[5];var m;return s[6]!==t||s[7]!==n||s[8]!==e||s[9]!==l||s[10]!==u||s[11]!==a?(m=[e,a,l,c,t,u,n],s[6]=t,s[7]=n,s[8]=e,s[9]=l,s[10]=u,s[11]=a,s[12]=m):m=s[12],_(d,m),c}var I=n("$InternalEnum").Mirrored(["ENDED","LOADING","NONE","PAUSED","PLAYING"]);function T(e,t,n,r,a,i,l,s){var u=b(),c=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackElement(e,t,n,r,u);return D(c,u,a,i,l,s)}function D(e,t,n,a,i,l){var s=o("react-compiler-runtime").c(25),u;s[0]!==n?(u=function(){return n},s[0]=n,s[1]=u):u=s[1];var c=r("useStable")(u),d=f(e),m=g(I.NONE),p=m[0],h=m[1],y;s[2]!==(e==null?void 0:e.currentTime)?(y=function(){var t;return(t=e==null?void 0:e.currentTime)!=null?t:0},s[2]=e==null?void 0:e.currentTime,s[3]=y):y=s[3];var C=g(y),b=C[0],v=C[1],S,R;s[4]!==e||s[5]!==l?(S=function(){if(e==null){h(I.NONE),l==null||l.addAnnotations({string:{audio_initial_state:"none"}});return}e.ended?(h(I.ENDED),l==null||l.addAnnotations({string:{audio_initial_state:"ended"}})):h(function(){return e.paused?(l==null||l.addAnnotations({string:{audio_initial_state:"paused"}}),I.PAUSED):(l==null||l.addAnnotations({string:{audio_initial_state:"playing"}}),I.PLAYING)}),v(e.currentTime),d.current=e},R=[e,l],s[4]=e,s[5]=l,s[6]=S,s[7]=R):(S=s[6],R=s[7]),_(S,R);var L;s[8]!==l||s[9]!==t?(L=function(){var e=d.current;if(l==null||l.addPoint("render-audio-player-controller",{bool:{has_audio:e!=null},int:{audio_ready_state:e==null?void 0:e.readyState},string:{audio_duration_bucket:e!=null?o("MWMediaRenderQplUtils").convertDurationToStringBucket(e.duration):null}}),e!=null){var n=function(t){var e=t.currentTarget,n=e.error,o=r("getErrorNameFromMediaErrorCode")(n==null?void 0:n.code);l==null||l.endFail("load-audio-error",{string:{audio_error_message:n==null?void 0:n.message,audio_error_name:o}})},a=function(){l==null||l.endSuccess()},i=function(){h(I.PAUSED),l==null||l.addPoint("audio-paused",{int:{audio_ready_state:e.readyState}})},s=function(){h(I.PLAYING),l==null||l.addPoint("audio-played",{int:{audio_ready_state:e.readyState}})},u=function(){h(I.LOADING),l==null||l.addPoint("load-start",{int:{audio_ready_state:e.readyState}})},c=function(){d.current!=null&&v(d.current.currentTime)},m=function(){d.current!=null&&(d.current.currentTime=0,v(0)),h(I.ENDED)},p=function(){l==null||l.addPoint("audio-duration-change",{int:{audio_ready_state:e.readyState}})},_=function(){l==null||l.addPoint("loaded-metadata",{int:{audio_ready_state:e.readyState}})},f=function(){l==null||l.addPoint("loaded-data",{int:{audio_ready_state:e.readyState}})},g=function(){d.current=e,i(),l==null||l.addPoint("can-play",{int:{audio_ready_state:e.readyState}}),a()},y=function(){l==null||l.addPoint("can-play-through",{int:{audio_ready_state:e.readyState}})},C=function(){l==null||l.addPoint("audio-aborted",{int:{audio_ready_state:e.readyState}})},b=function(){l==null||l.addPoint("audio-stalled",{int:{audio_ready_state:e.readyState}})},S=function(){l==null||l.addPoint("audio-suspended",{int:{audio_ready_state:e.readyState}})},R=function(){l==null||l.addPoint("audio-emptied",{int:{audio_ready_state:e.readyState}})};return e!=null&&e.readyState>=2&&a(),e.addEventListener("loadstart",u),e.addEventListener("timeupdate",c),e.addEventListener("playing",s),e.addEventListener("pause",i),e.addEventListener("ended",m),e.addEventListener("error",n),e.addEventListener("durationchange",p),e.addEventListener("loadedmetadata",_),e.addEventListener("loadeddata",f),e.addEventListener("canplay",g),e.addEventListener("canplaythrough",y),e.addEventListener("stalled",b),e.addEventListener("suspend",S),e.addEventListener("abort",C),e.addEventListener("emptied",R),function(){e.removeEventListener("loadstart",u),e.removeEventListener("timeupdate",c),e.removeEventListener("playing",s),e.removeEventListener("pause",i),e.removeEventListener("ended",m),e.removeEventListener("error",n),e.removeEventListener("durationchange",p),e.removeEventListener("loadedmetadata",_),e.removeEventListener("loadeddata",f),e.removeEventListener("canplay",g),e.removeEventListener("canplaythrough",y),e.removeEventListener("stalled",b),e.removeEventListener("suspend",S),e.removeEventListener("abort",C),e.removeEventListener("emptied",R),!t&&e.pause()}}},s[8]=l,s[9]=t,s[10]=L):L=s[10];var E;s[11]!==e||s[12]!==l||s[13]!==t?(E=[e,l,t],s[11]=e,s[12]=l,s[13]=t,s[14]=E):E=s[14],_(L,E);var T;s[15]!==l||s[16]!==c||s[17]!==p?(T=function(){var e=d.current;if(e!=null)switch(p){case I.NONE:case I.LOADING:return;case I.ENDED:case I.PAUSED:{r("promiseDone")(e.play(),function(){return h(I.PLAYING)},function(e){c(),l==null||l.addAnnotations({string:{"play-error":e.name}})}),l==null||l.addPoint("audio-play-clicked",{int:{audio_ready_state:e.readyState}});return}case I.PLAYING:{e.pause(),h(I.PAUSED),l==null||l.addPoint("audio-pause-clicked",{int:{audio_ready_state:e.readyState}});return}}},s[15]=l,s[16]=c,s[17]=p,s[18]=T):T=s[18];var D=T,x;s[19]===Symbol.for("react.memo_cache_sentinel")?(x=function(t){var e=d.current;e!=null&&(e.currentTime=t,v(t))},s[19]=x):x=s[19];var $=x,P=k(i,d,b,p===I.PLAYING,a,p===I.ENDED),N;return s[20]!==b||s[21]!==D||s[22]!==p||s[23]!==P?(N=[p,b,d,D,P,$],s[20]=b,s[21]=D,s[22]=p,s[23]=P,s[24]=N):N=s[24],N}function x(){var e=o("react-compiler-runtime").c(17),t=o("MWPAudioPlaybackContext.react").useMWPAudioOutOfChatPlayback(),n=t[0],a=t[1],i=t[2],l;e[0]!==n?(l=function(){return n==null?I.NONE:n.ended?I.ENDED:n.paused?I.PAUSED:I.PLAYING},e[0]=n,e[1]=l):l=e[1];var s=g(l),u=s[0],c=s[1],d;e[2]!==n?(d=function(){return n!=null?n.duration-n.currentTime:0},e[2]=n,e[3]=d):d=e[3];var m=g(d),p=m[0],f=m[1],h,y;e[4]!==n?(h=function(){if(n!=null){var e=function(){return f(n.duration-n.currentTime)},t=function(){return c(I.LOADING)},o=function(){return c(I.ENDED)};return n.addEventListener("timeupdate",e),n.addEventListener("loadstart",t),n.addEventListener("ended",o),r("promiseDone")(n.play(),function(){return c(I.PLAYING)}),function(){n.removeEventListener("timeupdate",e),n.removeEventListener("loadstart",t),n.removeEventListener("ended",o)}}},y=[n],e[4]=n,e[5]=h,e[6]=y):(h=e[5],y=e[6]),_(h,y);var b;e[7]!==n||e[8]!==u?(b=function(){if(n!=null)switch(u){case I.NONE:case I.LOADING:return;case I.ENDED:case I.PAUSED:{r("promiseDone")(n.play(),function(){return c(I.PLAYING)});return}case I.PLAYING:{n.pause(),c(I.PAUSED);return}}},e[7]=n,e[8]=u,e[9]=b):b=e[9];var v=b,S=u===I.PLAYING,R=n!=null&&i!=null&&C,L;return e[10]!==a||e[11]!==v||e[12]!==S||e[13]!==R||e[14]!==i||e[15]!==p?(L=[i,S,R,p,v,a],e[10]=a,e[11]=v,e[12]=S,e[13]=R,e[14]=i,e[15]=p,e[16]=L):L=e[16],L}function $(e,t){var n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=p(r("MWResponsiveLayoutContext.react")),i=a.cardsVisible,l=r("useMatchViewport")("max","width",750),s=r("useMatchViewport")("max","width",1060),u=!1;return(l&&i===2||s&&i===3)&&(u=!0),(e!=null?e:n==="Inbox")?u?180:218:n==="ChatTab"&&t===!0?148:180}function P(e){var t=b();return t&&e===h.PLAYER?70:36}l.UseCase=h,l.UseCaseContext=y,l.isEnabled=C,l.useShowNewUX=b,l.getMousePos=v,l.ScreenReaderLabel=R,l.usePlaybackButtonContainerStyle=L,l.useResetHighlightProgress=E,l.useProgressLiveUpdate=k,l.State=I,l.useControlCenter=T,l.useOutOfChatControlCenter=x,l.useCalculatePlayerWidth=$,l.useCalculatePlayerHeight=P}),226);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.disabled,r=e.hasEnded,a=e.isPaused,i=e.isPlaying,l=e.outgoing,u=o("MWPAudioPlayerUtils").useShowNewUX(),c=u?l?"var(--always-white)":"var(--progress-ring-neutral-foreground)":l?"var(--chat-outgoing-message-bubble-background-color)":void 0;if(i){var d;return t[0]!==c?(d=s.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:c}),t[0]=c,t[1]=d):d=t[1],d}if(a||r||n){var m;return t[2]!==c?(m=s.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:c}),t[2]=c,t[3]=m):m=t[3],m}return null}l.default=u}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e=44,s={bar:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderStartStartRadius:"x7deyu6",borderStartEndRadius:"x16vui2w",borderEndEndRadius:"x91akzj",borderEndStartRadius:"x7lp3xy",$$css:!0},rightSideImprove:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderInlineEndColor":"x1sx9lnh","::after_borderBottomColor":"xv84cap","::after_borderInlineStartColor":"x1bbqc8r","::after_borderStartStartRadius":"x1mt5d6h","::after_borderStartEndRadius":"xrbx7q7","::after_borderEndEndRadius":"x1e5em4g","::after_borderEndStartRadius":"x1e0i30a","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"x1gnji40","::after_borderInlineEndWidth":"x1k81zwm","::after_borderBottomWidth":"x1ekxc0f","::after_borderInlineStartWidth":"x1tjn1g5","::after_bottom":"x14apmda","::after_content":"x100rkj9","::after_display":"xhkezso","::after_insetInlineEnd":"x1qngrn4","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_insetInlineStart":"x1nalm37","::after_left":null,"::after_right":null,"::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};l.styles=s}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a=t.outgoing,i=o("MWPAudioPlayerUtils").useShowNewUX(),l=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),s=l[0],c=l[1];if(!i)return null;var d=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)",m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,o("MWPAudioPlayerSharedStyles").styles.rightSideMargin,o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),n[0]=m):m=n[0];var p;n[1]!==d?(p={backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:d},n[1]=d,n[2]=p):p=n[2];var _;n[3]!==s||n[4]!==p?(_=u.jsx("div",{className:m,style:p,children:s}),n[3]=s,n[4]=p,n[5]=_):_=n[5];var f;return n[6]!==c||n[7]!==_?(f=u.jsx(r("MWXPressable.react"),{onPress:c,overlayDisabled:!0,children:_}),n[6]=c,n[7]=_,n[8]=f):f=n[8],f}function d(e){var t=o("react-compiler-runtime").c(9),n=e.disabled,a=e.icon,i=e.label,l=e.onPress,s=o("MWPAudioPlayerUtils").useShowNewUX(),c;t[0]!==s?(c=s?{backgroundColor:"transparent"}:{},t[0]=s,t[1]=c):c=t[1];var d=c,m;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==s||t[7]!==d?(m=u.jsx(r("MWXPressable.react"),{"aria-label":i,disabled:n,onPress:l,overlayDisabled:s,overlayRadius:"50%",style:d,testid:void 0,xstyle:o("MWPAudioPlayerSharedStyles").styles.pressable,children:a}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=s,t[7]=d,t[8]=m):m=t[8],m}l.PlaybackRateButton=c,l.AudioPlayerPlaybackButton=d}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Play"),u=s._(/*BTDS*/"Stop recording"),c=s._(/*BTDS*/"Pause");l.playLabel=e,l.stopLabel=u,l.pauseLabel=c}),226);
__d("MWXIconRefreshAlt",["MWXSvgIcon","SVGIcon","cr:22457","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22457")),r("gkx")("23219"));l.default=e}),98);
__d("MWPAudioPlaybackButton.react",["fbt","CometHeroHoldTrigger.react","MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXSpinner.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(19),a=t.isError,i=t.isLoading,l=t.isRetryableError,u=t.onPress,d=t.scrubberRef,m=t.disabled,p=t.hasEnded,_=t.isPaused,f=t.isPlaying,g=t.outgoing,h=o("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle(),y=o("MWPAudioPlayerUtils").useResetHighlightProgress(d),C=f||_;if(i){var b;n[0]===Symbol.for("react.memo_cache_sentinel")?(b=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.pressable),n[0]=b):b=n[0];var v=C?y:void 0,S,R;n[1]===Symbol.for("react.memo_cache_sentinel")?(S=c.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:16}),R=c.jsx(r("CometHeroHoldTrigger.react"),{description:"MWPAudioPlaybackButton",hold:!0}),n[1]=S,n[2]=R):(S=n[1],R=n[2]);var L;return n[3]!==h||n[4]!==v?(L=c.jsxs("div",{className:b,onMouseMove:v,style:h,children:[S,R]}),n[3]=h,n[4]=v,n[5]=L):L=n[5],L}var E=C?y:void 0,k;n[6]!==m||n[7]!==p||n[8]!==a||n[9]!==_||n[10]!==f||n[11]!==l||n[12]!==u||n[13]!==g?(k=a!==!0?c.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:m,icon:c.jsx(r("MWPAudioPlaybackIcon.react"),{disabled:m,hasEnded:p,isPaused:_,isPlaying:f,outgoing:g}),label:f?o("MWPAudioPlayerLabels").pauseLabel:o("MWPAudioPlayerLabels").playLabel,onPress:u}):l===!0?c.jsx(r("MWXCircleButton.react"),{color:"black",icon:r("MWXIconRefreshAlt"),label:s._(/*BTDS*/"Retry"),onPress:u,size:40,type:"normal"}):c.jsx("div",{className:"x6s0dn4 xwcfey6 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf",children:c.jsx(r("MWXIconStrict.react"),{color:"black",icon:r("MWXIconExclamationMarkCircle"),size:20})}),n[6]=m,n[7]=p,n[8]=a,n[9]=_,n[10]=f,n[11]=l,n[12]=u,n[13]=g,n[14]=k):k=n[14];var I;return n[15]!==h||n[16]!==E||n[17]!==k?(I=c.jsx("div",{onMouseMove:E,style:h,children:k}),n[15]=h,n[16]=E,n[17]=k,n[18]=I):I=n[18],I}l.default=d}),226);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef;function p(t){var n=t.audioEl,a=t.children,i=t.hasScrubber,l=t.mediaRenderQpl,s=t.scrubberRef,c=t.style,p=t.testid,_=t.useCase,f=o("MWPAudioPlayerUtils").useShowNewUX(),g=m(),h=function(t){var e=n.current,r=g.current;e!=null&&r!=null&&Number.isFinite(e.duration)&&(e.currentTime=o("MWPAudioPlayerUtils").getMousePos(t,r)*e.duration)},y=function(t){if(g.current!=null&&s.current!=null)return s.current.updateHighlight(o("MWPAudioPlayerUtils").getMousePos(t,g.current)*100)},C=function(){if(s.current!=null)return s.current.updateHighlight(0)},b=o("MWPAudioPlayerUtils").useCalculatePlayerHeight(_),v=babelHelpers.extends({cursor:i?"pointer":"default",height:b},c),S=i&&!f;return d(function(){l==null||l.addPoint("render-audio-player-container",{bool:{show_new_ux:f},string:{use_case:_===o("MWPAudioPlayerUtils").UseCase.PLAYER?"Player":"Recorder"}})},[l,f,_]),u.jsx(o("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:_,children:u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:S?h:void 0,onMouseLeave:i?C:void 0,onMouseMove:S?y:void 0,ref:g,style:v,children:a})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=m;function m(t){var n=o("react-compiler-runtime").c(11),a=t.ref,i=t.xPosition,l=t.currentTime,u=t.duration,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Audio scrubber"),n[0]=d):d=n[0];var m=l===0?o("MWPAudioPlayerSharedStyles").styles.transparentBar:o("MWPAudioPlayerSharedStyles").styles.bar,p;n[1]!==m?(p=(e||(e=r("stylex")))(m),n[1]=m,n[2]=p):p=n[2];var _=i.toFixed(2)+"%",f;n[3]!==_?(f={left:_},n[3]=_,n[4]=f):f=n[4];var g;return n[5]!==l||n[6]!==u||n[7]!==a||n[8]!==p||n[9]!==f?(g=c.jsx("div",{"aria-label":d,"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":l,className:p,ref:a,role:"slider",style:f}),n[5]=l,n[6]=u,n[7]=a,n[8]=p,n[9]=f,n[10]=g):g=n[10],g}var p=d;l.default=p}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.reduce(function(e,t){return e+t.length},0)}function s(t){var n=e(t),r=new Float32Array(n);return t.reduce(function(e,t){return r.set(t,e),e+t.length},0),r}function u(t,n){var r=e([t,n]);return new Float32Array(r).map(function(e,r){var o=Math.floor(r/2);return r%2===0?t[o]:n[o]})}function c(e,t,n){n.forEach(function(n,r){var o=Math.max(-1,Math.min(1,n)),a=t+(r<<1),i=o<0?Math.abs(o)*-32768:Math.abs(o)*32767;e.setInt16(a,i,!0)})}function d(e,t,n){Array.from(n).forEach(function(r,o){var a=n.charCodeAt(o);e.setUint8(t+o,a)})}function m(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=r.length,a=o<<1,i=new ArrayBuffer(44+a),l=new DataView(i);return d(l,0,"RIFF"),l.setUint32(4,36+a,!0),d(l,8,"WAVE"),d(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,t,!0),l.setUint32(24,n,!0),l.setUint32(28,n*t*2,!0),l.setUint16(32,t*2,!0),l.setUint16(34,16,!0),d(l,36,"data"),l.setUint32(40,a,!0),c(l,44,r),l}function p(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=m({numberOfChannels:t,sampleRate:n,samples:r}),a=new Date().getTime(),i=Math.round(_({numberOfChannels:t,sampleRate:n,samples:r})*1e3);return new File([o],"audioclip-"+a+"-"+i+".wav",{type:"audio/wav"})}function _(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,a=Float32Array.BYTES_PER_ELEMENT,i=r.byteLength/a/t;return i/n%o("DateConsts").SEC_PER_MIN}function f(e,t,n){return e+(t-e)*n}function g(e,t){var n=new Array(Math.ceil(t));if(t===0||e.length===0)return n;if(t===e.length)return Array.from(e);if(e.length===1)return n.fill(e[0]);n[0]=e[0];for(var r=(e.length-1)/(t-1),o=1;o<t;o++){var a=o*r,i=Math.floor(a),l=Math.ceil(a),s=a-i;n[o]=f(e[i],e[l],s)}return t>=2&&(n[n.length-1]=e[e.length-1]),n}function h(e,t,n){var r=Math.min.apply(Math,e),o=Math.max.apply(Math,e),a=o-r,i=n-t;return e.map(function(e){return(e-r)/a*i+t})}l.getTotalBuffersLen=e,l.flattenBuffer=s,l.interleave=u,l.exportWAV=p,l.getAudioDuration=_,l.computeWaveformAmplitudes=g,l.linearConversion=h}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["disabled","hasEnded","isPlaying","outgoing","scrubberLeft"],s,u,c=u||(u=o("react")),d=u,m=d.useLayoutEffect,p=d.useMemo,_=d.useRef,f=d.useState,g=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),h=3,y=3,C=44,b=4;function v(e,t){var n=p(function(){return e==null||e===""||e==="0,0"?g:Float32Array.from(e.split(",").map(Number))},[e]);return p(function(){if(t<=0||n.length===0)return[];var e=Math.floor(t/(y*2)),r=o("MWChatRecorderUtils").linearConversion(o("MWChatRecorderUtils").computeWaveformAmplitudes(n,e),b,C);return r.map(function(e,t){var n=Math.ceil(e),r=h,o=y,a=t*y*2,i="calc(50% - "+n/2+"px)";return{height:n,rx:r,width:o,x:a,y:i}})},[t,n])}function S(t){var n=o("react-compiler-runtime").c(22),a,i,l,u,d,p;n[0]!==t?(u=t.disabled,d=t.hasEnded,p=t.isPlaying,a=t.outgoing,l=t.scrubberLeft,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],p=n[6]);var g=u===void 0?!1:u,h=d===void 0?!1:d,y=p===void 0?!1:p,C=_(null),b=f("auto"),v=b[0],S=b[1],R,L;n[7]!==g||n[8]!==h||n[9]!==y||n[10]!==a||n[11]!==l?(R=function(){var e=C.current;S(function(){if(g)return"var(--disabled-button-text)";var t="auto";if((h||y)&&(t=a===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)"),e==null)return t;var n=e.getBoundingClientRect(),r=n.left;return l>r?a===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":t})},L=[g,h,y,a,l],n[7]=g,n[8]=h,n[9]=y,n[10]=a,n[11]=l,n[12]=R,n[13]=L):(R=n[12],L=n[13]),m(R,L);var E=a===!0?o("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:o("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle,k;n[14]!==E?(k=(s||(s=r("stylex")))(E),n[14]=E,n[15]=k):k=n[15];var I=k,T;n[16]!==v?(T={fill:v},n[16]=v,n[17]=T):T=n[17];var D;return n[18]!==I||n[19]!==i||n[20]!==T?(D=c.jsx("rect",babelHelpers.extends({},i,{className:I,ref:C,style:T})),n[18]=I,n[19]=i,n[20]=T,n[21]=D):D=n[21],D}function R(e){var t=o("react-compiler-runtime").c(20),n=e.disabled,a=e.hasEnded,i=e.isListened,l=e.isPlaying,u=e.outgoing,d=e.scrubberLeft,p=e.waveformData,g=_(null),h=f(0),y=h[0],C=h[1],b=a===!0||i===!0,R,L;t[0]===Symbol.for("react.memo_cache_sentinel")?(R=function(){if(g.current!=null){var e=g.current.getBoundingClientRect();C(e.width)}},L=[],t[0]=R,t[1]=L):(R=t[0],L=t[1]),m(R,L);var E=v(p,y);if(E.length===0){var k;return t[2]===Symbol.for("react.memo_cache_sentinel")?(k=c.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),{ref:g})),t[2]=k):k=t[2],k}var I;t[3]===Symbol.for("react.memo_cache_sentinel")?(I=(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),t[3]=I):I=t[3];var T;t[4]===Symbol.for("react.memo_cache_sentinel")?(T=(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.mask),t[4]=T):T=t[4];var D;if(t[5]!==E||t[6]!==n||t[7]!==l||t[8]!==b||t[9]!==u||t[10]!==d){var x;t[12]!==n||t[13]!==l||t[14]!==b||t[15]!==u||t[16]!==d?(x=function(t,r){return c.createElement(S,babelHelpers.extends({},t,{disabled:n,hasEnded:b,isPlaying:l,key:r,outgoing:u,scrubberLeft:d}))},t[12]=n,t[13]=l,t[14]=b,t[15]=u,t[16]=d,t[17]=x):x=t[17],D=E.map(x),t[5]=E,t[6]=n,t[7]=l,t[8]=b,t[9]=u,t[10]=d,t[11]=D}else D=t[11];var $;return t[18]!==D?($=c.jsx("div",babelHelpers.extends({},I,{ref:g,children:c.jsx("svg",babelHelpers.extends({"aria-hidden":!0},T,{children:D}))})),t[18]=D,t[19]=$):$=t[19],$}l.default=R}),98);
__d("MWPAudioPlayerHighlight.react",["fbt","MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useImperativeHandle,p=d.useLayoutEffect,_=d.useRef,f=d.useState;function g(t){var n,a,i,l,u=t.audioEl,d=t.children,g=t.disabled,y=t.duration,C=t.hasEnded,b=t.isListened,v=t.isPlaying,S=v===void 0?!0:v,R=t.onUpdateScrubber,L=t.outgoing,E=t.ref,k=t.waveformData,I=t.xstyle,T=o("MWPAudioPlayerUtils").useShowNewUX(),D=_(),x=_(),$=f(0),P=$[0],N=$[1],M=f(0),w=M[0],A=M[1];p(function(){if((u==null?void 0:u.current)!=null&&x.current!=null&&y!=null&&y>0){var e=u.current.currentTime,t=x.current;A(h(t,e/y*100))}},[u,y]),m(E,function(){return{updateHighlight:function(t){var e=D.current,n=x.current;if(e!=null)if(T){if(n!=null){var r=h(n,t);A(r)}}else e.style.transform="translateX("+(t-100).toFixed(1)+"%)"}}},[T]);var F=function(t){if(D.current!=null){var e,n,r,a,i=(e=D.current)==null?void 0:e.getBoundingClientRect(),l=(n=i==null?void 0:i.left)!=null?n:0,s=t.clientX-l,u=(r=(a=D.current)==null?void 0:a.offsetWidth)!=null?r:0;if(N(s/u*100),y!=null&&y>0){var c=o("MWPAudioPlayerUtils").getMousePos(t,D.current)*y;if(R!=null&&x.current!=null){var d=x.current;R(c),A(h(d,c/y*100))}}}},O=Math.floor((n=u==null||(a=u.current)==null?void 0:a.currentTime)!=null?n:0);if(T){var B,W;return c.jsxs(c.Fragment,{children:[d,c.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,o("MWPAudioPlayerSharedStyles").styles.scrubber),{onMouseDownCapture:F,ref:D,children:[c.jsx(r("MWPAudioPlayerScrubberBar.react"),{currentTime:O,duration:(B=u==null||(W=u.current)==null?void 0:W.duration)!=null?B:0,ref:x,xPosition:P}),c.jsx(r("MWPAudioPlayerWaveform.react"),{disabled:g,hasEnded:C,isListened:b,isPlaying:S,outgoing:L,scrubberLeft:w,waveformData:k})]}))]})}return c.jsx("div",babelHelpers.extends({"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":(i=u==null||(l=u.current)==null?void 0:l.duration)!=null?i:0,"aria-valuemin":0,"aria-valuenow":O},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,I),{ref:D,role:"slider"}))}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){e.style.left=t.toFixed(2)+"%",e.style.transition="transform 1s ease-out";var n=e.getBoundingClientRect(),r=n.left;return r}function y(e){var t=o("react-compiler-runtime").c(17),n=e.disabled,r=e.hasScrubber,a=e.progressHighlightRef,i=e.scrubberRef,l=e.audioEl,s=e.children,u=e.currentTime,d=e.duration,m=e.hasEnded,p=e.isListened,_=e.isPlaying,f=e.onUpdateScrubber,h=e.outgoing,y=e.waveformData,C=e.xstyle,b=_===void 0?!0:_,v=o("MWPAudioPlayerUtils").useShowNewUX(),S;return t[0]!==l||t[1]!==s||t[2]!==u||t[3]!==n||t[4]!==d||t[5]!==m||t[6]!==r||t[7]!==p||t[8]!==b||t[9]!==f||t[10]!==h||t[11]!==a||t[12]!==i||t[13]!==v||t[14]!==y||t[15]!==C?(S=v?c.jsx(g,{audioEl:l,disabled:n,duration:d,hasEnded:m,isListened:p,isPlaying:b,onUpdateScrubber:f,outgoing:h,ref:a,waveformData:y,xstyle:C,children:s}):c.jsxs(c.Fragment,{children:[c.jsx(g,{ref:a,xstyle:C}),r?c.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:u,duration:d}):null,c.jsx(g,{ref:i,xstyle:C}),s]}),t[0]=l,t[1]=s,t[2]=u,t[3]=n,t[4]=d,t[5]=m,t[6]=r,t[7]=p,t[8]=b,t[9]=f,t[10]=h,t[11]=a,t[12]=i,t[13]=v,t[14]=y,t[15]=C,t[16]=S):S=t[16],S}l.MWPAudioPlayerHighlightV1=g,l.MWPAudioPlayerHighlightV2=y}),226);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){return e>30?5:e>10?3:e>5?2:e>2?1:.5}function _(e){var t=e.audioEl,n=e.children,o=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime-=p(e)}},[t]),a=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime+=p(e)}},[t]),i=d(function(){t.current!=null&&(t.current.currentTime=0)},[t]),l=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime=e}},[t]),c=m(function(){var e;return[{command:{key:(e=r("CometKeys")).UP},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.DOWN},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.LEFT},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.RIGHT},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.HOME},description:s._(/*BTDS*/"Sets slider to its minimum value."),handler:i},{command:{key:e.END},description:s._(/*BTDS*/"Sets slider to its maximum value."),handler:l}]},[o,a,i,l]);return u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:c,children:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(13),a=t.disabled,i=t.outgoing,l=t.time,s=a===void 0?!1:a,c=i===void 0?!0:i,d=o("MWPAudioPlayerUtils").useShowNewUX(),m;n[0]!==s||n[1]!==c||n[2]!==d?(m=d?{color:c?s?"var(--disabled-button-text)":"var(--always-white)":s?"var(--disabled-button-text)":"var(--progress-ring-neutral-foreground)"}:{color:c?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"},n[0]=s,n[1]=c,n[2]=d,n[3]=m):m=n[3];var p=m,_=!d&&o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,f=d&&o("MWPAudioPlayerSharedStyles").styles.rightSideImprove,g;n[4]!==_||n[5]!==f?(g=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,_,f),n[4]=_,n[5]=f,n[6]=g):g=n[6];var h;n[7]!==l?(h=r("formatDurationSeconds")(l),n[7]=l,n[8]=h):h=n[8];var y;return n[9]!==p||n[10]!==g||n[11]!==h?(y=u.jsx("div",{className:g,"data-testid":void 0,role:"timer",style:p,children:h}),n[9]=p,n[10]=g,n[11]=h,n[12]=y):y=n[12],y}l.default=c}),98);
__d("useMWNextAttachment",["I64","ReQL","ReQLSuspense","qex","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("react-compiler-runtime").c(22),l=(s||(s=r("useReStore")))(),u;a[0]!==n.offlineThreadingId||a[1]!==n.primarySortKey||a[2]!==n.secondarySortKey||a[3]!==n.threadKey||a[4]!==l?(u=function(){var t;return r("qex")._("18")?t=o("ReQL").fromTableAscending(l.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(n.threadKey).bounds({gt:o("ReQL").key(n.primarySortKey,n.offlineThreadingId)}):t=o("ReQL").fromTableAscending(l.tables.messages.index("messageDisplayOrder")).getKeyRange(n.threadKey).bounds({gt:o("ReQL").key(n.primarySortKey,n.secondarySortKey)}),t.filter(function(t){return(e||(e=o("I64"))).gt(t.primarySortKey,n.primarySortKey)}).filter(function(t){var r,a;return t.secondarySortKey==null||n.secondarySortKey==null?!0:(e||(e=o("I64"))).gt((r=t.secondarySortKey)!=null?r:(e||(e=o("I64"))).zero,(a=n.secondarySortKey)!=null?a:(e||(e=o("I64"))).zero)}).filter(d)},a[0]=n.offlineThreadingId,a[1]=n.primarySortKey,a[2]=n.secondarySortKey,a[3]=n.threadKey,a[4]=l,a[5]=u):u=a[5];var m;a[6]!==n.primarySortKey||a[7]!==n.secondarySortKey||a[8]!==n.threadKey||a[9]!==l?(m=[l,n.threadKey,n.primarySortKey,n.secondarySortKey],a[6]=n.primarySortKey,a[7]=n.secondarySortKey,a[8]=n.threadKey,a[9]=l,a[10]=m):m=a[10];var p=o("ReQLSuspense").useFirst(u,m,i.id+":26"),_,f;a[11]!==t.messageId||a[12]!==l?(_=function(){return o("ReQL").fromTableAscending(l.tables.messages.index("messageId")).bounds({gt:o("ReQL").key(t.messageId)}).filter(c)},f=[l,t.messageId],a[11]=t.messageId,a[12]=l,a[13]=_,a[14]=f):(_=a[13],f=a[14]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":79"),h;a[15]!==l||a[16]!==p?(h=function(){return p!=null?o("ReQL").fromTableAscending(l.tables.attachments).getKeyRange(p.threadKey,p.messageId):o("ReQL").empty()},a[15]=l,a[16]=p,a[17]=h):h=a[17];var y;a[18]!==l||a[19]!==g||a[20]!==p?(y=[l,p,g],a[18]=l,a[19]=g,a[20]=p,a[21]=y):y=a[21];var C=o("ReQLSuspense").useFirst(h,y,i.id+":87");return C}function c(e){return!e.isUnsent}function d(e){return!e.isUnsent}l.default=u}),98);
__d("fetch",[],(function(t,n,r,o,a,i){"use strict";var e=window.fetch,l=e;i.default=l}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","fetch"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t.push(e.getChannelData(n));for(var r=t.reduce(function(e,t){return e+t.length},0),o=new Float32Array(r),a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++)o[i*t.length+a]=t[a][i];return o}function s(e){var t=r("AudioContextSingleton").get();return new Promise(function(n,r){t.decodeAudioData(e,n,r)})}async function u(t){var n=t.toString();try{var o=await r("fetch")(n),a=await o.arrayBuffer(),i=await s(a);return e(i)}catch(e){return r("FBLogger")("messenger_web_media","audio_waveform_error").catching(e).mustfix("Error fetching waveform data for URL: %s",n),Float32Array.of()}}l.default=u}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(6),a=t.attachmentFbid,l=t.messageId,s=t.threadKey,u=(e||(e=r("useReStore")))(),c,d;return n[0]!==a||n[1]!==u||n[2]!==l||n[3]!==s?(c=async function(t){await u.runInTransaction(async function(e){var n=e.attachments,r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n).getKeyRange(s,l,a));r!=null&&await n.put(babelHelpers.extends({},r,t))},"readwrite",void 0,void 0,i.id+":26")},d=[u,s,l,a],n[0]=a,n[1]=u,n[2]=l,n[3]=s,n[4]=c,n[5]=d):(c=n[4],d=n[5]),o("Int64Hooks").useCallbackInt64(c,d)}l.default=s}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","fetchMWPAudioWaveformDataForURL","promiseDone","react","react-compiler-runtime","useMWAttachmentUpdater"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState,m=3,p=",",_=["blob:","data:"];function f(e,t){var n=o("react-compiler-runtime").c(11),a=d(e.waveformData),i=a[0],l=a[1],s=r("useMWAttachmentUpdater")(e),u;n[0]!==t?(u=async function(){if(t!=null&&t!==""){var e=o("ConstUriUtils").getUri(t);if(e!=null&&_.includes(e.getProtocol())){var n=await r("fetchMWPAudioWaveformDataForURL")(e);n.length>m&&l(n.join(p))}}},n[0]=t,n[1]=u):u=n[1];var f=u,h,y;n[2]!==f||n[3]!==i?(h=function(){i!=null&&i.length>m||r("promiseDone")(f())},y=[f,i],n[2]=f,n[3]=i,n[4]=h,n[5]=y):(h=n[4],y=n[5]),c(h,y);var C,b;return n[6]!==e.waveformData||n[7]!==s||n[8]!==i?(C=function(){i!=null&&i.length>m&&i!==e.waveformData&&s({waveformData:i}).catch(g)},b=[e.waveformData,s,i],n[6]=e.waveformData,n[7]=s,n[8]=i,n[9]=C,n[10]=b):(C=n[9],b=n[10]),c(C,b),i}function g(e){r("FBLogger")("messenger_web_media","audio_waveform_error").catching(e).mustfix("Error from updating attachment waveform data")}l.default=f}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","react-compiler-runtime","useMWAttachmentUpdater"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(8),a=r("useMWAttachmentUpdater")(t),i=t.isAttachmentConsumed,l;n[0]!==(e==null?void 0:e.current)||n[1]!==i||n[2]!==a?(l=function(){var t=e==null?void 0:e.current;if(t!=null){var n=function(){(i==null||i===!1)&&a({isAttachmentConsumed:!0}).catch(c)};return t.addEventListener("ended",n),function(){t.removeEventListener("ended",n)}}},n[0]=e==null?void 0:e.current,n[1]=i,n[2]=a,n[3]=l):l=n[3];var u;n[4]!==e||n[5]!==i||n[6]!==a?(u=[e,i,a],n[4]=e,n[5]=i,n[6]=a,n[7]=u):u=n[7],s(l,u)}function c(e){r("FBLogger")("messenger_web_media","attachment_update_error").catching(e).mustfix("Error marking attachment as consumed.")}l.default=u}),98);
__d("MWAudioPlayer.react",["I64","MWMediaRenderQplUtils","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","requireDeferred","stylex","useMAWMediaDownloadStatus","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useRef,_=r("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react");function f(){_.onReady(function(e){return e.logBrowserDenyAccess()})}function g(t){var n=o("react-compiler-runtime").c(65),a=t.attachment,i=t.connectBottom,l=t.connectTop,s=t.getPlayableUrl,d=t.isReply,_=t.isSecure,g=t.mediaRenderQpl,h=t.message,y=t.outgoing,C=t.renderUnsupportedAttachment,b=t.width,v=d===void 0?!1:d,S=a.playableDurationMs,R=(u||(u=o("I64"))).to_float(S!=null?S:(u||(u=o("I64"))).zero)/1e3,L=r("useMWNextAttachment")(a,h),E=_?L:null,k=r("useMAWMediaDownloadStatus")(E,g),I=k.uiState,T;n[0]!==a||n[1]!==s||n[2]!==g?(T=s(a,"MWAudioPlayer",g),n[0]=a,n[1]=s,n[2]=g,n[3]=T):T=n[3];var D=T,x=r("useMWPAudioWaveformData.react")(a,D),$=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:y===!0?"right":"left",connectBottom:i,connectTop:l}),P;n[4]!==s||n[5]!==L||n[6]!==I?(P=L!=null&&(I==null||I==="downloaded")?s(L,"MWAudioPlayer"):void 0,n[4]=s,n[5]=L,n[6]=I,n[7]=P):P=n[7];var N=o("MWPAudioPlayerUtils").useControlCenter(D,P,h.messageId,L==null?void 0:L.messageId,f,!1,R,g),M=N[0],w=N[1],A=N[2],F=N[3],O=N[4],B=N[5];r("useMWPMarkAudioAttachmentAsConsumed.react")(A,a);var W;if(n[8]!==h.ephemeralDurationInSec){var q;W=(u||(u=o("I64"))).gt((q=h.ephemeralDurationInSec)!=null?q:(u||(u=o("I64"))).zero,u.zero),n[8]=h.ephemeralDurationInSec,n[9]=W}else W=n[9];var U=W,V=M===o("MWPAudioPlayerUtils").State.NONE,H=M===o("MWPAudioPlayerUtils").State.PLAYING,G=M===o("MWPAudioPlayerUtils").State.PAUSED,z=M===o("MWPAudioPlayerUtils").State.LOADING,j=M===o("MWPAudioPlayerUtils").State.ENDED,K=H||G,Q=p(),X=o("MWPAudioHighlightStylesHooks").useHighlightStyles(y),Y=o("MWPAudioPlayerUtils").useCalculatePlayerWidth(b,U),J=Y+"px",Z;n[10]!==J?(Z={width:J},n[10]=J,n[11]=Z):Z=n[11];var ee=Z,te=K?Math.max(R-w,0):0,ne,re;if(n[12]!==R||n[13]!==U||n[14]!==g||n[15]!==L||n[16]!==D||n[17]!==x?(ne=function(){g==null||g.addPoint("render-audio-player",{bool:{has_next_attachment:L!=null,has_non_zero_duration:R>0,has_playable_url:!!D,has_waveform:x!=null,is_disappearing_message:U},string:{audio_blob_duration_bucket:o("MWMediaRenderQplUtils").convertDurationToStringBucket(R)}})},re=[R,U,g,L,D,x],n[12]=R,n[13]=U,n[14]=g,n[15]=L,n[16]=D,n[17]=x,n[18]=ne,n[19]=re):(ne=n[18],re=n[19]),m(ne,re),(D==null||D.length===0)&&(g==null||g.endFail("empty_preview_url"),C!=null)){var oe;return n[20]!==a||n[21]!==C?(oe=C(a),n[20]=a,n[21]=C,n[22]=oe):oe=n[22],oe}var ae=r("MWPAudioPlayerKeyCommands.react"),ie=r("MWPAudioPlayerContainer.react"),le=o("MWPAudioPlayerUtils").UseCase,se="mw_audio_player",ue=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.common,$,y?o("MWPAudioPlayerSharedStyles").styles.commonOutgoing:o("MWPAudioPlayerSharedStyles").styles.commonIncoming,v&&o("MWPAudioPlayerSharedStyles").styles.commonReply,y&&v&&o("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),ce=a.isAttachmentConsumed===!0,de;n[23]!==V||n[24]!==j||n[25]!==z||n[26]!==G||n[27]!==H||n[28]!==F||n[29]!==y?(de=c.jsx(r("MWPAudioPlaybackButton.react"),{disabled:V,hasEnded:j,isLoading:z,isPaused:G,isPlaying:H,onPress:F,outgoing:y,scrubberRef:Q}),n[23]=V,n[24]=j,n[25]=z,n[26]=G,n[27]=H,n[28]=F,n[29]=y,n[30]=de):de=n[30];var me;n[31]!==A||n[32]!==w||n[33]!==R||n[34]!==j||n[35]!==K||n[36]!==X||n[37]!==H||n[38]!==B||n[39]!==y||n[40]!==O||n[41]!==ce||n[42]!==de||n[43]!==x?(me=c.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:A,currentTime:w,duration:R,hasEnded:j,hasScrubber:K,isListened:ce,isPlaying:H,onUpdateScrubber:B,outgoing:y,progressHighlightRef:O,scrubberRef:Q,waveformData:x,xstyle:X,children:de}),n[31]=A,n[32]=w,n[33]=R,n[34]=j,n[35]=K,n[36]=X,n[37]=H,n[38]=B,n[39]=y,n[40]=O,n[41]=ce,n[42]=de,n[43]=x,n[44]=me):me=n[44];var pe;n[45]!==H||n[46]!==y||n[47]!==te?(pe=c.jsx("div",{children:H?c.jsxs(c.Fragment,{children:[c.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:y,time:te}),c.jsx(o("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:y})]}):c.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:y,time:te})}),n[45]=H,n[46]=y,n[47]=te,n[48]=pe):pe=n[48];var _e;n[49]!==ue||n[50]!==me||n[51]!==pe?(_e=c.jsxs("div",babelHelpers.extends({},ue,{children:[me,pe]})),n[49]=ue,n[50]=me,n[51]=pe,n[52]=_e):_e=n[52];var fe;n[53]!==ie||n[54]!==A||n[55]!==K||n[56]!==g||n[57]!==ee||n[58]!==_e||n[59]!==le.PLAYER?(fe=c.jsx(ie,{audioEl:A,hasScrubber:K,mediaRenderQpl:g,scrubberRef:Q,style:ee,useCase:le.PLAYER,testid:void 0,children:_e}),n[53]=ie,n[54]=A,n[55]=K,n[56]=g,n[57]=ee,n[58]=_e,n[59]=le.PLAYER,n[60]=fe):fe=n[60];var ge;return n[61]!==ae||n[62]!==A||n[63]!==fe?(ge=c.jsx(ae,{audioEl:A,children:fe}),n[61]=ae,n[62]=A,n[63]=fe,n[64]=ge):ge=n[64],ge}l.default=g}),98);
__d("MWBaseTheme",[],(function(t,n,r,o,a,i){"use strict";var e={},l={},s={dark:l,light:e,type:"VARIABLES"};i.empty=s}),66);
__d("MWBlockingProtectionContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useState,_=c({addMessageId:r("emptyFunction"),findMessageId:r("emptyFunction").thatReturnsFalse});function f(e){var t=o("react-compiler-runtime").c(6),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[0]=r):r=t[0];var a=p(r),i=a[0],l=a[1],u,c;t[1]!==i?(c={addMessageId:function(t){l([t].concat(i))},findMessageId:function(t){return i.find(function(e){return e===t})!=null}},t[1]=i,t[2]=c):c=t[2],u=c;var d=u,m;return t[3]!==n||t[4]!==d?(m=s.jsx(_.Provider,{value:d,children:n}),t[3]=n,t[4]=d,t[5]=m):m=t[5],m}function g(){return d(_)}var h={Provider:f,useHook:g};l.default=h}),98);
__d("MWBuyerShippingAddressRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9449084048553368"}),null);
__d("MWBuyerShippingAddressRootQuery.graphql",["MWBuyerShippingAddressRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"state_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"district",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"sub_district",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"country_name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"care_of",storageKey:null},p={alias:null,args:null,concreteType:"XFBPAYAddressAssociatedPhoneNumberResponse",kind:"LinkedField",name:"address_linked_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"normalized_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null}],storageKey:null},_=[{kind:"Variable",name:"id",variableName:"id"}],f={alias:null,args:null,kind:"ScalarField",name:"country_id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWBuyerShippingAddressSelectionAddressListItem",selections:[t,r,o,a,i,l,s,u,c,d,m,p],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:_,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWBuyerShippingAddressSelectionPrivacyText"},f],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPAYMailingAddress"},t,r,o,a,i,l,s,u,c,d,m,p],storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:_,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_privacy_policy_url",storageKey:null},f,t],storageKey:null}]},params:{id:n("MWBuyerShippingAddressRootQuery_facebookRelayOperation"),metadata:{},name:"MWBuyerShippingAddressRootQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWBuyerShippingAddressRootQuery",["MWBuyerShippingAddressRootQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MWBuyerShippingAddressRootQuery.graphql"),u=s;l.default=u}),98);
__d("MWMessageActionButton.react",["BaseTheme.react","MWPThemeCSSProvider.react","MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e=["label","loggingEvent","ref","onPress"],s,u=s||(s=o("react")),c=s.useCallback,d={dark:{},light:{},type:"VARIABLES"},m={dark:{"popover-background":"var(--chat-replied-message-background-color, inherit)"},light:{"popover-background":"var(--chat-replied-message-background-color, inherit)"},type:"VARIABLES"};function p(t){var n=o("react-compiler-runtime").c(23),a,i,l,s,c;n[0]!==t?(a=t.label,i=t.loggingEvent,s=t.ref,l=t.onPress,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var p=r("MessengerWebUXLogger").useInteractionLogger(),_;n[6]!==p||n[7]!==i||n[8]!==l?(_=function(t){l==null||l(t),i&&(p==null||p(i))},n[6]=p,n[7]=i,n[8]=l,n[9]=_):_=n[9];var f=_,g=r("useMWPThreadTheme")(),h=g.backgroundGradientColors,y=g.threadTheme,C=o("MWPThemeCSSProvider.react").useIsThemeV2()&&(!!y.backgroundUrl||h.length>0),b=C?m:d,v=C?"primary":"secondary",S=C?"overlay":"deemphasized",R;n[10]!==f||n[11]!==a||n[12]!==s||n[13]!==c||n[14]!==v||n[15]!==S?(R=u.jsx(r("MWXCircleButton.react"),babelHelpers.extends({color:v,label:a,onPress:f,ref:s,size:28,type:S},c)),n[10]=f,n[11]=a,n[12]=s,n[13]=c,n[14]=v,n[15]=S,n[16]=R):R=n[16];var L;n[17]!==b||n[18]!==R?(L=u.jsx(r("BaseTheme.react"),{config:b,children:R}),n[17]=b,n[18]=R,n[19]=L):L=n[19];var E;return n[20]!==a||n[21]!==L?(E=u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:L}),n[20]=a,n[21]=L,n[22]=E):E=n[22],E}l.default=p}),98);
__d("MWXIconThread",["MWXSvgIcon","SVGIcon","cr:22515","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22515")),r("gkx")("23219"));l.default=e}),98);
__d("MWCMCreateSubthreadRowActionButton.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWMessageActionButton.react","MWXIconThread","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadRowActionButton.react");function d(e){var t=o("react-compiler-runtime").c(11),n=e.message,a=r("useMWCMCreateSubthread")(n),i=a[0],l=a[1],d=r("useOpenSubthreadView")(),m=n.subthreadKey,p,_;t[0]!==n.messageId||t[1]!==n.threadKey||t[2]!==i||t[3]!==d||t[4]!==m?(p=function(){c.onReady(function(e){return e.log(function(){var e={};return{action:{container_module:"MWCMCreateSubthreadRowActionButton",type:m!=null?105:104},error:{message:void 0},extra:e,message:{attachment_type:"",entry_point:o("LsFalcoEventEntryPoint").messageActions,id:n.messageId,recipient_id:void 0},thread:{group_size:(s||(s=o("I64"))).to_string(s.zero),id:s.to_string(n.threadKey),type:18}}})}),m!=null?d(m):i()},_=[n.messageId,n.threadKey,i,d,m],t[0]=n.messageId,t[1]=n.threadKey,t[2]=i,t[3]=d,t[4]=m,t[5]=p,t[6]=_):(p=t[5],_=t[6]);var f=o("Int64Hooks").useCallbackInt64(p,_),g=m!=null?o("SubthreadCreationStrings.react").viewSubthreadLabel:o("SubthreadCreationStrings.react").createSubthreadLabel,h;return t[7]!==l||t[8]!==f||t[9]!==g?(h=u.jsx(r("MWMessageActionButton.react"),{disabled:l,icon:r("MWXIconThread"),label:g,onPress:f}),t[7]=l,t[8]=f,t[9]=g,t[10]=h):h=t[10],h}l.default=d}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};l.default=e}),98);
__d("MWChatComposerMentionsViewItem.react",["CometImageFromIXValue.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSTextPairing.react","MWXSvgIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(18),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.handle,c=l.key,d=l.label,m=l.rawData,p=m.icon,_=m.image,f=m.photoURI,g=m.subtitle,h;if(f!=null){var y;n[3]!==f?(y=u.jsx(r("FDSProfilePhoto.react"),{size:28,source:{uri:f}}),n[3]=f,n[4]=y):y=n[4],h=y}else if(p!=null){var C;n[5]!==p?(C=p instanceof o("MWXSvgIcon").MWXSvgIcon?u.jsx(r("FDSIcon.react"),{color:"primary",disabled:!1,icon:p.originalComponent,size:28}):u.jsx(r("FDSIcon.react"),{color:"primary",disabled:!1,icon:p}),n[5]=p,n[6]=C):C=n[6],h=C}else if(_!=null){var b;n[7]!==_?(b=u.jsx(r("CometImageFromIXValue.react"),{source:_}),n[7]=_,n[8]=b):b=n[8],h=b}var v="mention("+(s!=null?s:c)+")",S;n[9]!==d||n[10]!==g?(S=u.jsx(r("FDSTextPairing.react"),{body:d,bodyLineLimit:1,level:3,meta:g,metaLineLimit:1}),n[9]=d,n[10]=g,n[11]=S):S=n[11];var R;return n[12]!==a||n[13]!==h||n[14]!==i||n[15]!==v||n[16]!==S?(R=u.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,itemStartContent:h,testid:void 0,children:S})),n[12]=a,n[13]=h,n[14]=i,n[15]=v,n[16]=S,n[17]=R):R=n[17],R}l.default=c}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)})}),s=e;l.default=s}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(t,n,r,o,a,i,l){"use strict";var e=["@","\\uff20"].join(""),s=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;",u="(?:\\.[ |$]|[ ]['\"]|['\"][ |$]| |["+s+"]|)";function c(t){var n=t.disallowedTerms,o=t.minMatchLength;return r("createCometMentionMatchStrategy")({disallowedChars:s,disallowedTerms:n,minMatchLength:o,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+o.toString()+")",triggers:e,validJoins:u})}l.default=c}),98);
__d("useMWCMMentionsDataSourceResolverConfig",["I64","Int64Hooks","LSFactory","LSIssueCommunityMemberListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","LSVec","ReQL","ReQLSuspense","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","pageID","react","react-compiler-runtime","useAsyncReStore","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(e,t){var n=o("react-compiler-runtime").c(12),a=r("useAsyncReStore")(),l,u;n[0]!==e||n[1]!==a||n[2]!==t?(l=async function(l){var n=await a;await r("LSPlatformWaitForTaskCompletion")(n,function(n){return r("LSIssueCommunityMemberListFetchStoredProcedure")(r("LSFactory")(n),{communityId:e,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(s||(s=o("I64"))).zero,nextPageCursor:"",requestId:r("pageID"),roles:r("LSVec").ofArray([s.of_int32(0)]),searchText:l,source:s.of_int32(8),threadKey:t,threadRoles:r("LSVec").ofArray([])})},"fetch mentions");var u=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.community_members.index("communitySource")).getKeyRange(e,(s||(s=o("I64"))).of_int32(8),r("pageID")).filter(d).take(6).map(function(t){var r,a=(r=o("ReQLSuspense").first(o("ReQL").fromTableAscending(n.tables.contextual_profile_v1).getKeyRange(t.contactId,e),i.id+":91"))==null?void 0:r.profileName;return{key:(s||(s=o("I64"))).to_string(t.contactId),label:a!=null?a:t.name,rawData:{photoURI:t.profilePictureUrl,source:"all",subtitle:a!=null?t.name:t.subtitle},type:"entry"}}));return u},u=[a,t,e],n[0]=e,n[1]=a,n[2]=t,n[3]=l,n[4]=u):(l=n[3],u=n[4]);var c=o("Int64Hooks").useCallbackInt64(l,u),m,p;n[5]===Symbol.for("react.memo_cache_sentinel")?(p=new Map,n[5]=p):p=n[5];var _=p,f;if(n[6]!==c){var g;n[8]===Symbol.for("react.memo_cache_sentinel")?(g=function(t){var e;return{entries:(e=_.get(t.query))!=null?e:[],params:t}},n[8]=g):g=n[8],f={bootstrap:function(){},fetchCache:g,fetchNetwork:async function(t){if(t.query==="")return{entries:[],params:t};var e=await c(t.query);return _.set(t.query,e),{entries:e,params:t}}},n[6]=c,n[7]=f}else f=n[7];var h;n[9]===Symbol.for("react.memo_cache_sentinel")?(h=r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0}),n[9]=h):h=n[9];var y;n[10]!==f?(y=[{dataSource:f,matchStrategy:h}],n[10]=f,n[11]=y):y=n[11],m=y;var C=m;return r("useCometMentionsDataSourceResolverConfig")(C,!1)}function d(e){var t=e.isBlocked;return t!==!0}l.default=c}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWChatComposerMentionsViewItem.react","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","react-compiler-runtime","useCometTypeaheadViewListStrategy","useCommunityMembers","useMWCMMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect,d={view:{minWidth:"x1jzhcrs",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(10),n=e.editor,a=e.folderId,i=e.threadFBID,l;t[0]!==i?(l=(s||(s=o("I64"))).of_string(i),t[0]=i,t[1]=l):l=t[1];var m=r("useMWCMMentionsDataSourceResolverConfig")(a,l),p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p={viewItemStrategyRenderer:r("MWChatComposerMentionsViewItem.react"),viewXStyle:d.view},t[2]=p):p=t[2];var _=r("useCometTypeaheadViewListStrategy")(p),f=o("useCommunityMembers").useClearMemberList(8),g,h;t[3]!==f?(g=function(){return function(){r("promiseDone")(f(r("pageID")))}},h=[f],t[3]=f,t[4]=g,t[5]=h):(g=t[4],h=t[5]),c(g,h);var y;return t[6]!==m||t[7]!==n||t[8]!==_?(y=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:m,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:_}),t[6]=m,t[7]=n,t[8]=_,t[9]=y):y=t[9],y}l.default=m}),98);
__d("MWCMStandaloneJoinDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMStandaloneJoinDialog.react").__setRef("MWCMStandaloneJoinDialog.entrypoint")};l.default=e}),98);
__d("MWCMStandaloneMemberJoinChatDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMStandaloneMemberJoinChatDialog.react").__setRef("MWCMStandaloneMemberJoinChatDialog.entrypoint")};l.default=e}),98);
__d("MWCMStandaloneRequestToJoinDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMStandaloneRequestToJoinDialog.react").__setRef("MWCMStandaloneRequestToJoinDialog.entrypoint")};l.default=e}),98);
__d("MWChannelPromptTimerPill.react",["fbt","I64","MWXText.react","formatDate","react","react-compiler-runtime","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(7),n=e.countdownTimestampMs,a=(u||(u=o("I64"))).to_float(n),i=new Date(a),l=r("useServerTime")(),d=l.getTime()>=a,m=i.getDay()!==l.getDay(),p=d?s._(/*BTDS*/"Ended"):m?s._(/*BTDS*/"Ends tomorrow"):s._(/*BTDS*/"Ends at {time}",[s._param("time",r("formatDate")(i,"g:i A"))]),_;t[0]!==d?(_={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k x1e56ztr x1gslohp x11t971q xvc5jky x10aut6u xf159sx xmzvs34 xeq5yr9 xwnonoy"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k x1e56ztr x1gslohp x11t971q xvc5jky x10aut6u xf159sx xmzvs34 xeq5yr9 x1d2osyd"}}[!!d<<0],t[0]=d,t[1]=_):_=t[1];var f;t[2]!==p?(f=c.jsx(r("MWXText.react"),{color:"white",numberOfLines:1,type:"meta4",children:p}),t[2]=p,t[3]=f):f=t[3];var g;return t[4]!==_||t[5]!==f?(g=c.jsx("div",babelHelpers.extends({},_,{children:f})),t[4]=_,t[5]=f,t[6]=g):g=t[6],g}l.default=d}),226);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","react-compiler-runtime","usePrevious","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=d.useContext,p=d.useEffect;function _(e,t){e.update(function(){var n=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(n)||!n.isCollapsed())){var a=n.anchor,i=a.getNode(),l=r("cometMentionsDataEntryText")(t),s=o("Lexical").$getRoot().getAllTextNodes().some(function(e){return o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(e)&&e.getTextContent().includes(l)});if(s!==!0){var u=o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:t.key,text:l}),c=o("LexicalText").$isRootTextContentEmpty(e.isComposing());c?n.insertNodes([u]):i.insertBefore(u),u.selectNext(0,0)}}})}function f(t,n,a){var l=o("react-compiler-runtime").c(18),c=m(o("MWPReplyContext.react").MWPReplyContext),d=c.reply,f=r("usePrevious")(d),g=(e||(e=r("useReStore")))(),h,y;l[0]!==g||l[1]!==d||l[2]!==n?(h=function(){return d!=null?o("ReQL").fromTableAscending(g.tables.messages).getKeyRange(n,d.timestampMs,d.messageId):o("ReQL").empty()},y=[d,n,g],l[0]=g,l[1]=d,l[2]=n,l[3]=h,l[4]=y):(h=l[3],y=l[4]);var C=o("ReQLSuspense").useFirst(h,y,i.id+":91"),b,v;l[5]!==g||l[6]!==C?(b=function(){return C!=null?o("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(C.senderId):o("ReQL").empty()},v=[g,C],l[5]=g,l[6]=C,l[7]=b,l[8]=v):(b=l[7],v=l[8]);var S=o("ReQLSuspense").useFirst(b,v,i.id+":102"),R;l[9]!==S?(R=S!=null?(s||(s=o("I64"))).equal(S.contactTypeExact,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)):!1,l[9]=S,l[10]=R):R=l[10];var L=R,E=L&&(C==null?void 0:C.botResponseId)!=null,k,I;l[11]!==t||l[12]!==E||l[13]!==f||l[14]!==d||l[15]!==a?(k=function(){var e=f==null&&d!=null;e&&E&&a===!0&&_(t,o("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},I=[t,d,f,E,a],l[11]=t,l[12]=E,l[13]=f,l[14]=d,l[15]=a,l[16]=k,l[17]=I):(k=l[16],I=l[17]),p(k,I)}l.insertMentionNodeToFront=_,l.useMWChatAppendMentionsNodeToReply=f}),98);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={image:{borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",float:"x1kmio9f",height:"x158ke7r",marginTop:"x16ldp7u",marginInlineEnd:"xf6vk7d",marginBottom:"xz62fqu",marginInlineStart:"xw01apr",width:"x1kl0l3y",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x70ekce",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(16),a=t.bodyLineLimit,i=t.imageUrl,l=t.onClick,s=t.quickReplyVertical,d=t.text,m=a===void 0?1:a,p=s===void 0?!1:s,_;n[0]!==p?(_=(e||(e=r("stylex"))).props(p?c.vertical:!1),n[0]=p,n[1]=_):_=n[1];var f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x1eb86dx xbjudin xnlwouz xpp8er5 xs9wviy x143s1ad x6x6mgx x137oirg x11zcahw x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1xegmmw xjpr12u x13fj5qh x1mzt3pk x1a8lsjc xpdmqnj x1g0dm76 x889kno x1yc453h x13faqbe"},n[2]=f):f=n[2];var g;n[3]!==i?(g=i!=null?u.jsx(r("CometImage.react"),{src:i,xstyle:c.image}):null,n[3]=i,n[4]=g):g=n[4];var h=p?"end":"start",y;n[5]!==m||n[6]!==h||n[7]!==d?(y=u.jsx(r("MDSTextPairing.react"),{body:d,bodyLineLimit:m,level:3,textAlign:h}),n[5]=m,n[6]=h,n[7]=d,n[8]=y):y=n[8];var C;n[9]!==l||n[10]!==g||n[11]!==y?(C=u.jsxs("button",babelHelpers.extends({},f,{onClick:l,children:[g,y]})),n[9]=l,n[10]=g,n[11]=y,n[12]=C):C=n[12];var b;return n[13]!==_||n[14]!==C?(b=u.jsx("div",babelHelpers.extends({},_,{children:C})),n[13]=_,n[14]=C,n[15]=b):b=n[15],b}l.default=d}),98);
__d("MWChatBusinessQuickReplyText.react",["MWChatBusinessQuickReply.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.onSend,a=e.quickReply,i=e.quickReplyVertical,l=i?3:1,u;t[0]!==n||t[1]!==a?(u=function(){return n(a)},t[0]=n,t[1]=a,t[2]=u):u=t[2];var c=u,d=a.image_url,m=d!=null?d:void 0,p;return t[3]!==l||t[4]!==c||t[5]!==a.title||t[6]!==i||t[7]!==m?(p=s.jsx(r("MWChatBusinessQuickReply.react"),{bodyLineLimit:l,imageUrl:m,onClick:c,quickReplyVertical:i,text:a.title}),t[3]=l,t[4]=c,t[5]=a.title,t[6]=i,t[7]=m,t[8]=p):p=t[8],p}l.default=u}),98);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9122413841198113"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:e},params:{id:n("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){var e=o("CometRelay").fetchQuery(t,c,{}).toPromise().then(function(e){var t=e==null?void 0:e.viewer.all_emails;if(t&&t.length>0){var r=t.find(u);r!=null?n(r.display_email):n(t[0].display_email)}});r("promiseDone")(e)},e[0]=t,e[1]=n):n=e[1],n}function u(e){return e.is_primary}var c=e!==void 0?e:e=n("MWChatUserEmailQuery.graphql");l.useUserEmailDataQuery=s}),98);
__d("MWChatBusinessQuickReplyUserEmail.react",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(16),n=e.onSend,a=e.quickReply,i=e.quickReplyVertical,l=e.userID,u=o("MWChatUserEmailQuery").useUserEmailDataQuery(),m=d(),p=m[0],_=m[1],f;t[0]!==u?(f=function(){u(_)},t[0]=u,t[1]=f):f=t[1];var g;if(t[2]!==u||t[3]!==l?(g=[l,u,_],t[2]=u,t[3]=l,t[4]=g):g=t[4],c(f,g),p==null)return null;var h;t[5]!==n||t[6]!==a.content_type||t[7]!==a.data||t[8]!==a.image_url||t[9]!==a.payload||t[10]!==p?(h=function(){return n({content_type:a.content_type,data:a.data,image_url:a.image_url,payload:a.payload,title:p})},t[5]=n,t[6]=a.content_type,t[7]=a.data,t[8]=a.image_url,t[9]=a.payload,t[10]=p,t[11]=h):h=t[11];var y;return t[12]!==i||t[13]!==h||t[14]!==p?(y=s.jsx(r("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:i,text:p}),t[12]=i,t[13]=h,t[14]=p,t[15]=y):y=t[15],y}l.default=m}),98);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9485519004888666"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){var e=o("CometRelay").fetchQuery(t,c,{}).toPromise().then(function(e){var t=e==null?void 0:e.viewer.user.all_phones;if(t&&t.length>0){var r=t.find(u);if(r!=null){var o;n((o=r.phone_number)==null?void 0:o.universal_number)}else{var a;n((a=t[0].phone_number)==null?void 0:a.universal_number)}}});r("promiseDone")(e)},e[0]=t,e[1]=n):n=e[1],n}function u(e){return e.is_preferred}var c=e!==void 0?e:e=n("MWChatUserPhoneNumberQuery.graphql");l.useUserPhoneNumberDataQuery=s}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.react",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(18),n=e.onSend,a=e.quickReply,i=e.quickReplyVertical,l=e.userID,u=o("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),m=d(p),_=m[0],f=m[1],g;t[0]!==u?(g=function(){u(function(e){return f(function(){return e})})},t[0]=u,t[1]=g):g=t[1];var h;if(t[2]!==u||t[3]!==l?(h=[l,u,f],t[2]=u,t[3]=l,t[4]=h):h=t[4],c(g,h),_==null)return null;var y=a.content_type,C=a.data,b=a.image_url,v=a.payload,S;t[5]!==y||t[6]!==C||t[7]!==b||t[8]!==v||t[9]!==_?(S={content_type:y,data:C,image_url:b,payload:v,title:_},t[5]=y,t[6]=C,t[7]=b,t[8]=v,t[9]=_,t[10]=S):S=t[10];var R=S,L;t[11]!==R||t[12]!==n?(L=function(){return n(R)},t[11]=R,t[12]=n,t[13]=L):L=t[13];var E=L,k;return t[14]!==E||t[15]!==i||t[16]!==_?(k=s.jsx(r("MWChatBusinessQuickReply.react"),{onClick:E,quickReplyVertical:i,text:_}),t[14]=E,t[15]=i,t[16]=_,t[17]=k):k=t[17],k}function p(){}l.default=m}),98);
__d("MWChatBusinessQuickReplyList.react",["Actor","CometScrollableArea.react","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.react","MWChatBusinessQuickReplyUserEmail.react","MWChatBusinessQuickReplyUserPhoneNumber.react","MessengerWebEventsFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(20),n=e.arrayQR,a=e.id,i=e.onSend,l=e.quickReplyType,m;if(t[0]!==l){var p=l===void 0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSQuickReplyType").NONE):l;m=(u||(u=o("I64"))).equal(p,(s||(s=o("LSIntEnum"))).ofNumber(r("LSQuickReplyType").VERTICAL)),t[0]=l,t[1]=m}else m=t[1];var _=m,f=o("Actor").useActor(),g=f[0],h,y;t[2]!==a?(h=function(){r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:a}})},y=[a],t[2]=a,t[3]=h,t[4]=y):(h=t[3],y=t[4]),d(h,y);var C;t[5]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x1n2onr6 xh8yej3 x1eb86dx"},t[5]=C):C=t[5];var b;t[6]!==_?(b={0:{className:"x1eb86dx x78zum5 x1q0g3np xozqiw3 x1nn3v0j xf159sx x1a8lsjc xmzvs34"},1:{className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"}}[!!_<<0],t[6]=_,t[7]=b):b=t[7];var v;if(t[8]!==g||t[9]!==n||t[10]!==i||t[11]!==_){var S;t[13]!==g||t[14]!==i||t[15]!==_?(S=function(t,n){switch(t.content_type){case"text":return c.jsx(r("MWChatBusinessQuickReplyText.react"),{onSend:i,quickReply:t,quickReplyVertical:_},String(n));case"user_email":return c.jsx(r("MWChatBusinessQuickReplyUserEmail.react"),{onSend:i,quickReply:t,quickReplyVertical:_,userID:g},String(n));case"user_phone_number":return c.jsx(r("MWChatBusinessQuickReplyUserPhoneNumber.react"),{onSend:i,quickReply:t,quickReplyVertical:_,userID:g},String(n));default:return null}},t[13]=g,t[14]=i,t[15]=_,t[16]=S):S=t[16],v=n.map(S),t[8]=g,t[9]=n,t[10]=i,t[11]=_,t[12]=v}else v=t[12];var R;return t[17]!==b||t[18]!==v?(R=c.jsx("div",babelHelpers.extends({},C,{children:c.jsx(r("CometScrollableArea.react"),{horizontal:!0,children:c.jsx("div",babelHelpers.extends({},b,{children:v}))})})),t[17]=b,t[18]=v,t[19]=R):R=t[19],R}l.default=m}),98);
__d("MWChatChatButtonColorConstants",[],(function(t,n,r,o,a,i,l){"use strict";var e={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};l.styles=e}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(t,n,r,o,a,i,l){"use strict";var e;l.MWChatComposerIconsGif=(e=n("cr:2809")).Gif,l.MWChatComposerIconsSticker=e.Sticker,l.MWChatComposerIconsPhoto=e.Photo,l.MWChatComposerIconsMoreActions=e.MoreActions,l.MWChatComposerIconsEmoji=e.Emoji}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6,u=(function(){function t(e,t,n,o,a,i){this.$1=[],this.$1=Array.from(e.values()).filter(function(e){return e.contactId!==r("CurrentUser").getID()}),this.$2=t,this.$3=n!=null?n:null,this.$4=o,this.$5=a,this.$6=i}var a=t.prototype;return a.bootstrap=function(){},a.fetchCache=function(t){return o("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(t,this.$1,this.$2,this.$3,this.$4,this.$5,s,this.$6)},a.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();l.default=u}),98);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29201589049485762"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:r},params:{id:n("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n,a){var e=o("CometRelay").fetchQuery(n,u,{formID:t}).toPromise().then(function(e){e&&a({firstScreen:e.messenger_feedback_form_data.first_screen,formId:e.messenger_feedback_form_data.form_id,pageId:e.messenger_feedback_form_data.page_id,privacy:e.messenger_feedback_form_data.privacy})});r("promiseDone")(e)},u=e!==void 0?e:e=n("MWChatCustomerFeedbackFormDataQuery.graphql"),c=function(t,n,r){s(t,n,function(e){return r(e)})};l.fetch=c}),98);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9503867116315653"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],t=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:t},params:{id:n("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n,a){var e=o("CometRelay").fetchQuery(n,u,{formID:t}).toPromise().then(function(e){if(e){var t;a((t=e.messenger_feedback_form_state)==null?void 0:t.form_state)}});r("promiseDone")(e)},u=e!==void 0?e:e=n("MWChatCustomerFeedbackStateQuery.graphql"),c=function(t,n,r){s(t,n,function(e){return r(e)})};l.fetch=c}),98);
__d("MWChatFileIcon.react",["FDSDocumentFilled16Icon","MWXIcon_DEPRECATED.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 x2bj2ny x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1sa5p1d x1y1aw1k xf159sx xwib8y2 xmzvs34",children:s.jsx(r("MWXIcon_DEPRECATED.react"),{color:"primary",icon:r("FDSDocumentFilled16Icon")})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",children:s.jsx(r("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("MWChatFilePreProcessingErrorToast.react",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e={body:s._(/*BTDS*/"The file you have selected is not a valid format."),title:s._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]")};l.invalidFileFormat=e}),226);
__d("MWChatFilePreview.react",["fbt","FDSImageCover.react","MWChatFileIconV2.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.fileName,i=e.isError,l=e.isRetryableError,d=e.onRetry,m=e.withPreview,p;t[0]!==n?(p=n!=null?n:{},t[0]=n,t[1]=p):p=t[1];var _=p,f=_.previewUrl;if(i===!0){var g,h;t[2]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x1g0dm76"},h={className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 x10w6t97 xl56j7k x1td3qas"},t[2]=g,t[3]=h):(g=t[2],h=t[3]);var y;return t[4]!==l||t[5]!==d?(y=u.jsx("div",babelHelpers.extends({},g,{children:u.jsx("div",babelHelpers.extends({},h,{children:l===!0?u.jsx(r("MWXCircleButton.react"),{color:"primary",icon:r("MWXIconRefreshAlt"),label:s._(/*BTDS*/"Retry"),onPress:d,size:32,testid:void 0,type:"normal"}):u.jsx("div",{"data-testid":void 0,children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconExclamationMarkCircle"),size:20})})}))})),t[4]=l,t[5]=d,t[6]=y):y=t[6],y}if(f==null||!m){var C;return t[7]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx("div",{className:"x1g0dm76",children:u.jsx(r("MWChatFileIconV2.react"),{})}),t[7]=C):C=t[7],C}var b=a!=null?a:"",v;return t[8]!==f||t[9]!==b?(v=u.jsx(r("FDSImageCover.react"),{alt:b,src:f,style:c.imageCover}),t[8]=f,t[9]=b,t[10]=v):v=t[10],v}l.default=d}),226);
__d("MWChatFileUploadErrorDialog.react",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(t){return{body:s._(/*BTDS*/"The file you have selected is too large. The maximum size is {size}MB.",[s._param("size",t)]),title:s._(/*BTDS*/"Failed to upload files")}},u=function(t){return{body:s._(/*BTDS*/"You can only attach a maximum of {limit} files to a single message.",[s._param("limit",t)]),title:s._(/*BTDS*/"Unable to attach files")}},c=function(t){return{body:s._(/*BTDS*/"You can only attach a maximum of {limit} media to a single message.",[s._param("limit",t)]),title:s._(/*BTDS*/"Unable to attach media")}},d=function(){return{body:s._(/*BTDS*/"One or more selected files are not supported."),title:s._(/*BTDS*/"Unsupported File")}};l.maxFileSizeExceeded=e,l.maxFilesNumberExceeded=u,l.maxMediaNumberExceeded=c,l.unsupportedFile=d}),226);
__d("MWChatForwardAction.react",["I64","MWChatMessageId","MWMessageActionButton.react","MWPActor.react","MWXIconShare","MessengerWebUXLogger","ODS","WebUserFlowLoggingDataContextProvider.react","emptyFunction","justknobx","react","react-compiler-runtime","useMWChatForward","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useContext;function m(e){(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","forward"),e==null||e.onClick()}function p(e){var t=o("react-compiler-runtime").c(21),n=e.dropToggle,a=e.forwardDialogType,i=e.label,l=e.message,s=e.onForward,p=e.threadType,_=n===void 0?!1:n,f=a===void 0?"open_":a,g;t[0]!==l.messageId||t[1]!==l.threadKey||t[2]!==l.timestampMs?(g=o("MWChatMessageId").makeSent((u||(u=o("I64"))).to_string(l.threadKey),l.messageId,u.to_string(l.timestampMs)),t[0]=l.messageId,t[1]=l.threadKey,t[2]=l.timestampMs,t[3]=g):g=t[3];var h=g,y;t[4]!==_||t[5]!==f||t[6]!==h||t[7]!==s?(y={dropToggle:_,forwardDialogType:f,messageID:h,onClose:r("emptyFunction"),onSend:s},t[4]=_,t[5]=f,t[6]=h,t[7]=s,t[8]=y):y=t[8];var C=r("useMWChatForward")(y),b;t[9]===Symbol.for("react.memo_cache_sentinel")?(b=r("justknobx")._("4238"),t[9]=b):b=t[9];var v=b,S=r("MessengerWebUXLogger").useInteractionLogger(),R=d(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),L=R.setLoggingData,E=o("MWPActor.react").useActor(),k;t[10]!==E||t[11]!==C||t[12]!==S||t[13]!==l||t[14]!==L||t[15]!==p?(k=function(){m(C);var e=l.threadKey,t=(u||(u=o("I64"))).equal(l.senderId,E),n={extraData:{actor_type:t?"sender":"receiver",component:"MWChatForwardAction"},flowInstanceId:r("uuidv4")(),threadKey:e,threadType:p};S==null||S(babelHelpers.extends({},n,{eventName:"open_forward_message_dialog"})),L(n)},t[10]=E,t[11]=C,t[12]=S,t[13]=l,t[14]=L,t[15]=p,t[16]=k):k=t[16];var I=k,T;return t[17]!==C||t[18]!==I||t[19]!==i?(T=v?c.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconShare"),label:i,onPress:I,testid:void 0}):c.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconShare"),label:i,loggingEvent:"open_forward_message_dialog",onPress:function(){return m(C)},testid:void 0}),t[17]=C,t[18]=I,t[19]=i,t[20]=T):T=t[20],T}l.default=p}),98);
__d("MWChatImageSize",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t,n){var r=o("react-compiler-runtime").c(4),a=t!=null?t:!1,i=c(),l=d(),s=l[0],m=l[1],_,f;return r[0]!==a||r[1]!==e?(_=function(){if(e!=null){if(i.current==null&&!a){var t=new Image;t.src=e,t.onload=function(){return m({height:t.naturalHeight,width:t.naturalWidth})},i.current=t}return function(){m(p);var e=i.current;e!=null&&(e.onload=null)}}},f=[e,a,m],r[0]=a,r[1]=e,r[2]=_,r[3]=f):(_=r[2],f=r[3]),u(_,f),s}function p(){}l.useImageSize=m}),98);
__d("MessengerInCallReactionFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M26.5 5a1 1 0 1 1 2 0v2.25c0 .138.112.25.25.25H31a1 1 0 1 1 0 2h-2.25a.25.25 0 0 0-.25.25V12a1 1 0 1 1-2 0V9.75a.25.25 0 0 0-.25-.25H24a1 1 0 1 1 0-2h2.25a.25.25 0 0 0 .25-.25V5z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.792a.485.485 0 0 0-.366-.475A11.027 11.027 0 0 0 18 7C11.925 7 7 11.925 7 18s4.925 11 11 11 11-4.925 11-11c0-.908-.11-1.79-.317-2.634a.485.485 0 0 0-.475-.366H27.5a3 3 0 0 1-3-3 .5.5 0 0 0-.5-.5 3 3 0 0 1-3-3v-.708zM14.25 14c-.938 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.563-2-1.5-2zm7.5 0c-.938 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.563-2-1.5-2zm1.75 7.5c0 2-2.5 4-5.5 4s-5.5-2-5.5-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MWChatReactionsAddReactionIcon",["MWXSvgIcon","MessengerInCallReactionFilled.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(r("MessengerInCallReactionFilled.svg.react")),!0);l.default=e}),98);
__d("MWChatReactionsAction.react",["fbt","MWChatMessageId","MWChatReactionsActionContainer.react","MWChatReactionsAddReactionIcon","MWMessageActionButton.react","MWV2MessageRowActionsContext.react","MWXIconFaceHappyOutline","ODS","emptyFunction","react","useIsMultiReactionEnabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect;function _(e){var t=s._(/*BTDS*/"React"),n=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),a=n.openReactionsMenu,i=m(function(){a.current=r("emptyFunction")},[a]);p(function(){return i},[i]);var l=e.messageID,d=o("MWChatMessageId").getThreadId(l),_=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(d);return c.jsx(r("MWChatReactionsActionContainer.react"),babelHelpers.extends({},e,{disableReflowToPositionOnNarrowWidth:!0,children:function(n,i,l,s,d,m){var e=function(){i(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};return a.current=e,c.jsx(r("MWMessageActionButton.react"),{icon:r(_?"MWChatReactionsAddReactionIcon":"MWXIconFaceHappyOutline"),label:t,loggingEvent:"click_react_to_message",onHoverIn:s,onHoverOut:d,onPress:e,onPressIn:m,ref:n,testid:void 0})}}))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24351217861135071"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"messageID"},t={defaultValue:null,kind:"LocalArgument",name:"receiptID"},r=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"MWChatReceiptDataQuery",selections:r},params:{id:n("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n,a){r("promiseDone")(o("CometRelay").fetchQuery(r("CometRelayEnvironment"),u,{messageID:n,receiptID:t}).toPromise().then(function(e){if((e==null?void 0:e.receipt_data)!=null){var t=e.receipt_data,n=t.items?t.items.map(function(e){return{description:e.description,name:e.name,price:e.price,quantity:e.quantity,thumb_url:e.thumb_url}}):[],r=t.adjustments?t.adjustments.map(function(e){return{adjustment_type:e.adjustment_type,display_adjustment_amount:e.display_adjustment_amount}}):[];a({address_line_1:t.address_line_1,address_line_2:t.address_line_2,address_line_3:t.address_line_3,adjustments:r,cancellation_url:t.cancellation_url,items:n,merchant_name:t.merchant_name,order_id:t.order_id,order_time:t.order_time,order_url:t.order_url,payment_method:t.payment_method,recipient_name:t.recipient_name,shipping_cost:t.shipping_cost,subtotal:t.subtotal,total_cost:t.total_cost,total_tax:t.total_tax})}}))},u=e!==void 0?e:e=n("MWChatReceiptDataQuery.graphql");l.fetch=s}),98);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","MWGenAIUtils","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.altText,a=e.head,i=e.tabIndex,l=e.xstyle;if(o("MWGenAIUtils").isMetaAIContact(a.id))return null;var u;return t[0]!==n||t[1]!==a.imageSrc||t[2]!==i||t[3]!==l?(u=a.imageSrc===""?s.jsx(r("MDSGlimmer.react"),{index:1,xstyle:c.profilePlaceholder}):s.jsx(o("react-strict-dom").html.img,{alt:n,"data-testid":void 0,height:14,src:a.imageSrc,style:[c.image,l],tabIndex:i,width:14}),t[0]=n,t[1]=a.imageSrc,t[2]=i,t[3]=l,t[4]=u):u=t[4],u}var c={image:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",objectFit:"xl1xv1r",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},profilePlaceholder:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};l.default=u}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.head,a=e.text,i=e.xstyle,l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[u.root,u.mask],t[0]=c):c=t[0];var d;t[1]!==i?(d=[u.singleSeenHeadRow,i],t[1]=i,t[2]=d):d=t[2];var m=l==="Inbox"?"middle":"end",p;t[3]!==n||t[4]!==a?(p=s.jsx(r("MWChatSingleSeenHead.react"),{altText:a,head:n,tabIndex:0}),t[3]=n,t[4]=a,t[5]=p):p=t[5];var _;t[6]!==n.id||t[7]!==m||t[8]!==p||t[9]!==a?(_=s.jsx(r("MWXTooltip.react"),{align:m,forceInlineDisplay:!0,position:"above",tooltip:a,children:p},n.id),t[6]=n.id,t[7]=m,t[8]=p,t[9]=a,t[10]=_):_=t[10];var f;return t[11]!==d||t[12]!==_?(f=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:c,children:s.jsx(o("react-strict-dom").html.div,{style:d,children:_})}),t[11]=d,t[12]=_,t[13]=f):f=t[13],f}l.default=c}),98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useMWXLazyDialog")(r("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),t=e[0],n=r("useMWXLazyDialog")(r("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify")),o=n[0];return s(function(e){var n=e.id;return r("gkx")("22992")?o({transferId:r("nullthrows")(n)},function(){}):t({params:{rel:"dialog-post",uri:r("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:r("nullthrows")(n),is_sender_flow:!1})}},function(){})},[t])}l.useP2PPaymentTransactionInformationVerify=u}),98);
__d("ServicesCometLeadFormDialogRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9357715610995402"}),null);
__d("ServicesCometLeadFormDialogRootQuery$Parameters",["ServicesCometLeadFormDialogRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("ServicesCometLeadFormDialogRootQuery_facebookRelayOperation"),metadata:{},name:"ServicesCometLeadFormDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("ViewFormDetailsModal.entrypoint",["JSResourceForInteraction","ServicesCometLeadFormDialogRootQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryRef:{parameters:r("ServicesCometLeadFormDialogRootQuery$Parameters"),variables:{responseID:t.responseID}}}}},root:r("JSResourceForInteraction")("ServicesCometLeadFormDialogRoot.react").__setRef("ViewFormDetailsModal.entrypoint")};l.default=e}),98);
__d("ViewFormRequestEditableDialogRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24251305977787491"}),null);
__d("ViewFormRequestEditableDialogRootQuery$Parameters",["ViewFormRequestEditableDialogRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("ViewFormRequestEditableDialogRootQuery_facebookRelayOperation"),metadata:{},name:"ViewFormRequestEditableDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("ViewFormRequestEditableModal.entrypoint",["JSResourceForInteraction","ViewFormRequestEditableDialogRootQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryRef:{parameters:r("ViewFormRequestEditableDialogRootQuery$Parameters"),variables:{requestID:t.requestID}}}}},root:r("JSResourceForInteraction")("ViewFormRequestEditableDialogRoot.react").__setRef("ViewFormRequestEditableModal.entrypoint")};l.default=e}),98);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9917349461720552"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:t},params:{id:n("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function c(e){var t=e.action_content_blob,r=e.config;return new(s||(s=n("Promise")))(function(e,n){o("CometRelay").commitMutation(r.environment,{mutation:u,onCompleted:function(n){var t;e((t=n.results)==null?void 0:t.success)},onError:function(t){n(t)},variables:{input:{action_content_blob:t}}})})}l.default=c}),98);
__d("createErrorForMAIBALogger",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e instanceof Error)return e;try{var t;return r("err")((t=JSON.stringify(e))!=null?t:"Unknown error")}catch(e){return r("err")("Unknown error")}}l.default=e}),98);
__d("MerchantConfirmOrderDialog.entrypoint",["BizKitBIOOrderDetailActionsQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.orderID;return{queries:{MerchantConfirmOrderQueryReference:{parameters:n("BizKitBIOOrderDetailActionsQuery$Parameters"),variables:{orderID:e}}}}},root:r("JSResourceForInteraction")("MerchantConfirmOrderDialogContainer.react").__setRef("MerchantConfirmOrderDialog.entrypoint")};l.default=e}),98);
__d("useMerchantConfirmOrderDialog",["MerchantConfirmOrderDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n;t[0]!==e?(n={orderID:e},t[0]=e,t[1]=n):n=t[1];var a;return t[2]===Symbol.for("react.memo_cache_sentinel")?(a={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},t[2]=a):a=t[2],r("useMWXEntryPointDialog")(r("MerchantConfirmOrderDialog.entrypoint"),n,void 0,void 0,a)}l.default=e}),98);
__d("useHandleMerchantConfirmOrderDialog",["react","react-compiler-runtime","useMerchantConfirmOrderDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(6),t=d(null),n=t[0],a=t[1],i=d(!1),l=i[0],s=i[1],c=r("useMerchantConfirmOrderDialog")(n!=null?n:""),m=c[0],_,f;e[0]!==l||e[1]!==n||e[2]!==m?(_=function(){if(n!=null&&l){var e=function(){return s(!1)};m({orderID:n},e)}},f=[l,n,m],e[0]=l,e[1]=n,e[2]=m,e[3]=_,e[4]=f):(_=e[3],f=e[4]),u(_,f);var g,h;return e[5]===Symbol.for("react.memo_cache_sentinel")?(h=function(t){s(p),a(function(){return t})},e[5]=h):h=e[5],g=h,g}function p(){return!0}l.default=m}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(3),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l;return t[0]!==n||t[1]!==a?(l=function(t,o,l,s){r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(r("LSFactory")(e),{actionType:s,attachmentFbid:o,messageId:t,targetId:l,threadKey:a})},"readwrite",void 0,void 0,i.id+":38"))},t[0]=n,t[1]=a,t[2]=l):l=t[2],l}l.default=c}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useCallback;function m(){var t=o("react-compiler-runtime").c(6),a=(s||(s=r("useReStore")))(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=r("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react"),t[0]=c):c=t[0];var d=r("useMWXLazyDialog")(c),m=d[0],_;return t[1]!==m||t[2]!==a.tables.attachment_ctas||t[3]!==a.tables.attachments||t[4]!==l?(_=function(s){r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(l,s).map(function(e){var t=e.defaultCtaId,n=t!=null?t:(u||(u=o("I64"))).zero,r=o("ReQLSuspense").first(o("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(n),i.id+":40");if(r!=null)return r.nativeUrl})).then(function(t){var r=t!=null?t:"",o=r.split(","),a=o[0],i=o[1];if(a==null||i==null){var l,s,u=new URL(r).searchParams;a=(l=u.get("lat"))!=null?l:"",i=(s=u.get("long"))!=null?s:""}return m({latitude:a,longitude:i},p),(e||(e=n("Promise"))).resolve()}))},t[1]=m,t[2]=a.tables.attachment_ctas,t[3]=a.tables.attachments,t[4]=l,t[5]=_):_=t[5],_}function p(){}l.default=m}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9534661689958012"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:n("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:e}}}}},root:r("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};l.default=e}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n={orderID:e},t[0]=e,t[1]=n):n=t[1],r("useMWXEntryPointDialog")(r("P2MAttachBankSlipDialog.entrypoint"),n)}l.default=e}),98);
__d("useMWLSShowAttachBankSlip",["react","react-compiler-runtime","useMWUIAttachBankSlipDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(6),t=d(null),n=t[0],a=t[1],i=d(!1),l=i[0],s=i[1],c=r("useMWUIAttachBankSlipDialog")(n),m=c[0],_,f;e[0]!==l||e[1]!==n||e[2]!==m?(_=function(){n!=null&&l&&m({orderID:n},function(){return s(!1)})},f=[n,l,m],e[0]=l,e[1]=n,e[2]=m,e[3]=_,e[4]=f):(_=e[3],f=e[4]),u(_,f);var g,h;return e[5]===Symbol.for("react.memo_cache_sentinel")?(h=function(t){return s(p),a(function(){return t})},e[5]=h):h=e[5],g=h,g}function p(){return!0}l.default=m}),98);
__d("useMWUIECPCheckoutDialog",["FBP2MECPCheckoutDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("react-compiler-runtime").c(4),i;return a[0]!==e||a[1]!==t||a[2]!==n?(i={entrypoint:e,orderID:t,pageID:n},a[0]=e,a[1]=t,a[2]=n,a[3]=i):i=a[3],r("useMWXEntryPointDialog")(r("FBP2MECPCheckoutDialog.entrypoint"),i)}l.default=e}),98);
__d("useMWLSShowECPCheckout",["react","react-compiler-runtime","useMWUIECPCheckoutDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(8),t=d(""),n=t[0],a=t[1],i=d(""),l=i[0],s=i[1],c=d(""),m=c[0],_=c[1],f=d(!1),g=f[0],h=f[1],y=r("useMWUIECPCheckoutDialog")(m,n,l),C=y[0],b,v;e[0]!==m||e[1]!==g||e[2]!==n||e[3]!==l||e[4]!==C?(b=function(){if(n!=null&&g){C({entrypoint:m,orderID:n,pageID:l},function(){return h(!1)});return}},v=[m,n,l,g,C],e[0]=m,e[1]=g,e[2]=n,e[3]=l,e[4]=C,e[5]=b,e[6]=v):(b=e[5],v=e[6]),u(b,v);var S,R;return e[7]===Symbol.for("react.memo_cache_sentinel")?(R=function(t,n,r){h(p),a(function(){return n!=null?n:""}),s(function(){return r}),_(function(){return t})},e[7]=R):R=e[7],S=R,S}function p(){return!0}l.default=m}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","react-compiler-runtime","useCometDynamicEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t=r("useCometDynamicEntryPointDialog")(r("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),n=r("useCometDynamicEntryPointDialog")(r("GroupsCometAdmodChatsReviewDialog.entrypoint")),a;return e[0]!==t||e[1]!==n?(a=function(r,a,i,l){r!=null&&(l!=null&&l!=="0"?t({routeProps:{adminActivityID:l,groupID:a,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:a}):n({groupID:a,profileID:i,scale:o("WebPixelRatio").get()},{}))},e[0]=t,e[1]=n,e[2]=a):a=e[2],a}l.default=u}),98);
__d("useMWLSShowOffsiteBankTransfer",["logVultureJSDeadEntrypoint"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s}function s(e){r("logVultureJSDeadEntrypoint")("P2MOffsiteBankTransferDialog.entrypoint")}l.default=e}),98);
__d("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9813648665385219"}),null);
__d("P2MInvoicerAndConsumerSwitcherQuery$Parameters",["P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"),metadata:{},name:"P2MInvoicerAndConsumerSwitcherQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="31542857811980323"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MInvoicerAndConsumerSwitcherQuery$Parameters","P2MOrderDetailDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.orderID;return{queries:{P2MInvoicerAndConsumerSwitcherQueryReference:{parameters:n("P2MInvoicerAndConsumerSwitcherQuery$Parameters"),variables:{orderID:e}},P2MOrderDetailDialogQueryReference:{parameters:n("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:e}}}}},root:r("JSResourceForInteraction")("P2MOrderDetailDialogContainer.react").__setRef("P2MOrderDetailDialog.entrypoint")};l.default=e}),98);
__d("useMWUIOrderDetailsDialog",["P2MOrderDetailDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n;t[0]!==e?(n={orderID:e},t[0]=e,t[1]=n):n=t[1];var a;return t[2]===Symbol.for("react.memo_cache_sentinel")?(a={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},t[2]=a):a=t[2],r("useMWXEntryPointDialog")(r("P2MOrderDetailDialog.entrypoint"),n,void 0,void 0,a)}l.default=e}),98);
__d("useMWLSShowOrderDetails",["InteractionTracing","qpl","react","react-compiler-runtime","useMWUIOrderDetailsDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(6),t=d(null),n=t[0],a=t[1],i=d(!1),l=i[0],s=i[1],c=r("useMWUIOrderDetailsDialog")(n),m=c[0],f,g;e[0]!==l||e[1]!==n||e[2]!==m?(f=function(){if(n!=null&&l){var e=r("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:r("qpl")._(341848280,"867"),tracePolicy:"ctxo_performance.orderDetails.v2",traceType:"INTERACTION"});m({interactionID:e,orderID:n},function(){s(!1),r("InteractionTracing").getPendingInteractions().forEach(_)})}},g=[n,l,m],e[0]=l,e[1]=n,e[2]=m,e[3]=f,e[4]=g):(f=e[3],g=e[4]),u(f,g);var h,y;return e[5]===Symbol.for("react.memo_cache_sentinel")?(y=function(t){return s(p),a(function(){return t})},e[5]=y):y=e[5],h=y,h}function p(){return!0}function _(e){var t;((t=e.getTrace())==null?void 0:t.tracePolicy)==="ctxo_performance.orderDetails.v2"&&e.cancelTrace("[Manual Cancel] Dialog Closed",!0)}l.default=m}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n={transactionID:e},t[0]=e,t[1]=n):n=t[1],r("useMWXEntryPointDialog")(r("FBPayHubTransactionDetailDialog.entrypoint"),n)}l.default=e}),98);
__d("useMWLSShowPaymentDetails",["fbt","LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","react-compiler-runtime","useMWUIPaymentDetailsDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=c.useEffect,m=c.useMemo,p=c.useState;function _(){var e=o("react-compiler-runtime").c(8),t=p(null),n=t[0],a=t[1],i=p(!1),l=i[0],c=i[1],m=r("useMWUIPaymentDetailsDialog")(n),_=m[0],g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=(u||(u=o("LSIntEnum"))).ofNumber(15),e[0]=g):g=e[0];var h=o("MWLSDatabaseLazySync").useSync(g),y,C;e[1]!==l||e[2]!==_||e[3]!==n?(y=function(){n!=null&&l&&_({title:s._(/*BTDS*/"Payment Details"),transactionID:n},function(){return c(!1)})},C=[n,l,_],e[1]=l,e[2]=_,e[3]=n,e[4]=y,e[5]=C):(y=e[4],C=e[5]),d(y,C);var b,v;return e[6]!==h?(v=function(t){return r("promiseDone")(h()),c(f),a(function(){return t})},e[6]=h,e[7]=v):v=e[7],b=v,b}function f(){return!0}l.default=_}),226);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){var l=o("react-compiler-runtime").c(8),s;l[0]!==i||l[1]!==t?(s={routeProps:{adminActivityID:i,groupID:t,isManagementActivityLogTargetProfilePlus:!1}},l[0]=i,l[1]=t,l[2]=s):s=l[2];var u=r("useMWXEntryPointDialog")(r("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),s),c;l[3]===Symbol.for("react.memo_cache_sentinel")?(c=o("WebPixelRatio").get(),l[3]=c):c=l[3];var d;l[4]!==n||l[5]!==t||l[6]!==a?(d={authorID:n,groupID:t,postID:a,scale:c},l[4]=n,l[5]=t,l[6]=a,l[7]=d):d=l[7];var m=r("useMWXEntryPointDialog")(r("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),d);return i!=null&&i!=="0"?u:m}l.default=e}),98);
__d("useMWLSShowPendingPost",["react","react-compiler-runtime","useMWUIPendingPostDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(9),t=d(null),n=t[0],a=t[1],i=d(""),l=i[0],s=i[1],c=d(""),m=c[0],p=c[1],_=d(""),f=_[0],g=_[1],h=d(""),y=h[0],C=h[1],b=d(!1),v=b[0],S=b[1],R=r("useMWUIPendingPostDialog")(n,l,m,f,y),L=R[0],E;e[0]!==l||e[1]!==v||e[2]!==L||e[3]!==n?(E=function(){n!=null&&v&&L({activityLogTarget:"Group",groupID:l},function(){return S(!1)})},e[0]=l,e[1]=v,e[2]=L,e[3]=n,e[4]=E):E=e[4];var k;e[5]!==v||e[6]!==n?(k=[n,v],e[5]=v,e[6]=n,e[7]=k):k=e[7],u(E,k);var I,T;return e[8]===Symbol.for("react.memo_cache_sentinel")?(T=function(t,n,r,o,i){return S(!0),a(t),s(n),p(r),g(o),C(i)},e[8]=T):T=e[8],I=T,I}l.default=m}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t})},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t})},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("getRingbackUrl",["URI"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(t==null)return null;var o=new(e||(e=r("URI")))(t);return o.addQueryData("users_to_ring",[n]),o.toString()}l.default=s}),98);
__d("useMakeRoomRingback",["FBLogger","I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(d||(d=o("react"))).useCallback;function p(){var t=o("react-compiler-runtime").c(4),a=o("RTWebPreCallHooks").useJoinMeetupCallback(),i=(s||(s=r("useReStore")))(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),d;return t[0]!==i.tables.threads||t[1]!==a||t[2]!==l?(d=function(s){var t=s.linkUrl;r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(l)).then(function(i){if(i!=null){var l;return(u||(u=o("I64"))).equal(i.threadType,(c||(c=o("LSIntEnum"))).ofNumber(1))?l=r("getRingbackUrl")(t,(u||(u=o("I64"))).to_string(i.threadKey)):(r("FBLogger")("rtc_www").mustfix("Cannot ring a non user thread"),l=t),(e||(e=n("Promise"))).resolve(a(l))}return r("FBLogger")("rtc_www").mustfix("Cannot find thread when trying to ring a user"),(e||(e=n("Promise"))).resolve()}),void 0,_)},t[0]=i.tables.threads,t[1]=a,t[2]=l,t[3]=d):d=t[3],d}function _(e){r("FBLogger")("rtc_www").catching(e).mustfix("Error making a ring back")}l.default=p}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t})},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("ServicesApproveAppointmentMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9021638394602672"}),null);
__d("ServicesApproveAppointmentMutation.graphql",["ServicesApproveAppointmentMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantBookingConfirmAppointmentResponsePayload",kind:"LinkedField",name:"instant_booking_confirm_appointment",plural:!1,selections:[{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequest",kind:"LinkedField",name:"request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServicesApproveAppointmentMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServicesApproveAppointmentMutation",selections:t},params:{id:n("ServicesApproveAppointmentMutation_facebookRelayOperation"),metadata:{},name:"ServicesApproveAppointmentMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useServicesConfirmAppointmentBookingMutation",["RelayHooks","ServicesApproveAppointmentMutation.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=o("RelayHooks").useMutation(r("ServicesApproveAppointmentMutation.graphql")),n=t[0],a;return e[0]!==n?(a=function(t){n({variables:{input:{referrer_ui_component:"BUBBLE",referrer_ui_surface:"MESSAGE",request_id:t}}})},e[0]=n,e[1]=a):a=e[1],a}l.default=u}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","AdsMessengerContext.react","BusinessDefinedFormOpenImpressionFalcoEvent","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","LSFactory","LSMarkAsXStoredProcedure","MNCommerceCTAProcessor","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatReceiptDataQuery","MWLSPostbackCtaHandler","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","Popup","ViewFormDetailsModal.entrypoint","ViewFormRequestEditableModal.entrypoint","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","createErrorForMAIBALogger","emptyFunction","goUriOnNewWindow","logVultureJSDeadEntrypoint","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useCometDynamicEntryPointDialog","useHandleMerchantConfirmOrderDialog","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowECPCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingback","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog","useServicesConfirmAppointmentBookingMutation"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback,c=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function d(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("VultureJSDeadComponent.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){var e=t.messageId,n=t.receiptId;if(n!=null){o("MWChatReceiptDataQuery").fetch(n,e,function(e){var t=s._(/*BTDS*/"Order confirmation");return a({receipt:e,title:t})});return}},e[1]=a,e[2]=i):i=e[2],i}function m(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){a({contentType:t.contentType.content_type,orderID:t.orderID,pageID:t.pageID},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}function p(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("P2MCometAsyncControllerDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){a({contentType:t.payload.action_type},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}function _(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometOffsitePaymentOnboaringDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({orderID:t.orderID},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function f(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometBankSlipDetailsPanelDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({orderID:t.orderID},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function g(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometPaymentSlipDetailslDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({paymentSlipID:t.orderID},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function h(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometGCashIDOnboardingDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){var e,n=(e=t.contentType.extra_data)==null?void 0:e.payment_slip_detection_id;i({pageID:t.orderID,paymentSlipID:n==null?null:String(n)},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function y(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i=o("CometRelay").useRelayEnvironment(),l;return e[1]!==i||e[2]!==a?(l=function(t){r("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:t.actorId,event_type:"mw_xma_click",form_id:t.eeMessageId,page_id:t.pageId}});var e=o("CometRelay").loadQuery(i,r("MWBuyerShippingAddressRootQuery"),{id:t.pageId});a({actorId:t.actorId,eeMessageId:t.eeMessageId,initialQueryRef:e,messageId:t.messageId,pageId:t.pageId},function(){e.dispose()})},e[1]=i,e[2]=a,e[3]=l):l=e[3],l}function C(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){var e={environment:t},o=r("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:n.feedbackActionContentBlob,config:e}),a=o.then(v,b);r("promiseDone")(a)},e[0]=t,e[1]=n):n=e[1],n}function b(){o("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)}function v(){o("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)}var S=r("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function R(){var e=o("react-compiler-runtime").c(3),t=r("useMWXLazyDialog")(S),n=t[0],a=o("CometRelay").useRelayEnvironment(),i;return e[0]!==a||e[1]!==n?(i=function(t){var e=t.feedbackFormId;o("MWChatCustomerFeedbackStateQuery").fetch(e,a,function(t){t!=null&&o("MWChatCustomerFeedbackFormDataQuery").fetch(e,a,function(e){e!=null&&n({firstScreen:e.firstScreen,formId:e.formId,pageId:e.pageId,privacy:e.privacy,state:t})})})},e[0]=a,e[1]=n,e[2]=i):i=e[2],i}function L(){var e=o("react-compiler-runtime").c(3),t=r("useMWXLazyDialog")(S),n=t[0],a=o("CometRelay").useRelayEnvironment(),i;return e[0]!==a||e[1]!==n?(i=function(t){var e=t.firstScreen,r=t.formId,i=t.pageId,l=t.privacy;o("MWChatCustomerFeedbackStateQuery").fetch(r,a,function(t){return n({firstScreen:e,formId:r,pageId:i,privacy:l,state:t})})},e[0]=a,e[1]=n,e[2]=i):i=e[2],i}function E(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(){var e=s._(/*BTDS*/"This form is not supported on the web. Please open this chat on your mobile device to continue.").toString();a({htmlBlob:e})},e[1]=a,e[2]=i):i=e[2],i}function k(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatPageRTCCallSummary.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(){var e=s._(/*BTDS*/"Call summaries are only available on mobile devices. View summaries on the Messenger or Meta Business Suite app on your mobile device instead.").toString();a({body:e})},e[1]=a,e[2]=i):i=e[2],i}function I(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({pageID:t.pageId,requestID:t.requestId})},e[1]=a,e[2]=i):i=e[2],i}function T(){var e=o("react-compiler-runtime").c(2),t=r("useCometDynamicEntryPointDialog")(r("ViewFormDetailsModal.entrypoint")),n;return e[0]!==t?(n=function(n){return t({responseID:n.responseID},{responseID:n.responseID})},e[0]=t,e[1]=n):n=e[1],n}function D(){var e=o("react-compiler-runtime").c(2),t=r("useCometDynamicEntryPointDialog")(r("ViewFormRequestEditableModal.entrypoint")),n;return e[0]!==t?(n=function(n){return r("BusinessDefinedFormOpenImpressionFalcoEvent").log(function(){return{consumer_id:n.consumerID,page_id:n.pageID,request_id:n.requestID}}),t({pageID:n.pageID,requestID:n.requestID},{pageID:n.pageID,requestID:n.requestID})},e[0]=t,e[1]=n):n=e[1],n}function x(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({})},e[1]=a,e[2]=i):i=e[2],i}function $(){var e=o("react-compiler-runtime").c(2),t=r("useMWLSOpenStaticLocationDialog.react")(),n;return e[0]!==t?(n=function(n){return t(n.msgId)},e[0]=t,e[1]=n):n=e[1],n}function P(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({boardingPassDetail:t})},e[1]=a,e[2]=i):i=e[2],i}function N(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({itineraryPayload:t})},e[1]=a,e[2]=i):i=e[2],i}function M(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({actionLink:t.actionLink,pageID:t.pageID,threadID:t.pageID,userID:t.userID},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}function w(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){return c.onReady(A),e(n.hasVideo,n.threadId,n.trigger,n.representedID)},t[0]=e,t[1]=n):n=t[1],n}function A(e){return e.logClick({component:"start_call_button",surface:"admin_message"})}function F(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({guestID:t.guestId,pageID:t.pageId})},e[1]=a,e[2]=i):i=e[2],i}function O(){return B}function B(e){return r("MNCommerceCTAProcessor").process(e.ctaId,e.messageId)}function W(e){o("Popup").open(e,1024,500)}function q(e){return e==="xma_p2m_mark_as_received"?"xma_p2m_mark_as_received":e==="xma_p2m_mark_as_paid"?"xma_p2m_mark_as_paid":e==="xma_p2m_mark_as_shipped"?"xma_p2m_mark_as_shipped":null}function U(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("VultureJSDeadComponent.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({linkUrl:t.linkUrl})},e[1]=a,e[2]=i):i=e[2],i}function V(){var e=o("react-compiler-runtime").c(2),t=r("useAsyncReStore")(),n;return e[0]!==t?(n=function(n,o,a){r("promiseDone")(t.then(async function(e){await e.runInTransaction(async function(e){await r("LSMarkAsXStoredProcedure")(r("LSFactory")(e),{ctaId:n,ctaType:o,orderId:a})},"readwrite",void 0,void 0,i.id+":619")}))},e[0]=t,e[1]=n):n=e[1],n}function H(){var e=o("react-compiler-runtime").c(2),t=r("useCometDynamicEntryPointDialog")(r("MarketplaceCometReviewOffersDialog.entrypoint")),n;return e[0]!==t?(n=function(n){return t({listingId:n},{})},e[0]=t,e[1]=n):n=e[1],n}function G(){var e=o("react-compiler-runtime").c(3),t=o("AdsMessengerContext.react").useAdsMessengerContext(),n=t.isMessengerInAds,r=t.showAdsAILowProbabilityEntitySelectionModal,a;return e[0]!==n||e[1]!==r?(a=function(t){if(n&&r!=null){var e;r({adAccountID:t.adAccountID,allowDraftSelection:(e=t.allowDraftSelection)!=null?e:!1,entityType:t.entityType,threadKey:t.threadKey})}},e[0]=n,e[1]=r,e[2]=a):a=e[2],a}function z(){var e=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),t=j(),n=o("AdsMessengerContext.react").useAdsMessengerContext(),a=n.maybeGetCallbackFromURI,i=n.maybeLogAdsAICtaClick;return u(function(n){var o=n.actionContentBlob,l=n.ctaLabel,s=n.message,u=n.platformToken,c=n.url,d,m,p=!1,_=!1,f;try{var g=o!=null?JSON.parse(o):{};if(d=g.bot_response_id,m=g.dialog,m!=null&&t(babelHelpers.extends({},m,{bot_response_id:d})),p=u!=null&&u.length>0,p&&e(u,s),_=c!=null&&c.length>0,c!=null&&_){var h=a==null?void 0:a(c);h!=null?h():r("goUriOnNewWindow")(c)}}catch(e){throw f=r("createErrorForMAIBALogger")(e),e}finally{i==null||i({bot_response_id:d,cta_label:l,error:f,has_dialog:m!=null,has_postback:p,has_url:_})}},[a,i,e,t])}function j(){var e=o("react-compiler-runtime").c(3),t=o("AdsMessengerContext.react").useAdsMessengerContext(),n=t.isMessengerInAds,a=t.showAdsAISMAGModal,i;return e[0]!==n||e[1]!==a?(i=function(t){if(n&&a!=null&&typeof t.use_case_params=="object"&&t.use_case_params!=null&&typeof t.use_case=="string"){var e;r("promiseDone")(a({bot_response_id:t.bot_response_id,overlay_view_type:(e=t.overlay_view_type)!=null?e:void 0,use_case:t.use_case,use_case_params:t.use_case_params}))}},e[0]=n,e[1]=a,e[2]=i):i=e[2],i}function K(e,t){var n=o("react-compiler-runtime").c(49),a=d(),i=_(),l=f(),s=g(),u=h(),c=L(),b=R(),v=O(),S=x(),A=$(),B=I(),K=T(),Q=D(),X=P(),Y=F(),J=N(),Z=M(),ee=r("useMWP2PPaymentRequestCancelDialog")(),te=r("useP2PPaymentRequestConfirmDialog")(),ne=r("useP2PPaymentRequestDeclineDialog")(),re=r("useMWP2PPaymentTransactionDeclineDialog")(),oe=r("useP2PPaymentMethodAddDialog")(),ae=o("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),ie=w(t),le=r("useMakeRoomRingback")(),se=U(),ue=m(),ce=p(),de=C(),me=r("useMWLSShowMemberRequest")(),pe=r("useMWLSShowPendingPost")(),_e=r("useMWLSShowECPCheckout")(),fe=r("useMWLSShowPaymentDetails")(),ge=r("useMWLSShowOrderDetails")(),he=V(),ye=r("useMWLSShowAttachBankSlip")(),Ce=r("useMWLSShowOffsiteBankTransfer")(),be=y(),ve=r("useMWLSMarketplaceXmaCtaHandler")(),Se=H(),Re=E(),Le=k(),Ee=r("useServicesConfirmAppointmentBookingMutation")(),ke=G(),Ie=z(),Te=j(),De=r("useHandleMerchantConfirmOrderDialog")(),xe;return n[0]!==Ee||n[1]!==Te||n[2]!==Ie||n[3]!==De||n[4]!==se||n[5]!==le||n[6]!==ie||n[7]!==v||n[8]!==oe||n[9]!==ee||n[10]!==te||n[11]!==ne||n[12]!==re||n[13]!==ae||n[14]!==ve||n[15]!==e||n[16]!==ke||n[17]!==ce||n[18]!==ye||n[19]!==l||n[20]!==X||n[21]!==B||n[22]!==be||n[23]!==c||n[24]!==b||n[25]!==_e||n[26]!==u||n[27]!==Y||n[28]!==Re||n[29]!==Le||n[30]!==ue||n[31]!==J||n[32]!==S||n[33]!==he||n[34]!==me||n[35]!==Z||n[36]!==Ce||n[37]!==i||n[38]!==a||n[39]!==ge||n[40]!==fe||n[41]!==s||n[42]!==pe||n[43]!==Se||n[44]!==A||n[45]!==K||n[46]!==Q||n[47]!==de?(xe=function(n){if(n.NAME==="P2PPaymentTransactionInformationVerify")return ae(n.VAL);if(n.NAME==="P2PPaymentTransactionDecline")return re(n.VAL.id);if(n.NAME==="MakeWorkJoinableCallInvite"||n.NAME==="MakeRoomRingback")return le(n.VAL);if(n.NAME==="P2MCheckout"){var t=n.VAL;return _e("P2M_Regular",t.orderID,t.pageID)}if(n.NAME==="ShowCustomerFeedback")return c(n.VAL);if(n.NAME==="P2MInformationalMessageBottomSheet"){var o,d=(o=n.VAL.contentType)==null?void 0:o.content_type;return d==="payment_detection_merchant_slip_validation"?i(n.VAL):d==="payment_detection_merchant_bank_account_verified_details"?l(n.VAL):d==="order_details"?ge(n.VAL.orderID):d==="unified_checkout"?ye(n.VAL.orderID):d==="payment_detection_confirmation_details"?s(n.VAL):d==="merchant_external_payment_account"?u(n.VAL):ue(n.VAL)}if(n.NAME==="P2MAsyncControllerDialog")return ce(n.VAL);if(n.NAME==="WorkplaceChatBotSubmitFeedback")return de(n.VAL);if(n.NAME==="P2PPaymentRequestCancel")return ee(n.VAL.id);if(n.NAME==="SendImagePostback"){var m=n.VAL,p=m.loggingDetails;return p!=null&&r("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:p.consumer_id,event_data:{ad_id:p.ad_id,cta:"button",index:String(p.index)},event_location:"unknown",page_id:p.page_id}}),e(m.message,m.platformToken,m.image)}if(n.NAME==="ShowMessengerExtensions")return Z(n.VAL);if(n.NAME==="OpenAccountLink")return v(n.VAL);if(n.NAME==="P2MOffsiteBankTransferCTA")return Ce(n.VAL.orderID);if(n.NAME==="P2PPaymentTransactionReceiveMoney")return oe(n.VAL.id);if(n.NAME==="ShowBoardingPass")return X(n.VAL);if(n.NAME==="P2MOrderDetails")return ge(n.VAL.orderID);if(n.NAME==="P2MMarkAsPaid"||n.NAME==="P2MMarkAsShipped"||n.NAME==="P2MMarkAsReceived")return he(n.VAL.ctaId,n.VAL.ctaType,n.VAL.orderID);if(n.NAME==="P2MMarkAsX"){var _=q(n.VAL.ctaType);if(_!=null)return he(n.VAL.ctaId,_,n.VAL.orderID)}if(n.NAME==="ShowStaticLocationDetails")return A(n.VAL);if(n.NAME==="P2PPaymentTransactionDetails")return fe(n.VAL.id);if(n.NAME==="P2PPaymentRequestDecline")return ne(n.VAL.id);if(n.NAME==="ShowBookingDetails")return B(n.VAL);if(n.NAME==="ViewFormDetails")return K(n.VAL);if(n.NAME==="ViewFormRequestEditable")return Q(n.VAL);if(n.NAME==="ShowOrderConfirmation")return a(n.VAL);if(n.NAME==="ShowCustomerFeedbackForm")return b(n.VAL);if(n.NAME==="ShowItinerary")return J(n.VAL);if(n.NAME==="OpenAccountLinkUrl")return W(n.VAL);if(n.NAME==="MakeJoinRoomFromPortal")return se(n.VAL);if(n.NAME==="P2MAttachBankSlip")return ye(n.VAL.orderID);if(n.NAME==="BuyerShippingAddress")return be(n.VAL);if(n.NAME==="AdmodChatsShowPendingPost"){var f=n.VAL;return pe(f.targetId,f.groupId,f.authorId,f.postId,f.activityLogItemId)}if(n.NAME==="P2PPaymentRequestConfirm")return te(n.VAL.id);if(n.NAME==="MakeRtcCall")return ie(n.VAL);if(n.NAME==="ProcessMarketplaceCallFunction"){var g=n.VAL,h=g.actionType,y=g.attachmentFbid,C=g.messageId,R=g.targetId;return ve(C,y,R,h)}if(n.NAME==="ShowLiveLocationDetails")return S(n.VAL);if(n.NAME==="AdmodChatsShowMemberRequest"){var L=n.VAL;return me(L.targetId,L.groupId,L.profileId,L.activityLogItemId)}if(n.NAME==="ShowGuestChatHistory")return Y(n.VAL);if(n.NAME==="ShowInThreadFormDetails")return Re();if(n.NAME==="ShowInThreadRTCCallSummaryMessage")return Le();if(n.NAME==="ConfirmAppointmentBooking")return Ee(n.VAL.requestID);if(n.NAME==="OpenMarketplaceDialog"){var E=n.VAL,k=E.ctaType,I=E.listingId,T=E.threadId;switch(k){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(T!=null){r("logVultureJSDeadEntrypoint")("CometMarketplaceCreateDiscountedPriceDialog.entrypoint");return}else return;case"SHIPPED_OFFER_CANCEL":return I!=null?Se(I):void 0;default:return}}if(n.NAME==="ShowAdsAILowProbabilityEntitySelectionModal")return ke(n.VAL);if(n.NAME==="HandleSMAGPostback")return Ie(n.VAL);if(n.NAME==="HandleSMAGDialog")return Te(n.VAL);if(n.NAME==="ShowMerchantConfirmOrder")return De(n.VAL.orderID)},n[0]=Ee,n[1]=Te,n[2]=Ie,n[3]=De,n[4]=se,n[5]=le,n[6]=ie,n[7]=v,n[8]=oe,n[9]=ee,n[10]=te,n[11]=ne,n[12]=re,n[13]=ae,n[14]=ve,n[15]=e,n[16]=ke,n[17]=ce,n[18]=ye,n[19]=l,n[20]=X,n[21]=B,n[22]=be,n[23]=c,n[24]=b,n[25]=_e,n[26]=u,n[27]=Y,n[28]=Re,n[29]=Le,n[30]=ue,n[31]=J,n[32]=S,n[33]=he,n[34]=me,n[35]=Z,n[36]=Ce,n[37]=i,n[38]=a,n[39]=ge,n[40]=fe,n[41]=s,n[42]=pe,n[43]=Se,n[44]=A,n[45]=K,n[46]=Q,n[47]=de,n[48]=xe):xe=n[48],xe}var Q=K;l.useHandler=Q}),226);
__d("MWStatusText.react",["MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={alignLeft:{paddingInlineStart:"x9kd4p0",$$css:!0},alignRight:{paddingInlineEnd:"xf159sx",$$css:!0},color:{color:"x1xf6ywa",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.addOnEnd,a=e.alignLeft,i=e.error,l=e.ref,c=e.text,d=e.xstyle,m=a===void 0?!1:a,p=m?u.alignLeft:u.alignRight,_;t[0]!==p||t[1]!==d?(_=[p,u.mask,d],t[0]=p,t[1]=d,t[2]=_):_=t[2];var f=m===!0?"start":"end",g=i===!0?"negative":"secondary",h;t[3]!==c?(h=s.jsx(o("react-strict-dom").html.span,{style:u.color,children:c}),t[3]=c,t[4]=h):h=t[4];var y;t[5]!==n||t[6]!==f||t[7]!==g||t[8]!==h?(y=s.jsxs(r("MWXText.react"),{align:f,color:g,testid:void 0,type:"meta4",children:[h,n]}),t[5]=n,t[6]=f,t[7]=g,t[8]=h,t[9]=y):y=t[9];var C;return t[10]!==l||t[11]!==_||t[12]!==y?(C=s.jsx(o("react-strict-dom").html.span,{ref:l,role:"none",style:_,children:y}),t[10]=l,t[11]=_,t[12]=y,t[13]=C):C=t[13],C}l.default=c}),98);
__d("MWClickToRevealMustacheText.react",["fbt","MWBlockingProtectionContext.react","MWStatusText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={statusText:{paddingBottom:"xwib8y2",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.messageId,a=e.xsyle,i=r("MWBlockingProtectionContext.react").useHook(),l=i.findMessageId,d;t[0]!==l||t[1]!==n?(d=l(n),t[0]=l,t[1]=n,t[2]=d):d=t[2];var m=d,p;return t[3]!==m||t[4]!==a?(p=m?null:u.jsx(r("MWStatusText.react"),{alignLeft:!0,text:s._(/*BTDS*/"Click to view").toString(),xstyle:[a,c.statusText]}),t[3]=m,t[4]=a,t[5]=p):p=t[5],p}l.default=d}),226);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useCallback,_=d.useContext,f=d.useMemo,g=d.useState,h=m({clickedMessageId:null,fetchMessageSeenCount:r("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:r("emptyFunction")});function y(t){var n=o("react-compiler-runtime").c(10),a=t.children,l=g(null),u=l[0],d=l[1],m=g(!1),p=m[0],_=m[1],f=g(!1),y=f[0],C=f[1],b=(e||(e=r("useReStore")))(),v;n[0]!==b?(v=function(t,n,a){C(!0),d(n),b.runInTransaction(function(e){return r("LSFetchMessageSeenCountStoredProcedure")(r("LSFactory")(e),{messageId:n,threadKey:t})},"readwrite",void 0,void 0,i.id+":53").then(function(){C(!1),_(!1),o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:n},community_id:a?(s||(s=o("I64"))).to_string(a.folderId):null,event:"seen_count_rendered",group_id:a?(s||(s=o("I64"))).to_string(a.fbGroupId):null,source:"message_bubble",surface:"thread_view",thread_id:(s||(s=o("I64"))).to_string(t)})}).catch(function(){C(!1),_(!0)})},n[0]=b,n[1]=v):v=n[1];var S=v,R,L;n[2]!==u||n[3]!==S||n[4]!==p||n[5]!==y?(L={clickedMessageId:u,fetchMessageSeenCount:S,hasError:p,isLoading:y,setClickedMessageId:d},n[2]=u,n[3]=S,n[4]=p,n[5]=y,n[6]=L):L=n[6],R=L;var E=R,k;return n[7]!==a||n[8]!==E?(k=c.jsx(h.Provider,{value:E,children:a}),n[7]=a,n[8]=E,n[9]=k):k=n[9],k}function C(){return _(h)}var b={Provider:y,useHook:C};l.default=b}),98);
__d("MWCombineThemeConfigs",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{dark:Object.assign(e.dark,t.dark),light:Object.assign(e.light,t.light),type:t.type}}i.combine=e}),66);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(t,n,r,o,a,i,l,s,u){"use strict";function e(e,t,n,r,o){var a=t.toString();return{data:{decorType:"regular",handle:a,key:e,label:a,rawData:{icon:r,subtitle:n.toString()},type:"entry"},rangeType:o}}var c=[e("silent",s._(/*BTDS*/"silent"),s._(/*BTDS*/"Send message without a notification"),o("fbicon")._(u("549627"),16),"s")],d=c.map(function(e){return e.data}),m=c.reduce(function(e,t){var n;return e[(n=t.data.handle)!=null?n:t.data.key]=t.rangeType,e},{});function p(e){var t=m[e];return t==null?(r("FBLogger")("messenger_web").mustfix("Unregisted messenger composer command %s used. Please add the command to the mapping in MWCommandsComposerPluginCommandList",e),"n"):t}l.commands=d,l.commandToRangeType=p}),226);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginCommandList","MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){var t;return o("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:"0",commandPrefix:"/",handle:r("cometMentionsDataEntryText")(e),rangeType:o("MWCommandsComposerPluginCommandList").commandToRangeType((t=e.handle)!=null?t:e.key)})}),s=e;l.default=s}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo,d={view:{minWidth:"x1jzhcrs",$$css:!0}},m=(function(){function t(){}var r=t.prototype;return r.bootstrap=function(){},r.fetchCache=function(t){return{entries:t.query.length===0?o("MWCommandsComposerPluginCommandList").commands:o("MWCommandsComposerPluginCommandList").commands.filter(function(e){var n;return(n=e.handle)==null?void 0:n.startsWith(t.query)}),params:t}},r.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();function p(e){var t=o("react-compiler-runtime").c(6),n=e.editor,a,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{dataSource:new m,matchStrategy:r("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}],t[0]=i):i=t[0],a=i;var l=r("useCometMentionsDataSourceResolverConfig")(a,!0),s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s={viewItemStrategyRenderer:r("MWChatComposerMentionsViewItem.react"),viewXStyle:d.view},t[1]=s):s=t[1];var c=r("useCometTypeaheadViewListStrategy")(s),p;return t[2]!==l||t[3]!==n||t[4]!==c?(p=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:l,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:c}),t[2]=l,t[3]=n,t[4]=c,t[5]=p):p=t[5],p}l.default=p}),98);
__d("MWEditThemeDialogRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24209679198634279"}),null);
__d("MWEditThemeDialogRootQuery$Parameters",["MWEditThemeDialogRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWEditThemeDialogRootQuery_facebookRelayOperation"),metadata:{},name:"MWEditThemeDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWEditThemeDialogRoot.entrypoint",["JSResourceForInteraction","MWEditThemeDialogRootQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s={getPreloadProps:function(n){return{queries:{queryReference:{parameters:r("MWEditThemeDialogRootQuery$Parameters"),variables:{first:e}}}}},root:r("JSResourceForInteraction")("MWEditThemeDialogRoot.react").__setRef("MWEditThemeDialogRoot.entrypoint")};l.default=s}),98);
__d("MWEditedEyebrowLabel.react",["fbt","BaseMiddot.react","MessengerWebUXLogger","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.separatorStyle,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={eventName:"edit_eyebrow_impression"},t[0]=a):a=t[0];var i=r("MessengerWebUXLogger").useImpressionLoggerRef(a),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Edited"),t[1]=l):l=t[1];var c=l,d;t[2]!==n?(d=n!=null&&u.jsx(o("react-strict-dom").html.span,{style:n,children:u.jsx(r("BaseMiddot.react"),{})}),t[2]=n,t[3]=d):d=t[3];var m;t[4]!==i?(m=u.jsx(o("react-strict-dom").html.span,{"aria-label":c,"data-testid":void 0,ref:i,children:c}),t[4]=i,t[5]=m):m=t[5];var p;return t[6]!==d||t[7]!==m?(p=u.jsxs(u.Fragment,{children:[d,m]}),t[6]=d,t[7]=m,t[8]=p):p=t[8],p}l.default=c}),226);
__d("MWMessageEditContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useState,p={setShowEdits:function(){},showEdits:!1},_=s.createContext();function f(e){var t,n=o("react-compiler-runtime").c(5),r=e.children,a=e.value,i=a===void 0?p:a,l=m((t=i==null?void 0:i.showEdits)!=null?t:!1),u=l[0],c=l[1],d,f;n[0]!==u?(f={setShowEdits:c,showEdits:u},n[0]=u,n[1]=f):f=n[1],d=f;var g=d,h;return n[2]!==r||n[3]!==g?(h=s.jsx(_.Provider,{value:g,children:r}),n[2]=r,n[3]=g,n[4]=h):h=n[4],h}function g(){return c(_)}l.MWMessageEditContextProvider=f,l.useMWMessageEditContext=g}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","qpl","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(30),n=e.hasPadding,a=e.separatorStyle,i=r("MessengerWebUXLogger").useInteractionLogger(),l=o("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:d,showEdits:!1},c=l.setShowEdits,m=l.showEdits,p;t[0]!==i||t[1]!==c||t[2]!==m?(p=function(){m||(r("QPLUserFlow").start(r("qpl")._(1056849214,"1777")),i==null||i({eventName:"edit_message_history"})),c(!m)},t[0]=i,t[1]=c,t[2]=m,t[3]=p):p=t[3];var _=p,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f={eventName:"edit_eyebrow_impression"},t[4]=f):f=t[4];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h;t[5]!==m?(h=m?s._(/*BTDS*/"Hide edits"):s._(/*BTDS*/"Edited"),t[5]=m,t[6]=h):h=t[6];var y=h,C;t[7]!==m?(C=m?s._(/*BTDS*/"Hide edits"):s._(/*BTDS*/"View edits"),t[7]=m,t[8]=C):C=t[8];var b=C,v;t[9]!==a?(v=a!=null&&u.jsx(o("react-strict-dom").html.span,{style:a,children:u.jsx(r("BaseMiddot.react"),{})}),t[9]=a,t[10]=v):v=t[10];var S;t[11]!==n?(S=n===!0&&{paddingTop:6},t[11]=n,t[12]=S):S=t[12];var R;t[13]!==S?(R=babelHelpers.extends({color:"var(--mwp-primary-theme-color)"},S),t[13]=S,t[14]=R):R=t[14];var L;t[15]!==y?(L=u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:y}),t[15]=y,t[16]=L):L=t[16];var E;t[17]!==y||t[18]!==_||t[19]!==g||t[20]!==m||t[21]!==R||t[22]!==L?(E=u.jsx(r("MWXLink.react"),{"aria-expanded":m,"aria-label":y,color_DEPRECATED:o("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:_,ref:g,role:"button",style:R,weight_DEPRECATED:"medium",children:L}),t[17]=y,t[18]=_,t[19]=g,t[20]=m,t[21]=R,t[22]=L,t[23]=E):E=t[23];var k;t[24]!==E||t[25]!==b?(k=u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:b,position:"above",tooltip:b,children:E}),t[24]=E,t[25]=b,t[26]=k):k=t[26];var I;return t[27]!==k||t[28]!==v?(I=u.jsxs(u.Fragment,{children:[v,k]}),t[27]=k,t[28]=v,t[29]=I):I=t[29],I}function d(e){}function m(e){var t=o("react-compiler-runtime").c(4),n=e.enableEditHistory,a=e.hasPadding,i=e.separatorStyle,l=n===void 0?!0:n,s;return t[0]!==l||t[1]!==a||t[2]!==i?(s=l?u.jsx(c,{hasPadding:a,separatorStyle:i}):u.jsx(r("MWEditedEyebrowLabel.react"),{separatorStyle:i}),t[0]=l,t[1]=a,t[2]=i,t[3]=s):s=t[3],s}l.MWEditedEyebrowWithHistory=c,l.MWEditedEyebrow=m}),226);
__d("MWFDSClock.svg.react",["cr:21609"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21609")}),98);
__d("MWFDSLike.svg.react",["cr:21625"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21625")}),98);
__d("MWFDSLive.svg.react",["cr:21701"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21701")}),98);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.onPress,i=e.url,l=e.xstyle,u;t[0]!==i?(u=i!=null?{download:!0,target:"_blank",url:i}:void 0,t[0]=i,t[1]=u):u=t[1];var c;return t[2]!==n||t[3]!==a||t[4]!==u||t[5]!==l?(c=s.jsx(r("MWXPressable.react"),{children:n,display:"inline",linkProps:u,onPress:a,overlayDisabled:!0,xstyle:l}),t[2]=n,t[3]=a,t[4]=u,t[5]=l,t[6]=c):c=t[6],c}l.MWFilePressableDirectDownload=u}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("606"),s=o("FalcoLoggerInternal").create("messenger_file_preview_generation",e),u=s;l.default=u}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var n=function(){return Array.from((t.crypto||t.msCrypto).getRandomValues(new Uint32Array(2)))};return(e||(e=o("I64"))).to_string(n())}function c(t,n){var a=n.attachment;return r("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:n.attachmentID,entry_point:n.entryPoint,event:t,filesize:a!=null&&a.filesize!=null?(e||(e=o("I64"))).to_string(a.filesize):void 0,filetype:a==null?void 0:a.playableUrlMimeType,message_id:n.messageID.messageId,session_id:n.sessionId,thread_id:(e||(e=o("I64"))).to_string(n.thread.threadKey),thread_type:(s||(s=o("LSIntEnum"))).unwrapIntEnum(n.thread.threadType)}})}function d(e){return c("file_viewer_direct_download",e)}l.generateSessionId=u,l.logFileViewerDirectDownload=d}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t,n,a,i,l){var s=o("react-compiler-runtime").c(8),u=(e||(e=r("useReStore")))(),c;return s[0]!==n||s[1]!==i||s[2]!==t||s[3]!==a||s[4]!==l||s[5]!==u.tables.attachments||s[6]!==u.tables.threads?(c=function(s){a==null||a(s),r("promiseDone")((async function(){var e,r=await(e=o("ReQL")).firstAsync(e.fromTableAscending(u.tables.threads).getKeyRange(t.threadId)),a=await e.firstAsync(e.fromTableAscending(u.tables.attachments).getKeyRange(t.threadId,t.messageId));if(r){var s={attachment:a,attachmentID:n,entryPoint:i,messageID:t,sessionId:l,thread:r};o("MWFileViewerLogger").logFileViewerDirectDownload(s)}})())},s[0]=n,s[1]=i,s[2]=t,s[3]=a,s[4]=l,s[5]=u.tables.attachments,s[6]=u.tables.threads,s[7]=c):c=s[7],c}l.default=c}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","react-compiler-runtime","useMWFileOnPress"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(17),n=e.attachmentID,r=e.children,a=e.entryPoint,i=e.mediaRenderQpl,l=e.messageID,c=e.onPress,m=e.url,p=e.xstyle,_,f;if(t[0]!==i||t[1]!==m?(_=function(){m!=null&&m.length>0?i==null||i.endSuccess():i==null||i.endFail("load-file-error")},f=[i,m],t[0]=i,t[1]=m,t[2]=_,t[3]=f):(_=t[2],f=t[3]),u(_,f),l!=null&&l.type==="sent"&&n!=null&&m!=null){var g;return t[4]!==n||t[5]!==r||t[6]!==a||t[7]!==l.value||t[8]!==c||t[9]!==m||t[10]!==p?(g=s.jsx(d,{attachmentID:n,children:r,entryPoint:a,onPress:c,sentMessage:l.value,url:m,xstyle:p}),t[4]=n,t[5]=r,t[6]=a,t[7]=l.value,t[8]=c,t[9]=m,t[10]=p,t[11]=g):g=t[11],g}var h;return t[12]!==r||t[13]!==c||t[14]!==m||t[15]!==p?(h=s.jsx(o("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:r,onPress:c,url:m,xstyle:p}),t[12]=r,t[13]=c,t[14]=m,t[15]=p,t[16]=h):h=t[16],h}function d(e){var t=o("react-compiler-runtime").c(11),n=e.attachmentID,a=e.sentMessage,i=e.url,l=e.children,u=e.entryPoint,c=e.onPress,d=e.xstyle,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=o("MWFileViewerLogger").generateSessionId(),t[0]=p):p=t[0];var _=p,f=r("useMWFileOnPress")(a,n,c,u,_),g;t[1]!==i?(g=function(t){var e=t?t.message:"Cannot open file viewer";r("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(e);var n=o("ConstUriUtils").getUri(i);n!=null&&r("goUriOnNewWindow")(n)},t[1]=i,t[2]=g):g=t[2];var h;t[3]!==l||t[4]!==f||t[5]!==i||t[6]!==d?(h=s.jsx(o("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:l,onPress:f,url:i,xstyle:d}),t[3]=l,t[4]=f,t[5]=i,t[6]=d,t[7]=h):h=t[7];var y;return t[8]!==g||t[9]!==h?(y=s.jsx(r("CometErrorBoundary.react"),{fallback:m,onError:g,children:h}),t[8]=g,t[9]=h,t[10]=y):y=t[10],y}function m(){return null}l.default=c}),98);
__d("MWGenAINuxQplLogger",["I64","LSThreadAttributionStore","MWGenAIUtils","QPLUserFlow","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)),l=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(t,{annotations:{string:{mutation_result:a!==void 0?a:"null",nux_type:n,source:(e||(e=o("I64"))).isI64(i.value)?(e||(e=o("I64"))).to_string(i.value):i.value}},instanceKey:l}),r("QPLUserFlow").endSuccess(t,{instanceKey:l}),l}function u(e){return s(r("qpl")._(25302830,"1738"),e)}function c(e){return s(r("qpl")._(25299245,"1740"),e)}function d(e,t){return s(r("qpl")._(25308190,"1741"),e,t?"success":"failure")}l.logNuxRender=u,l.logNuxHidden=c,l.logNuxMutation=d}),98);
__d("MXGenAINuxTextContent.react",["MWXLink.react","MWXText.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n,o=e.formattedText,a=function(t,n,o,a){return s.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:s.jsx(r("MWXLink.react"),{href:a,target:"_blank",children:t.substring(n,o)})},n)},i=(t=o==null?void 0:o.text)!=null?t:"",l=(n=o==null?void 0:o.ranges)!=null?n:[],u=0,c=[];l.forEach(function(e){var t=e.length,n=e.offset,r=e.url;if(!(n==null||t==null||r==null)){var o=i.substring(u,n);c.push(d(o)),c.push([a(i,n,n+t,r)]),u=n+t}});var m=i.substring(u);c.push(d(m));var p=c.flat();return s.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:p})}u.displayName=u.name+" [from "+i.id+"]";var c=0;function d(e){if(!e)return[];for(var t=e.split("\n"),n=[],r=0;r<t.length;r++)r>0&&(n[n.length]=s.jsx("br",{},"br-"+c++)),t[r]&&(n[n.length]=t[r]);return n}l.default=u}),98);
__d("MessengerWebGenAIConsentStatusStore",["MessengerWebGenAIConsentStatus"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.config={chatConsented:r("MessengerWebGenAIConsentStatus").chat_consented},e.instance=this}e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance};var t=e.prototype;return t.getChatConsented=function(){return this.config.chatConsented},t.setChatConsented=function(t){this.config={chatConsented:t}},e})(),s=e.getInstance(),u=s;l.default=u}),98);
__d("useMWGenAIWriteConsentMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10014175975368501"}),null);
__d("useMWGenAIWriteConsentMutation.graphql",["useMWGenAIWriteConsentMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"metadata"}],t=[{alias:null,args:[{kind:"Variable",name:"metadata",variableName:"metadata"},{kind:"Literal",name:"nux_type",value:"GEN_AI_CHATS"}],concreteType:"XFBMessengerGenAiNuxWriteConsentResponsePayload",kind:"LinkedField",name:"xfb_messenger_gen_ai_nux_write_consent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMWGenAIWriteConsentMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMWGenAIWriteConsentMutation",selections:t},params:{id:n("useMWGenAIWriteConsentMutation_facebookRelayOperation"),metadata:{},name:"useMWGenAIWriteConsentMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useMWGenAIWriteConsentMutation",["CometRelay","CometRelayErrorHandling","FBLogger","MWGenAINuxQplLogger","MessengerWebGenAIConsentStatusStore","err","react","react-compiler-runtime","useMWGenAIWriteConsentMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback,c=e!==void 0?e:e=n("useMWGenAIWriteConsentMutation.graphql");function d(){var e=o("react-compiler-runtime").c(5),t=o("CometRelay").useMutation(c),n=t[0],a=t[1],i;e[0]!==n?(i=function(t){var e=t.metadata,a=t.onError,i=t.onSuccess;if(!e.nux_scope)throw r("FBLogger")("messenger_web_genai").mustfixThrow("Nux scope cannot be null");var l=e.nux_scope;return n({onCompleted:function(t){var e;if((t==null||(e=t.xfb_messenger_gen_ai_nux_write_consent)==null?void 0:e.success)===!0)o("MWGenAINuxQplLogger").logNuxMutation(l,!0),r("FBLogger")("messenger_web_genai").info("GenAI consent mutation succeeded"),r("MessengerWebGenAIConsentStatusStore").setChatConsented(!0),i==null||i(t);else{var n=r("err")("Consent mutation failed");o("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),r("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),a==null||a(n)}},onError:function(t){o("CometRelayErrorHandling").markErrorAsHandled(t),r("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),o("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),a==null||a(t)},variables:{metadata:e}})},e[0]=n,e[1]=i):i=e[1];var l=i,s;return e[2]!==l||e[3]!==a?(s=[l,a],e[2]=l,e[3]=a,e[4]=s):s=e[4],s}l.default=d}),98);
__d("MWGenAINux.react",["FBLogger","MWGenAINuxQplLogger","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","clearTimeout","react","react-compiler-runtime","setTimeout","useMWGenAIWriteConsentMutation"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(6),n=e.hasUserSentMessage,a=e.source;if(r("MessengerWebGenAIConsentStatus").inline_disclosure_text==null)return r("FBLogger")("messenger_web_genai").mustfix("Failed to fetch inline disclosure text for GenAI NUX"),null;if(a==="trainingAdminMessage"){var i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").training_message_text}),t[0]=i):i=t[0],i}switch(r("MessengerWebGenAIConsentStatus").nux_scope){case"ROW":{var l;return t[1]!==n||t[2]!==a?(l=a==="footer"?s.jsx(f,{isVisible:!n}):null,t[1]=n,t[2]=a,t[3]=l):l=t[3],l}case"EU":case"EU_V2":{var u;return t[4]!==a?(u=a==="header"||a==="adminMessage"?s.jsx(_,{}):null,t[4]=a,t[5]=u):u=t[5],u}default:return}}function _(){var e=o("react-compiler-runtime").c(1);o("MWGenAINuxQplLogger").logNuxRender("EU");var t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text}),e[0]=t):t=e[0],t}function f(e){var t=o("react-compiler-runtime").c(13),n=e.isVisible,a=m(n&&!r("MessengerWebGenAIConsentStatusStore").getChatConsented()),i=a[0],l=a[1],u=d(!0),p=r("useMWGenAIWriteConsentMutation")(),_=p[0],f,g;t[0]!==n?(f=function(){if(u.current){u.current=!1;return}if(!n){var e=r("setTimeout")(function(){l(!1),o("MWGenAINuxQplLogger").logNuxHidden("ROW")},100);return function(){return r("clearTimeout")(e)}}},g=[n],t[0]=n,t[1]=f,t[2]=g):(f=t[1],g=t[2]),c(f,g);var h,y;if(t[3]!==_||t[4]!==n||t[5]!==i?(h=function(){if(n&&i){var e=r("setTimeout")(function(){_({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:"ROW"}})},500);return function(){return r("clearTimeout")(e)}}},y=[n,i,_],t[3]=_,t[4]=n,t[5]=i,t[6]=h,t[7]=y):(h=t[6],y=t[7]),c(h,y),!i)return null;o("MWGenAINuxQplLogger").logNuxRender("ROW");var C;t[8]!==n?(C={0:{className:"xsag5q8 x1n2onr6 xh8yej3 x1eb86dx"},1:{className:"x1n2onr6 xh8yej3 x1eb86dx xnjgh8c xg01cxk x18d9i69 x1bbs9h xlshs6z"}}[!n<<0],t[8]=n,t[9]=C):C=t[9];var b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text}),t[10]=b):b=t[10];var v;return t[11]!==C?(v=s.jsx("div",babelHelpers.extends({},C,{children:b})),t[11]=C,t[12]=v):v=t[12],v}l.default=p}),98);
__d("MercuryLocalIDs",["randomInt"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return"root:"+s(e)}function s(e){var t=e!=null?e:Date.now(),n=r("randomInt")(0,4294967295),o=("0000000000000000000000"+n.toString(2)).slice(-22),a=t.toString(2)+o;return u(a.slice(-63))}function u(e){for(var t="",n=e;n!="0";){for(var r=0,o="",a=0;a<n.length;a++)r=2*r+parseInt(n[a],10),r>=10?(o+="1",r-=10):o+="0";t=r.toString()+t,n=o.slice(o.indexOf("1"))}return t}l.generateThreadID=e,l.generateOfflineThreadingID=s}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryLocalIDs","MessagePowerUp","MessagingAttachmentType","MessengerWebImageUploadUrl","Promise","URI","cr:6057","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(c||(c=o("react"))).useMemo;function _(e,t,a,i,l,s,c){var p=o("MercuryLocalIDs").generateOfflineThreadingID();return r("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(r("LSFactory")(e),{attachments:r("LSVec").ofArray([o("LSShape").ofRecord({action_url:void 0,attachment_fbid:p,attachment_index:(d||(d=o("I64"))).zero,attachment_type:(m||(m=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:p,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:i,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(r("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(r("LSMessageReplySourceTypeV2").NONE),senderId:t,snippetHasEmoji:!1,threadKey:a,threadType:m.ofNumber(1)}).then(function(t){var r=t[0];return e.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:r,platformRef:void 0,platformToken:l,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(d||(d=o("I64"))).of_string(r),threadAttributionSource:s,threadKey:a}).then(function(){return(u||(u=n("Promise"))).resolve([r,p])})})}function f(t,a){var l=(e||(e=r("useReStore")))(),c=o("MWPActor.react").useActor(),f=o("MWThreadKey.react").useMWThreadKeyMemoizedExn();return p(function(){return(function(e,p,g){var h=(d||(d=o("I64"))).to_string(c),y=function(t){var e=t[1],a=t[0];r("promiseDone")(window.fetch(g).then(function(e){return e.blob()}).then(function(e){return n("cr:6057").load().then(function(t){return{XComposerPhotoUploader:t,blob:e}})}).then(function(t){var c=t.XComposerPhotoUploader,p=t.blob,_=new c({concurrentLimit:3,onUploadFailure:function(t,n){return!0},onUploadProgress:function(t,n){},onUploadStart:function(n){r("promiseDone")(l.runInTransaction(function(t){return r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:(m||(m=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE),inMessageIndex:(d||(d=o("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite",void 0,void 0,i.id+":156"))},onUploadSuccess:function(n,s){var t=s.response.payload.metadata[0],u=t.image_id;u!=null&&r("promiseDone")(l.runInTransaction(function(t){return r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:(d||(d=o("I64"))).of_string(u.toString()),offlineAttachmentId:e}).then(function(){return r("LSResumeMediaSendJobStoredProcedure")(r("LSFactory")(t),{jobId:a,pluginType:(d||(d=o("I64"))).zero})})},"readwrite",void 0,void 0,i.id+":181"))},retryLimit:1,uploadEndpoint:o("ActorURI").create(new(s||(s=r("URI")))(r("MessengerWebImageUploadUrl").upload_url),h)});return _.getAsyncUploadRequest([new File([p],"postback image.jpg",{type:"image/jpeg"})]).send(),(u||(u=n("Promise"))).resolve()}))},C=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(f,t);r("promiseDone")(l.runInTransaction(function(t){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(t),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:a!=null?a:void 0,mark_read:!0,power_up_style:(m||(m=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:m.ofNumber(r("LSMessageReplySourceType").NONE),reply_source_type_v2:m.ofNumber(r("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:C}),mailboxType:m.ofNumber(r("LSMailboxType").MESSENGER),senderId:c,snippet:e,text:e,threadKey:f,threadType:m.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":224").then(function(e){return l.runInTransaction(function(e){return _(e,c,f,g,p,C,a).then(function(e){y(e)})},"readwrite",void 0,void 0,i.id+":254")}))})},[l,c,f])}l.usePostbackCtaHandler=f}),98);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("ReQL").fromTableAscending(e.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(t).map(function(e){return e.ongoingCallServerInfoData})}l.default=e}),98);
__d("MWLSStartPhoneCall",["$InternalEnum","FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","MWPActor.react","MWThreadKey.react","Promise","ReQL","ZenonProductConnectFunnel","getMWLSOngoingCallServerInfoData","getRTCCallStateOfLSRTCCallState","promiseDone","react-compiler-runtime","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=n("$InternalEnum").Mirrored(["OngoingVideoCall","OngoingAudioCall"]);function m(){var t=o("react-compiler-runtime").c(10),a=(c||(c=r("useReStore")))(),i=r("useRTWebCometStartCallCallback")(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),m=r("useMWLSGetOngoingCallState")(),g=o("MWPActor.react").useActor(),h,y;t[0]!==m||t[1]!==g||t[2]!==a||t[3]!==i||t[4]!==l?(h=function(c,d,h,y){r("ZenonProductConnectFunnel").setUITriggered();var t=c?"video":"audio";r("promiseDone")((u||(u=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.threads).getKeyRange(l)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(l).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,g)}).map(f)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(l).map(_))]).then(function(c){var p=c[0],_=c[1],f=c[2];if(p==null){r("FBLogger")("rtc_www").mustfix("Cannot find thread when trying to call someone");return}return o("ReQL").firstAsync(r("getMWLSOngoingCallServerInfoData")(a,l)).then(function(a){return(u||(u=n("Promise"))).resolve(i({existingCall:m!=null&&a!=null?{call_state:r("getRTCCallStateOfLSRTCCallState")((s||(s=o("LSIntEnum"))).unwrapIntEnum(m),(s||(s=o("LSIntEnum"))).unwrapIntEnum(p.threadType)),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:o("LSMessagingThreadTypeUtil").isArmadilloSecure(p.threadType),mediaType:t,representedID:y,thread:{e2eeThreadID:f==null?void 0:(e||(e=o("I64"))).to_string(f),id:d,secureOneToOneThreadPeerId:_!=null&&(e||(e=o("I64"))).equal(p.threadType,(s||(s=o("LSIntEnum"))).ofNumber(15))?_:void 0,type:(s||(s=o("LSIntEnum"))).unwrapIntEnum(p.threadType)},trigger:h}))})}),void 0,p)},y=[g,i,l,a,m],t[0]=m,t[1]=g,t[2]=a,t[3]=i,t[4]=l,t[5]=h,t[6]=y):(h=t[5],y=t[6]);var C=o("Int64Hooks").useCallbackInt64(h,y),b=void 0;m!=null&&(e||(e=o("I64"))).equal(m,(s||(s=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").AUDIO_GROUP_CALL))?b=d.OngoingAudioCall:m!=null&&(e||(e=o("I64"))).equal(m,(s||(s=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").VIDEO_GROUP_CALL))&&(b=d.OngoingVideoCall);var v;return t[7]!==b||t[8]!==C?(v=[C,b],t[7]=b,t[8]=C,t[9]=v):v=t[9],v}function p(e){r("FBLogger")("rtc_www").catching(e.Error).mustfix("Error making a phone call","rtc_www")}function _(e){return e.jid}function f(t){return(e||(e=o("I64"))).to_string(t.contactId)}l.useMakeRTCCall=m}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({htmlBlob:t},c)},e[1]=a,e[2]=i):i=e[2],i}function c(){}l.useShowWebViewDialog=u}),98);
__d("MWLexicalEditorUtils",["Int64Hooks","LSMessagingThreadTypeUtil","Lexical","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useRef;function u(e,t,n){var a=o("react-compiler-runtime").c(5),i=s(!1),l,u;a[0]!==n||a[1]!==e||a[2]!==t?(l=function(){r("gkx")("16991")&&!i.current&&t&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(t)&&n!=null&&n!==""&&(c(e,n),i.current=!0)},u=[e,n,t],a[0]=n,a[1]=e,a[2]=t,a[3]=l,a[4]=u):(l=a[3],u=a[4]),o("Int64Hooks").useEffectInt64(l,u)}function c(e,t){t!==""&&e.update(function(){var e=o("Lexical").$getRoot(),n=e.getFirstChild();o("Lexical").$isParagraphNode(n)||(n=o("Lexical").$createParagraphNode(),e.append(n));var r=o("Lexical").$createTextNode(t);n.clear(),n.append(r),n.selectEnd()})}l.useLoadDraftIntoComposerOnceComplete=u}),98);
__d("MWMarketingMessagesManageLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("MWMarketingMessagesManageDialog.react").__setRef("MWMarketingMessagesManageLazyDialogTrigger.react");function s(t){var n=t.pageId,o=t.renderer,a=t.threadKey,i={pageId:n,threadKey:a},l=r("useMWXLazyDialog")(e),s=l[0],u=function(){return s(i,r("emptyFunction"))};return o(u)}l.default=s}),98);
__d("MWMarketingMessagesManageAdminMsgCta.react",["CometTextWithEntities.react","MWMarketingMessagesManageLazyDialogTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.pageId,a=e.threadKey,i=e.title,l;t[0]!==i?(l=function(t){return s.jsx(r("MWXPressable.react"),{onPress:function(){return t()},children:s.jsx(r("CometTextWithEntities.react"),{text:i})})},t[0]=i,t[1]=l):l=t[1];var u=l,c;return t[2]!==n||t[3]!==u||t[4]!==a?(c=s.jsx(r("MWMarketingMessagesManageLazyDialogTrigger.react"),{pageId:n,renderer:u,threadKey:a}),t[2]=n,t[3]=u,t[4]=a,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWMediaComposerRenderQpl",["LSGetAttachmentType","MAWLoggerUtils","MWMediaRenderQplUtils","QPLUserFlow","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useRef;function m(e,t,n){var a,i=o("MAWLoggerUtils").getInstanceKeyFromId(e),l=o("LSGetAttachmentType").LSGetAttachmentTypeSyncButLessAccurate(t);r("QPLUserFlow").start((a=o("MWMediaRenderQplUtils")).MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{attachment_type:a.getAttachmentTypeStringFromEnum(l),content_type:a.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(l),entry_point:"composer_view",thread_type:a.getThreadTypeString(n)}},cancelOnUnload:!0,instanceKey:i,timeoutInMs:a.QPL_TIMEOUT})}function p(e,t){var n=o("MAWLoggerUtils").getInstanceKeyFromId(e);r("QPLUserFlow").endCancel(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{cancel_reason:t}},instanceKey:n})}function _(e,t){var n=o("MAWLoggerUtils").getInstanceKeyFromId(e);r("QPLUserFlow").addPoint(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,t,{instanceKey:n})}function f(e){var t=o("MAWLoggerUtils").getInstanceKeyFromId(e.offlineAttachmentId),n=d(!1);r("QPLUserFlow").addAnnotations(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{string:{attachment_type:o("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(e.attachmentType),content_type:o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(e.attachmentType)}},{instanceKey:t});var a=c(function(){return babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,t,n))},[]);return u(function(){return function(){n.current===!1&&(a==null?void 0:a.getInstanceKey())!=null&&(a==null||a.endCancel(706))}},[a]),a}l.startMediaComposerRenderQpl=m,l.endCancelMediaComposerRenderQpl=p,l.addPointMediaComposerRenderQpl=_,l.useMediaComposerRenderQpl=f}),98);
__d("MWSharedMediaManagerUtils",["GetPreviewDimension","I64","LSGetAttachmentType","LSIntEnum","LSMailboxType","MWPreloadableQueries","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){if(!(t==null||e==null)){var n=Math.floor(e.previewHeight*t.previewWidth/e.previewWidth);return n>=t.previewHeight?{previewHeight:(s||(s=o("I64"))).of_float(n),previewWidth:s.of_float(t.previewWidth)}:{previewHeight:(s||(s=o("I64"))).of_float(t.previewHeight),previewWidth:s.of_float(e.previewWidth*t.previewHeight/e.previewHeight)}}}async function d(e,t,n){var r=await p(t,n);await e.runInTransaction(async function(e){var t=await _(e,r);await Promise.all(t.map(function(t){return e.media_staging.add(t)}))},"readwrite",void 0,void 0,i.id+":79")}async function m(e,t,n){var r=await p(t,n);await e.runInTransaction(async function(e){var t=await _(e,r);await Promise.all(t.map(async function(t){return await e.media_staging.get(t.offlineAttachmentId)!=null&&await e.media_staging.upsert([t.offlineAttachmentId],t),Promise.resolve()}))},"readwrite",void 0,void 0,i.id+":103")}async function p(e,t){var n=await Promise.all(e.map(async function(e){var n=e.file,a=e.offlineAttachmentId,i=e.attachmentType!=null?(u||(u=o("LSIntEnum"))).ofNumber(e.attachmentType):await o("LSGetAttachmentType").LSGetAttachmentType(n),l=URL.createObjectURL(n),c;e.previewHeight!=null&&e.previewWidth!=null?c={previewHeight:e.previewHeight,previewWidth:e.previewWidth}:n.type.includes("video/")?c=await o("GetPreviewDimension").getVideoPreviewDimensions(l):c=await o("GetPreviewDimension").getPreviewDimensions(l);var d={attachmentType:i,durationMs:void 0,fbid:void 0,filename:n.name,fileSize:(s||(s=o("I64"))).of_int32(n.size),hasError:!1,isHd:e.isHd,isSent:!1,mailboxType:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),mimeType:n.type,offlineAttachmentId:a,offlineThreadingId:void 0,previewUrl:l,progress:0,threadKey:t};return{dimensions:c,mediaStaging:d}}));return n}async function _(e,t){var n=await e.sync_groups.get((s||(s=o("I64"))).of_float(1)),r;if((n==null?void 0:n.syncParams)!=null){var a=JSON.parse(n.syncParams),i=a.preview_height,l=a.preview_width;r={previewHeight:i,previewWidth:l}}return t.map(function(e){var t=e.dimensions,n=e.mediaStaging;return babelHelpers.extends({},n,c(t,r))})}function f(e,t){return e.runInTransaction(function(e){return e.media_staging.delete(t)},"readwrite",void 0,void 0,i.id+":213")}function g(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;return n[0]!==a||n[1]!==t.threadKey?(l=function(){return o("MWPreloadableQueries").getMediaStagingQuery(a,t.threadKey)},s=[a,t.threadKey],n[0]=a,n[1]=t.threadKey,n[2]=l,n[3]=s):(l=n[2],s=n[3]),o("ReQLSuspense").useArray(l,s,i.id+":223")}function h(e){return e.mimeType==="image/gif"?!0:e.mimeType==="image/webp"}function y(e){return e.mimeType==="image/gif"}l.insertMediaStaging=d,l.updateMediaStaging=m,l.prepareMediaStagingFiles=p,l.deleteMediaStaging=f,l.useMediaStaging=g,l.isVideoLikeImage=h,l.isGIFImage=y}),98);
__d("WorkFailedSendMessageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6352"),s=o("FalcoLoggerInternal").create("work_failed_send_message",e),u=s;l.default=u}),98);
__d("MWMediaManager",["FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorToast.react","MWChatFileUploadErrorDialog.react","MWMediaComposerRenderQpl","MWPActor.react","MWPBumpEntityKey","MWSharedMediaManagerUtils","MessagingAttachmentType","OfflineThreadingId","Promise","WorkFailedSendMessageFalcoEvent","cr:8525","emptyFunction","gkx","promiseDone","react-compiler-runtime","requireDeferred","useMWXAlertDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("requireDeferred")("MWOpenMediaManagerUtils").__setRef("MWMediaManager"),m=function(){return n("cr:8525")==null?(r("FBLogger")("messenger_web_media").warn("Unsupported thread type for media upload"),(c||(c=n("Promise"))).resolve(null)):n("cr:8525").load()},p=25;function _(e,t,r){return t?m().then(function(t){var o;return(c||(c=n("Promise"))).resolve((o=t==null?void 0:t.preprocessV2(e,r))!=null?o:[])}):d.load().then(function(t){return t.preprocess(e)})}function f(e,t,n){for(var r=0;r<e.length;r++){var a=e[r],i=n(a,t);if(a.size>i*1024*1024){var l=g(a.size);return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("media_sends","file_size_exceeded."+(t?"secure":"open")),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("media_sends","file_size_exceeded."+(t?"secure":"open")+"."+l),i}}return null}function g(e){return e<=30*1024*1024?"30MB":e<=50*1024*1024?"50MB":e<=75*1024*1024?"75MB":e<=100*1024*1024?"100MB":e<=150*1024*1024?"150MB":e<=200*1024*1024?"200MB":e<=250*1024*1024?"250MB":e<=500*1024*1024?"500MB":e<=1024*1024*1024?"1GB":"1GB+"}function h(t){var a=o("react-compiler-runtime").c(38),i=t.chatSupportUserId,l=t.chatSupportUserNonce,p=t.getMaxAttachmentSizeInMB,g=t.isChatSupportUser,h=t.maxNumberOfAttachments,T=t.onUploadFailure,D=t.onUploadStart,x=t.onUploadSuccess,$=t.showUploadFailureToast,P=t.thread,N=t.validateFileName,M=p===void 0?I:p,w=(u||(u=r("useReStore")))(),A=r("useMWXAlertDialog")(),F;a[0]!==P.threadType?(F=o("LSMessagingThreadTypeUtil").isArmadilloSecure(P.threadType),a[0]=P.threadType,a[1]=F):F=a[1];var O=F,B=o("MWSharedMediaManagerUtils").useMediaStaging(P),W=B.length,q=o("MWPActor.react").useActor(),U,V;a[2]!==q||a[3]!==i||a[4]!==l||a[5]!==w||a[6]!==M||a[7]!==g||a[8]!==O||a[9]!==h||a[10]!==W||a[11]!==T||a[12]!==D||a[13]!==x||a[14]!==A||a[15]!==$||a[16]!==P||a[17]!==N?(U=function(a,s){var t=f(a,O,M);if(t!=null){A(o("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded(t),r("emptyFunction"));return}if(h!=null&&W+a.length>h){r("gkx")("23249")?(A(o("MWChatFileUploadErrorDialog.react").maxFilesNumberExceeded(h),r("emptyFunction")),r("WorkFailedSendMessageFalcoEvent").log(k)):A(o("MWChatFileUploadErrorDialog.react").maxMediaNumberExceeded(h),r("emptyFunction"));return}if(N!=null)for(var u=0;u<a.length;u++){var p=a[u];if(!N(p)){A(o("MWChatFileUploadErrorDialog.react").unsupportedFile(),r("emptyFunction"));return}}var y=o("OfflineThreadingId").createForItemsInOrder(a);y.forEach(function(e){var t=e[0],n=e[1];o("MWMediaComposerRenderQpl").startMediaComposerRenderQpl(n,t,P),o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(n,"preprocess_start")}),r("promiseDone")(_(y,O,s).catch(function(){return $(o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.title,o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.body),y.forEach(E),(c||(c=n("Promise"))).resolve([])}).then(function(t){t.forEach(L);var n=r("gkx")("16543"),a=null;n?a=o("MWSharedMediaManagerUtils").insertMediaStaging(w,t,P.threadKey):r("promiseDone")(o("MWSharedMediaManagerUtils").insertMediaStaging(w,t,P.threadKey)),t.forEach(R);var s=P.threadKey;if(O)return m().then(function(e){return e==null?void 0:e.upload(w,s,t)});if(n){var u;return(u=a)==null?void 0:u.then(function(){return d.load().then(function(n){return n.upload(w,s,t,$,D,x,T,g,i,l,(e||(e=o("I64"))).to_string(q))})})}else return d.load().then(function(n){return n.upload(w,s,t,$,D,x,T,g,i,l,(e||(e=o("I64"))).to_string(q))})}))},V=[q,i,l,w,M,g,O,h,W,T,D,x,A,$,P,N],a[2]=q,a[3]=i,a[4]=l,a[5]=w,a[6]=M,a[7]=g,a[8]=O,a[9]=h,a[10]=W,a[11]=T,a[12]=D,a[13]=x,a[14]=A,a[15]=$,a[16]=P,a[17]=N,a[18]=U,a[19]=V):(U=a[18],V=a[19]);var H=o("Int64Hooks").useCallbackInt64(U,V),G;a[20]!==w||a[21]!==O?(G=function(t){r("promiseDone")(o("MWSharedMediaManagerUtils").deleteMediaStaging(w,t).then(function(){if(O&&n("cr:8525")!=null)return n("cr:8525").load().then(function(e){e.MAWMediaManagerAttachmentsV2.delete(t)})}))},a[20]=w,a[21]=O,a[22]=G):G=a[22];var z=G,j;a[23]!==w||a[24]!==B?(j=function(){var e=B.map(S);e.forEach(function(e){o("MWSharedMediaManagerUtils").deleteMediaStaging(w,e).catch(v)})},a[23]=w,a[24]=B,a[25]=j):j=a[25];var K=j,Q;a[26]!==w||a[27]!==O||a[28]!==B||a[29]!==$||a[30]!==P.threadKey?(Q=function(a){O&&r("promiseDone")(m().then(function(t){if(t!=null){var i=B.map(function(n){var a;if(!(e||(e=o("I64"))).equal(n.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)))return null;var i=(a=t.MAWMediaManagerAttachmentsV2.get(n.offlineAttachmentId))==null?void 0:a.originalFile;if(i==null)return null;var l=[i,n.offlineAttachmentId];return l}).filter(Boolean);i.length!==0&&r("promiseDone")(_(i,O,a).catch(function(){return $(o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.title,o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.body),i.forEach(b),(c||(c=n("Promise"))).resolve([])}).then(function(e){e.forEach(C),r("promiseDone")(o("MWSharedMediaManagerUtils").updateMediaStaging(w,e,P.threadKey)),e.forEach(y);var n=P.threadKey;return t==null?void 0:t.upload(w,n,e)}))}}))},a[26]=w,a[27]=O,a[28]=B,a[29]=$,a[30]=P.threadKey,a[31]=Q):Q=a[31];var X=o("Int64Hooks").useCallbackInt64(Q),Y;return a[32]!==z||a[33]!==H||a[34]!==B||a[35]!==X||a[36]!==K?(Y={handleFileRemove:z,handleFileSelect:H,mediaStaging:B,onHdMediaToggled:X,resetAttachments:K},a[32]=z,a[33]=H,a[34]=B,a[35]=X,a[36]=K,a[37]=Y):Y=a[37],Y}function y(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"media_staging_insert_success")}function C(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"preprocess_success")}function b(e){var t=e[1];o("MWMediaComposerRenderQpl").endCancelMediaComposerRenderQpl(t,"invalid-file-format")}function v(e){r("FBLogger")("messenger_web_media").catching(e).mustfix("Error deletting media staging.")}function S(e){return e.offlineAttachmentId}function R(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"media_staging_insert_success")}function L(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"preprocess_success")}function E(e){var t=e[1];o("MWMediaComposerRenderQpl").endCancelMediaComposerRenderQpl(t,"invalid-file-format")}function k(){return{breaking_rule:"",event:"NUMBER_OF_ATTACHMENTS_LIMIT_REACHED"}}function I(){return p}l.convertIntegerSizeToStringBucket=g,l.useMediaManager=h}),98);
__d("MWMediaManagerFileSizeLimit",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=25;function s(t){return t?r("justknobx")._("3563"):e}l.getMWMaxAttachmentSizeInMB=s}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(e||(e=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(o("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK)})}function c(t,n,a,i){return u(t,n).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:n,syncChannel:(e||(e=o("I64"))).neg_one,tags:e.to_string(a)+","+e.to_string(i)})})}l.logMediaSendStart=c}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("I64"))).of_int32(60),c=e.of_int32(3600),d=e.of_int32(1440*60),m=e.of_int32(10080*60),p=e.of_int32(672*60*60);function _(t,n,r){r===void 0&&(r=!1);var a=(e||(e=o("I64"))).of_float(n.getTime()/1e3),i=e.div(t,e.of_int32(1e3)),l=e.sub(a,i),_=s._(/*BTDS*/"Sent");if((e||(e=o("I64"))).lt(l,u))return _;if((e||(e=o("I64"))).lt(l,c)){var f=(e||(e=o("I64"))).to_string(e.div(l,u));return s._(/*BTDS*/"Sent {minutes}m ago",[s._param("minutes",f)])}else if((e||(e=o("I64"))).lt(l,d)){var g=(e||(e=o("I64"))).to_string(e.div(l,c));return s._(/*BTDS*/"Sent {hours}h ago",[s._param("hours",g)])}else if((e||(e=o("I64"))).lt(l,m)){var h=(e||(e=o("I64"))).to_string(e.div(l,d));return s._(/*BTDS*/"Sent {days}d ago",[s._param("days",h)])}else{if(r)if((e||(e=o("I64"))).lt(l,p)){var y=(e||(e=o("I64"))).to_string(e.div(l,m));return s._(/*BTDS*/"Sent {weeks}w ago",[s._param("weeks",y)])}else{var C=(e||(e=o("I64"))).to_string(e.div(l,p));return s._(/*BTDS*/"Sent {weeks}mo ago",[s._param("weeks",C)])}return _}}l.getSentTitleWithTimestamp=_}),226);
__d("useMWMessageListAttachmentDimensions",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=o("react-compiler-runtime").c(6),r;e:{var a=t.previewWidthLarge,i=t.previewHeightLarge;if(a!=null&&i!=null&&e==="Inbox"){var l;n[0]!==i||n[1]!==a?(l=[a,i],n[0]=i,n[1]=a,n[2]=l):l=n[2],r=l;break e}var s;n[3]!==t.previewHeight||n[4]!==t.previewWidth?(s=[t.previewWidth,t.previewHeight],n[3]=t.previewHeight,n[4]=t.previewWidth,n[5]=s):s=n[5],r=s}return r}l.default=u}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWPBumpEntityKey","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWXMessageBubbleCornerStyles.react","MessagingAttachmentType","gkx","react","react-compiler-runtime","useGetMediaGroupInformation","useGetMediaGroupStyles","useMWMediaViewerOpenQPLLogger","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g={container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},containerMinHeight:{minHeight:"xe0p6wg",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(83),a=t.attachment,i=t.connectBottom,l=t.connectTop,d=t.getPreviewUrl,p=t.isGroupedImage,_=t.isSecure,h=t.maxHeight,b=t.maxWidth,v=t.mediaRenderQpl,S=t.message,R=t.navigateToRouteForMediaViewer,L=t.onPressOverride,E=t.outgoing,k=t.renderUnsupportedAttachment,I=t.shouldBlur,T;n[0]!==v?(T=function(){v==null||v.endFail("load-image-error")},n[0]=v,n[1]=T):T=n[1];var D=T,x;n[2]!==v?(x=function(){v==null||v.endSuccess()},n[2]=v,n[3]=x):x=n[3];var $=x,P=(e||(e=r("useReStore")))(),N=R!=null?R:!0,M=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=r("useMWMessageListAttachmentDimensions")(M,a),A=w[0],F=w[1],O=r("useMWV2MediaViewerURL")(a),B=E===!0?"right":"left",W;n[4]!==i||n[5]!==l||n[6]!==B?(W=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:B,connectBottom:i,connectTop:l}),n[4]=i,n[5]=l,n[6]=B,n[7]=W):W=n[7];var q=W,U;n[8]!==F?(U=(u||(u=o("I64"))).to_float(F!=null?F:(u||(u=o("I64"))).zero),n[8]=F,n[9]=U):U=n[9];var V;n[10]!==A?(V=(u||(u=o("I64"))).to_float(A!=null?A:(u||(u=o("I64"))).zero),n[10]=A,n[11]=V):V=n[11];var H=o("useGetMediaGroupStyles").useGetMediaGroupTileImageRatios(p,U,V),G=H.resizeRatio,z=H.scaleRatio,j=A!=null?(u||(u=o("I64"))).to_float(A)*G:void 0,K=F!=null?(u||(u=o("I64"))).to_float(F)*G:void 0,Q=G>1,X=p===!1?h:(Q===!0?K!=null?K:0:h)*z,Y=p===!1?b:(Q?j!=null?j:0:b)*z,J=r("gkx")("23009"),Z=r("useMWV2FocusRowAfterClosingPushView")(),ee=r("useMWV2MediaViewerShowDialog")(N),te=ee[0],ne=ee[1],re=r("useGetMediaGroupInformation")(S,_===!0,v),oe=o("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger(),ae=oe.startFlow,ie;n[12]!==a||n[13]!==d||n[14]!==v?(ie=d(a,"MWV2ChatImage",v),n[12]=a,n[13]=d,n[14]=v,n[15]=ie):ie=n[15];var le=ie,se,ue;if(n[16]!==v||n[17]!==I||n[18]!==le?(se=function(){le!=null&&le.length>0&&(v==null||v.addPoint("render-chat-image",{bool:{has_blur:I}}))},ue=[v,I,le],n[16]=v,n[17]=I,n[18]=le,n[19]=se,n[20]=ue):(se=n[19],ue=n[20]),f(se,ue),le==null||le.length===0){v==null||v.endFail("empty_preview_url");var ce;return n[21]!==a||n[22]!==k?(ce=k!=null?k(a):null,n[21]=a,n[22]=k,n[23]=ce):ce=n[23],ce}var de;n[24]!==O||n[25]!==S.authorityLevel||n[26]!==N||n[27]!==le?(de=N&&(u||(u=o("I64"))).gt(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:le},url:O}:void 0,n[24]=O,n[25]=S.authorityLevel,n[26]=N,n[27]=le,n[28]=de):de=n[28];var me=de,pe;n[29]!==a||n[30]!==P||n[31]!==_||n[32]!==re||n[33]!==S||n[34]!==L||n[35]!==Z||n[36]!==N||n[37]!==te||n[38]!==ae?(pe=function(){if(L)L();else if(o("MWV2LogMessageClick").log(P,S,28),ae({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:_!=null?_:!1}),Z(C),re!=null&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.thread","image_group_click_"+re.tileSize+"_tile"),!N)return te({attachment:a},y)},n[29]=a,n[30]=P,n[31]=_,n[32]=re,n[33]=S,n[34]=L,n[35]=Z,n[36]=N,n[37]=te,n[38]=ae,n[39]=pe):pe=n[39];var _e=pe,fe=void 0;p===!0&&re!=null&&(re.groupSize===2?fe=E?re.groupIndex%2===0?"start":"end":re.groupIndex%2===0?"end":"start":re.groupSize===3&&(fe=E?re.groupIndex%2===1?"start":"end":re.groupIndex%2===1?"end":"start"));var ge;n[40]!==a.attachmentType||n[41]!==a.titleText?(ge=a.titleText==null&&(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF Image"):s._(/*BTDS*/"Open photo"),n[40]=a.attachmentType,n[41]=a.titleText,n[42]=ge):ge=n[42];var he=ge,ye;n[43]!==S.authorityLevel?(ye=(u||(u=o("I64"))).le(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL)),n[43]=S.authorityLevel,n[44]=ye):ye=n[44];var Ce;n[45]!==ne||n[46]!==N?(Ce=function(){if(!N)return ne()},n[45]=ne,n[46]=N,n[47]=Ce):Ce=n[47];var be;n[48]!==q?(be=[g.container,q,g.containerMinHeight],n[48]=q,n[49]=be):be=n[49];var ve=a.titleText!=null&&J?a.titleText:he,Se=p===!0?h:void 0,Re=p===!0?b:void 0,Le;n[50]!==a||n[51]!==i||n[52]!==l||n[53]!==K||n[54]!==X||n[55]!==Y||n[56]!==D||n[57]!==$||n[58]!==E||n[59]!==fe||n[60]!==I||n[61]!==ve||n[62]!==Se||n[63]!==Re||n[64]!==le||n[65]!==j?(Le=m.jsx(o("MWPMessageListImage.react").MWPMessageListImage,{alt:ve,attachment:a,connectBottom:i,connectTop:l,height:K,maxHeight:X,maxWidth:Y,onError:D,onLoad:$,outgoing:E,overlayAlign:fe,overlayHeight:Se,overlayWidth:Re,shouldBlur:I,src:le,width:j}),n[50]=a,n[51]=i,n[52]=l,n[53]=K,n[54]=X,n[55]=Y,n[56]=D,n[57]=$,n[58]=E,n[59]=fe,n[60]=I,n[61]=ve,n[62]=Se,n[63]=Re,n[64]=le,n[65]=j,n[66]=Le):Le=n[66];var Ee;n[67]!==a||n[68]!==S.authorityLevel?(Ee=(u||(u=o("I64"))).le(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(r("MWV2AttachmentProgressBar.react"),{attachment:a}):null,n[67]=a,n[68]=S.authorityLevel,n[69]=Ee):Ee=n[69];var ke;n[70]!==q?(ke=m.jsx(r("MWChatImageInsetShadow.react"),{xstyle:q}),n[70]=q,n[71]=ke):ke=n[71];var Ie;return n[72]!==a||n[73]!==me||n[74]!==v||n[75]!==_e||n[76]!==ye||n[77]!==Ce||n[78]!==be||n[79]!==Le||n[80]!==Ee||n[81]!==ke?(Ie=m.jsxs(r("MWMessageListMediaPressableContainer.react"),{attachment:a,disabled:ye,linkProps_:me,mediaRenderQpl:v,onHoverIn:Ce,onPress:_e,testid:void 0,xstyle:be,children:[Le,Ee,ke]},a.attachmentFbid),n[72]=a,n[73]=me,n[74]=v,n[75]=_e,n[76]=ye,n[77]=Ce,n[78]=be,n[79]=Le,n[80]=Ee,n[81]=ke,n[82]=Ie):Ie=n[82],Ie}function y(){}function C(){return!0}l.default=h}),226);
__d("MWV2ChatEmojiHotLike.react",["LSHotEmojiSize","MessengerHotLikeSVGReact.bs","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={largeHotLike:{height:"x1wkxgih",width:"xygnafs",$$css:!0},likePreview:{display:"x78zum5",float:"x1h0q493",height:"x1dnml7z",width:"x7tvc40",$$css:!0},likePreviewV2:{display:"x78zum5",height:"xsdox4t",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",width:"x1useyqa",$$css:!0},mediumHotLike:{height:"x1to3lk4",width:"xjzaux3",$$css:!0},noCustomLikePreview:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(6),a=t.hotEmojiSize,i=t.xstyle,l;n[0]!==a||n[1]!==i?(l=(e||(e=r("stylex"))).props([r("gkx")("23249")?[c.likePreview,c.noCustomLikePreview]:[c.likePreviewV2,a===r("LSHotEmojiSize").MEDIUM&&c.mediumHotLike,a===r("LSHotEmojiSize").LARGE&&c.largeHotLike],i]),n[0]=a,n[1]=i,n[2]=l):l=n[2];var s;n[3]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(o("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:"var(--mwp-primary-theme-color)"}),n[3]=s):s=n[3];var d;return n[4]!==l?(d=u.jsx("div",babelHelpers.extends({"aria-label":"Like, thumbs up"},l,{role:"img",children:s})),n[4]=l,n[5]=d):d=n[5],d}l.default=d}),98);
__d("getMWHotlikeSizeFromStickerId",["LSHotEmojiSize","StickerConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e={},e[r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID]=r("LSHotEmojiSize").SMALL,e[r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID]=r("LSHotEmojiSize").MEDIUM,e[r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID]=r("LSHotEmojiSize").LARGE,e);function u(e){var t;return(t=s[e])!=null?t:r("LSHotEmojiSize").NONE}l.default=u}),98);
__d("getMWIsDefaultHotlikeStickerId",["StickerConstants"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||e===r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||e===r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID}l.default=e}),98);
__d("MWV2Sticker.react",["I64","MAWImageUtils","MWChatImageSize","MWLSThreadDisplayContext","MWV2ChatEmojiHotLike.react","Sticker.react","getMWHotlikeSizeFromStickerId","getMWIsDefaultHotlikeStickerId","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useMemo;function _(e){var t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n,r=t!=null&&t==="Inbox"?.75:.5;return e<60?n=1:e>o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE?n=o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE/e:n=r,n}function f(t){var n,a=o("react-compiler-runtime").c(33),i=t.attachment,l=t.getPreviewUrl,s=t.mediaRenderQpl,d=t.renderUnsupportedAttachment,p=t.scale,f=t.xstyle,g;a[0]!==i||a[1]!==l||a[2]!==s?(g=l(i,"MWV2Sticker",s),a[0]=i,a[1]=l,a[2]=s,a[3]=g):g=a[3];var h=g,y;a[4]!==i.previewHeight?(y=i.previewHeight!=null?(u||(u=o("I64"))).to_int32(i.previewHeight):void 0,a[4]=i.previewHeight,a[5]=y):y=a[5];var C=y,b;a[6]!==i.previewWidth?(b=i.previewWidth!=null?(u||(u=o("I64"))).to_int32(i.previewWidth):void 0,a[6]=i.previewWidth,a[7]=b):b=a[7];var v=b,S=_(C!=null?C:120),R=v!=null&&C!=null,L=o("MWChatImageSize").useImageSize(h,R),E;a[8]!==C||a[9]!==L||a[10]!==v?(E=v!=null&&C!=null?[v,C]:L!=null?[L.width,L.height]:[24,24],a[8]=C,a[9]=L,a[10]=v,a[11]=E):E=a[11];var k=E,I=k[0],T=k[1],D,x;if(a[12]!==s||a[13]!==h?(D=function(){h==null||h.length===0?s==null||s.endFail("load-image-error"):(s==null||s.addPoint("render-sticker"),s==null||s.endSuccess())},x=[h,s],a[12]=s,a[13]=h,a[14]=D,a[15]=x):(D=a[14],x=a[15]),m(D,x),r("getMWIsDefaultHotlikeStickerId")(i.attachmentFbid)&&!r("gkx")("23249")){var $;a[16]!==i.attachmentFbid?($=r("getMWHotlikeSizeFromStickerId")(i.attachmentFbid),a[16]=i.attachmentFbid,a[17]=$):$=a[17];var P;return a[18]!==$?(P=c.jsx(r("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:$}),a[18]=$,a[19]=P):P=a[19],P}if(h==null||h.length===0){var N;return a[20]!==i||a[21]!==d?(N=d!=null?d(i):null,a[20]=i,a[21]=d,a[22]=N):N=a[22],N}var M=(n=i.accessibilitySummaryText)!=null?n:"",w;a[23]!==f?(w=(e||(e=r("stylex")))(f),a[23]=f,a[24]=w):w=a[24];var A=p!=null?p:S,F;return a[25]!==i.attachmentFbid||a[26]!==T||a[27]!==I||a[28]!==M||a[29]!==w||a[30]!==A||a[31]!==h?(F=c.jsx(r("Sticker.react"),{accessibilityLabel:M,animationTrigger:"load_and_hover",className:w,customColor:"var(--chat-composer-button-color)",enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:A,sourceHeight:T,sourceURI:h,sourceWidth:I,spriteURI:void 0,stickerID:i.attachmentFbid,tabIndex:-1,testid:void 0}),a[25]=i.attachmentFbid,a[26]=T,a[27]=I,a[28]=M,a[29]=w,a[30]=A,a[31]=h,a[32]=F):F=a[32],F}l.default=f}),98);
__d("MWMessageListAttachment.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSMediaUrlAttachment","MAWThreadCutover","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWAudioPlayer.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2ChatImage.react","MWV2Sticker.react","MWV2TombstonedMessage.react","cr:13757","gkx","justknobx","react","react-compiler-runtime","stylex","useMWMessageListAttachmentDimensions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useState;function f(t){var n=o("react-compiler-runtime").c(8),a=t.isOutgoing,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(i),n[0]=i,n[1]=l):l=n[1];var u;n[2]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"Error rendering media"),n[2]=u):u=n[2];var c;n[3]!==a?(c=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:a,children:u}),n[3]=a,n[4]=c):c=n[4];var m;return n[5]!==l||n[6]!==c?(m=d.jsx("div",babelHelpers.extends({},l,{children:c})),n[5]=l,n[6]=c,n[7]=m):m=n[7],m}function g(e){var t=o("react-compiler-runtime").c(7),a=e.attachment,i=e.connectTop,l=e.mediaRenderQpl,s=e.message,u=e.navigateToRouteForMediaViewer,c=e.outgoing,m=h,p=r("justknobx")._("3133"),_=o("MAWThreadCutover").useIsCutoverOpenThread(s.threadKey)&&p,f=!_&&u,g;return t[0]!==a||t[1]!==i||t[2]!==l||t[3]!==s||t[4]!==c||t[5]!==f?(g=d.jsx(n("cr:13757"),{attachment:a,autoPlaySetting:r("gkx")("8624")?"off":void 0,connectTop:i,getPlayableUrl:m,loops:!r("gkx")("8625"),mediaRenderQpl:l,message:s,navigateToRouteForMediaViewer:f,outgoing:c}),t[0]=a,t[1]=i,t[2]=l,t[3]=s,t[4]=c,t[5]=f,t[6]=g):g=t[6],g}function h(e){return o("LSMediaUrlAttachment").playableUrl(e)}function y(e){var t=o("react-compiler-runtime").c(8),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.isReply,s=e.mediaRenderQpl,u=e.message,c=e.outgoing,m=C,p;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s||t[5]!==u||t[6]!==c?(p=d.jsx(r("MWAudioPlayer.react"),{attachment:n,connectBottom:a,connectTop:i,getPlayableUrl:m,isReply:l,isSecure:!1,mediaRenderQpl:s,message:u,outgoing:c}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s,t[5]=u,t[6]=c,t[7]=p):p=t[7],p}function C(e){return o("LSMediaUrlAttachment").playableUrl(e)}function b(e){var t,n,a=o("react-compiler-runtime").c(35),i=e.attachment,l=e.connectBottom,s=e.connectTop,c=e.isGroupedImage,m=e.mediaRenderQpl,p=e.message,f=e.navigateToRouteForMediaViewer,g=e.outgoing,h=e.renderUnsupportedAttachment,y=c===void 0?!1:c,C=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),b=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),v=_(!1),S=v[0],R=v[1],L=r("justknobx")._("3133"),E=o("MAWThreadCutover").useIsCutoverOpenThread(p.threadKey)&&L,k=r("useMWMessageListAttachmentDimensions")(b,i),I=k[0],T=k[1],D;a[0]!==b?(D=function(t){var e=t.previewUrlLarge;return e!=null&&b==="Inbox"?e:o("LSMediaUrlAttachment").previewUrl(t)},a[0]=b,a[1]=D):D=a[1];var x=D,$=b!=null?b:void 0,P;a[2]!==y||a[3]!==$?(P=o("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!1,$,y),a[2]=y,a[3]=$,a[4]=P):P=a[4];var N=P,M=N.maxHeight,w=N.maxWidth,A=i.previewUrlMimeType==="image/gif",F=(u||(u=o("I64"))).to_int32(i.authorityLevel)!==r("LSAuthorityLevel").AUTHORITATIVE&&(((t=i.filename)==null?void 0:t.includes("gif"))||((n=i.previewUrl)==null?void 0:n.includes("gif"))),O=(A||F===!0)&&C!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON;if(O&&S===!1){var B;a[5]===Symbol.for("react.memo_cache_sentinel")?(B=function(){return R(!0)},a[5]=B):B=a[5];var W;a[6]!==T?(W=(u||(u=o("I64"))).to_float(T!=null?T:(u||(u=o("I64"))).zero),a[6]=T,a[7]=W):W=a[7];var q;a[8]!==I?(q=(u||(u=o("I64"))).to_float(I!=null?I:(u||(u=o("I64"))).zero),a[8]=I,a[9]=q):q=a[9];var U;return a[10]!==i||a[11]!==l||a[12]!==s||a[13]!==m||a[14]!==p||a[15]!==g||a[16]!==W||a[17]!==q?(U=d.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:l,connectTop:s,dbAttachment:i,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isSecure:!1,mediaRenderQpl:m,message:p,onPlay:B,outgoing:g,previewHeight:W,previewWidth:q,testid:void 0}),a[10]=i,a[11]=l,a[12]=s,a[13]=m,a[14]=p,a[15]=g,a[16]=W,a[17]=q,a[18]=U):U=a[18],U}var V=O?!1:!E&&f,H;a[19]!==O?(H=O?function(){R(!1)}:void 0,a[19]=O,a[20]=H):H=a[20];var G;return a[21]!==i||a[22]!==l||a[23]!==s||a[24]!==x||a[25]!==y||a[26]!==M||a[27]!==w||a[28]!==m||a[29]!==p||a[30]!==g||a[31]!==h||a[32]!==V||a[33]!==H?(G=d.jsx(r("MWV2ChatImage.react"),{attachment:i,connectBottom:l,connectTop:s,getPreviewUrl:x,isGroupedImage:y,maxHeight:M,maxWidth:w,mediaRenderQpl:m,message:p,navigateToRouteForMediaViewer:V,onPressOverride:H,outgoing:g,renderUnsupportedAttachment:h}),a[21]=i,a[22]=l,a[23]=s,a[24]=x,a[25]=y,a[26]=M,a[27]=w,a[28]=m,a[29]=p,a[30]=g,a[31]=h,a[32]=V,a[33]=H,a[34]=G):G=a[34],G}function v(e){var t=o("react-compiler-runtime").c(3),n=e.attachment,a=e.mediaRenderQpl,i=S,l;return t[0]!==n||t[1]!==a?(l=d.jsx(r("MWV2Sticker.react"),{attachment:n,getPreviewUrl:i,mediaRenderQpl:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function S(e){var t,n=(t=o("LSMediaUrlAttachment").playableUrl(e))!=null?t:o("LSMediaUrlAttachment").previewUrl(e);if(n!=null)return n;r("FBLogger")("messenger_web_media").mustfix("Sticker Attachment has no preview_url or playable_url: %s",e.attachmentFbid)}l.MWMessageListAttachmentError=f,l.MWMessageListAttachmentVideo=g,l.MWMessageListAttachmentAudio=y,l.MWMessageListAttachmentImage=b,l.MWMessageListAttachmentSticker=v}),226);
__d("MWPMessageListAttachment.react",["I64","LSIntEnum","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWSearchPluginUtils","MWVerticalRhythm","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWBumpMessage","react","react-compiler-runtime","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useEffect;function p(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function _(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}function f(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))}function g(e){var t,n=o("react-compiler-runtime").c(74),a=e.connectBottom,i=e.connectTop,l=e.mediaRenderQpl,s=e.message,_=e.renderAudioAttachment,f=e.renderEmphasisRing,g=e.renderEphemeralMediaAttachment,C=e.renderFileAttachment,S=e.renderImageAttachment,R=e.renderImageGrid,L=e.renderMultipleAttachments,E=e.renderStickerAttachment,k=e.renderUnsupportedAttachment,I=e.renderUnsupportedMultipleAttachments,T=e.renderVideoAttachment,D=e.renderWrapper,x=e.renderXMAAttachment,$=e.xmaLayout,P=$===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:$,N=o("MWPAttachmentDataContext").useMWPGetAttachments(s),M=v((t=N[0])==null?void 0:t.attachmentCta1Id),w;n[0]!==N[0]||n[1]!==N.length?(w=N.length>0?o("MWSearchPluginUtils").isSearchSingleBubblePlugin(N[0]):!1,n[0]=N[0],n[1]=N.length,n[2]=w):w=n[2];var A=w,F=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),O=F.blurMediaEnabled,B=r("gkx")("24098")&&O,W,q=N.length>0?N[0]:null,U,V;if(n[3]!==q||n[4]!==l?(U=function(){q!=null?(l==null||l.addAttachmentAnnotations==null||l.addAttachmentAnnotations(q),l==null||l.addPoint("render-message-list-attachment")):l==null||l.addPoint("missing-message-list-attachment")},V=[q,l],n[3]=q,n[4]=l,n[5]=U,n[6]=V):(U=n[5],V=n[6]),m(U,V),r("isMWBumpMessage")(s.replyType))return null;if(N.length!==1)if(N.length>1&&N.every(p))if(B){var H;if(n[7]!==N||n[8]!==i||n[9]!==s||n[10]!==f||n[11]!==S||n[12]!==k||n[13]!==P){var G;n[15]!==N.length||n[16]!==i||n[17]!==s||n[18]!==f||n[19]!==S||n[20]!==k||n[21]!==P?(G=function(t,n){return d.jsxs(d.Fragment,{children:[n!==0?d.jsx(r("MWVerticalRhythm"),{height:2}):null,d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:i,message:s,renderEmphasisRing:f,xmaLayout:P,children:S(t,n!==0,n!==N.length-1,k)})]},t.attachmentFbid)},n[15]=N.length,n[16]=i,n[17]=s,n[18]=f,n[19]=S,n[20]=k,n[21]=P,n[22]=G):G=n[22],H=N.map(G),n[7]=N,n[8]=i,n[9]=s,n[10]=f,n[11]=S,n[12]=k,n[13]=P,n[14]=H}else H=n[14];W=H}else{var z;n[23]!==N||n[24]!==R?(z=R(N),n[23]=N,n[24]=R,n[25]=z):z=n[25];var j;n[26]!==i||n[27]!==s||n[28]!==f||n[29]!==z||n[30]!==P?(j=d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:i,message:s,renderEmphasisRing:f,xmaLayout:P,children:z}),n[26]=i,n[27]=s,n[28]=f,n[29]=z,n[30]=P,n[31]=j):j=n[31],W=j}else{var K=b,Q=y;if(N.length===2&&K(N)&&Q(N)){var X;if(n[32]!==N){var Y;X=(Y=N.find(h))!=null?Y:N[0],n[32]=N,n[33]=X}else X=n[33];var J=X,Z;return n[34]!==M||n[35]!==x||n[36]!==J?(Z=x(J,M),n[34]=M,n[35]=x,n[36]=J,n[37]=Z):Z=n[37],Z}if(N.length>1){var ee;if(n[38]!==N||n[39]!==L?(ee=L==null?void 0:L(N),n[38]=N,n[39]=L,n[40]=ee):ee=n[40],W=ee,W!=null)return W}var te;n[41]!==N||n[42]!==I?(te=I!=null?I(N):void 0,n[41]=N,n[42]=I,n[43]=te):te=n[43],W=te}else{var ne=N[0],re=ne.attachmentType,oe=!(u||(u=o("I64"))).equal(re,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)),ae=ne.attachmentType,ie;n[44]!==ne||n[45]!==l||n[46]!==k?(ie=function(){return l==null||l.endSuccess(),k(ne)},n[44]=ne,n[45]=l,n[46]=k,n[47]=ie):ie=n[47];var le=ie,se;n[48]!==ne||n[49]!==a||n[50]!==i||n[51]!==M||n[52]!==_||n[53]!==g||n[54]!==C||n[55]!==S||n[56]!==E||n[57]!==k||n[58]!==le||n[59]!==T||n[60]!==x||n[61]!==ae?(se=(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?S(ne,i,a,k):(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?T(ne):(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?_(ne):(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))||(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").THIRD_PARTY_STICKER))?E(ne):(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?x(ne,M):(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE))?C(ne):(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(ae,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))?g(ne):le(),n[48]=ne,n[49]=a,n[50]=i,n[51]=M,n[52]=_,n[53]=g,n[54]=C,n[55]=S,n[56]=E,n[57]=k,n[58]=le,n[59]=T,n[60]=x,n[61]=ae,n[62]=se):se=n[62];var ue;n[63]!==i||n[64]!==A||n[65]!==s||n[66]!==oe||n[67]!==f||n[68]!==se||n[69]!==P?(ue=d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:i,hasTopMargin:A,message:s,paint:oe,renderEmphasisRing:f,xmaLayout:P,children:se}),n[63]=i,n[64]=A,n[65]=s,n[66]=oe,n[67]=f,n[68]=se,n[69]=P,n[70]=ue):ue=n[70],W=ue}if(W!=null){var ce;return n[71]!==W||n[72]!==D?(ce=D!=null?D(W):W,n[71]=W,n[72]=D,n[73]=ce):ce=n[73],ce}return null}function h(e){return f(e)}function y(e){return e.some(C)}function C(e){return p(e)||_(e)}function b(e){return e.some(f)}function v(t){var n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l;n[0]!==t||n[1]!==a.tables.attachment_ctas?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(t!=null?t:(u||(u=o("I64"))).zero)},n[0]=t,n[1]=a.tables.attachment_ctas,n[2]=l):l=n[2];var s;return n[3]!==t||n[4]!==a?(s=[a,t],n[3]=t,n[4]=a,n[5]=s):s=n[5],o("ReQLSuspense").useFirst(l,s,i.id+":252")}l.default=g}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.startsWith("blob:");if(t){var n=e.length;return e.substring(5,n)}}i.getBlobUrl=e}),66);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","FBLogger","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWV2ChatAttachmentParserUtils","formatFileSize","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useMemo,p={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function _(t){var n=t.attachment,a=t.getPlayableUrlSecure,i=t.mediaRenderQpl,l=m(function(){var e=n.filename;return e!=null?e:s._(/*BTDS*/"File")},[n]),u=m(function(){var e=n.filesize!=null?(c||(c=o("I64"))).to_int32(n.filesize):void 0;return e!=null?r("formatFileSize")(e):null},[n]),_=m(function(){if(a!=null){var e,t=(e=a(n))!=null?e:"";return o("ConstUriUtils").getUri(t)}else{var i=o("LSMediaUrlAttachment").playableUrl(n);if(i!=null){var l=o("MWV2ChatAttachmentParserUtils").getBlobUrl(i);return l!=null?o("ConstUriUtils").getUri(l):o("ConstUriUtils").getUri(i)}}r("FBLogger")("messenger_web_media").mustfix("Attachment has no playable_url %s",n.attachmentFbid)},[n,a]);return d.jsx(r("MWFilePressable.react"),{attachmentID:n.attachmentFbid,entryPoint:"chat_file_v4",mediaRenderQpl:i,messageID:o("MWChatMessageId").makeSent((c||(c=o("I64"))).to_string(n.threadKey),n.messageId,c.to_string(n.timestampMs)),url:_==null?void 0:_.toString(),children:d.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.root,!1),{"data-testid":void 0,children:[d.jsx(r("MWChatFilePreview.react"),{attachment:n,withPreview:!1}),d.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x13faqbe",children:[d.jsx(r("MDSTextPairing.react"),{headline:l,headlineLineLimit:3,level:4}),d.jsx("div",{className:"x889kno",children:d.jsx(r("MDSTextPairing.react"),{body:u,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})})]})]}))})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2ChatImagesGrid.react",["fbt","CometPhotoGrid.react","FDSImageCover.react","LSMediaUrlAttachment","MAWThreadCutover","MWLSThreadDisplayContext","MWXMessageBubbleCornerStyles.react","MWXPressable.react","justknobx","react","react-compiler-runtime","stylex","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_={large:{width:"x7cdydq",$$css:!0},pressable:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(2),n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r,a=e.previewUrlLarge;if(a!=null&&n==="Inbox")r=a;else{var i;t[0]!==e?(i=o("LSMediaUrlAttachment").previewUrl(e),t[0]=e,t[1]=i):i=t[1],r=i}return r}function g(e){var t=o("react-compiler-runtime").c(25),n=e.attachment,a=e.mediaRenderQpl,i=e.navigateToRouteForMediaViewer,l=i===void 0?!0:i,u;t[0]!==a?(u=function(){a==null||a.endFail("load-image-error")},t[0]=a,t[1]=u):u=t[1];var d=u,m;t[2]!==a?(m=function(){a==null||a.endSuccess()},t[2]=a,t[3]=m):m=t[3];var p=m,_=f(n),g=r("useMWV2MediaViewerURL")(n),C=r("useMWV2MediaViewerShowDialog")(l),b=C[0],v=C[1];if(_==null)return a==null||a.endFail("empty_preview_url"),d(),null;var S;t[4]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Open photo"),t[4]=S):S=t[4];var R=S,L;t[5]!==g||t[6]!==l||t[7]!==_?(L=l?{passthroughProps:{origSrc:_},url:g}:void 0,t[5]=g,t[6]=l,t[7]=_,t[8]=L):L=t[8];var E=L,k;t[9]!==n||t[10]!==l||t[11]!==b?(k=function(){if(!l)return b({attachment:n},y)},t[9]=n,t[10]=l,t[11]=b,t[12]=k):k=t[12];var I=k,T;t[13]!==l||t[14]!==v?(T=function(){if(!l)return v()},t[13]=l,t[14]=v,t[15]=T):T=t[15];var D;t[16]!==d||t[17]!==p||t[18]!==_?(D=c.jsx(r("FDSImageCover.react"),{alt:R,onError:d,onLoad:p,src:_}),t[16]=d,t[17]=p,t[18]=_,t[19]=D):D=t[19];var x;return t[20]!==E||t[21]!==I||t[22]!==T||t[23]!==D?(x=c.jsx(r("MWXPressable.react"),{"aria-label":R,linkProps:E,onHoverIn:T,onPress:I,overlayRadius:"compact",xstyle:h,children:D}),t[20]=E,t[21]=I,t[22]=T,t[23]=D,t[24]=x):x=t[24],x}function h(){return[_.pressable]}function y(){}function C(t){var n=o("react-compiler-runtime").c(13),a=t.attachments,i=t.connectBottom,l=t.connectTop,s=t.mediaRenderQpl,u=t.message,d=t.outgoing,m=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:d?"right":"left",connectBottom:i,connectTop:l}),f;n[0]===Symbol.for("react.memo_cache_sentinel")?(f=r("justknobx")._("3133"),n[0]=f):f=n[0];var h=f,y=o("MAWThreadCutover").useIsCutoverOpenThread(u==null?void 0:u.threadKey)&&h,C=(e||(e=r("stylex"))).props(_.root,m==="Inbox"?_.large:_.small,p),b;if(n[1]!==a||n[2]!==y||n[3]!==s){var v;n[5]!==y||n[6]!==s?(v=function(t){return c.jsx(g,{attachment:t,mediaRenderQpl:s,navigateToRouteForMediaViewer:!y},t.attachmentFbid)},n[5]=y,n[6]=s,n[7]=v):v=n[7],b=a.map(v),n[1]=a,n[2]=y,n[3]=s,n[4]=b}else b=n[4];var S;n[8]!==b?(S=c.jsx(r("CometPhotoGrid.react"),{children:b}),n[8]=b,n[9]=S):S=n[9];var R;return n[10]!==C||n[11]!==S?(R=c.jsx("div",babelHelpers.extends({},C,{"data-testid":void 0,children:S})),n[10]=C,n[11]=S,n[12]=R):R=n[12],R}l.default=C}),226);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.mediaRenderQpl,i=n.descriptionText,l;t[0]!==a?(l=function(){a==null||a.addPoint("render-unsupported-attachment")},t[0]=a,t[1]=l):l=t[1],c(l,void 0);var d,m,p;t[2]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o"},m=u.jsx("div",{className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1sa5p1d x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",children:u.jsx(r("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})}),p={className:"xzsf02u x1iyjqo2 x1s688f x13faqbe"},t[2]=d,t[3]=m,t[4]=p):(d=t[2],m=t[3],p=t[4]);var _;t[5]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(r("MWXText.react"),{type:"headline4",children:s._(/*BTDS*/"Unsupported attachment")}),t[5]=_):_=t[5];var f;t[6]!==i?(f=i!=null?u.jsx("div",{className:"x889kno",children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:i})}):null,t[6]=i,t[7]=f):f=t[7];var g;return t[8]!==f?(g=u.jsxs("div",babelHelpers.extends({},d,{children:[m,u.jsxs("div",babelHelpers.extends({},p,{children:[_,f]}))]})),t[8]=f,t[9]=g):g=t[9],g}l.default=d}),226);
__d("MWXMAAttachment.react",["cr:23171"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:23171")}),98);
__d("useMWIsChatEntityThread",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=!!o("MWLSThread").useThread(e,s);return t}function s(e){return o("LSThreadBitOffset").has(136,e)}l.useMWIsChatEntityThread=e}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","MWChatBubbleEmphasisRing.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWV2ChatImagesGrid.react","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","MWXMessageBubble.react","mwpMessageIsReply","react","react-compiler-runtime","useMWIsChatEntityThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bubble:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(65),n=e.connectBottom,a=e.connectTop,i=e.hasEmphasisRing,l=e.hasText,c=e.mediaRenderQpl,m=e.message,p=e.navigateToRouteForMediaViewer,_=e.outgoing,f=e.xstyle,g=i===void 0?!1:i,h=l===void 0?!1:l,y=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),C=y==="ChatTab"?180:void 0,b=o("useMWIsChatEntityThread").useMWIsChatEntityThread(m.threadKey),v;t[0]!==n||t[1]!==a||t[2]!==c||t[3]!==m||t[4]!==_?(v=function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:t,connectBottom:n,connectTop:a,isReply:r("mwpMessageIsReply")(m),mediaRenderQpl:c,message:m,outgoing:_})},t[0]=n,t[1]=a,t[2]=c,t[3]=m,t[4]=_,t[5]=v):v=t[5];var S;t[6]!==a||t[7]!==g||t[8]!==h||t[9]!==m||t[10]!==_?(S=g?function(e){return s.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:a,flattenTop:h,message:m,outgoing:_,precedesXMA:!1,children:e})}:void 0,t[6]=a,t[7]=g,t[8]=h,t[9]=m,t[10]=_,t[11]=S):S=t[11];var R;t[12]!==n||t[13]!==a||t[14]!==c||t[15]!==_?(R=function(t){return s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,xstyle:u.bubble,children:s.jsx(r("MWV2ChatFileV2.react"),{attachment:t,mediaRenderQpl:c})})},t[12]=n,t[13]=a,t[14]=c,t[15]=_,t[16]=R):R=t[16];var L;t[17]!==c||t[18]!==m||t[19]!==p||t[20]!==_?(L=function(t,n,r,a){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:t,connectBottom:r,connectTop:n,mediaRenderQpl:c,message:m,navigateToRouteForMediaViewer:p,outgoing:_,renderUnsupportedAttachment:a})},t[17]=c,t[18]=m,t[19]=p,t[20]=_,t[21]=L):L=t[21];var E;t[22]!==n||t[23]!==a||t[24]!==c||t[25]!==m||t[26]!==_?(E=function(t){return s.jsx(r("MWV2ChatImagesGrid.react"),{attachments:t,connectBottom:n,connectTop:a,mediaRenderQpl:c,message:m,outgoing:_})},t[22]=n,t[23]=a,t[24]=c,t[25]=m,t[26]=_,t[27]=E):E=t[27];var k;t[28]!==c?(k=function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:t,mediaRenderQpl:c})},t[28]=c,t[29]=k):k=t[29];var I;t[30]!==n||t[31]!==a||t[32]!==c||t[33]!==_?(I=function(t){return s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,children:s.jsx(r("MWV2UnsupportedAttachment.react"),{attachment:t,mediaRenderQpl:c})})},t[30]=n,t[31]=a,t[32]=c,t[33]=_,t[34]=I):I=t[34];var T;t[35]!==a||t[36]!==c||t[37]!==m||t[38]!==p||t[39]!==_?(T=function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:t,connectTop:a,mediaRenderQpl:c,message:m,navigateToRouteForMediaViewer:p,outgoing:_})},t[35]=a,t[36]=c,t[37]=m,t[38]=p,t[39]=_,t[40]=T):T=t[40];var D;t[41]!==C||t[42]!==n||t[43]!==a||t[44]!==h||t[45]!==c||t[46]!==m||t[47]!==_||t[48]!==b||t[49]!==f?(D=function(t){return s.jsx(r("CometErrorBoundary.react"),{fallback:function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentError,{isOutgoing:_,xstyle:f})},children:s.jsx(r("MWXMAAttachment.react"),{attachment:t,bodyLineLimit:b?10:3,cardWidth:C,connectBottom:n,connectTop:a,hasText:h,mediaRenderQpl:c,message:m,outgoing:_,xstyle:f})})},t[41]=C,t[42]=n,t[43]=a,t[44]=h,t[45]=c,t[46]=m,t[47]=_,t[48]=b,t[49]=f,t[50]=D):D=t[50];var x;return t[51]!==n||t[52]!==a||t[53]!==c||t[54]!==m||t[55]!==T||t[56]!==D||t[57]!==v||t[58]!==S||t[59]!==R||t[60]!==L||t[61]!==E||t[62]!==k||t[63]!==I?(x=s.jsx(r("MWPMessageListAttachment.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:c,message:m,renderAudioAttachment:v,renderEmphasisRing:S,renderEphemeralMediaAttachment:d,renderFileAttachment:R,renderImageAttachment:L,renderImageGrid:E,renderStickerAttachment:k,renderUnsupportedAttachment:I,renderVideoAttachment:T,renderXMAAttachment:D}),t[51]=n,t[52]=a,t[53]=c,t[54]=m,t[55]=T,t[56]=D,t[57]=v,t[58]=S,t[59]=R,t[60]=L,t[61]=E,t[62]=k,t[63]=I,t[64]=x):x=t[64],x}function d(){return null}var m=s.memo(c);l.default=m}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({findSendingMessage:r("emptyFunction").thatReturnsFalse,trackSendingMessage:r("emptyFunction"),untrackSendingMessage:r("emptyFunction")});function f(e){var t=o("react-compiler-runtime").c(4),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,t[0]=r):r=t[0];var a=p(r),i,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={findSendingMessage:function(t){return a.current.has(t)},trackSendingMessage:function(t){a.current.add(t)},untrackSendingMessage:function(t){a.current.delete(t)}},t[1]=l):l=t[1],i=l;var u=i,c;return t[2]!==n?(c=s.jsx(_.Provider,{value:u,children:n}),t[2]=n,t[3]=c):c=t[3],c}function g(){return d(_)}var h={Provider:f,useHook:g};l.default=h}),98);
__d("useLSMessagingInitiatingSourceNumber",["LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(e!=null)return e==="Inbox"?r("LSMessagingInitiatingSource").FACEBOOK_INBOX:e==="FullscreenChat"?r("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN:e==="ChatTab"?r("LSMessagingInitiatingSource").FACEBOOK_CHAT:r("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT}l.default=e}),98);
__d("useMAWSendMessageV2",["I64","LSHotEmojiSize","LSIntEnum","MAWBridgeSendAndReceive","MAWMessageSendReporter","MWPActor.react","MWPReplyContext.react","QPLUserFlow","WAResultOrError","qpl","react","react-compiler-runtime","requireDeferred","useLSMessagingInitiatingSourceNumber"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext,d=r("requireDeferred")("MWLogSend").__setRef("useMAWSendMessageV2");function m(e){if(e!=null){if((s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL)))return 1;if((s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM)))return 2;if((s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))return 3}}function p(){var e=o("react-compiler-runtime").c(4),t=o("MWPActor.react").useActor(),n=c(o("MWPReplyContext.react").MWPReplyContext),a=n.reply,i=r("useLSMessagingInitiatingSourceNumber")(),l;return e[0]!==i||e[1]!==a||e[2]!==t?(l=async function(n,l,u,c,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I){var e=babelHelpers.extends({content:p,initiatingSource:i,isFirstMsg:C,isForwarded:!1,openMessageOtid:f,openMessageParticipantCount:b,optimisticMsg:{msgId:g,ts:h},participantCount:v,source:_,specialTextSize:m(y)},S!=null&&{quote:S});R!=null&&(e.ephemeralSetting=R),L!=null&&(e.mentionedJids=[].concat(L)),I!=null&&(e.commands=[].concat(I)),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"sending_message_to_wajob_start",{instanceKey:E});var T=o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:e,chatJid:c,externalId:k,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:E});return d.onReady(function(e){var r=(s||(s=o("I64"))).to_string(l),i=y!=null?3:0;return e.log(n,{_mentionedJids:L,actor:t,attachmentFbids:[],attachmentType:i,backend:1,hasReply:a!=null,messagingThreadId:r,msgTtl:R==null?void 0:R.ephemeralExpirationInSec,offlineThreadingId:k,sendType:0,source:_,threadKey:l,threadType:u})}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"sending_message_to_wajob_end",{instanceKey:E}),await o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:c,externalId:k},T,{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:E},n),o("WAResultOrError").makeResult({description:"removal pending rollout of MAWMessageSendReporterV2",messageType:"fixMe"})},e[0]=i,e[1]=a,e[2]=t,e[3]=l):l=e[3],l}l.default=p}),98);
__d("MWRetryMessageSend.react",["fbt","BaseMiddot.react","FBLogger","I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWMiActOnActThreadReady","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWXLink.react","MWXSpinner.react","MWXText.react","MessengerWebUXLogger","ReQL","WAStanzaUtils","promiseDone","react","react-compiler-runtime","sendToSentQPLLogger","setTimeout","useAsyncReStore","useLSMessagingSource","useMAWSendMessageV2","useMWLSDefaultThreadSourceAndResetAttribution"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useState,p={loadingSpinner:{display:"x3nfvp2",paddingTop:"x1iorvi4",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"xmzvs34",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(13),n=e.message,a=r("useAsyncReStore")(),i=r("useMWLSDefaultThreadSourceAndResetAttribution")(),l=r("useMAWSendMessageV2")(),_=r("MessengerWebUXLogger").useInteractionLogger(),f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f={eventName:"secure_message_retry_impression"},t[0]=f):f=t[0];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h=r("useLSMessagingSource")(),y=m(!1),C=y[0],b=y[1],v=m(!1),S=v[0],R=v[1],L=C||S,E;t[1]!==a||t[2]!==i||t[3]!==L||t[4]!==_||t[5]!==h||t[6]!==n||t[7]!==l?(E=function(){L||(b(!0),R(!0),r("setTimeout")(function(){b(!1)},1e3),_==null||_({eventName:"secure_message_retry_lick"}),r("promiseDone")(a,async function(e){var t=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(n.threadKey)),a=o("WAStanzaUtils").toStanzaId(n.offlineThreadingId),s=async function(c){var s;if(o("sendToSentQPLLogger").markSendToSentPoint(c,"retry_secure_message_start"),t==null)throw o("sendToSentQPLLogger").markSendToSentFail(c,"message_retry_fail"),r("FBLogger")("messenger_web").mustfixThrow("Failed while fetching thread from DB in MWRetryMessageSend.react");var d=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t.threadKey,"MWRetryMessageSend");return l(e,t.threadKey,t.threadType,d.chatJid,(s=n.text)!=null?s:"",i(t.threadKey),void 0,n.offlineThreadingId,(u||(u=o("I64"))).to_int32(n.timestampMs),n.hotEmojiSize,!1,void 0,void 0,void 0,void 0,void 0,c,a).then(function(e){return R(!1),[e]},function(e){return R(!1),[e]})},d=o("sendToSentQPLLogger").markSendToSentStart();if(t){var m=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t.threadKey,h),p=o("MWSharedS2SBaseAnnotations").getMessageTypeParams({hotEmojiSize:n.hotEmojiSize,isRetry:!0,messageText:n.text,threadType:t.threadType});o("sendToSentQPLLogger").addSendToSentAnnotations(d,await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:p,composerEntrypoint:"retry-button",messageOfflineThreadingId:a,source:(c||(c=o("LSIntEnum"))).unwrapIntEnum(m),thread:t}))}return s(d)}))},t[1]=a,t[2]=i,t[3]=L,t[4]=_,t[5]=h,t[6]=n,t[7]=l,t[8]=E):E=t[8];var k=E,I;return t[9]!==L||t[10]!==g||t[11]!==k?(I=d.jsx(d.Fragment,{children:L?d.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:12,xstyle:p.loadingSpinner}):d.jsxs(d.Fragment,{children:[d.jsx(r("BaseMiddot.react"),{}),d.jsx(r("MWXText.react"),{color:"negative",type:"bodyLink4",children:d.jsx(r("MWXLink.react"),{onClick:k,ref:g,children:s._(/*BTDS*/"Retry")})})]})}),t[9]=L,t[10]=g,t[11]=k,t[12]=I):I=t[12],I}l.default=_}),226);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPMessageListColumn.react","MWRetryMessageSend.react","MWStatusText.react","MessengerWebUXLogger","clearTimeout","gkx","react","react-strict-dom","setTimeout","useServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useRef,p=u.useState,_=3e3,f="x62wqjc-B",g={dittoMargin:{marginBottom:"xu06os2",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",$$css:!0},statusTextRow:{backgroundColor:"x1eb86dx",display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function h(e){var t=e.alignLeft,n=e.isLastMessage,a=e.isSecureMessage,i=e.message,l=e.status,u=e.xstyle,f=p(!1),h=f[0],y=f[1],C=m(null),b=m(!1),v=r("MWMessageSendingContext.react").useHook(),S=v.findSendingMessage,R=v.trackSendingMessage,L=v.untrackSendingMessage,E=r("useServerTime")();c(function(){return L(i.offlineThreadingId),l.type==="Sending"?(R(i.offlineThreadingId),C.current=r("setTimeout")(function(){y(!0)},_)):C.current&&r("clearTimeout")(C.current),function(){C.current&&r("clearTimeout")(C.current)}},[S,i.offlineThreadingId,l.type,R,L]);var k=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"message_cant_send_status",threadKey:i.threadKey}),I=d(function(){l.type==="Sending"?R(i.offlineThreadingId):S(i.offlineThreadingId)&&(b.current=!0);var e=r("gkx")("15315"),c=l.type==="Sending"||b.current,d=[g.statusText,c&&g.mountAnimation,u,e&&g.dittoMargin],m=o("MWMessageDeliveryStatus").Titles.error.toString();switch(l.type){case"Sending":return h?s.jsx(r("MWStatusText.react"),{alignLeft:t,text:o("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:d}):s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:17});case"Sent":case"Delivered":return n?s.jsx(r("MWStatusText.react"),{alignLeft:t,text:o("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(i.timestampMs,E).toString(),xstyle:d}):null;case"Error":return s.jsx(r("MWStatusText.react"),{alignLeft:t,error:!0,ref:k,text:m,xstyle:d});case"RetriableError":return s.jsx(r("MWStatusText.react"),{addOnEnd:a===!0?s.jsx(r("MWRetryMessageSend.react"),{message:i}):void 0,alignLeft:t,error:!0,text:m,xstyle:d});case"ValidationError":return null;default:return null}},[t,S,n,a,i,E,h,l.type,R,u,k]);return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[g.statusTextRow],children:I})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("MWPBaseMessageListRowActions.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={hidden:{visibility:"xlshs6z",$$css:!0},incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",columnGap:"xl5lk40",display:"x78zum5",width:"x1mqs8db",$$css:!0}},d=s.createContext("full");function m(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(o("react-strict-dom").html.div,{role:"none",style:c.root}),e[0]=t):t=e[0],t}function p(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.outgoing,a=r?c.outgoing:c.incoming,i;t[0]!==a?(i=[c.root,a],t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=s.jsx(o("react-strict-dom").html.div,{role:"none",style:i,children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function _(e){var t=o("react-compiler-runtime").c(4),n=e.children,r=e.showWith,a=r===void 0?"full":r,i=u(d),l=i==="partial"&&a!=="partial",m=l&&c.hidden,p;return t[0]!==n||t[1]!==l||t[2]!==m?(p=s.jsx(o("react-strict-dom").html.div,{"aria-hidden":l,style:m,children:n}),t[0]=n,t[1]=l,t[2]=m,t[3]=p):p=t[3],p}function f(e){var t=o("react-compiler-runtime").c(15),n=e.ariaHidden,r=e.children,a=e.onMouseEnter,i=e.onMouseLeave,l=e.outgoing,u=e.visibility,c=e.xstyle,m=u===void 0?"full":u,_=n!=null?n:!1,f=l?g.outgoing:g.incoming,h;t[0]!==f||t[1]!==c?(h=[g.root,f,c],t[0]=f,t[1]=c,t[2]=h):h=t[2];var y;t[3]!==r||t[4]!==l?(y=s.jsx(p,{outgoing:l,children:r}),t[3]=r,t[4]=l,t[5]=y):y=t[5];var C;t[6]!==a||t[7]!==i||t[8]!==_||t[9]!==h||t[10]!==y?(C=s.jsx(o("react-strict-dom").html.div,{"aria-hidden":_,onMouseEnter:a,onMouseLeave:i,style:h,children:y}),t[6]=a,t[7]=i,t[8]=_,t[9]=h,t[10]=y,t[11]=C):C=t[11];var b;return t[12]!==C||t[13]!==m?(b=s.jsx(d.Provider,{value:m,children:C}),t[12]=C,t[13]=m,t[14]=b):b=t[14],b}var g={incoming:{paddingInlineStart:"xaso8d8",$$css:!0},outgoing:{paddingInlineEnd:"x1gabggj",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1mqs8db",zIndex:"x1n327nk",$$css:!0}};l.MWPBaseMessageListRowActionsEmptyList=m,l.MWPBaseMessageListRowActionsList=p,l.MWPBaseMessageListRowActionsListItem=_,l.MWPBaseMessageListRowActionsContainer=f}),98);
__d("useIsMWV2ReportMessageThreadType",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(4),n;t[0]!==e?(n=o("LSMessagingThreadTypeUtil").isOneToOne(e),t[0]=e,t[1]=n):n=t[1];var r=n,a;t[2]!==e?(a=o("LSMessagingThreadTypeUtil").isGroup(e),t[2]=e,t[3]=a):a=t[3];var i=a,l=o("LSMessagingThreadTypeUtil").isCMSubthread(e),s=o("MWCMThreadTypes.react").isJoinedCMThread(e),u=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(e);return s||l||u?!1:r||i}l.default=e}),98);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(2),a=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),i=a.canUnsendMessage;if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(t.sendStatusV2)))return!1;var l;n[0]!==t.cannotUnsendReason?(l=t.cannotUnsendReason!=null?(e||(e=o("I64"))).equal(t.cannotUnsendReason,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0,n[0]=t.cannotUnsendReason,n[1]=l):l=n[1];var u=l;return i&&u}l.default=u}),98);
__d("MWV2ContextualActionsButton.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMessageActionButton.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","MWV2LogMessageClick","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXDeferredPopoverTrigger.react","MWXIconDots3Vertical","MWXMAUtils","MWXMAV2IsDataclassLiveLocationXMA","MWXMAV2XmaDataClass","MessagingAttachmentType","MetaConfig","ReQL","ReQLSuspense","WebUserFlowLoggingDataContextProvider.react","emptyFunction","gkx","isDeliveryStatusErrorState","isFeatureLimitEnabled","react","requireDeferred","useHandleRemoveLocalMessage","useIsMWV2ReportMessageThreadType","useIsReadOnlyFeatureLimitedWithThreadType","useIsSecureMessage","useMWPCanRemoveMessageGlobally","useMWPIsMessagePinned","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useContext,g=p.useEffect,h=r("requireDeferred")("MetaAiIntentsImageEditingEventsFalcoEvent").__setRef("MWV2ContextualActionsButton.react"),y=r("requireDeferred")("MWV2ContextualActionsMenu.react").__setRef("MWV2ContextualActionsButton.react");function C(t){var n,a=t.attachment,l=t.canRemoveMessageGlobally,d=t.closeActionsMenu,p=t.containerThreadKey,C=t.extraActions,b=t.isOutgoing,v=t.isSubthreadParentMessage,S=v===void 0?!1:v,R=t.learnMoreOnMessageRemove,L=t.message,E=t.onRemoveMessageLogger,k=t.removeMessageDialogTitle,I=t.setMoreMenuOpen,T=t.shouldHideActions,D=T===void 0?!1:T,x=t.showBumpActionInContextualMenu,$=t.showBusinessMessageFeedbackOptionsInContextualMenu,P=t.showCreateSubthread,N=P===void 0?!1:P,M=t.showFeedbackOptionsInContextualMenu,w=t.showForwardActionInContextualMenu,A=t.showReactionInContextualMenu,F=t.showReplyActionInContextualMenu,O=t.threadType,B=(e||(e=r("useReStore")))(),W=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(B.tables.threads,["parentThreadKey","threadKey","threadSubtype","threadType","cannotUnsendReason"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(L.threadKey)},[B,L.threadKey],i.id+":104"),q=W==null?void 0:W.parentThreadKey,U=s._(/*BTDS*/"More"),V=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),H=V.feedbackAndReportEnabled,G=V.localDeleteMessageEnabled,z=V.modifyPinnedMessageV2Enabled,j=V.reportMessageToAdminEnabled,K=(a==null?void 0:a.defaultCtaType)!=null&&o("MWXMAUtils").isRTCXMA(a.defaultCtaType),Q=r("useMWPCanRemoveMessageGlobally")(L);Q=Q&&!K;var X=o("MWXMAV2XmaDataClass").parseXmaDataClass(a==null?void 0:a.xmaDataclass),Y=o("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(X),J=!Y,Z=o("LSMessagingThreadTypeUtil").isArmadilloSecure(O),ee=r("useIsSecureMessage")(B,L,{fallbackThreadType:O}),te=o("MWCMThreadTypes.react").isJoinedCMThread(O),ne=r("useIsReadOnlyFeatureLimitedWithThreadType")(O),re=o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isCMSubthread(O)?q==null?o("ReQL").empty():o("ReQL").fromTableAscending(B.tables.participants).getKeyRange(q,L.senderId):te?o("ReQL").fromTableAscending(B.tables.participants).getKeyRange(L.threadKey,L.senderId):o("ReQL").empty()},[te,O,q,B,L.senderId,L.threadKey],i.id+":151"),oe=o("ReQLSuspense").useFirst(function(){return te?o("ReQL").fromTableAscending(B.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields)).getKeyRange(L.senderId):o("ReQL").empty()},[B,te,L.senderId],i.id+":178"),ae=(!Z||r("isFeatureLimitEnabled")())&&ne,ie=!ae,le=o("MWPActor.react").useActor(),se=oe!=null&&((n=o("LSContactBitOffset").has(77,oe))!=null?n:!1),ue=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(O),ce=Z&&!ee,de=r("useMWPIsMessagePinned")(L),me=(a==null?void 0:a.attachmentType)!=null&&((u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))),pe=L.ephemeralDurationInSec,_e=pe!=null?(u||(u=o("I64"))).gt(pe,(u||(u=o("I64"))).zero):!1,fe=z&&!D&&!L.isUnsent&&(!ce||de)&&!S&&!o("LSMessagingThreadTypeUtil").isCMSubthread(O)&&(!ue||ue&&o("MWPActor.react").isAPPlus()&&r("MetaConfig")._("107"))&&!me&&!_e&&!Y&&!K,ge=L.isUnsent,he=!1;te||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(O)||o("LSMessagingThreadTypeUtil").isCMSubthread(O)?he=!ge&&Q:Z?he=!ae:he=G&&ie;var ye=r("useMWXEntryPointDialog")(r("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),{}),Ce=ye[0],be=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2ContextualActionsButton.react")),ve=be[0],Se=(re==null?void 0:re.isAdmin)===!0,Re=o("MWCMThreadTypes.react").isJoinedCMThread(O)||o("LSMessagingThreadTypeUtil").isCMSubthread(O),Le=o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(O)&&r("gkx")("7960"),Ee=Re&&j&&!Se&&!(u||(u=o("I64"))).equal(le,L.senderId)&&!L.isUnsent&&!se,ke=(Re||Le)&&!(u||(u=o("I64"))).equal(le,L.senderId)&&!L.isUnsent,Ie=r("useIsMWV2ReportMessageThreadType")(O),Te=H&&Ie&&!K,De=f(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),xe=De.loggingDataRef,$e=r("useHandleRemoveLocalMessage")(O,L,E),Pe=o("Int64Hooks").useCallbackInt64(function(){if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(L.sendStatusV2))){$e(xe.current);return}var e={canRemoveMessageGlobally:Q,canRemoveMessageLocally:J,message:L,removeLogger:E,threadType:O},t={learnMoreOnMessageRemove:R,message:L},n=(u||(u=o("I64"))).equal(L.senderId,le);return o("MWCMThreadTypes.react").isJoinedCMThread(O)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(O)||n&&!r("gkx")("24140")&&!L.isUnsent?Ce(t):ve(e,r("emptyFunction"))},[L,Q,J,E,O,R,le,$e,xe,Ce,ve]),Ne=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),Me=Ne.removeMessage;he?Me.current=Pe:Me.current=r("emptyFunction");var we=_(function(){Me.current=r("emptyFunction")},[Me]);g(function(){return we},[we]);var Ae=f(o("MWV2MessageRowIsRowFocusedContext.react").context);if(W==null||!(w||F||A||fe||M||$||he||Ee||ke||C!=null||r("gkx")("731")))return null;var Fe=function(t){return I(function(){return t}),Ae.setFocused(function(){return t})},Oe={eventName:"click_message_contextual_action_button",threadKey:L.threadKey,threadType:O};return m.jsx(r("MWXDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:Fe,popoverProps:{attachment:a,canRemoveMessageGlobally:l&&Q,canRemoveMessageLocally:J,closeActionsMenu:d,containerThreadKey:p,extraActions:C,isOutgoing:b,isSecureMessage:ee,learnMoreOnMessageRemove:R,message:L,onRemoveMessageLogger:E,removeMessageDialogTitle:k,showBumpActionInContextualMenu:x,showBusinessMessageFeedbackOptionsInContextualMenu:$,showCreateSubthread:N,showFeedbackOptionsInContextualMenu:M,showForwardActionInContextualMenu:w&&!K,showPinMessageActionInContextualMenu:fe,showReactionInContextualMenu:A,showReplyActionInContextualMenu:F&&!K,showReportCommunityMessageToAdmin:Ee,showReportCommunityMessageToFacebook:ke,showReportMessageToFacebook:Te,showUnsendInContextualMenu:he,thread:W},popoverResource:y,popoverType:"menu",position:"above",children:function(t,n){var e=function(){return n(),h.onReady(function(e){e.log(function(){return{bottom_sheet_session_id:"",event_name:"open_context_menu_three_dots",response_image_type:"basic",source_image_type:"uploaded",surface:"messenger"}})}),o("MWV2LogMessageClick").log(B,L,48)};return m.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconDots3Vertical"),label:U,loggingEvent:Oe,onPress:e,ref:t,testid:void 0})}})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),226);
__d("MWV2ForwardMessageButton.react",["fbt","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MWChatForwardAction.react","gkx","promiseDone","qex","react","react-compiler-runtime","useMWV2ForwardMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(9),n=e.mediaGroupInfo,a=e.message,i=e.threadType,l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i),m=r("qex")._("564")===!0,p=l?m?"cross_transport":"secure":m?"cross_transport":"open_",_=a.stickerId,f=o("useMWV2ForwardMessage").useMWV2ForwardMessage(a,i,void 0,n),g=!o("LSMessagingThreadTypeUtil").isArmadilloSecure(i),h=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1),a.displayedContentTypes)&&!a.textHasLinks||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(16384),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(2),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(4),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(512),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)&&r("gkx")("15802")||_!=null&&(c||(c=o("I64"))).equal(_,(c||(c=o("I64"))).of_string("369239263222822"))||_!=null&&(c||(c=o("I64"))).equal(_,(c||(c=o("I64"))).of_string("369239343222814"))||_!=null&&(c||(c=o("I64"))).equal(_,(c||(c=o("I64"))).of_string("369239383222810")),y=g&&!h||e.dropForwardE2eeToggle===!0,C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Forward"),t[0]=C):C=t[0];var b;t[1]!==f?(b=function(t){return r("promiseDone")(f(t))},t[1]=f,t[2]=b):b=t[2];var v;return t[3]!==y||t[4]!==p||t[5]!==a||t[6]!==b||t[7]!==i?(v=d.jsx(r("MWChatForwardAction.react"),{dropToggle:y,forwardDialogType:p,label:C,message:a,onForward:b,threadType:i}),t[3]=y,t[4]=p,t[5]=a,t[6]=b,t[7]=i,t[8]=v):v=t[8],v}l.default=m}),226);
__d("MWV2MessageReactionButton.react",["MWChatReactionsAction.react","react","react-compiler-runtime","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.closeActionsMenu,a=e.message,i=e.onReactionsSendLogger,l=e.reactionsPopoverResource,u=e.setReactionsMenuOpen,c=e.threadType,d=r("useMWV2ShouldDisableReactions.react")(c,a.threadKey),m=r("useMWChatReactionsActionContainerProps.react")(a,n,c,i,u,l);if(d)return null;var p;return t[0]!==m?(p=s.jsx(r("MWChatReactionsAction.react"),babelHelpers.extends({},m)),t[0]=m,t[1]=p):p=t[1],p}l.default=u}),98);
__d("MWV2ReplyButton.react",["cr:9776","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r=e.message,a;return t[0]!==r?(a=s.jsx(n("cr:9776"),{message:r}),t[0]=r,t[1]=a):a=t[1],a}l.default=u}),98);
__d("mwpMessageHasAttachment",["I64","LSIntEnum","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(1))&&r("justknobx")._("4768")&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(8192))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).add((s||(s=o("LSIntEnum"))).ofNumber(1),(s||(s=o("LSIntEnum"))).ofNumber(8192)))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(128))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).add((s||(s=o("LSIntEnum"))).ofNumber(128),(s||(s=o("LSIntEnum"))).ofNumber(8192)))?!(e||(e=o("I64"))).equal(t.displayedContentTypes,e.add((s||(s=o("LSIntEnum"))).ofNumber(1),s.ofNumber(512))):!1}l.default=u}),98);
__d("useEnableBusinessMessageFeedbackOptions",["I64","MWPActor.react"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("MWPActor.react").useActor(),r=(e||(e=o("I64"))).equal(t.senderId,n);if(t.metadataDataclass==null)return!1;var a=JSON.parse(t.metadataDataclass);return a&&a.business_thread_response_feedback&&a.business_thread_response_feedback.is_feedback_button_enabled_for_message===!0?!r:!1}l.default=s}),98);
__d("useGenAIFeedbackSubmissionStatus",["I64","LSIntEnum","LSMailboxAIBotFeedbackSubmissionStatus","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(6),n=(u||(u=r("useReStore")))(),a;t[0]!==e||t[1]!==n.tables.ai_bot_feedback_submission_status?(a=function(){return o("ReQL").fromTableDescending(n.tables.ai_bot_feedback_submission_status).getKeyRange(e!=null?e:"").filter(m).map(d)},t[0]=e,t[1]=n.tables.ai_bot_feedback_submission_status,t[2]=a):a=t[2];var l;t[3]!==e||t[4]!==n?(l=[n,e],t[3]=e,t[4]=n,t[5]=l):l=t[5];var s=o("ReQLSuspense").useFirst(a,l,i.id+":25");return s}function d(e){return e.feedbackSubmissionStatus}function m(t){return(e||(e=o("I64"))).equal(t.feedbackSubmissionStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxAIBotFeedbackSubmissionStatus").SUBMITTED))}l.default=c}),98);
__d("useIsGenAiFeedbackEnabled",["I64","LSContactTypeExact","LSIntEnum","MWPContactContext.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("react-compiler-runtime").c(2),i=o("MWPContactContext.react").useMWPContactStableContext(),l=i.contact;if(t==null||!n)return!1;var u;return a[0]!==l?(u=l!=null&&(e||(e=o("I64"))).equal(l.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),a[0]=l,a[1]=u):u=a[1],u}l.default=u}),98);
__d("useIsMessageIDInNewFormat",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u="mid.$g",c="mid.$m",d="mid.$c",m="mid.$o";function p(e,t,n){var r=o("react-compiler-runtime").c(2),a,i;r[0]!==e?(i=e.startsWith(c)||e.startsWith(u)||e.startsWith(m)||e.startsWith(d),r[0]=e,r[1]=i):i=r[1],a=i;var l=a;return t&&n?!0:l}l.default=p}),98);
__d("useMessageAttachment",["ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==t?(l=r("mwpMessageHasAttachment")(t),n[0]=t,n[1]=l):l=n[1];var s=l,u,c;return n[2]!==a||n[3]!==s||n[4]!==t.messageId||n[5]!==t.threadKey?(u=function(){return s?o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId):o("ReQL").empty()},c=[a,t.threadKey,t.messageId,s],n[2]=a,n[3]=s,n[4]=t.messageId,n[5]=t.threadKey,n[6]=u,n[7]=c):(u=n[6],c=n[7]),o("ReQLSuspense").useFirst(u,c,i.id+":30")}l.default=s}),98);
__d("useSubthreadShouldShowReplyCTAForMesage",["ChatGeminiDisplayContextProvider.react","gkx","react-compiler-runtime","useSubthreadInfoSafeForNonWork"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),a=r("useSubthreadInfoSafeForNonWork")(e,t),i=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),l=r("gkx")("16795")&&(i==null?void 0:i.displaySurface)!=="subthread"&&a!=null,s;return n[0]!==l||n[1]!==a?(s={shouldShowSubthreadCTA:l,subthread:a},n[0]=l,n[1]=a,n[2]=s):s=n[2],s}l.default=e}),98);
__d("useXMAV2Provider",["react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("react-compiler-runtime").c(4);if(e.length===0)return null;var r=(t=e[0])==null?void 0:t.xmaDataclass;if(r==null)return null;var a,i,l;if(n[0]!==r){i=Symbol.for("react.early_return_sentinel");e:{if(l=JSON.parse(r),l==null){i=null;break e}var s=l.content;if(s==null){i=null;break e}a=!0;var u=(s==null?void 0:s.__typename)==="XMSGXmaSingleContent"?[s]:s.list;u==null||u.forEach(function(e){var t=e.custom_template_data;if(t==null){a=!1;return}})}n[0]=r,n[1]=a,n[2]=i,n[3]=l}else a=n[1],i=n[2],l=n[3];return i!==Symbol.for("react.early_return_sentinel")?i:a?l:null}l.default=e}),98);
__d("MWMessageRowActions.react",["$InternalEnum","AdsAIMessengerUtils","CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MSGDataclassTypes.flow","MWBlockingProtectionContext.react","MWCMCreateSubthreadRowActionButton.react","MWCMIsSubthreadContext.react","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPThreadCapabilitiesContext","MWV2ContextualActionsButton.react","MWV2ForwardMessageButton.react","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.react","MWV2OneToOneThreadBlockedContext.react","MWV2ReplyButton.react","MWXMAUtils","MWXTooltipGroup.react","MessagingAttachmentType","MetaConfig","cr:1669","cr:1670","cr:895","emptyFunction","gkx","isFeatureLimitEnabled","isMWBumpMessage","lazyLoadComponent","mwCMIsAnyCMThread","mwpMessageHasAttachment","react","react-compiler-runtime","shouldHideMessagingActions","useEmptyFunction","useEnableBusinessMessageFeedbackOptions","useGenAIFeedbackSubmissionStatus","useGetMediaGroupInformation","useIsGenAiFeedbackEnabled","useIsLastNonAdminMessage","useIsMessageIDInNewFormat","useIsReadOnlyFeatureLimitedWithThreadType","useIsSecureMessage","useMWGetOtherUserContact","useMWHasForwardAction","useMWIsContactRestricted","useMWV2MessageForwardAction","useMessageAttachment","useReStore","useSubthreadShouldShowReplyCTAForMesage","useXMAV2Provider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g=p.useState,h=r("lazyLoadComponent")(r("JSResourceForInteraction")("AdsOsmipChatMessageFeedbackButton.react").__setRef("MWMessageRowActions.react")),y=(e=n("cr:895"))!=null?e:r("useEmptyFunction"),C=r("gkx")("26372"),b={moveUpForWorkSubthreadReplyCTA:{transform:"x1dufm33",$$css:!0},shrinkSpaceForFeedbackActions:{maxWidth:"x1x67gh",$$css:!0}},v=n("$InternalEnum").Mirrored(["AI_STICKERS"]);function S(e){var t,a=e.canRemoveMessageGlobally,l=e.closeActionsMenu,d=e.containerThreadKey,p=e.dropForwardE2eeToggle,g=e.extraActions,y=e.learnMoreOnMessageRemove,b=e.mediaGroupInfo,v=e.message,S=e.onReactionsSendLogger,R=e.onRemoveMessageLogger,L=e.outgoing,E=e.reactionsPopoverResource,k=e.removeMessageDialogTitle,I=e.setMoreMenuOpen,T=e.setReactionsMenuOpen,D=e.shouldHideForwardOption,x=e.shouldHideHoverMenuReact,$=e.shouldShowAdsAIFeedbackButtons,P=$===void 0?!1:$,N=e.threadType,M=o("MWCMIsSubthreadContext.react").useIsSubthreadContext(),w=M.isSubthread,A=o("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),F=(s||(s=r("useReStore")))(),O=w&&v.subthreadKey!=null,B=r("useMWGetOtherUserContact")(v.threadKey,N,o("LSContactBitOffset").contactCapabilityFields),W=r("useMWIsContactRestricted")(B),q=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),U=o("LSMessagingThreadTypeUtil").isArmadilloSecure(N),V=r("useIsSecureMessage")(F,v,{fallbackThreadType:N}),H=!(u||(u=o("I64"))).equal(v.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(1)),G=r("shouldHideMessagingActions")(v.displayedContentTypes,o("MWMessageDeliveryStatus").getFromSendStatus(v.sendStatusV2)),z=r("mwCMIsAnyCMThread")(N)&&(u||(u=o("I64"))).equal(v.sendStatusV2,(c||(c=o("LSIntEnum"))).ofNumber(4)),j=r("useMessageAttachment")(v),K=j!=null?[j]:[],Q=r("useXMAV2Provider")(K),X=(j==null?void 0:j.defaultCtaType)!=null&&o("MWXMAUtils").isRTCXMA(j.defaultCtaType),Y=(Q==null?void 0:Q.layout_type)===o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll,J=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),Z=J.blurMediaEnabled,ee=r("gkx")("24098")&&Z,te=j!=null?(u||(u=o("I64"))).equal(j.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):!1,ne=j!=null?(u||(u=o("I64"))).equal(j.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):!1,re=ee&&(te||ne),oe=u.equal((t=v.displayedContentTypes)!=null?t:(u||(u=o("I64"))).zero,c.ofNumber(128)),ae=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),ie=ae.isPaused,le=ae.reactEnabled,se=ae.reactionsV2WriteEnabled,ue=ae.replyEnabled,ce=ae.subThreadCreationEnabled,de=(j==null?void 0:j.xmaLayoutType)!=null&&(u||(u=o("I64"))).equal(j.xmaLayoutType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),me=!de&&!v.isUnsent||!H||oe,pe=r("useIsGenAiFeedbackEnabled")(v.botResponseId,C),_e=r("useGenAIFeedbackSubmissionStatus")(v.botResponseId),fe=pe&&_e==null,ge=fe&&n("cr:1669")!=null,he=r("useMWHasForwardAction")(N,v,j,D,b,ge),ye=he.hasForwardAction,Ce=he.shouldShowForwardAction,be=r("useIsReadOnlyFeatureLimitedWithThreadType")(N)&&(!U||r("isFeatureLimitEnabled")()),ve=!A&&!W&&!v.isUnsent&&!z&&!Y&&(le||se),Se=pe&&_e!=null,Re=r("useEnableBusinessMessageFeedbackOptions")(v),Le=r("isMWBumpMessage")(v.replyType)&&v.replySourceId==null,Ee=r("useIsMessageIDInNewFormat")(v.messageId,U,V),ke=!A&&!G&&!W&&!z&&ue&&!v.isUnsent&&!O&&!be&&!P&&!Le&&Ee,Ie=ke&&!Ce&&!fe&&!ie&&!X,Te=!G&&ve&&!x&&!P&&!ie,De=Te&&!fe&&!X,xe=Te&&fe,$e=o("MWCMThreadTypes.react").isJoinedCMThread(N)&&!ie&&ce&&!O&&me,Pe=v.ephemeralDurationInSec,Ne=Pe!=null?(u||(u=o("I64"))).gt(Pe,(u||(u=o("I64"))).zero):!1,Me=V&&!G&&!A&&!W&&!Ne&&!Le&&!v.isUnsent&&!X,we=$e&&q==="Inbox",Ae=r("useMWV2MessageForwardAction")(U,v,N),Fe=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),Oe=Fe.forwardMessage;ye&&(Oe.current=Ae);var Be=_(function(){Oe.current=r("emptyFunction")},[Oe]);f(function(){return Be},[Be]);var We=v.messageId,qe=v.offlineThreadingId,Ue=v.sendStatusV2,Ve=v.threadKey,He=v.timestampMs;return m.jsxs(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:L,children:[Ce&&!re?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(r("MWV2ForwardMessageButton.react"),{dropForwardE2eeToggle:p,mediaGroupInfo:b,message:v,threadType:N})}):null,De?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWV2MessageReactionButton.react"),{closeActionsMenu:l,message:v,onReactionsSendLogger:S,reactionsPopoverResource:E,setReactionsMenuOpen:T,threadType:N})}):null,Ie&&!re?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWV2ReplyButton.react"),{message:{messageId:We,offlineThreadingId:qe,sendStatusV2:Ue,threadKey:Ve,timestampMs:He}})}):null,we&&m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWCMCreateSubthreadRowActionButton.react"),{message:v})}),fe&&n("cr:1670")?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(n("cr:1670"),{message:v})}):null,fe&&n("cr:1669")?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(n("cr:1669"),{message:v})}):null,P&&h!=null?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:m.jsx(h,{message:v})})}):null,m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWV2ContextualActionsButton.react"),{attachment:j,canRemoveMessageGlobally:a,closeActionsMenu:l,containerThreadKey:d,extraActions:g,isOutgoing:L,isSubthreadParentMessage:O,learnMoreOnMessageRemove:y,message:v,onRemoveMessageLogger:R,removeMessageDialogTitle:k,setMoreMenuOpen:I,shouldHideActions:G,showBumpActionInContextualMenu:Me,showBusinessMessageFeedbackOptionsInContextualMenu:Re,showCreateSubthread:$e&&!we,showFeedbackOptionsInContextualMenu:Se,showForwardActionInContextualMenu:!Ce&&ye,showReactionInContextualMenu:xe,showReplyActionInContextualMenu:!Ie&&ke,threadType:N})})]})}S.displayName=S.name+" [from "+i.id+"]";function R(e){var t,n=o("react-compiler-runtime").c(33),a=e.ariaHidden,i=e.canRemoveMessageGlobally,l=e.containerThreadKey,s=e.dropForwardE2eeToggle,d=e.extraActions,p=e.focused,_=e.hidden,f=e.hovered,h=e.isSecureMessage,v=e.learnMoreOnMessageRemove,R=e.message,E=e.onMouseEnter,k=e.onMouseLeave,I=e.onReactionsSendLogger,T=e.onRemoveMessageLogger,D=e.outgoing,x=e.reactionsPopoverResource,$=e.removeMessageDialogTitle,P=e.shouldHideForwardOption,N=e.shouldHideHoverMenuReact,M=e.showPersistentGenAiFeedbackActionButtons,w=e.threadType,A=_===void 0?!1:_,F=P===void 0?!1:P,O=N===void 0?!1:N,B=M===void 0?!1:M,W=g(!1),q=W[0],U=W[1],V=g(!1),H=V[0],G=V[1],z;n[0]!==R.displayedContentTypes?(z=o("LSBitFlag").has((c||(c=o("LSIntEnum"))).ofNumber(2),R.displayedContentTypes),n[0]=R.displayedContentTypes,n[1]=z):z=n[1];var j=z,K=(t=y(R.threadKey,R.botResponseId,C))!=null?t:!1,Q;n[2]!==R?(Q=o("AdsAIMessengerUtils").isMessageFromAdsAI(R),n[2]=R,n[3]=Q):Q=n[3];var X=Q,Y=r("useIsLastNonAdminMessage")(R.threadKey,R.messageId),J=Y&&X,Z=r("useGetMediaGroupInformation")(R,h===!0),ee=Z!=null&&(Z==null?void 0:Z.hasAllMessagesSent)===!1,te=f||p||H||q,ne=r("MWBlockingProtectionContext.react").useHook(),re=ne.findMessageId,oe=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(R.senderId,R.threadKey),ae=r("useSubthreadShouldShowReplyCTAForMesage")(R.threadKey,R.messageId),ie=ae.shouldShowSubthreadCTA;if(oe&&!re(R.messageId))return null;var le=(u||(u=o("I64"))).to_string(R.threadKey)===r("MetaConfig")._("83")&&!D&&r("mwpMessageHasAttachment")(R);if(le)return null;var se=!A&&!ee&&(te||K||j||J),ue=a!=null?a:!1,ce=te===!0?"full":"partial",de=ie&&b.moveUpForWorkSubthreadReplyCTA,me=B&&b.shrinkSpaceForFeedbackActions,pe;n[4]!==me||n[5]!==de?(pe=[de,me],n[4]=me,n[5]=de,n[6]=pe):pe=n[6];var _e;n[7]!==i||n[8]!==l||n[9]!==s||n[10]!==d||n[11]!==v||n[12]!==Z||n[13]!==R||n[14]!==I||n[15]!==T||n[16]!==D||n[17]!==x||n[18]!==$||n[19]!==F||n[20]!==O||n[21]!==se||n[22]!==X||n[23]!==w?(_e=se?m.jsx(S,{canRemoveMessageGlobally:i!=null?i:!0,closeActionsMenu:r("emptyFunction"),containerThreadKey:l,dropForwardE2eeToggle:s,extraActions:d!=null?d:null,learnMoreOnMessageRemove:v,mediaGroupInfo:Z,message:R,onReactionsSendLogger:I,onRemoveMessageLogger:T,outgoing:D,reactionsPopoverResource:x,removeMessageDialogTitle:$,setMoreMenuOpen:G,setReactionsMenuOpen:U,shouldHideForwardOption:F,shouldHideHoverMenuReact:O,shouldShowAdsAIFeedbackButtons:X,threadType:w}):null,n[7]=i,n[8]=l,n[9]=s,n[10]=d,n[11]=v,n[12]=Z,n[13]=R,n[14]=I,n[15]=T,n[16]=D,n[17]=x,n[18]=$,n[19]=F,n[20]=O,n[21]=se,n[22]=X,n[23]=w,n[24]=_e):_e=n[24];var fe;return n[25]!==E||n[26]!==k||n[27]!==D||n[28]!==pe||n[29]!==_e||n[30]!==ue||n[31]!==ce?(fe=m.jsx(r("CometErrorBoundary.react"),{fallback:L,children:m.jsx(r("MWXTooltipGroup.react"),{children:m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:ue,onMouseEnter:E,onMouseLeave:k,outgoing:D,visibility:ce,xstyle:pe,children:_e})})}),n[25]=E,n[26]=k,n[27]=D,n[28]=pe,n[29]=_e,n[30]=ue,n[31]=ce,n[32]=fe):fe=n[32],fe}function L(){return null}l.LearnMoreDialogType=v,l.MWMessageRowActions=R}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","getMessengerPreciseTimestamp","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(11),n=e.timestampMs,a=e.unsentTimestampMs,i;t[0]!==n?(i=s._(/*BTDS*/"Sent: {time}",[s._param("time",r("getMessengerPreciseTimestamp")((u||(u=o("I64"))).to_float(n)))]),t[0]=n,t[1]=i):i=t[1];var l;t[2]!==i?(l=c.jsx("div",{children:i}),t[2]=i,t[3]=l):l=t[3];var d;t[4]!==a?(d=s._(/*BTDS*/"Unsent: {time}",[s._param("time",r("getMessengerPreciseTimestamp")((u||(u=o("I64"))).to_float(a)))]),t[4]=a,t[5]=d):d=t[5];var m;t[6]!==d?(m=c.jsx("div",{children:d}),t[6]=d,t[7]=m):m=t[7];var p;return t[8]!==l||t[9]!==m?(p=c.jsxs("div",{children:[l,m]}),t[8]=l,t[9]=m,t[10]=p):p=t[10],p}l.default=d}),226);
__d("MWMultiReactConstants",[],(function(t,n,r,o,a,i){"use strict";var e=3,l=20,s=3,u=9,c=180,d=2;i.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=e,i.CM_MAX_REACTION_EMOJIS_ALLOWED=l,i.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=s,i.SPACING_PER_COUNT_CHARACTER=u,i.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=c,i.REACTION_BUTTON_BUBBLE_EASE_FACTOR=d}),66);
__d("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react",["HorizonWorldsUpdateSubscriptionManagementUserActionType","I64","LSFactory","LSIntEnum","LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n=o("react-compiler-runtime").c(21),a=t.message,l=t.shouldSubscribe,c=(e||(e=r("useReStore")))(),m;n[0]!==a.threadKey?(m=(s||(s=o("I64"))).to_string(a.threadKey),n[0]=a.threadKey,n[1]=m):m=n[1];var p=m,_;n[2]!==a.messageId||n[3]!==a.threadKey||n[4]!==c.tables.admin_message_ctas?(_=function(){return o("ReQL").fromTableAscending(c.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId)},n[2]=a.messageId,n[3]=a.threadKey,n[4]=c.tables.admin_message_ctas,n[5]=_):_=n[5];var f;n[6]!==a.messageId||n[7]!==a.threadKey||n[8]!==c?(f=[c,a.messageId,a.threadKey],n[6]=a.messageId,n[7]=a.threadKey,n[8]=c,n[9]=f):f=n[9];var g=o("ReQLSuspense").useFirst(_,f,i.id+":35"),h;n[10]!==l||n[11]!==c||n[12]!==(g==null?void 0:g.targetId)||n[13]!==p?(h=function(){var e=g==null?void 0:g.targetId;if(e!=null){var t=l?(u||(u=o("LSIntEnum"))).ofNumber(r("HorizonWorldsUpdateSubscriptionManagementUserActionType").SUBSCRIBE):(u||(u=o("LSIntEnum"))).ofNumber(r("HorizonWorldsUpdateSubscriptionManagementUserActionType").UNSUBSCRIBE);r("promiseDone")(c.runInTransaction(function(n){return r("LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure")(r("LSFactory")(n),{actionType:t,threadKey:(s||(s=o("I64"))).of_string(p),worldId:e})},"readwrite",void 0,void 0,i.id+":57"))}},n[10]=l,n[11]=c,n[12]=g==null?void 0:g.targetId,n[13]=p,n[14]=h):h=n[14];var y=h,C;n[15]!==a.adminMsgCtaTitle||n[16]!==y?(C=a.adminMsgCtaTitle!=null?d.jsx(r("MWXLink.react"),{onClick:function(){return y()},target:"_blank",children:a.adminMsgCtaTitle}):void 0,n[15]=a.adminMsgCtaTitle,n[16]=y,n[17]=C):C=n[17];var b=C,v;return n[18]!==b||n[19]!==a?(v=d.jsx(r("MWAdminTextLayout.react"),{cta:b,message:a}),n[18]=b,n[19]=a,n[20]=v):v=n[20],v}l.default=p}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(19),a=t.message,l=t.shouldMute,u=(e||(e=r("useReStore")))(),d;n[0]!==u.tables.admin_message_ctas||n[1]!==a.messageId||n[2]!==a.threadKey?(d=function(){return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId)},n[0]=u.tables.admin_message_ctas,n[1]=a.messageId,n[2]=a.threadKey,n[3]=d):d=n[3];var m;n[4]!==u||n[5]!==a.messageId||n[6]!==a.threadKey?(m=[u,a.messageId,a.threadKey],n[4]=u,n[5]=a.messageId,n[6]=a.threadKey,n[7]=m):m=n[7];var p=o("ReQLSuspense").useFirst(d,m,i.id+":32"),_;n[8]!==u||n[9]!==a.threadKey||n[10]!==l||n[11]!==p?(_=function(){if((p==null?void 0:p.targetId)!=null){var e=p.targetId,t=l?(s||(s=o("LSIntEnum"))).ofNumber(0):(s||(s=o("LSIntEnum"))).ofNumber(1);r("promiseDone")(u.runInTransaction(function(n){return r("LSCustomUpdateMuteManagementStoredProcedure")(r("LSFactory")(n),{gameId:e,mutedUserId:a.threadKey,userActionType:t})},"readwrite",void 0,void 0,i.id+":55"))}},n[8]=u,n[9]=a.threadKey,n[10]=l,n[11]=p,n[12]=_):_=n[12];var f=_,g;n[13]!==a.adminMsgCtaTitle||n[14]!==f?(g=a.adminMsgCtaTitle!=null?c.jsx(r("MWXLink.react"),{onClick:f,target:"_blank",children:a.adminMsgCtaTitle}):void 0,n[13]=a.adminMsgCtaTitle,n[14]=f,n[15]=g):g=n[15];var h=g,y;return n[16]!==h||n[17]!==a?(y=c.jsx(r("MWAdminTextLayout.react"),{cta:h,message:a}),n[16]=h,n[17]=a,n[18]=y):y=n[18],y}l.default=m}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n=o("react-compiler-runtime").c(12),a=t.message,l=t.shouldSubscribe,c=(e||(e=r("useReStore")))(),m;n[0]!==a.threadKey?(m=(s||(s=o("I64"))).to_string(a.threadKey),n[0]=a.threadKey,n[1]=m):m=n[1];var p=m,_;n[2]!==l||n[3]!==c||n[4]!==p?(_=function(){var e=l?(u||(u=o("LSIntEnum"))).ofNumber(0):(u||(u=o("LSIntEnum"))).ofNumber(1);r("promiseDone")(c.runInTransaction(function(t){return r("LSUpdateBotSubscriptionStoredProcedure")(r("LSFactory")(t),{threadKey:(s||(s=o("I64"))).of_string(p),userActionType:e})},"readwrite",void 0,void 0,i.id+":41"))},n[2]=l,n[3]=c,n[4]=p,n[5]=_):_=n[5];var f=_,g;n[6]!==a.adminMsgCtaTitle||n[7]!==f?(g=a.adminMsgCtaTitle!=null?d.jsx(r("MWXLink.react"),{onClick:function(){return f()},target:"_blank",children:a.adminMsgCtaTitle}):void 0,n[6]=a.adminMsgCtaTitle,n[7]=f,n[8]=g):g=n[8];var h=g,y;return n[9]!==h||n[10]!==a?(y=d.jsx(r("MWAdminTextLayout.react"),{cta:h,message:a}),n[9]=h,n[10]=a,n[11]=y):y=n[11],y}l.default=p}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function c(e){var t=e.isOptOut,n=e.renderer,o=e.targetId,a=e.threadKey,i={isOptOut:t,targetId:o,threadKey:a},l=r("useMWXLazyDialog")(u),s=l[0],c=function(){return s(i,r("emptyFunction"))};return n(c)}l.default=c}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.isOptOut,a=e.targetId,i=e.threadKey,l=e.title,u;t[0]!==l?(u=function(t){return s.jsx(r("MWXPressable.react"),{onPress:function(){return t()},children:s.jsx(r("CometTextWithEntities.react"),{text:l})})},t[0]=l,t[1]=u):u=t[1];var c=u,d;return t[2]!==n||t[3]!==c||t[4]!==a||t[5]!==i?(d=s.jsx(r("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:n,renderer:c,targetId:a,threadKey:i}),t[2]=n,t[3]=c,t[4]=a,t[5]=i,t[6]=d):d=t[6],d}l.default=u}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.message,r=e.outgoing,a=o("MWPMessageAuthor.react").useAuthorName(),i=a[0],l;t[0]!==r?(l=r?s._(/*BTDS*/"You sent"):s._(/*BTDS*/"Participant"),t[0]=r,t[1]=l):l=t[1];var d=l,m;return t[2]!==i||t[3]!==d||t[4]!==n.isAdminMessage||t[5]!==r?(m=!n.isAdminMessage&&u.jsx(o("react-strict-dom").html.span,{style:c.visuallyHidden,children:i!=null&&!r?i:d}),t[2]=i,t[3]=d,t[4]=n.isAdminMessage,t[5]=r,t[6]=m):m=t[6],m}l.default=d}),226);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MWPMessageHasXMA","MWUnvaultedText","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=280,c=3e5;function d(e){return!r("isStringNullOrEmpty")(e.text)}function m(t){var n=t.replySourceTypeV2;return n==null?!1:!(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))}function p(t){var n=t.replySourceTypeV2;return n==null?!1:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))}function _(e){var t=e.text;return t=o("MWUnvaultedText").getMWUnvaultedText(!1,t),(t!=null?t:"").length>u}var f=[128,256,65536,131072,262144,524288,4294967296,1048576,2097152,4194304,8388608,16777216,33554432,67108864,1073741824,4096,512].filter(Boolean);function g(e){return e.isAdminMessage||f.some(function(t){return o("LSBitFlag").has((s||(s=o("LSIntEnum"))).ofNumber(t),e.displayedContentTypes)})||_(e)}function h(e,t){return r("MWPMessageHasXMA")(e)&&r("MWPMessageHasXMA")(t)}function y(t,n){if(n===void 0)return!0;var r=Math.abs((e||(e=o("I64"))).to_float(t.timestampMs)-e.to_float(n.timestampMs))>c,a=p(t),i=e.equal(t.senderId,n.senderId);return n.isUnsent||t.isUnsent||n.isExpired||h(n,t)||t.isExpired||m(t)||!i||r||a||g(t)?!0:g(n)}function C(e,t){return t==null||y(e,t)}function b(e,t){return t==null||y(t,e)}function v(e,t,n){return n==="below"?d(e)?!0:!C(e,t):!1}function S(e,t,n){return n==="below"?!b(e,t):b(e,t)?!1:d(e)}var R={shouldConnectBottom:S,shouldConnectTop:v};l.hasText=d,l.isReplyToSomething=m,l.isForwarded=p,l.isLongText=_,l.shouldBeStandalone=g,l.areXMAsAdjacent=h,l.isInDifferentGroup=y,l.isStartOfGroup=C,l.isEndOfGroup=b,l.MessageWithAttachments=R}),98);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a,l=(e||(e=r("useReStore")))(),s=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(n),u=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadSubtype","threadType"]).getKeyRange(n)},[l,n],i.id+":30"))!=null?a:{},c=u.threadSubtype,d=u.threadType;!(d!=null&&o("LSMessagingThreadTypeUtil").isDiscoverableChannel(d))&&!(d!=null&&o("MWCMThreadTypes.react").isBroadcastThread(d))&&!(c!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(c))||s||t.sort(function(e,t){return e.count===t.count&&e.reactionLiteral!=null&&t.reactionLiteral!=null?e.reactionLiteral.localeCompare(t.reactionLiteral):t.count-e.count})}l.useSortReactionsForBroadcastChat=s}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t;return(t=o("MWLSThread").useThread(e,s))!=null?t:!1}function s(e){return o("LSThreadBitOffset").has(184,e)||o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)}l.default=e}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useDeferredValue,g=m.useMemo,h=m.useRef,y=m.useState,C=r("gkx")("24166")?o("MWChatReactionsUtils").heartType2:o("MWChatReactionsUtils").heartType1;function b(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a.tables.reactions||n[1]!==t?(l=function(){if(t==null)return o("ReQL").empty();var e=t.messageId,n=t.threadKey;return o("ReQL").fromTableAscending(a.tables.reactions).getKeyRange(n,e).map(v)},s=[t,a.tables.reactions],n[0]=a.tables.reactions,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=f(o("ReQLSuspense").useArray(l,s,i.id+":64"));return u}function v(e){return o("MWChatReactionsUtils").isHeart(e.reaction)?{actorId:e.actorId,authorityLevel:e.authorityLevel,messageId:e.messageId,reaction:C,threadKey:e.threadKey,timestampMs:e.timestampMs}:e}function S(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t?(l=function(){if(t==null)return o("ReQL").empty();var e=t.messageId,n=t.threadKey;return o("ReQL").fromTableAscending(a.tables.reactions_v2).getKeyRange(n,e)},s=[t,a],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useArray(l,s,i.id+":91");return u}function R(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=t.messageId,s=t.threadKey,u;n[0]!==a.tables.reactions_v2||n[1]!==l||n[2]!==s?(u=function(){return o("ReQL").fromTableAscending(a.tables.reactions_v2).getKeyRange(s,l).filter(L)},n[0]=a.tables.reactions_v2,n[1]=l,n[2]=s,n[3]=u):u=n[3];var c;n[4]!==a||n[5]!==l||n[6]!==s?(c=[a,s,l],n[4]=a,n[5]=l,n[6]=s,n[7]=c):c=n[7];var d=o("ReQLSuspense").useArray(u,c,i.id+":107");return d}function L(e){return(u||(u=o("I64"))).gt(e.count,u.zero)}function E(e,t){var n=e!=null?r("intlList")(e.map(function(e){return e.join("")}),r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA):"";return s._(/*BTDS*/"_j{\"*\":\"{number} reactions with {the comma separated list of emojis used to react on this message}; see who reacted to this.\",\"_1\":\"1 reaction with {the comma separated list of emojis used to react on this message}; see who reacted to this.\"}",[s._plural(t,"number"),s._param("the comma separated list of emojis used to react on this message",n)])}function k(e){return e.map(function(e,t){var n=o("EmojiRenderer").parse(e).map(function(e){return e.emoji});return n.length!==1?[""]:n[0]}).filter(function(e){return e.join("")!==""})}function I(t){var n=t.children,a=t.dialogResource,l=t.message,s=t.onPress,c=t.outgoing,m=t.reactions,f=t.reactionsV2,C=t.shouldUseVariant16ForReactionsV2,b=C===void 0?!1:C,v=l.messageId,S=l.threadKey,R=_(o("MWV2MessageRowIsRowFocusedContext.react").context),L=R.setFocused,I=R.setIsDialogOpened,T=(e||(e=r("useReStore")))(),D=y(!1),x=D[0],$=D[1],P=function(){$(function(e){return!e})},N=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(S),M=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(S),w=o("MWLSThread").useThread(S,function(e){return o("LSMessagingThreadTypeUtil").isDiscoverableChannel(e.threadType)}),A=M?o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,F=r("useIsReactionDialogEnabled")(S),O=h(new Map),B=p(function(){N&&r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(T,function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:l.messageId,threadId:S})},"issueReactionsV2DetailsUsersListFetch").then(function(){return O.current.forEach(function(e){return e()})}))},[T,N,l.messageId,S]),W=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(T.tables.reactions_v2).getKeyRange(S,v).filter(function(e){return(u||(u=o("I64"))).gt(e.count,u.zero)}).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(T.tables.reaction_v2_types).getKeyRange(e.reactionFbid),i.id+":226"),n=b?t==null?void 0:t.reactionLiteralVariant16:t==null?void 0:t.reactionLiteral;return babelHelpers.extends({},e,{count:(u||(u=o("I64"))).to_int32(e.count),reactionLiteral:n})})},[T,S,v,b],i.id+":220");o("MWReactionUtils").useSortReactionsForBroadcastChat(W,S);var q=Array.from(new Set(W.map(function(e){var t;return(t=e.reactionLiteral)!=null?t:""}))),U=M&&w===!0?q:q.slice(0,A),V=f!=null&&N?k(U):k(Array.from(new Set(m.map(function(e){var t=e.reaction;return t}))).slice(0,A)),H=f!=null&&N?(u||(u=o("I64"))).to_int32(W.reduce(function(e,t){return(u||(u=o("I64"))).add(e,u.of_int32(t.count))},(u||(u=o("I64"))).zero)):m.length,G=E(V,H),z=h(null),j=g(function(){return a!=null?a:N?r("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):r("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[a,N]),K=g(function(){return{message:l,onLoadComplete:function(t){return O.current.set(t,t),function(){O.current.delete(t)}},thread:{threadKey:S}}},[l,S]),Q=p(function(){I(function(){return!1}),L(function(){return!0})},[L,I]),X=r("useMWXLazyDialog")(j),Y=X[0],J=p(function(e){I(function(){return!0}),Y(babelHelpers.extends({},K,{initialTab:e}),Q),s==null||s(),B()},[K,Q,s,I,Y,B]),Z={eventName:"open_message_reactions_dialog",threadKey:S};return M||!F?n(V,H,m,l,S,J,x,P):d.jsx(r("MWXPressable.react"),{"aria-label":G,loggingEvent:Z,onPress:function(){return J()},overlayDisabled:!0,ref:z,children:n(V,H,m,l,S,J,!1,r("emptyFunction"))})}I.displayName=I.name+" [from "+i.id+"]",l.useReactions=b,l.useReactionsV2=S,l.useNonZeroCountReactionsV2=R,l.MWPMessageReactions=I}),226);
__d("isMWEditedMessage",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.editCount!=null&&(e||(e=o("I64"))).gt(t.editCount,(e||(e=o("I64"))).zero);return n&&!t.isUnsent}l.default=s}),98);
__d("MWPBaseMessageContent.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMessageHiddenState","LSReplyMessageAttachmentType","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MWGenAIRichResponseRenderEligibilityUtils","MWGenAIUtils","MWMediaRenderQplUtils","MWPAttachmentDataContext","MWPMessageHasXMA","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPThreadCapabilitiesContext","gkx","isMWBumpMessage","isMWEditedMessage","mwpMessageHasAttachment","mwpMessageIsReply","react","useXMAPreviewsDisabledSetting","useXMAV2Provider","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useEffect;function _(e){var t=e.attachmentRenderPosition,n=e.isEmojiOnly,a=e.isFirstMessageInGroup,i=e.isLastMessageInGroup,l=e.isMessagePinned,d=e.isNextMessagePinned,_=e.isSearchPluginAttachment,f=e.isSecureMessage,g=e.mediaRenderQpl,h=e.message,y=e.nextMessage,C=e.outgoing,b=e.prevMessage,v=e.renderAttachment,S=e.renderEmoji,R=e.renderHiddenMessage,L=e.renderMessageBubble,E=e.shouldRenderMessageContent,k=e.xmaLayout,I=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),T=I.disableLinks,D=r("mwpMessageIsReply")(h),x=r("isMWEditedMessage")(h),$=y!=null&&r("isMWEditedMessage")(y),P=o("MWPMessageParsingUtils").hasText(h),N=m(o("MWPAttachmentDataContext").MWPAttachmentDataContext),M=N.attachments,w=M!=null&&M.length>0?M[0]:null,A=r("MWPMessageHasXMA")(h)&&w!=null,F=r("useXMAV2Provider")(M)!=null,O=o("MWPMessageReactions.react").useReactions(h),B=O.length>0,W=o("MWPMessageReactions.react").useReactions(b),q=W.length>0,U=r("gkx")("24165")&&T&&A&&h.textHasLinks;p(function(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"message_row_has_attachment",A?1:0),r("InteractionTracingMetrics").addMetadata(e.traceId,"content_type",h.replyAttachmentType!=null?o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(h.replyAttachmentType):o("MWMediaRenderQplUtils").getMessageContentTypeString(h)),r("InteractionTracingMetrics").addMetadata(e.traceId,"content_type_num",(s||(s=o("I64"))).to_string(h.displayedContentTypes))}),g==null||g.addAnnotations({bool:{message_type_supports_attachment:r("mwpMessageHasAttachment")(h)}}),r("mwpMessageHasAttachment")(h)&&!U&&(g==null||g.addPoint("base-message-render-attachment"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"base-message-render-attachment","AppTiming")}))},[A,g,h,U]);var V=r("isMWBumpMessage")(h.replyType),H=r("useXMAPreviewsDisabledSetting")(),G=f===!0&&H&&o("MAWIsFBXMA").isFBXMA(w==null?void 0:w.xmaContentType),z=o("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(h.displayedContentTypes,w),j=!z&&!G&&!V&&A&&t==="below"&&!U&&!_,K=t==="below"?!D&&!a&&!l&&!x&&!q:!1,Q=z||G||!i&&!d&&!$&&!B||(k===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?j:!1);if(R!=null&&!C&&(s||(s=o("I64"))).equal(h.messageHiddenState,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED)))return c.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[K||t==="above"?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,R(Q,K,j)]});var X;E?X=h.text!=null?n?D?c.jsx("div",{className:"x1n2onr6 x1vjfegm",children:S(h)}):D?null:c.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[K?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,c.jsx("div",{className:"x1n2onr6 x1vjfegm",children:S(h)})]}):h.text!==""?c.jsxs(c.Fragment,{children:[K||t==="above"?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,c.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[C?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!D,children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,L(h,K,Q,j,C,F),C?null:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!D,children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:X=null;var Y=h.replyAttachmentType!==void 0&&(s||(s=o("I64"))).to_float(h.replyAttachmentType)===r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION,J,Z=w!=null&&o("MWGenAIUtils").isMetaAIThread(h.senderId)&&o("MWGenAIRichResponseRenderEligibilityUtils").isResponseStreamingEnabled();return(r("mwpMessageHasAttachment")(h)||Z)&&!U&&!Y&&(J=v(o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(h,b,t),o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(h,y,t),P)),c.jsxs(c.Fragment,{children:[t==="above"?J:null,X,t==="below"?J:null]})}_.displayName=_.name+" [from "+i.id+"]",l.MWPBaseMessageContent=_}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(20),n=e.attachmentRenderPosition,a=e.isEmojiOnly,i=e.isFirstMessageInGroup,l=e.isLastMessageInGroup,u=e.isSearchPluginAttachment,c=e.isSecureMessage,d=e.mediaRenderQpl,m=e.message,p=e.nextMessage,_=e.outgoing,f=e.prevMessage,g=e.renderAttachment,h=e.renderEmoji,y=e.renderHiddenMessage,C=e.renderMessageBubble,b=e.shouldRenderMessageContent,v=e.xmaLayout,S=r("useMWPIsMessagePinned")(m),R=r("useMWPIsMessagePinned")(p),L,E;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==S||t[5]!==R||t[6]!==u||t[7]!==c||t[8]!==d||t[9]!==m||t[10]!==p||t[11]!==_||t[12]!==f||t[13]!==g||t[14]!==h||t[15]!==y||t[16]!==C||t[17]!==b||t[18]!==v?(E=s.jsx(o("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:n,isEmojiOnly:a,isFirstMessageInGroup:i,isLastMessageInGroup:l,isMessagePinned:S,isNextMessagePinned:R,isSearchPluginAttachment:u,isSecureMessage:c,mediaRenderQpl:d,message:m,nextMessage:p,outgoing:_,prevMessage:f,renderAttachment:g,renderEmoji:h,renderHiddenMessage:y,renderMessageBubble:C,shouldRenderMessageContent:b,xmaLayout:v}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=S,t[5]=R,t[6]=u,t[7]=c,t[8]=d,t[9]=m,t[10]=p,t[11]=_,t[12]=f,t[13]=g,t[14]=h,t[15]=y,t[16]=C,t[17]=b,t[18]=v,t[19]=E):E=t[19],L=E,L}l.default=c}),98);
__d("mwpIsMessageUnsupported",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).zero)&&n.length===0}l.default=s}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPAttachmentDataContext","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MessengerWebUXLogger","mwpIsMessageUnsupported","mwv2MessageIsEmojiOnly","react","react-compiler-runtime","react-strict-dom","useGetMediaGroupInformation","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useContext,d={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},footerForGroupedImageStack:{paddingInlineEnd:"xv54qhq",$$css:!0},footerForGroupedImageTile:{paddingInlineEnd:"xj46xog",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e,t){return o("LSBitFlag").has((s||(s=o("LSIntEnum"))).ofNumber(128),e.displayedContentTypes)?!0:r("mwv2MessageIsEmojiOnly")(e.text,t)}function p(e){var t=o("react-compiler-runtime").c(71),n=e.attachmentRenderPosition,a=e.checkEmoticon,i=e.id,l=e.isFirstMessageInGroup,s=e.isLastMessageInGroup,p=e.isSearchPluginAttachment,_=e.isSecureMessage,f=e.mediaRenderQpl,g=e.message,h=e.nextMessage,y=e.outgoing,C=e.prevMessage,b=e.reactions,v=e.renderAttachment,S=e.renderEmoji,R=e.renderHiddenMessage,L=e.renderMessageBubble,E=e.renderMessageContainer,k=e.renderMessageFooter,I=e.renderMessageFromBlockee,T=e.renderUnsentMessage,D=e.renderUnsentMessageFooter,x=e.renderUnsupportedMessage,$=e.shouldRenderFooterForUnsentMessage,P=e.shouldRenderMessageContent,N=e.xmaLayout,M=n===void 0?"below":n,w=p===void 0?!1:p,A=$===void 0?!1:$,F=P===void 0?!0:P,O=N===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:N,B;t[0]===Symbol.for("react.memo_cache_sentinel")?(B={eventName:"messagelist_message_impression"},t[0]=B):B=t[0];var W=r("MessengerWebUXLogger").useImpressionLoggerRef(B),q=o("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(g.threadKey),U=r("MWBlockingProtectionContext.react").useHook(),V=U.addMessageId,H=U.findMessageId,G=r("useGetMediaGroupInformation")(g,_!=null?_:!1,f),z=c(o("MWPAttachmentDataContext").MWPAttachmentDataContext),j=z.attachments,K=r("mwpIsMessageUnsupported")(g,j);if(g.isUnsent)if(T!=null){var Q;t[1]!==T?(Q=T(),t[1]=T,t[2]=Q):Q=t[2];var X;t[3]!==D||t[4]!==A?(X=A&&D!=null&&u.jsx("div",{children:D()}),t[3]=D,t[4]=A,t[5]=X):X=t[5];var Y;return t[6]!==Q||t[7]!==X?(Y=u.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[Q,X]}),t[6]=Q,t[7]=X,t[8]=Y):Y=t[8],Y}else return null;if(K)if(x!=null){var J;t[9]!==x?(J=x(),t[9]=x,t[10]=J):J=t[10];var Z;return t[11]!==J?(Z=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:J}),t[11]=J,t[12]=Z):Z=t[12],Z}else return null;if(!H(g.messageId)&&q&&I!=null){var ee;t[13]!==V||t[14]!==g.messageId?(ee=function(){V(g.messageId)},t[13]=V,t[14]=g.messageId,t[15]=ee):ee=t[15];var te;t[16]!==I||t[17]!==ee?(te=I(ee),t[16]=I,t[17]=ee,t[18]=te):te=t[18];var ne;return t[19]!==te?(ne=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:te}),t[19]=te,t[20]=ne):ne=t[20],ne}var re;t[21]!==a||t[22]!==g?(re=m(g,a),t[21]=a,t[22]=g,t[23]=re):re=t[23];var oe=re,ae;t[24]!==M||t[25]!==oe||t[26]!==l||t[27]!==s||t[28]!==w||t[29]!==_||t[30]!==f||t[31]!==g||t[32]!==h||t[33]!==y||t[34]!==C||t[35]!==v||t[36]!==S||t[37]!==R||t[38]!==L||t[39]!==F||t[40]!==O?(ae=u.jsx(r("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:M,isEmojiOnly:oe,isFirstMessageInGroup:l,isLastMessageInGroup:s,isSearchPluginAttachment:w,isSecureMessage:_,mediaRenderQpl:f,message:g,nextMessage:h,outgoing:y,prevMessage:C,renderAttachment:v,renderEmoji:S,renderHiddenMessage:R,renderMessageBubble:L,shouldRenderMessageContent:F,xmaLayout:O}),t[24]=M,t[25]=oe,t[26]=l,t[27]=s,t[28]=w,t[29]=_,t[30]=f,t[31]=g,t[32]=h,t[33]=y,t[34]=C,t[35]=v,t[36]=S,t[37]=R,t[38]=L,t[39]=F,t[40]=O,t[41]=ae):ae=t[41];var ie=ae,le;t[42]!==y?(le=y?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t[42]=y,t[43]=le):le=t[43];var se;t[44]!==ie||t[45]!==y||t[46]!==E?(se=E!=null?E(ie,[d.container,y?d.outgoing:!1]):u.jsx(o("react-strict-dom").html.div,{style:[d.container,y?d.outgoing:!1],children:ie}),t[44]=ie,t[45]=y,t[46]=E,t[47]=se):se=t[47];var ue;t[48]!==y?(ue=y?null:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}),t[48]=y,t[49]=ue):ue=t[49];var ce;t[50]!==W||t[51]!==se||t[52]!==ue||t[53]!==le?(ce=u.jsxs(o("react-strict-dom").html.div,{ref:W,role:"none",style:d.row_container,children:[le,se,ue]}),t[50]=W,t[51]=se,t[52]=ue,t[53]=le,t[54]=ce):ce=t[54];var de;t[55]!==oe||t[56]!==b?(de=oe&&b.length>0?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,t[55]=oe,t[56]=b,t[57]=de):de=t[57];var me=G!=null&&G.groupSize>=4&&d.footerForGroupedImageStack,pe=!y&&G!=null&&G.groupSize<4&&d.footerForGroupedImageTile,_e;t[58]!==me||t[59]!==pe?(_e=[me,pe],t[58]=me,t[59]=pe,t[60]=_e):_e=t[60];var fe;t[61]!==k?(fe=k(),t[61]=k,t[62]=fe):fe=t[62];var ge;t[63]!==_e||t[64]!==fe?(ge=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u.jsx(o("react-strict-dom").html.div,{style:_e,children:fe})}),t[63]=_e,t[64]=fe,t[65]=ge):ge=t[65];var he;return t[66]!==i||t[67]!==ce||t[68]!==de||t[69]!==ge?(he=u.jsxs("div",{id:i,children:[ce,de,ge]}),t[66]=i,t[67]=ce,t[68]=de,t[69]=ge,t[70]=he):he=t[70],he}l.default=p}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ariaHidden,a=e.ephemeralDurationInSec,i=e.expirationTimestamp,l=e.handleMessageExpired,u=n===void 0?!1:n,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x78zum5 xdt5ytf x1c4vz4f xl56j7k x4ii5y1 xr1yuqi x135b78x x11lfxj5 x1vjfegm"},t[0]=c):c=t[0];var d;t[1]!==a||t[2]!==i||t[3]!==l?(d=s.jsx(r("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:a,expirationTimestamp:i,handleMessageExpired:l}),t[1]=a,t[2]=i,t[3]=l,t[4]=d):d=t[4];var m;return t[5]!==u||t[6]!==d?(m=s.jsx("div",babelHelpers.extends({"aria-hidden":u},c,{children:d})),t[5]=u,t[6]=d,t[7]=m):m=t[7],m}l.default=u}),98);
__d("MWXMessageBubbleRow.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={addOn:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0},bubble:{minWidth:"xeuugli",zIndex:"x1vjfegm",$$css:!0},container:{display:"x78zum5",$$css:!0},containerRight:{flexDirection:"x15zctf7",$$css:!0},opaque:{backgroundColor:"x1eb86dx",$$css:!0},paddingBottom:function(t){return[{paddingBottom:t!=null?"xjqpyvm":t,$$css:!0},{"--x-paddingBottom":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},paddingEnd:function(t){return[{paddingInlineEnd:t!=null?"x120eax6":t,$$css:!0},{"--x-paddingInlineEnd":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},paddingStart:function(t){return[{paddingInlineStart:t!=null?"xnvo3vl":t,$$css:!0},{"--x-paddingInlineStart":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}},c={bottom:{alignSelf:"xpvyfi4",$$css:!0},center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}},d={left:{end:u.paddingStart,start:u.paddingEnd},right:{end:u.paddingEnd,start:u.paddingStart}};function m(e){var t=o("react-compiler-runtime").c(8),n=e.children,r=e.gap,a=e.paddingBottom,i=e.rowAlign,l=e.testid,m=e.type,p=e.verticalAlign,_;return t[0]!==n||t[1]!==r||t[2]!==a||t[3]!==i||t[4]!==l||t[5]!==m||t[6]!==p?(_=n!=null?s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.opaque,u.addOn,a!=null&&u.paddingBottom(a),r!=null&&d[i][m](r)],children:s.jsx(o("react-strict-dom").html.div,{style:[u.container,i==="right"&&u.containerRight,c[p]],children:n})}):null,t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=l,t[5]=m,t[6]=p,t[7]=_):_=t[7],_}function p(e){var t=o("react-compiler-runtime").c(25),n=e.addOnEnd,r=e.addOnEndGap,a=e.addOnEndVerticalAlign,i=e.addOnPaddingBottom,l=e.addOnStart,c=e.addOnStartGap,d=e.addOnStartVerticalAlign,p=e.align,_=e.children,f=e.opaque,g=e.testid,h=e.xstyle,y=r===void 0?0:r,C=a===void 0?"center":a,b=i===void 0?0:i,v=c===void 0?0:c,S=d===void 0?"center":d,R=p===void 0?"right":p,L=f===void 0?!1:f,E=R==="right"&&u.containerRight,k=L&&u.opaque,I;t[0]!==E||t[1]!==k||t[2]!==h?(I=[u.container,E,k,h],t[0]=E,t[1]=k,t[2]=h,t[3]=I):I=t[3];var T;t[4]!==b||t[5]!==l||t[6]!==v||t[7]!==S||t[8]!==R?(T=s.jsx(m,{gap:v,paddingBottom:b,rowAlign:R,testid:void 0,type:"start",verticalAlign:S,children:l}),t[4]=b,t[5]=l,t[6]=v,t[7]=S,t[8]=R,t[9]=T):T=t[9];var D;t[10]!==_?(D=_!=null?s.jsx(o("react-strict-dom").html.div,{style:u.bubble,children:_}):null,t[10]=_,t[11]=D):D=t[11];var x;t[12]!==n||t[13]!==y||t[14]!==C||t[15]!==b||t[16]!==R?(x=s.jsx(m,{gap:y,paddingBottom:b,rowAlign:R,type:"end",verticalAlign:C,children:n}),t[12]=n,t[13]=y,t[14]=C,t[15]=b,t[16]=R,t[17]=x):x=t[17];var $;t[18]===Symbol.for("react.memo_cache_sentinel")?($=s.jsx(o("react-strict-dom").html.div,{style:[u.opaque,u.spacer]}),t[18]=$):$=t[18];var P;return t[19]!==I||t[20]!==T||t[21]!==D||t[22]!==x||t[23]!==g?(P=s.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:I,children:[T,D,x,$]}),t[19]=I,t[20]=T,t[21]=D,t[22]=x,t[23]=g,t[24]=P):P=t[24],P}l.default=p}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPBaseMessageListRowCountdown.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWXMessageBubbleRow.react","gkx","mwpMessageIsReply","react","react-compiler-runtime","stylex","useIsAdsAIChat"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useCallback,_=m.useMemo;function f(e){var t=o("react-compiler-runtime").c(2),n=e.children,r=e.message,a=e.prevMessage,i=o("MWPMessageParsingUtils").isStartOfGroup(r,a);if(i){var l;return t[0]!==n?(l=n(),t[0]=n,t[1]=l):l=t[1],l}return null}function g(e){return(u||(u=o("I64"))).equal(u.and_(e.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(2048)),u.zero)}function h(e){var t,n=o("react-compiler-runtime").c(32),a=e.children,i=e.handleMessageExpired,l=e.hasMessageEmphasisRing,s=e.hasReactions,u=e.message,c=e.originalBumpedMsg,m=e.outgoing,p=e.renderGutterItem,_=e.renderMessageActions,f=e.renderMultiReactions,h=e.renderProfile,y=c!=null?c:u,C;n[0]!==y?(C=r("mwpMessageIsReply")(y),n[0]=y,n[1]=C):C=n[1];var b=C,v=u.ephemeralExpirationTs,S=u.ephemeralDurationInSec,R=u.isUnsent,L=o("MWMessageDeliveryStatus").getFromSendStatus(u.sendStatusV2).type==="Sending",E=(t=r("useIsAdsAIChat")(u.threadKey))!=null?t:!1,k=E,I;n[2]!==f?(I=f&&f(),n[2]=f,n[3]=I):I=n[3];var T=I,D=T!=null,x=r("gkx")("7737"),$;n[4]!==S||n[5]!==v||n[6]!==i||n[7]!==R||n[8]!==u||n[9]!==_||n[10]!==L?($=g(u)?d.jsxs(d.Fragment,{children:[v!=null&&!R?d.jsx(r("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:S,expirationTimestamp:v,handleMessageExpired:i}):null,_(L)]}):d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsEmptyList,{}),n[4]=S,n[5]=v,n[6]=i,n[7]=R,n[8]=u,n[9]=_,n[10]=L,n[11]=$):$=n[11];var P=k?"bottom":"center",N=s?18:0,M;n[12]!==m||n[13]!==p||n[14]!==h?(M=m?x?null:p():d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:h()}),n[12]=m,n[13]=p,n[14]=h,n[15]=M):M=n[15];var w=m?"right":"left",A=!m||b||l===!0,F;n[16]!==a||n[17]!==$||n[18]!==P||n[19]!==N||n[20]!==M||n[21]!==w||n[22]!==A?(F=d.jsx(r("MWXMessageBubbleRow.react"),{addOnEnd:$,addOnEndVerticalAlign:P,addOnPaddingBottom:N,addOnStart:M,addOnStartVerticalAlign:"bottom",align:w,opaque:A,testid:void 0,children:a}),n[16]=a,n[17]=$,n[18]=P,n[19]=N,n[20]=M,n[21]=w,n[22]=A,n[23]=F):F=n[23];var O=F,B;n[24]!==O||n[25]!==p?(B=x?d.jsxs("div",{children:[O,d.jsx("div",{className:"x1eb86dx x78zum5 x15zctf7",children:d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:p()})})]}):O,n[24]=O,n[25]=p,n[26]=B):B=n[26];var W=B,q;return n[27]!==D||n[28]!==W||n[29]!==T||n[30]!==m?(q=D?d.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[W,d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:d.jsx("div",babelHelpers.extends({},{0:{className:"x78zum5 x1vjfegm x1hwjw2i"},1:{className:"x1vjfegm x78zum5 x15zctf7 x2fvf9 x1lziwak"}}[!!m<<0],{children:T}))})]}):W,n[27]=D,n[28]=W,n[29]=T,n[30]=m,n[31]=q):q=n[31],q}function y(e){var t=o("react-compiler-runtime").c(2),n=e.children,r=e.message,a=e.nextMessage,i=e.showContent,l=o("MWPMessageParsingUtils").isEndOfGroup(r,a);if(l||i===!0){var s;return t[0]!==n?(s=n(),t[0]=n,t[1]=s):s=t[1],s}return null}var C={"mwp-reply-background-color":"var(--comment-footer-background)"},b={"mwp-reply-background-color":"var(--comment-footer-background)"},v={dark:b,light:C,type:"VARIABLES"};function S(t){var n=o("react-compiler-runtime").c(15),a=t.children,i=t.domElementRef,l=t.role,s=t.setHovered,u=t.stopHoveringRef,c=t.theme,m=t.xstyle,p=c===void 0?v:c,_;n[0]!==s?(_=function(){return s(E)},n[0]=s,n[1]=_):_=n[1];var f=_,g,h;n[2]!==p?(h=o("MWCombineThemeConfigs").combine(v,p),n[2]=p,n[3]=h):h=n[3],g=h;var y;n[4]!==a||n[5]!==i||n[6]!==l||n[7]!==s||n[8]!==f||n[9]!==u||n[10]!==m?(y=function(n,o){return d.jsx("div",{className:(e||(e=r("stylex")))(n,m),onMouseEnter:function(){u.current&&u.current(),s(L),u.current=f},onMouseLeave:function(){if(u.current===f){f(),u.current=R;return}},ref:i,role:l,style:babelHelpers.extends({},o),children:a})},n[4]=a,n[5]=i,n[6]=l,n[7]=s,n[8]=f,n[9]=u,n[10]=m,n[11]=y):y=n[11];var C;return n[12]!==g||n[13]!==y?(C=d.jsx(r("BaseThemeProvider.react"),{config:g,children:y}),n[12]=g,n[13]=y,n[14]=C):C=n[14],C}function R(){}function L(){return!0}function E(){return!1}l.MWPBaseMessageListRowBeforeContent=f,l.MWPBaseMessageListRowBody=h,l.MWPBaseMessageListRowFooter=y,l.MWPBaseMessageListRow=S}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(t,n,r,o,a,i,l){var e=864e5,s=6*e,u={getFormatedTimestamp:function(t){var e=t/1e3;return u.getFormattedTimestampByBucket(e,u.getTimeBucket(t))},getAbsoluteTimestamp:function(t){if(t==null)return null;var e=u.getFormatedTimestamp(t);return e.absolute},getRelativeTimestamp:function(t){var e=u.getFormatedTimestamp(t);return e.relative},getFormattedTimestampByBucket:function(t,r){switch(r){case 0:return{absolute:l._(/*BTDS*/"Today").toString(),relative:n("formatDate")(t,"g:ia")};case 1:return{absolute:n("formatDate")(t,"l"),relative:n("formatDate")(t,"D")};case 3:return{absolute:n("formatDate")(t,"F j"),relative:n("formatDate")(t,"M j")};default:return{absolute:n("formatDate")(t,"F j, Y"),relative:n("formatDate")(t,"n/j/y")}}},getTimeBucket:function(t){var e=new Date(t),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());return r<e?0:r.getTime()-s<e.getTime()?1:r.getFullYear()===e.getFullYear()?3:4},getPreciseTimestamp:function(t){return n("formatDate")(new Date(t),u.getPreciseFormat(t))},getPreciseFormat:function(t){var e=u.getTimeBucket(t);switch(e){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};a.exports=u}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(9),a=t.message,i=t.renderText,l=t.renderTimestamp,u=t.xstyle,d;n[0]!==u?(d=(e||(e=r("stylex"))).props(u),n[0]=u,n[1]=d):d=n[1];var m;n[2]!==a.timestampMs||n[3]!==i||n[4]!==l?(m=i(l(r("MercuryTimestamp").getRelativeTimestamp((s||(s=o("I64"))).to_float(a.timestampMs)))),n[2]=a.timestampMs,n[3]=i,n[4]=l,n[5]=m):m=n[5];var p;return n[6]!==d||n[7]!==m?(p=c.jsx("div",babelHelpers.extends({},d,{children:m})),n[6]=d,n[7]=m,n[8]=p):p=n[8],p}l.default=d}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BaseHovercardTrigger.react")}),98);
__d("useMWMarketplaceThreadRoles",["LSMessagingThreadTypeUtil","MWLSThread","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(16),l=(e||(e=r("useReStore")))(),s=o("MWLSThread").useThread(t),u;a[0]!==s?(u=(s==null?void 0:s.threadType)!=null&&o("LSMessagingThreadTypeUtil").isMarketplaceThread(s.threadType),a[0]=s,a[1]=u):u=a[1];var c=u,d,m;a[2]!==l||a[3]!==c||a[4]!==n||a[5]!==t?(d=function(){return c?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t,n):o("ReQL").empty()},m=[l,t,n,c],a[2]=l,a[3]=c,a[4]=n,a[5]=t,a[6]=d,a[7]=m):(d=a[6],m=a[7]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":39");if(p==null||!c){var _;return a[8]===Symbol.for("react.memo_cache_sentinel")?(_={isMarketplaceBuyer:!1,isMarketplaceSeller:!1},a[8]=_):_=a[8],_}var f;a[9]!==p?(f=o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").MARKETPLACE_BUYER,p),a[9]=p,a[10]=f):f=a[10];var g;a[11]!==p?(g=o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").MARKETPLACE_SELLER,p),a[11]=p,a[12]=g):g=a[12];var h;return a[13]!==f||a[14]!==g?(h={isMarketplaceBuyer:f,isMarketplaceSeller:g},a[13]=f,a[14]=g,a[15]=h):h=a[15],h}l.default=s}),98);
__d("MWPMessageRoleText.react",["fbt","BaseMiddot.react","LSMessagingThreadTypeUtil","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWLSThread","MWXHovercardTrigger.react","MWXText.react","react","react-compiler-runtime","react-strict-dom","useMWCMIsSenderAdModOrChatHost","useMWMarketplaceThreadRoles"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t=o("react-compiler-runtime").c(15),n=e.communityId,a=e.senderId,i=e.shouldRenderSenderName,l=e.threadKey,c=r("useMWMarketplaceThreadRoles")(l,a),d=c.isMarketplaceBuyer,_=c.isMarketplaceSeller,f=r("useMWCMIsSenderAdModOrChatHost")(n,l,a),g=f.isAdmin,h=f.isChatHost,y=f.isModerator,C=g||y||h||d||_,b;if(g){var v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Admin"),t[0]=v):v=t[0],b=v}else if(y){var S;t[1]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Moderator"),t[1]=S):S=t[1],b=S}else if(h){var R;t[2]!==l?(R={onClose:p,threadKey:l},t[2]=l,t[3]=R):R=t[3];var L;t[4]===Symbol.for("react.memo_cache_sentinel")?(L={},t[4]=L):L=t[4];var E;t[5]!==R?(E=u.jsx(r("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:r("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:R,popoverProps:L,position:"above",children:m}),t[5]=R,t[6]=E):E=t[6],b=E}else if(d){var k;t[7]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Buyer"),t[7]=k):k=t[7],b=k}else if(_){var I;t[8]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"Seller"),t[8]=I):I=t[8],b=I}else b=null;var T=b,D;t[9]!==C||t[10]!==T||t[11]!==i?(D=i&&C&&u.jsxs(u.Fragment,{children:[u.jsx(r("BaseMiddot.react"),{}),u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:T})]}),t[9]=C,t[10]=T,t[11]=i,t[12]=D):D=t[12];var x;return t[13]!==D?(x=u.jsx(u.Fragment,{children:D}),t[13]=D,t[14]=x):x=t[14],x}function m(e){return u.jsx(r("MWXText.react"),{ref:e,type:"meta4",children:s._(/*BTDS*/"Host")})}m.displayName=m.name+" [from "+i.id+"]";function p(){}function _(e){var t=e.communityId,n=e.message,r=e.shouldRenderSenderName,a=o("MWLSThread").useThread(n.threadKey),i=(a==null?void 0:a.threadType)!=null&&o("LSMessagingThreadTypeUtil").isMarketplaceThread(a.threadType);return!o("MWCMGetValidId").MWCMHasValidFbGroupId(t,!1)&&!i?null:u.jsx(d,{communityId:t,senderId:n.senderId,shouldRenderSenderName:r,threadKey:n.threadKey})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:22232","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22232")),r("gkx")("23219"));l.default=e}),98);
__d("useMessageAttachments",["I64","ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=o("react-compiler-runtime").c(10),n=(s||(s=r("useReStore")))(),a;t[0]!==e?(a=r("mwpMessageHasAttachment")(e),t[0]=e,t[1]=a):a=t[1];var l=a,u,d;t[2]!==n||t[3]!==l||t[4]!==e.messageId||t[5]!==e.threadKey?(u=function(){return l?o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(e.threadKey,e.messageId):o("ReQL").empty()},d=[n,e.threadKey,e.messageId,l],t[2]=n,t[3]=l,t[4]=e.messageId,t[5]=e.threadKey,t[6]=u,t[7]=d):(u=t[6],d=t[7]);var m=o("ReQLSuspense").useArray(u,d,i.id+":26"),p;return t[8]!==m?(p=m.toSorted(c),t[8]=m,t[9]=p):p=t[9],p}function c(t,n){return(e||(e=o("I64"))).compare(t.attachmentIndex,n.attachmentIndex)}l.default=u}),98);
__d("usePinnedTextAnimation",["react","react-compiler-runtime","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState,m="xekv6nw-B",p="x17qceat-B",_={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(6),n=d(!1),a=n[0],i=n[1],l=c(e),s,m;t[0]!==e?(s=function(){e!==l.current&&i(!0),l.current=e},m=[e],t[0]=e,t[1]=s,t[2]=m):(s=t[1],m=t[2]),u(s,m);var p=a?_.mountAnimation:null,f=r("useDebouncedValue")(e,200),g;return t[3]!==p||t[4]!==f?(g={mountAnimation:p,shouldShow:f,unmountAnimation:_.unmountAnimation},t[3]=p,t[4]=f,t[5]=g):g=t[5],g}l.default=f}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageListDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPMessageRoleText.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MessagingAttachmentType","ReQL","ReQLSuspense","isMWEditedMessage","react","react-compiler-runtime","react-strict-dom","useMWPIsMessagePinned","useMessageAttachments","usePinnedTextAnimation","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingInlineStart:"x135b78x",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingInlineStart:"x1g0dm76",$$css:!0},separator:{paddingInlineEnd:"x1ccui7m",paddingInlineStart:"x18pi947",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.outgoing,a=r?p.alignEnd:p.alignStart,i;t[0]!==a?(i=[p.container,a],t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=m.jsx(o("react-strict-dom").html.div,{style:i,children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function f(t){var n,a=t.isFirstMessageInGroup,l=t.isLastMessageInGroup,d=t.message,f=t.outgoing,g=t.renderPaidPartnerShipText,h=t.renderPinnedText,y=t.renderTextWrapper,C=t.shouldRenderSenderName,b=o("MWPMessageAuthor.react").useAuthorName(),v=b[0],S=o("MWPContactContext.react").useMWPContactStableContext(),R=S.contact,L=S.nickname,E=o("Actor").useActor(),k=E[0],I=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),T=I.isReportMessageList,D=I.isStandardMessageList,x=(e||(e=r("useReStore")))(),$=r("useMessageAttachments")(d),P=o("MWLSThread").useThread(d.threadKey,function(e){return e.parentThreadKey}),N=o("ReQLSuspense").useFirst(function(){return P!=null?o("ReQL").fromTableAscending(x.tables.community_folders).getKeyRange(P).map(function(e){return e.folderId}):o("ReQL").empty()},[x,P],i.id+":114"),M=(function(){if(d.metadataDataclass==null)return!1;try{var e=JSON.parse(d.metadataDataclass),t=e==null?void 0:e.ai_metadata;return(t==null?void 0:t.imagine_intent_feature)==="edit_user_image"&&(t==null?void 0:t.is_ai_generated)===!0}catch(e){return!1}})(),w=r("isMWEditedMessage")(d),A=o("MWPThreadIsPage.react").useIsPage(),F=o("MWLSThread").useThread(d.threadKey,function(e){return e.threadType}),O=F!=null&&o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(F),B=R?!(u||(u=o("I64"))).equal(R.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,W=A&&!(u||(u=o("I64"))).equal(d.senderId,d.threadKey)&&!f,q=W&&!O;q=q&&a;var U=R?o("LSContactBitOffset").has(77,R):!1,V=R?o("LSContactBitOffset").has(84,R):!1,H=r("useMWPIsMessagePinned")(d),G=r("usePinnedTextAnimation")(H),z=G.mountAnimation,j=G.unmountAnimation,K=d.isPaidPartnership===!0,Q=d.groupId!=null&&d.groupIndex!=null&&(u||(u=o("I64"))).to_int32(d.groupIndex)===0&&(u||(u=o("I64"))).to_int32((n=d.groupSize)!=null?n:(u||(u=o("I64"))).zero)>=4,X=$!=null&&$.length>=4&&$.every(function(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}),Y=(C||q)&&!Q&&!X,J=Y||H||w||M||K||Q||X,Z="";if(X&&$!=null&&$.length>1)Z=$.length.toString();else if(Q){var ee;Z=(u||(u=o("I64"))).to_int32((ee=d.groupSize)!=null?ee:(u||(u=o("I64"))).zero).toString()}var te=L!=null?L:s._(/*BTDS*/"You"),ne=k===(u||(u=o("I64"))).to_string(d.senderId),re=ne?te.toString():v==null?void 0:v.toString(),oe=l&&a,ae=s._(/*BTDS*/"Member");if(!J)return m.jsx(r("MWPAccessibleEyebrowsText.react"),{message:d,outgoing:f});var ie=function(t){var e=Y&&t!=null||H||B,n=m.jsx(_,{outgoing:f,children:y(m.jsxs(o("react-strict-dom").html.span,{style:p.color,children:[(Y||B)&&t!=null&&m.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:t}),m.jsx(r("MWPMessageRoleText.react"),{communityId:N,message:d,shouldRenderSenderName:Y}),H&&!B&&m.jsx(o("react-strict-dom").html.span,{style:H?z:j,children:h(d,Y)}),B&&m.jsxs(m.Fragment,{children:[m.jsx(o("react-strict-dom").html.span,{children:m.jsx(r("BaseMiddot.react"),{})}),m.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:s._(/*BTDS*/"Blocked")})]}),w&&m.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{hasPadding:!oe&&!a,separatorStyle:e?p.separator:null}),M&&m.jsxs(m.Fragment,{children:[e||w?m.jsx(o("react-strict-dom").html.span,{style:p.separator,children:m.jsx(r("BaseMiddot.react"),{})}):null,m.jsx(o("react-strict-dom").html.span,{children:s._(/*BTDS*/"Edited with Meta AI")})]}),U===!0?m.jsx(o("react-strict-dom").html.span,{style:p.botBadge,children:m.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconBot"),size:12})}):null,V&&m.jsx(o("react-strict-dom").html.span,{style:p.botBadge,children:m.jsx(r("MWXIconStrict.react"),{color:"primaryAccent",icon:r("MWXIconBadgeCheckmark"),size:12})}),K&&g!=null&&g(d),(Q||X)&&!B&&m.jsxs(o("react-strict-dom").html.span,{"data-testid":void 0,children:[H&&D&&m.jsx(r("BaseMiddot.react"),{}),ne?s._(/*BTDS*/"You sent {numberOfMedia} photos",[s._param("numberOfMedia",Z)]):s._(/*BTDS*/"{senderName} sent {numberOfMedia} photos",[s._param("senderName",B?null:re),s._param("numberOfMedia",Z)])]})]}))});return T?m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})};return d.takedownState!=null?ie(ae.toString()):ie(re)}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageListColumn.react","MWPThreadIsPage.react","mwpMessageIsReply","react","react-compiler-runtime","stylex","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingInlineEnd:"xjfo4ez",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingInlineEnd:"xjfo4ez",$$css:!0}};function m(e,t,n,a){var i=o("react-compiler-runtime").c(8),l=e.replySnippet,s=l!=null?l!=="":!1,c=e.replySourceTypeV2!=null&&(u||(u=o("LSIntEnum"))).toNumber(e.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD;if(s){var d;return i[0]!==e||i[1]!==a||i[2]!==n?(d=n(e,a),i[0]=e,i[1]=a,i[2]=n,i[3]=d):d=i[3],d}if(!c)return null;var m;return i[4]!==e||i[5]!==a||i[6]!==t?(m=t(e,a),i[4]=e,i[5]=a,i[6]=t,i[7]=m):m=i[7],m}function p(t){var n=o("react-compiler-runtime").c(39),a=t.alwaysRenderSenderName,i=t.isAnyCMThread,l=t.isFirstMessageInGroup,s=t.isGroupThread,u=t.isLastMessageInGroup,p=t.message,_=t.outgoing,f=t.renderForwardSnippet,g=t.renderMessageEyebrows,h=t.renderPaidPartnerShipText,y=t.renderPinnedText,C=t.renderReplySnippet,b=t.renderTextWrapper,v=t.renderTimestamp,S=a===void 0?!1:a,R=i===void 0?!1:i;r("vulture")("4Q8DTn6ZKulua4B3DrKLMB86VdU=");var L=r("mwpMessageIsReply")(p),E=m(p,f,C,_),k=o("MWPContactContext.react").useMWPContactStableContext(),I=k.nickname,T=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),D=T.isReportMessageList,x=l&&I!=null&&R,$=S||s&&l&&!_&&!L||x,P;if(E!=null){var N;n[0]!==_?(N=(e||(e=r("stylex"))).props(d.header,_?d.alignEnd:!1),n[0]=_,n[1]=N):N=n[1];var M;n[2]!==D||n[3]!==E?(M=D?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:E}):c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:E}),n[2]=D,n[3]=E,n[4]=M):M=n[4];var w;n[5]!==N||n[6]!==M?(w=c.jsx("div",babelHelpers.extends({},N,{role:"none",children:M})),n[5]=N,n[6]=M,n[7]=w):w=n[7],P=w}else if(g!=null){var A;n[8]!==p||n[9]!==_||n[10]!==g||n[11]!==b||n[12]!==$?(A=g(p,_,b,$),n[8]=p,n[9]=_,n[10]=g,n[11]=b,n[12]=$,n[13]=A):A=n[13],P=A}else{var F;n[14]!==l||n[15]!==u||n[16]!==p||n[17]!==_||n[18]!==h||n[19]!==y||n[20]!==b||n[21]!==$?(F=c.jsx(r("MWPMessageEyebrows.react"),{isFirstMessageInGroup:l,isLastMessageInGroup:u,message:p,outgoing:_,renderPaidPartnerShipText:h,renderPinnedText:y,renderTextWrapper:b,shouldRenderSenderName:$}),n[14]=l,n[15]=u,n[16]=p,n[17]=_,n[18]=h,n[19]=y,n[20]=b,n[21]=$,n[22]=F):F=n[22];var O;n[23]!==p.threadKey||n[24]!==F?(O=c.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:p.threadKey,children:F}),n[23]=p.threadKey,n[24]=F,n[25]=O):O=n[25],P=O}var B=E!=null?d.timestampWithSnippet:d.timestamp,W;n[26]!==p||n[27]!==b||n[28]!==v||n[29]!==B?(W=v!=null?c.jsx(r("MWPBaseMessageRowHeaderTimestamp.react"),{message:p,renderText:b,renderTimestamp:v,xstyle:B}):null,n[26]=p,n[27]=b,n[28]=v,n[29]=B,n[30]=W):W=n[30];var q=W;if(l){var U=_?"backward":"forward",V;n[31]!==P?(V=c.jsx(r("BaseRowItem.react"),{children:c.jsx(r("BaseHeading.react"),{children:P})}),n[31]=P,n[32]=V):V=n[32];var H;n[33]!==q?(H=q!=null?c.jsx(r("BaseRowItem.react"),{children:c.jsx(r("BaseHeading.react"),{children:q})}):null,n[33]=q,n[34]=H):H=n[34];var G;return n[35]!==U||n[36]!==V||n[37]!==H?(G=c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsxs(r("BaseRow.react"),{direction:U,children:[V,H]})}),n[35]=U,n[36]=V,n[37]=H,n[38]=G):G=n[38],G}else return P}l.default=p}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.createContext,p=d.useContext,_=d.useMemo,f=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),g=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),h=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(t){return null}});function y(e){var t=o("react-compiler-runtime").c(20),n=e.attachment,r=e.attachmentItem,a=e.children,i=e.renderPressable,l=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),s=l.hasLSThreadBitOffset,u;t[0]!==s?(u=s(25),t[0]=s,t[1]=u):u=t[1];var d=u,m;t[2]!==s?(m=s(24),t[2]=s,t[3]=m):m=t[3];var p=m,_=n.defaultCtaType,y=r.attachmentCta1Id!=null,C;t[4]!==p||t[5]!==d||t[6]!==_?(C=_!=null?g.has(_)&&!d||f.has(_)&&!p:!1,t[4]=p,t[5]=d,t[6]=_,t[7]=C):C=t[7];var b=C,v,S;t[8]!==i||t[9]!==y||t[10]!==b?(S={hasAtLeastOneCta:y,isDisabledRtcXma:b,renderPressable:i},t[8]=i,t[9]=y,t[10]=b,t[11]=S):S=t[11],v=S;var R=v,L;t[12]!==a||t[13]!==i||t[14]!==y||t[15]!==b?(L=!y&&!b?i(a):a,t[12]=a,t[13]=i,t[14]=y,t[15]=b,t[16]=L):L=t[16];var E;return t[17]!==L||t[18]!==R?(E=c.jsx(h.Provider,{value:R,children:L}),t[17]=L,t[18]=R,t[19]=E):E=t[19],E}function C(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=p(h);if(r.hasAtLeastOneCta&&!r.isDisabledRtcXma){var a;return t[0]!==n||t[1]!==r?(a=r.renderPressable(n),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}else return n}var b={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(8),n=e.attachmentItem,a=e.url,i=n.previewHeight,l=n.previewWidth,u;t[0]!==i?(u=i!=null?(s||(s=o("I64"))).to_int32(i):void 0,t[0]=i,t[1]=u):u=t[1];var d;t[2]!==l?(d=l!=null?(s||(s=o("I64"))).to_int32(l):void 0,t[2]=l,t[3]=d):d=t[3];var m;return t[4]!==u||t[5]!==d||t[6]!==a?(m=c.jsx(o("react-strict-dom").html.div,{style:b.container,children:c.jsx(r("BaseImage.react"),{height:u,src:a,width:d,xstyle:b.image})}),t[4]=u,t[5]=d,t[6]=a,t[7]=m):m=t[7],m}function S(e){var t,n=e.attachment,r=e.attachmentItem,a=e.description,i=e.getPreviewUrl,l=e.mediaRenderQpl,s=e.preferLargePreview,u=s===void 0?!1:s,c=o("LSMediaUrlAttachmentItem").playableUrl(r),d=o("LSMediaUrlAttachment").previewUrlLarge(n),m=u&&(t=o("LSMediaUrlAttachmentItem").previewUrlLarge(r))!=null?t:o("LSMediaUrlAttachmentItem").previewUrl(r),p=i==null?o("LSMediaUrlAttachment").previewUrl(n):i(n,r,"MWPBaseXMAAttachmentItem.getXMAAttachmentItemPreview - "+a,l),_=u&&d!=null?d:m!=null?m:p,f=r.playableUrlMimeType,g=f!=null?f.includes("video")?"video":f.includes("image")?"image":"unsupported":"unsupported";return g==="video"&&c!=null?{type:"Video",url:c}:_!=null?{type:"Image",url:_}:g==="image"&&c!=null?{type:"Image",url:c}:{hasPlayableUrl:c!=null,hasPreviewUrl:_!=null,mimeType:g,playableUrlMimeType:r.playableUrlMimeType,type:"Unsupported"}}function R(e,t){var n=o("react-compiler-runtime").c(3),a=e.xmaLayoutType!=null&&!(s||(s=o("I64"))).equal(e.xmaLayoutType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").HSCROLL)),i=t.titleText,l=i!=null||!a?i:e.titleText,c=t.subtitleText,d=c!=null||!a?c:e.subtitleText,m;return n[0]!==d||n[1]!==l?(m=[l,d],n[0]=d,n[1]=l,n[2]=m):m=n[2],m}l.MWPBaseXMAAttachmentItemPressableContext=h,l.MWPBaseXMAAttachmentItemPressable=y,l.MWPBaseXMAAttachmentItemPressableNested=C,l.MWPBaseXMAAttachmentItemImage=v,l.getXMAAttachmentItemPreview=S,l.useTitleAndSubtitle=R}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useState,p="x1rutv7r-B",_="xuf935j-B";function f(e){var t=o("react-compiler-runtime").c(12),n=e.children,r=e.visible,a=m(r),i=a[0],l=a[1],u,d;t[0]!==r?(u=function(){r&&l(!0)},d=[r,l],t[0]=r,t[1]=u,t[2]=d):(u=t[1],d=t[2]),c(u,d);var p;e:{if(i){var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xqtp20y x1n2onr6 xh8yej3"},t[3]=_):_=t[3];var f;t[4]!==r?(f={0:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j4bph1 xk9af5f"},1:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j49z95 x1dufm33"}}[!!r<<0],t[4]=r,t[5]=f):f=t[5];var g;t[6]!==r?(g=function(t){r||l(!1)},t[6]=r,t[7]=g):g=t[7];var h;t[8]!==n||t[9]!==f||t[10]!==g?(h=s.jsx("div",babelHelpers.extends({},_,{children:s.jsx("div",babelHelpers.extends({},f,{onAnimationEnd:g,children:n}))})),t[8]=n,t[9]=f,t[10]=g,t[11]=h):h=t[11],p=h;break e}p=null}return p}l.default=f}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({modal:"",setModal:r("emptyFunction")});function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.modal,a=e.setModal,i,l;t[0]!==r||t[1]!==a?(l={modal:r,setModal:a},t[0]=r,t[1]=a,t[2]=l):l=t[2],i=l;var u=i,c;return t[3]!==n||t[4]!==u?(c=s.jsx(p.Provider,{value:u,children:n}),t[3]=n,t[4]=u,t[5]=c):c=t[5],c}function f(){return d(p)}l.MWV2MessageListIsRowModalContext=p,l.MWV2MessageListIsRowModalContextProvider=_,l.useMWV2MessageListIsRowModal=f}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo;function m(e,t,n){return t["data-scope"]==="date_break"}function p(e){var t=e.ariaLabel,n=e.children,a=e.hasMessages,i=a===void 0?!0:a,l=e.modal,u=e.onNavigate,p=u===void 0?r("emptyFunction"):u,_=e.setModal,f=e.wrapX,g=f===void 0?!1:f,h=e.wrapY,y=h===void 0?!1:h,C=c(function(e){p(e);var t=e.type;switch(t){case"PAGE_DOWN":case"PAGE_UP":break;default:return}var n=t==="PAGE_DOWN";e.preventDefault();for(var r=e.currentRowIndex+(n?1:-1)|0,o=!1;!o;){var a=e.getCell(r,e.currentCellIndex);if(a==null){var i=e.getCell(n?r-1|0:0,e.currentCellIndex);i!=null&&e.focusCell(i),o=!0}else{var l=a.scopeRef.current,s=l!=null?l.DO_NOT_USE_queryFirstNode(m):null;s==null?r=n?r+1|0:r-1|0:(e.focusCell(a),o=!0)}}},[]),b=d(function(){return i?s.jsx("div",{"aria-label":t,className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:n}):s.jsx("div",{className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:n})},[t,n,i]);return s.jsx(o("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{modal:l,setModal:_,children:s.jsx(o("FocusRegion.react").FocusRegion,{recoverFocusQuery:o("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:s.jsx(o("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:l!=="",onNavigate:C,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:y,children:b})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWPMessageListFocusableTableRow.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","FocusInertRegion.react","FocusManager","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOM","focusScopeQueries","justknobx","react","react-compiler-runtime","setTimeout","stylex","useCometTheme","useMAWEditMessageData"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useId,f=d.useMemo,g=d.useRef,h=d.useState,y={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x152obne",insetInlineEnd:"xxx7yvo",left:null,right:null,paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},enterModalButtonInsideRow:{top:"xndqk7f",$$css:!0},enterModalButtonOutsideRow:{top:"x1qiirwl",transform:"x105ttfm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function C(e){var t=e.key;(t==="ArrowUp"||t==="ArrowDown"||t==="ArrowLeft"||t==="ArrowRight"||t==="PageUp"||t==="PageDown"||t==="Home"||t==="End")&&e.preventDefault()}var b=s._(/*BTDS*/"Enter"),v=s._(/*BTDS*/"Esc");function S(e){var t=o("react-compiler-runtime").c(18),n=e.ariaLabel,a=e.focusable,i=e.onPress,l=e.ref,s=e.showButtonInsideRow,u=e.text,d=e.xstyle,m=r("useCometTheme")("invert"),p=m[0],_=m[1],f;t[0]!==i?(f=function(){return i()},t[0]=i,t[1]=f):f=t[1];var g=s?y.enterModalButtonInsideRow:y.enterModalButtonOutsideRow,h;t[2]!==g||t[3]!==_||t[4]!==d?(h=[_,y.enterModalButton,g,d],t[2]=g,t[3]=_,t[4]=d,t[5]=h):h=t[5];var C;t[6]!==u?(C=c.jsx(r("MDSTextPairing.react"),{body:u,bodyColor:"primary",level:4}),t[6]=u,t[7]=C):C=t[7];var b;t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==f||t[12]!==h||t[13]!==C?(b=c.jsx(r("MWXPressable.react"),{"aria-label":n,focusable:a,onPress:f,ref:l,xstyle:h,children:C}),t[8]=n,t[9]=a,t[10]=l,t[11]=f,t[12]=h,t[13]=C,t[14]=b):b=t[14];var v;return t[15]!==p||t[16]!==b?(v=c.jsx(p,{children:b}),t[15]=p,t[16]=b,t[17]=v):v=t[17],v}function R(t){var n=o("react-compiler-runtime").c(51),a=t.accessibilityDialogTitleText,i=t.checkIfContentsAreTabbable,l=t.children,s=t.focusCellOnRender,u=t.isDialogOpened,d=t.isFocused,m=t.isModal,f=t.messageDomID,R=t.nameForModality,E=t.setFocused,k=t.setIsDialogOpened,I=t.showButtonInsideRow,T=i===void 0?!1:i,D=s===void 0?!1:s,x=I===void 0?!1:I,$=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),P=$.setModal,N=g(null),M=_(),w;n[0]!==M||n[1]!==R||n[2]!==P?(w=function(){P(function(){return R}),r("setTimeout")(function(){o("FocusRegion.react").focusRegionById(M,o("focusScopeQueries").tabbableScopeQuery)},0)},n[0]=M,n[1]=R,n[2]=P,n[3]=w):w=n[3];var A=w,F=g(null),O;n[4]!==P?(O=function(){P(L);var e=N.current;if(e!=null)return e.focus()},n[4]=P,n[5]=O):O=n[5];var B=O,W=_(),q;n[6]!==a||n[7]!==W?(q=c.jsx(r("CometScreenReaderText.react"),{id:W,text:a}),n[6]=a,n[7]=W,n[8]=q):q=n[8];var U=q,V=_(),H=g(null),G,z;n[9]!==u||n[10]!==E||n[11]!==k?(z={isDialogOpened:u,setFocused:E,setIsDialogOpened:k},n[9]=u,n[10]=E,n[11]=k,n[12]=z):z=n[12],G=z;var j=G,K=r("useMAWEditMessageData")()!=null,Q;n[13]!==u||n[14]!==d||n[15]!==m||n[16]!==R||n[17]!==E||n[18]!==P?(Q=function(t){if(d!==t)return r("justknobx")._("3588")?u||E(function(){return t}):E(function(){return t}),P(function(){return(t||u)&&m?R:""})},n[13]=u,n[14]=d,n[15]=m,n[16]=R,n[17]=E,n[18]=P,n[19]=Q):Q=n[19];var X=Q,Y=h(!1),J=Y[0],Z=Y[1],ee;n[20]!==u||n[21]!==d||n[22]!==E?(ee=function(t){if(d!==t&&(r("justknobx")._("3588")?u||E(function(){return t}):E(function(){return t})),F.current!=null){var e=o("FocusManager").getFirstNodeFromOneOrManyQueries(o("focusScopeQueries").tabbableScopeQuery,F.current);Z(e!=null)}var n=H.current;if(t&&n!=null){r("setTimeout")(function(){try{return n.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(e){return n.scrollIntoView(!1)}},0);return}},n[20]=u,n[21]=d,n[22]=E,n[23]=ee):ee=n[23];var te=ee,ne,re;n[24]!==D?(ne=function(){if(D){var e,t;(e=N.current)==null||e.focus(),(t=N.current)==null||t.scrollIntoView()}},re=[D],n[24]=D,n[25]=ne,n[26]=re):(ne=n[25],re=n[26]),p(ne,re);var oe;n[27]!==T||n[28]!==l?(oe=T?c.jsx(o("FocusRegion.react").FocusRegion,{forwardRef:F,children:l}):l,n[27]=T,n[28]=l,n[29]=oe):oe=n[29];var ae=oe,ie=K?void 0:X,le=K?void 0:te,se;n[30]!==U||n[31]!==W||n[32]!==T||n[33]!==ae||n[34]!==V||n[35]!==M||n[36]!==J||n[37]!==K||n[38]!==m||n[39]!==f||n[40]!==A||n[41]!==B||n[42]!==x?(se=function(n,a){var t=c.jsx(o("MWMessageTableFocusTable.react").FocusTable[2],{children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(y.cell,m?y.cellModal:!1,a?y.cellFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":o("MWMessageTableFocusTable.react").scopeID,ref:N,role:"gridcell",tabIndex:K?-1:0,children:c.jsx(r("FocusInertRegion.react"),{disabled:m,focusQuery:o("focusScopeQueries").tabbableScopeQuery,children:m?c.jsxs(c.Fragment,{children:[c.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:o("focusScopeQueries").tabbableScopeQuery,id:M,recoverFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:c.jsx(r("KeyCommandHandler.react"),{onKeyDown:C,children:c.jsxs("div",{"aria-describedby":f,"aria-labelledby":W,id:V,role:"dialog",children:[ae,m?U:null,c.jsx(S,{ariaLabel:v,focusable:!0,onPress:B,showButtonInsideRow:x,text:v,xstyle:y.enterModalButtonVisible})]})})}),o("ReactDOM").createPortal(c.jsx("div",{"aria-owns":V}),document.body)]}):ae})}))});return c.jsxs(c.Fragment,{children:[c.jsx(o("MWMessageCellFocusTable.react").keyCommands,{onEnter:m||K||T&&!J?void 0:A,onEscape:m?B:void 0,onSpace:m||K||T&&!J?void 0:A,children:t}),c.jsx("div",{role:"gridcell",children:c.jsx(S,{ariaLabel:m?v:b,focusable:m,onPress:A,ref:H,showButtonInsideRow:x,text:m?v:b,xstyle:a&&!m&&(J||!T)?y.enterModalButtonVisible:y.visuallyHidden})})]})},n[30]=U,n[31]=W,n[32]=T,n[33]=ae,n[34]=V,n[35]=M,n[36]=J,n[37]=K,n[38]=m,n[39]=f,n[40]=A,n[41]=B,n[42]=x,n[43]=se):se=n[43];var ue;n[44]!==ie||n[45]!==le||n[46]!==se?(ue=c.jsx(o("MWMessageTableFocusTable.react").FocusTable[1],{children:c.jsx(r("FocusWithinHandler.react"),{onFocusChange:ie,onFocusVisibleChange:le,children:se})}),n[44]=ie,n[45]=le,n[46]=se,n[47]=ue):ue=n[47];var ce;return n[48]!==j||n[49]!==ue?(ce=c.jsx(r("BaseHeadingContextWrapper.react"),{children:c.jsx(o("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:j,children:ue})}),n[48]=j,n[49]=ue,n[50]=ce):ce=n[50],ce}function L(){return""}l.default=R}),226);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext,u={deemphasize:{filter:"x4xejrh",$$css:!0}};function c(e){var t=s(o("MAWEditMessageContext.react").Context),n=t.editMessageData,r=(n==null?void 0:n.messageId)!=null&&(n==null?void 0:n.messageId)!==e&&!o("IGDWebUtils").isOnInstagramWeb();return r?u.deemphasize:null}l.default=c}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","I64","MWEditMessageOverlay.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWPMessageListFocusableTableRow.react","MWV2MessageRowActionsContext.react","TimestampUtils","cr:11506","emptyFunction","react","react-compiler-runtime","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useMemo,_=m.useRef,f=(e=n("cr:11506"))!=null?e:d.Fragment,g={row:{position:"x1n2onr6",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(27),n=e.children,a=e.domElementRef,i=e.focusCellOnRender,l=e.isDialogOpened,u=e.isFocused,m=e.isModal,p=e.message,h=e.messageDomID,y=e.outgoing,C=e.setFocused,b=e.setHovered,v=e.setIsDialogOpened,S=e.stopHoveringRef,R=e.theme,L=i===void 0?!1:i,E=o("TimestampUtils").getTimestamp(r("useServerTime")(),new Date((c||(c=o("I64"))).to_float(p.timestampMs))),k=o("MWPMessageAuthor.react").useAuthorName(),I=k[0],T=y?s._(/*BTDS*/"You"):I!=null?I:s._(/*BTDS*/"a participant"),D=s._(/*BTDS*/"Message sent {Stringified timestamp of the incoming message} by {Name of the author of the incoming message}",[s._param("Stringified timestamp of the incoming message",E),s._param("Name of the author of the incoming message",T)]),x=_(r("emptyFunction")),$=_(r("emptyFunction")),P=_(r("emptyFunction")),N=_(r("emptyFunction")),M,w;t[0]===Symbol.for("react.memo_cache_sentinel")?(w={forwardMessage:P,openReactionsMenu:x,removeMessage:N,replyToMessage:$},t[0]=w):w=t[0],M=w;var A=M,F=r("useMAWEditMessageData")()!=null,O=r("useMWPEditMessageDeemphasizer")(p.messageId),B=F?r("emptyFunction"):b,W;t[1]!==O?(W=[g.row,O],t[1]=O,t[2]=W):W=t[2];var q;t[3]!==D||t[4]!==n||t[5]!==L||t[6]!==l||t[7]!==u||t[8]!==m||t[9]!==p.messageId||t[10]!==h||t[11]!==C||t[12]!==v?(q=d.jsx(r("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:D,focusCellOnRender:L,isDialogOpened:l,isFocused:u,isModal:m,messageDomID:h,nameForModality:p.messageId,setFocused:C,setIsDialogOpened:v,children:n}),t[3]=D,t[4]=n,t[5]=L,t[6]=l,t[7]=u,t[8]=m,t[9]=p.messageId,t[10]=h,t[11]=C,t[12]=v,t[13]=q):q=t[13];var U;t[14]!==p.messageId?(U=d.jsx(r("MWEditMessageOverlay.react"),{messageId:p.messageId}),t[14]=p.messageId,t[15]=U):U=t[15];var V;t[16]!==q||t[17]!==U?(V=d.jsxs(f,{children:[q,U]}),t[16]=q,t[17]=U,t[18]=V):V=t[18];var H;return t[19]!==a||t[20]!==p||t[21]!==S||t[22]!==B||t[23]!==W||t[24]!==V||t[25]!==R?(H=d.jsx(r("BaseHeadingContextWrapper.react"),{children:d.jsx(o("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:A,children:d.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:a,message:p,role:"row",setHovered:B,stopHoveringRef:S,theme:R,xstyle:W,children:V})})}),t[19]=a,t[20]=p,t[21]=S,t[22]=B,t[23]=W,t[24]=V,t[25]=R,t[26]=H):H=t[26],H}l.default=h}),226);
__d("MWPMessageRowCalculateStatus.react",["GenderConst","I64","MAWThreadCutover","MAWVideoAudioPlaybackErrorHandlerUtils","MWClickedMessageContext.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","MWXMAUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useGetMediaGroupInformation","useMWIsReadReceiptsDisabledForThread","useMessageAttachment","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=d.useState,f={type:"NoneStatus"},g={type:"Loading"},h={type:"RetriableError"},y={type:"Error"},C={type:"ValidationError"},b={type:"Sending"},v={type:"Sent"},S={type:"Delivered"};function R(t){var n=t.children,a=t.isBroadcastChannel,l=a===void 0?!1:a,u=t.isBroadcastThread,c=t.isLargeGroup,d=t.isSecureGroupThread,_=t.isSecureThread,R=t.message,E=t.nextMessage,I=o("MWPActor.react").useActor(),T=(e||(e=r("useReStore")))(),D=(s||(s=o("I64"))).equal(I,R.senderId),x=E!=null&&!(s||(s=o("I64"))).equal(I,E.senderId),$=R.isUnsent,P=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),N=P.seenCountV2Enabled,M=!R.isUnsent&&N,w=E==null,A=r("useMWIsReadReceiptsDisabledForThread")(R.threadKey),F=r("useGetMediaGroupInformation")(R,_),O=r("useMessageAttachment")(R),B=o("MAWVideoAudioPlaybackErrorHandlerUtils").useIsInvalidVideoMessage(R),W=r("MWClickedMessageContext.react").useHook(),q=W.clickedMessageId,U=W.fetchMessageSeenCount,V=W.hasError,H=W.isLoading,G=o("ReQLSuspense").useFirst(function(){return M?o("ReQL").fromTableAscending(T.tables.community_chat_message_seen_count,["seenCount"]).getKeyRange(R.threadKey,R.messageId):o("ReQL").empty()},[T,M,R.threadKey,R.messageId],i.id+":120");m(function(){l===!0&&w&&U(R.threadKey,R.messageId)},[U,R.messageId,R.threadKey,w,l,D]);var z=L(t,function(e){return!w&&e.length===0},[w]),j=k(function(){return o("ReQL").fromTableDescending(T.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(R.threadKey).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,I)}).take(1)},function(e){return e.length>0},[R.threadKey,I]).length>0,K=k(function(){return o("ReQL").fromTableDescending(T.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["readWatermarkTimestampMs","contactId"]).getKeyRange(R.threadKey).bounds({gte:o("ReQL").key(R.timestampMs)}).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,I)}).take(1)},function(e){return j&&e.length>0},[R.timestampMs,R.threadKey,I,j]),Q=K.length>0,X=k(function(){return o("ReQL").fromTableDescending(T.tables.participants.index("threadKeyDeliveredWatermarkTimestampMs"),["contactId"]).getKeyRange(R.threadKey).bounds({gte:o("ReQL").key(R.timestampMs)}).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,I)}).take(1)},function(e){return e.length>0||Q},[R.threadKey,R.timestampMs,Q,I]).length>0,Y=L(t,function(e){return Q&&e.length===0},[Q]),J=p(function(){var e;return o("MWMessageDeliveryStatus").seenCount((s||(s=o("I64"))).to_int32((e=G==null?void 0:G.seenCount)!=null?e:(s||(s=o("I64"))).zero))},[G==null?void 0:G.seenCount]),Z=p(function(){return o("MWMessageDeliveryStatus").seenHead(z)},[z]),ee=p(function(){return o("MWMessageDeliveryStatus").seenHead(Y)},[Y]);if(B)return n(C);if(R.isAdminMessage)return n(f);if(u){if(M)return q!==R.messageId?n(f):H?n(g):V?n(h):G!=null?n(J):n(g);if(!D||E!=null||$)return n(f)}if(!D)return d||c?n(f):l===!0?G!=null?n(J):n(f):z.length>0?t.children(Z):t.children(f);if(D&&w&&l&&G!=null&&(s||(s=o("I64"))).to_int32(G.seenCount)>0)return n(J);if(x&&d||(s||(s=o("I64"))).equal(R.sendStatusV2,(s||(s=o("I64"))).of_int32(0)))return n(f);if((s||(s=o("I64"))).equal(R.sendStatusV2,(s||(s=o("I64"))).of_int32(4)))return n(y);if((s||(s=o("I64"))).equal(R.sendStatusV2,(s||(s=o("I64"))).of_int32(5)))return n(h);if((s||(s=o("I64"))).equal(R.sendStatusV2,(s||(s=o("I64"))).of_int32(1)))return n(b);if((s||(s=o("I64"))).equal(R.sendStatusV2,(s||(s=o("I64"))).of_int32(6)))return n(v);if(c){if(E!=null||$)return n(f);if((s||(s=o("I64"))).equal(R.sendStatusV2,(s||(s=o("I64"))).of_int32(2)))return n(S)}if(Q&&!A)return Y.length>0?n(ee):n(f);if(F!=null&&F.isMediaGroupLastMessage)return F.hasAllMessagesSent?n(v):n(b);var te=(O==null?void 0:O.defaultCtaType)!=null&&o("MWXMAUtils").isRTCXMA(O.defaultCtaType);return n(D&&w&&_&&te?f:X?S:v)}R.displayName=R.name+" [from "+i.id+"]";function L(t,n,a){var l=o("react-compiler-runtime").c(25),u=(e||(e=r("useReStore")))(),c=o("MWPActor.react").useActor(),d=t.message,m=t.nextMessage,p=r("useMWIsReadReceiptsDisabledForThread")(d.threadKey),_;l[0]!==d.threadKey||l[1]!==t.isSecureThread?(_=t.isSecureThread?(s||(s=o("I64"))).to_string(d.threadKey):void 0,l[0]=d.threadKey,l[1]=t.isSecureThread,l[2]=_):_=l[2];var f=o("MAWThreadCutover").useGetCutoverSecureThreadKey(_),g;l[3]!==f?(g=f!=null?(s||(s=o("I64"))).of_string(f):null,l[3]=f,l[4]=g):g=l[4];var h=g,y;l[5]!==c||l[6]!==h||l[7]!==u.tables.contacts||l[8]!==u.tables.participants||l[9]!==d.threadKey||l[10]!==d.timestampMs||l[11]!==m?(y=function(){var e=m!=null?{gte:o("ReQL").key(d.timestampMs),lt:o("ReQL").key(m.timestampMs)}:{gte:o("ReQL").key(d.timestampMs)},t=o("ReQL").fromTableAscending(u.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(d.threadKey).bounds(e).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}),n={gte:o("ReQL").key(d.timestampMs)},r=h!=null?o("ReQL").fromTableAscending(u.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(h).bounds(n).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}):o("ReQL").empty();return o("ReQL").union(t,r).map(function(e){var t=o("ReQLSuspense").toArray(r,i.id+":483").some(function(t){return(s||(s=o("I64"))).equal(t.contactId,e.contactId)});if(!t)return e}).filter(Boolean).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(u.tables.contacts,["id","name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(e.contactId),i.id+":498");return[e,t]})},l[5]=c,l[6]=h,l[7]=u.tables.contacts,l[8]=u.tables.participants,l[9]=d.threadKey,l[10]=d.timestampMs,l[11]=m,l[12]=y):y=l[12];var C=m==null?void 0:m.timestampMs,b=m==null,v=h==null,S;l[13]!==c||l[14]!==u||l[15]!==d.threadKey||l[16]!==d.timestampMs||l[17]!==C||l[18]!==b||l[19]!==v||l[20]!==a?(S=[u,d.threadKey,d.timestampMs,C,b,v,c].concat(a),l[13]=c,l[14]=u,l[15]=d.threadKey,l[16]=d.timestampMs,l[17]=C,l[18]=b,l[19]=v,l[20]=a,l[21]=S):S=l[21];var R=k(y,n,S),L;return l[22]!==R||l[23]!==p?(L=p?[]:R.map(E).filter(Boolean),l[22]=R,l[23]=p,l[24]=L):L=l[24],L}function E(e){var t,n=e[0],a=e[1];if(a!=null)return{gender:r("GenderConst").UNKNOWN_SINGULAR,id:(s||(s=o("I64"))).to_string(a.id),imageSrc:r("getLSMediaContactProfilePictureUrl")(a),name:(t=n.nickname)!=null?t:a.name,timestamp:s.to_float(n.readActionTimestampMs)}}function k(e,t,n){var r=_(void 0),a=r[0],l=r[1],s=o("ReQLSuspense").useArray(function(){return a!=null?o("ReQL").empty():e()},[].concat(n,[a]),i.id+":558");return t(s)&&a==null&&l(s),a!=null?a:s}l.default=R}),98);
__d("MWPNewMessageDraftContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c();function _(e){var t=o("react-compiler-runtime").c(2),n=e.children,r=m(""),a;return t[0]!==n?(a=s.jsx(p.Provider,{value:r,children:n}),t[0]=n,t[1]=a):a=t[1],a}function f(){return d(p)}l.MWPNewMessageDraftContextProvider=_,l.useNewMessageDraftContext=f}),98);
__d("MWPQuickReplies.react",["AdsMessengerContext.react","FBLogger","I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWChatBusinessQuickReplyList.react","MWPActor.react","MessagePowerUp","Promise","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useContext;function _(e){var t=o("react-compiler-runtime").c(21),n=e.lastMessageId,a=e.quickReplyType,l=e.threadKey,d=r("useLSMessagingSource")(),_=(s||(s=r("useReStore")))(),y=o("MWPActor.react").useActor(),C=p(o("AdsMessengerContext.react").AdsMessengerContext),b;t[0]!==n||t[1]!==_.tables.quick_reply_ctas||t[2]!==l?(b=function(){return o("ReQL").fromTableAscending(_.tables.quick_reply_ctas).getKeyRange(l,n).map(h).filter(g)},t[0]=n,t[1]=_.tables.quick_reply_ctas,t[2]=l,t[3]=b):b=t[3];var v;t[4]!==n||t[5]!==_||t[6]!==l?(v=[_,n,l],t[4]=n,t[5]=_,t[6]=l,t[7]=v):v=t[7];var S=o("ReQLSuspense").useArray(b,v,i.id+":54");if(S.length>0){var R;t[8]!==y?(R=(u||(u=o("I64"))).to_string(y),t[8]=y,t[9]=R):R=t[9];var L;t[10]!==y||t[11]!==C||t[12]!==d||t[13]!==_||t[14]!==l?(L=function(t){if(C.onSendQuickReply!=null)return r("promiseDone")(C.onSendQuickReply(t,!1));var e=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(l,d);r("promiseDone")(_.runInTransaction(function(n){var a,i=(a=t.payload)!=null?a:void 0;return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(n),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:i,power_up_style:(c||(c=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:c.ofNumber(r("LSMessageReplySourceType").NONE),reply_source_type_v2:c.ofNumber(r("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:e}),mailboxType:c.ofNumber(r("LSMailboxType").MESSENGER),senderId:y,text:t.title,threadKey:l,threadType:c.ofNumber(1)}).then(f)},"readwrite",void 0,void 0,i.id+":110"))},t[10]=y,t[11]=C,t[12]=d,t[13]=_,t[14]=l,t[15]=L):L=t[15];var E;return t[16]!==S||t[17]!==a||t[18]!==R||t[19]!==L?(E=m.jsx(r("MWChatBusinessQuickReplyList.react"),{arrayQR:S,id:R,onSend:L,quickReplyType:a}),t[16]=S,t[17]=a,t[18]=R,t[19]=L,t[20]=E):E=t[20],E}else return null}function f(t){return(e||(e=n("Promise"))).resolve(t)}function g(e){return e.content_type!==""}function h(e){var t=e.type_,n=t==="quick_reply_text"||t==="quick_reply_ad"?"text":t==="quick_reply_phone"?"user_phone_number":t==="quick_reply_email"?"user_email":"";return n===""&&r("FBLogger")("messenger_web").mustfix("Unexpected quick-reply type: %s, title: %s",t,e.title),{content_type:n,data:void 0,image_url:e.imageUrl,payload:e.platformToken,title:e.title}}function y(e){var t=o("react-compiler-runtime").c(8),n=e.threadKey,a=(s||(s=r("useReStore")))(),l,u;t[0]!==a||t[1]!==n?(l=function(){return o("ReQL").fromTableDescending(a.tables.messages).getKeyRange(n).take(2)},u=[a,n],t[0]=a,t[1]=n,t[2]=l,t[3]=u):(l=t[2],u=t[3]);var c=o("ReQLSuspense").useArray(l,u,i.id+":151");if(c.length===0)return null;var d=c[0];d.isAdminMessage&&c.length===2&&(d=c[1]);var p;return t[4]!==d.messageId||t[5]!==d.quickReplyType||t[6]!==n?(p=m.jsx(_,{lastMessageId:d.messageId,quickReplyType:d.quickReplyType,threadKey:n}),t[4]=d.messageId,t[5]=d.quickReplyType,t[6]=n,t[7]=p):p=t[7],p}var C=o("withCometPlaceholder").withCometPlaceholder(y,null,"MWPQuickReplies");l.default=C}),98);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=2,c={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(5),n=e.urls,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={className:"x78zum5 x1a02dak xe9ewy2 x1kgmq87"},t[0]=r):r=t[0];var a;t[1]!==n?(a=n.map(m),t[1]=n,t[2]=a):a=t[2];var i;return t[3]!==a?(i=s.jsx("ul",babelHelpers.extends({},r,{children:a})),t[3]=a,t[4]=i):i=t[4],i}function m(e){return s.jsx("li",{className:"x1yu6fn4",children:s.jsx("div",{className:"xqtp20y xwklpps xr9ek0c x1vrad04 x1n2onr6",children:s.jsx(r("BaseImage.react"),{src:e,xstyle:c.gridImage})})},e)}m.displayName=m.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function u(t,n,a,i,l,u,c,d,m,p,_,f){var g=p!=null&&(e||(e=o("LSIntEnum"))).unwrapIntEnum(p)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO,h=g?1:0;s.onReady(function(e){return e.log(t,{actor:i,additionalTags:g?["armadillo_express"]:void 0,attachmentFbids:u,attachmentType:d,backend:h,ephemeralDurationInSec:f,hasReply:m,isInstamadilloTTLC:_,offlineThreadingId:l,sendType:0,source:c,threadKey:n,threadType:a})})}l.log=u}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","react-compiler-runtime","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(12),a=t.children,i=t.domElementRef,l=t.focusCellOnRender,s=l===void 0?!1:l,c=r("useMAWEditMessageData")(),_=c!=null,f=r("useMWPEditMessageDeemphasizer")(),g=m(null),h,y;n[0]!==s?(h=function(){if(s){var e,t;(e=g.current)==null||e.focus(),(t=g.current)==null||t.scrollIntoView()}},y=[s],n[0]=s,n[1]=h,n[2]=y):(h=n[1],y=n[2]),d(h,y);var C;n[3]!==f?(C=(e||(e=r("stylex"))).props(f),n[3]=f,n[4]=C):C=n[4];var b;n[5]!==a||n[6]!==_?(b=u.jsx(o("MWMessageTableFocusTable.react").FocusTable[2],{children:u.jsx(r("FocusWithinHandler.react"),{children:function(n,i){return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.row,i?p.rowFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":o("MWMessageTableFocusTable.react").scopeID,ref:g,role:"gridcell",tabIndex:_?-1:0,children:[a,u.jsx(r("MWEditMessageOverlay.react"),{})]}))}})}),n[5]=a,n[6]=_,n[7]=b):b=n[7];var v;return n[8]!==i||n[9]!==C||n[10]!==b?(v=u.jsx(o("MWMessageTableFocusTable.react").FocusTable[1],{children:u.jsx("div",babelHelpers.extends({},C,{ref:i,role:"row",children:b}))}),n[8]=i,n[9]=C,n[10]=b,n[11]=v):v=n[11],v}l.default=_}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","CometScreenReaderText.react","FBLogger","FDSPressableFacepile.react","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWGenAIUtils","MWPMessageListColumn.react","MWPThreadIsPage.react","MWV2MessageRowSimple.react","MWXMessageBubble.react","MessengerWebGenAIConsentStatusStore","ReQL","ReQLSuspense","ServerTime","clearTimeout","getLSMediaContactProfilePictureUrl","isEmpty","react","react-compiler-runtime","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useEffect,h=f.useMemo,y=f.useState,C=1e4,b=28,v={root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function S(e,t){var n,r=e==null?void 0:e.nickname;return r!=null?r:(n=t.firstName)!=null?n:t.name}function R(t,n){var a=o("react-compiler-runtime").c(13),l=n===void 0?!1:n,s=(e||(e=r("useReStore")))(),u;a[0]!==l||a[1]!==s.tables.contacts||a[2]!==s.tables.participants||a[3]!==s.tables.presence_states||a[4]!==s.tables.typing_indicator||a[5]!==t?(u=function(){return o("ReQL").fromTableAscending(s.tables.typing_indicator).getKeyRange(t).filter(L).map(function(e){var n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(s.tables.presence_states).getKeyRange(e.senderId),i.id+":119");if(!l||n!=null&&(d||(d=o("I64"))).equal(n.status,(m||(m=o("LSIntEnum"))).ofNumber(r("LSPresenceStatus").ACTIVE))){var a=o("ReQLSuspense").first(o("ReQL").fromTableAscending(s.tables.participants).getKeyRange(t,e.senderId),i.id+":137"),u=o("ReQLSuspense").first(o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(e.senderId),i.id+":144");if(u!=null)return[a,u,e]}}).filter(Boolean).take(3)},a[0]=l,a[1]=s.tables.contacts,a[2]=s.tables.participants,a[3]=s.tables.presence_states,a[4]=s.tables.typing_indicator,a[5]=t,a[6]=u):u=a[6];var c;a[7]!==l||a[8]!==s||a[9]!==t?(c=[s,t,l],a[7]=l,a[8]=s,a[9]=t,a[10]=c):c=a[10];var p=o("ReQLSuspense").useArray(u,c,i.id+":108"),_;return a[11]!==p?(_=p.filter(Boolean),a[11]=p,a[12]=_):_=a[12],_}function L(e){return o("ServerTime").getMillis()<(d||(d=o("I64"))).to_float(e.expirationTimestampMs)}function E(e){return h(function(){if((u||(u=r("isEmpty")))(e))return"";var t=e[0],n=t[0],o=t[1],a=t[2],i=e.slice(1);return(u||(u=r("isEmpty")))(i)?s._(/*BTDS*/"{The participants name} is typing",[s._param("The participants name",S(n,o))]):s._(/*BTDS*/"Multiple participants are typing")},[e])}function k(e){var t=o("react-compiler-runtime").c(7),n=e.length>0,a;t[0]!==n||t[1]!==e?(a=n?e.reduce(I,0):0,t[0]=n,t[1]=e,t[2]=a):a=t[2];var i=a,l=y(i>o("ServerTime").getMillis()),s=l[0],u=l[1],c,d;return t[3]!==n||t[4]!==i?(c=function(){if(n){u(i>o("ServerTime").getMillis());var e=i-o("ServerTime").getMillis(),t=r("setTimeout")(function(){return u(!1)},e);return function(){r("clearTimeout")(t)}}},d=[i,u,n],t[3]=n,t[4]=i,t[5]=c,t[6]=d):(c=t[5],d=t[6]),g(c,d),n&&s}function I(e,t){var n=t[2];return Math.max(e,(d||(d=o("I64"))).to_float(n.expirationTimestampMs))}function T(e){var t=o("react-compiler-runtime").c(30),n=e.containerStyle,a=e.customTypingIndicatorComponent,i=e.facepileSize,l=e.isBackgroundTransparent,s=e.isMessageListColumnProfile,u=e.messageBubbleStyle,d=e.setIsParentTypingIndicatorVisible,m=e.threadType,p=e.typingParticipants,f=l===void 0?!1:l,h=p.reduce(x,0),S;t[0]!==h?(S=function(){return h>o("ServerTime").getMillis()},t[0]=h,t[1]=S):S=t[1];var R=y(S),L=R[0],E=R[1],k=o("MWPThreadIsPage.react").useIsPage(),I;t[2]!==a||t[3]!==k||t[4]!==h?(I=function(){E(function(){return h>o("ServerTime").getMillis()});var e=h-o("ServerTime").getMillis();e>C&&(r("FBLogger")("messenger_web").warn("Typing indicator is delaying for too long: %s ms",e),!a&&!k&&(e=C));var t=r("setTimeout")(function(){return E(!1)},e);return function(){r("clearTimeout")(t)}},t[2]=a,t[3]=k,t[4]=h,t[5]=I):I=t[5];var T;if(t[6]!==h?(T=[h,E],t[6]=h,t[7]=T):T=t[7],g(I,T),L){d!=null&&d(!0);var $;t[8]!==p?($=p.map(D),t[8]=p,t[9]=$):$=t[9];var P=$,N;t[10]!==n?(N=(c||(c=r("stylex"))).props(v.root,n),t[10]=n,t[11]=N):N=t[11];var M=!f,w=s!=null?s:!0,A=i!=null?i:b,F;t[12]!==P||t[13]!==A?(F=_.jsx(r("FDSPressableFacepile.react"),{isOverlapping:!0,items:P,size:A}),t[12]=P,t[13]=A,t[14]=F):F=t[14];var O;t[15]!==F||t[16]!==M||t[17]!==w?(O=_.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnSelfCentered,{paint:M,profile:w,children:F}),t[15]=F,t[16]=M,t[17]=w,t[18]=O):O=t[18];var B;t[19]!==a||t[20]!==m?(B=a||_.jsx(r("MWChatTypingIndicator.react"),{threadType:m}),t[19]=a,t[20]=m,t[21]=B):B=t[21];var W;t[22]!==f||t[23]!==u||t[24]!==B?(W=_.jsx(r("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,isBackgroundTransparent:f,precedesXMA:!1,xstyle:u,children:B}),t[22]=f,t[23]=u,t[24]=B,t[25]=W):W=t[25];var q;return t[26]!==O||t[27]!==W||t[28]!==N?(q=_.jsxs("div",babelHelpers.extends({"aria-hidden":!0},N,{children:[O,W]})),t[26]=O,t[27]=W,t[28]=N,t[29]=q):q=t[29],q}else return d!=null&&d(!1),null}function D(e){var t=e[0],n=e[1];return{alt:S(t,n),source:{uri:r("getLSMediaContactProfilePictureUrl")(n)}}}function x(e,t){var n=t[2];return Math.max(e,(d||(d=o("I64"))).to_float(n.expirationTimestampMs))}function $(e){var t=o("react-compiler-runtime").c(24),n=e.checkPresenceSettings,a=e.containerStyle,i=e.customTypingIndicatorComponent,l=e.facepileSize,s=e.isBackgroundTransparent,u=e.isMessageListColumnProfile,c=e.messageBubbleStyle,d=e.setIsParentTypingIndicatorVisible,m=e.theme,p=e.threadKey,f=e.threadType,g=n===void 0?!1:n,h=l===void 0?b:l,y=s===void 0?!1:s,C=u===void 0?!0:u,v=m||o("MWBaseTheme").empty,S=R(p,g),L=E(S);if(S.length<=0)return d!=null&&d(!1),null;if(o("MWGenAIUtils").isMetaAIThread(p)&&!r("MessengerWebGenAIConsentStatusStore").getChatConsented())return null;var k=!y,I;t[0]!==y?(I={0:{className:"xnezbuk x1q0q8m5 xso031l"},1:{className:"x16stqrj x1q0q8m5 xso031l"}}[!!y<<0],t[0]=y,t[1]=I):I=t[1];var D;t[2]!==L?(D=_.jsx(r("CometScreenReaderText.react"),{text:L}),t[2]=L,t[3]=D):D=t[3];var x;t[4]!==I||t[5]!==D?(x=_.jsx("div",babelHelpers.extends({"aria-live":"polite"},I,{children:D})),t[4]=I,t[5]=D,t[6]=x):x=t[6];var $;t[7]!==a||t[8]!==i||t[9]!==h||t[10]!==y||t[11]!==C||t[12]!==c||t[13]!==d||t[14]!==f||t[15]!==S?($=_.jsx(T,{containerStyle:a,customTypingIndicatorComponent:i,facepileSize:h,isBackgroundTransparent:y,isMessageListColumnProfile:C,messageBubbleStyle:c,setIsParentTypingIndicatorVisible:d,threadType:f,typingParticipants:S}),t[7]=a,t[8]=i,t[9]=h,t[10]=y,t[11]=C,t[12]=c,t[13]=d,t[14]=f,t[15]=S,t[16]=$):$=t[16];var P;t[17]!==k||t[18]!==x||t[19]!==$?(P=_.jsx(r("MWV2MessageRowSimple.react"),{children:_.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:k,children:[x,$]})}),t[17]=k,t[18]=x,t[19]=$,t[20]=P):P=t[20];var N;return t[21]!==P||t[22]!==v?(N=_.jsx(r("BaseTheme.react"),{config:v,role:"grid",children:P}),t[21]=P,t[22]=v,t[23]=N):N=t[23],N}var P=o("withCometPlaceholder").withCometPlaceholder($,null,"MWPTypingIndicators");l.useTypingParticipants=R,l.useAccessibilityText=E,l.useShouldShowTypingIndicator=k,l.MWPTypingIndicators=P}),226);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c=function(t){var e=t.previewUrl;return e};function d(e){var t=o("react-compiler-runtime").c(5),n=e.attachmentItems,a,i;t[0]!==n?(i=n.map(c).filter(Boolean),t[0]=n,t[1]=i):i=t[1],a=i;var l=a,u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x193iq5w xgqtt45 xdzyupr"},t[2]=u):u=t[2];var d;return t[3]!==l?(d=s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("MWPResponsiveImageGrid.react"),{urls:l})})),t[3]=l,t[4]=d):d=t[4],d}l.default=d}),98);
__d("MWPreloadedText",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({text:null});l.default=u}),98);
__d("messengerSecureMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)},"token")}),s=e;l.default=s}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(e){var t=e.isAiBotMentionsEnabled,n=e.participants,a=e.threadFBID,i=e.triggerParticipantsSearch,l=o("MWLSThread").useThreadExn((s||(s=o("I64"))).of_string(a)),c=l.threadType,d=o("LSMessagingThreadTypeUtil").isGroup(l.threadType)&&o("LSThreadBitOffset").has(43,l),m=u(function(){return[{dataSource:new(r("MWChatComposerMentionsTypeaheadDataSource"))(n,a,i,t,d,c),matchStrategy:r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d,t,n,a,i,c]);return r("useCometMentionsDataSourceResolverConfig")(m,!0)}l.default=c}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWChatComposerTypeaheadUtil","MWLSThread","MessengerWebUXLogger","cr:4183","messengerMentionsLexicalCreateNodeStrategy","messengerSecureMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useMemo;function _(e){return f}function f(e,t){}var g=(e=n("cr:4183"))!=null?e:_,h={view:{minWidth:"x1jzhcrs",$$css:!0}};function y(e){var t=o("react-compiler-runtime").c(23),n=e.editor,a=e.isAiBotMentionsEnabled,i=e.isSecureThread,l=e.participants,s=e.threadFBID,d;t[0]!==s?(d=(u||(u=o("I64"))).of_string(s),t[0]=s,t[1]=d):d=t[1];var m=g(d),p,_;t[2]!==a||t[3]!==l||t[4]!==s||t[5]!==m?(_={isAiBotMentionsEnabled:a,participants:l,threadFBID:s,triggerParticipantsSearch:m},t[2]=a,t[3]=l,t[4]=s,t[5]=m,t[6]=_):_=t[6],p=_;var f=p,y=r("useMWChatMentionsDataSourceResolverConfig")(f),C;t[7]===Symbol.for("react.memo_cache_sentinel")?(C={viewItemStrategyRenderer:r("MWChatComposerMentionsViewItem.react"),viewXStyle:h.view},t[7]=C):C=t[7];var b=r("useCometTypeaheadSectionedViewListStrategy")(C),v;t[8]!==s?(v=(u||(u=o("I64"))).of_string(s),t[8]=s,t[9]=v):v=t[9];var S=o("MWLSThread").useThreadExn(v),R=r("useCommunityFolder")(S);o("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(n,S.threadKey,a);var L=r("MessengerWebUXLogger").useInteractionLogger(),E;t[10]!==i||t[11]!==L?(E=function(t){if(i===!0&&L!=null){var e=t.handle!=null?o("MWChatComposerTypeaheadUtil").commandToRangeType(t.handle):null;e:switch(e){case"t":{L({eventName:"mentions_everyone_selected"});break e}case"p":{L({eventName:"mentions_recipient_selected"});break e}default:}}return{shouldMentionSelectedEntry:!0}},t[10]=i,t[11]=L,t[12]=E):E=t[12];var k=E;if(r("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react")!=null&&(o("MWCMThreadTypes.react").isJoinedCMThread(S.threadType)&&R||o("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(S.threadType))){var I,T=(I=R==null?void 0:R.folderId)!=null?I:S.threadKey,D;return t[13]!==n||t[14]!==T||t[15]!==s?(D=c.jsx(r("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:n,folderId:T,threadFBID:s}),t[13]=n,t[14]=T,t[15]=s,t[16]=D):D=t[16],D}else{var x=r(i===!0?"messengerSecureMentionsLexicalCreateNodeStrategy":"messengerMentionsLexicalCreateNodeStrategy"),$;return t[17]!==y||t[18]!==n||t[19]!==k||t[20]!==x||t[21]!==b?($=c.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:x,dataSourceResolverConfig:y,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),mentionsHandlerForSelectedEntry:k,position:"above",viewStrategyRenderer:b}),t[17]=y,t[18]=n,t[19]=k,t[20]=x,t[21]=b,t[22]=$):$=t[22],$}}l.default=y}),98);
__d("MWReQLComposerInner.react",["CometMessengerComposerInner.react","I64","MWLSThread","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(26),n=e.ariaDescribedBy,a=e.ariaLabel,i=e.contentEditableRef,l=e.editor,c=e.endContent,m=e.handlePastedFiles,p=e.isAiBotMentionsEnabled,_=e.isSecureThread,f=e.participants,g=e.placeholderText,h=e.policyProduct,y=e.startContent,C=e.surface,b=e.testId,v=e.threadID,S=e.topContent,R=e.useMentionsPlugin,L=g===void 0?"Aa":g,E;t[0]!==v?(E=(s||(s=o("I64"))).of_string(v),t[0]=v,t[1]=E):E=t[1];var k=o("MWLSThread").useThread(E,d),I;t[2]!==l||t[3]!==p||t[4]!==_||t[5]!==f||t[6]!==v||t[7]!==R?(I=R&&u.jsx(r("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:l,isAiBotMentionsEnabled:p,isSecureThread:_,participants:f,threadFBID:v}),t[2]=l,t[3]=p,t[4]=_,t[5]=f,t[6]=v,t[7]=R,t[8]=I):I=t[8];var T=I,D=k==null?void 0:k.threadSubtype,x=k==null?void 0:k.threadType,$;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==c||t[14]!==m||t[15]!==_||t[16]!==T||t[17]!==L||t[18]!==h||t[19]!==y||t[20]!==C||t[21]!==D||t[22]!==x||t[23]!==b||t[24]!==S?($=u.jsx(r("CometMessengerComposerInner.react"),{ariaDescribedBy:n,ariaLabel:a,contentEditableRef:i,editor:l,endContent:c,handlePastedFiles:m,isSecureThread:_,mentionsPlugin:T,placeholderText:L,policyProduct:h,startContent:y,surface:C,testId:b,threadSubtype:D,threadType:x,topContent:S}),t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=c,t[14]=m,t[15]=_,t[16]=T,t[17]=L,t[18]=h,t[19]=y,t[20]=C,t[21]=D,t[22]=x,t[23]=b,t[24]=S,t[25]=$):$=t[25],$}function d(e){var t=e.threadSubtype,n=e.threadType;return{threadSubtype:t,threadType:n}}l.default=c}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","react-compiler-runtime","useInterval"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useMemo,p=d.useState;function _(e){var t=1e3,n=t*60,r=n*60,o=r*24,a=e,i=Math.floor(a/o);a-=i*o;var l=Math.floor(a/r);a-=l*r;var s=Math.floor(a/n);a-=s*n;var u=Math.floor(a/t);return a-=u*t,{days:i,hours:l,minutes:s,seconds:u}}function f(e){var t,n=o("react-compiler-runtime").c(16),a=e.attachment,i;i=(u||(u=o("I64"))).to_float((t=a.countdownTimestampMs)!=null?t:(u||(u=o("I64"))).zero);var l=i,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=Date.now(),n[0]=d):d=n[0];var m=p(d),f=m[0],g=m[1],h=f>l,y;n[1]===Symbol.for("react.memo_cache_sentinel")?(y=function(){g(Date.now())},n[1]=y):y=n[1];var C;n[2]===Symbol.for("react.memo_cache_sentinel")?(C=[g],n[2]=C):C=n[2],r("useInterval")(y,h?6e4:1e3,C);var b;if(h)if(a.cta1Type==="xma_roll_call_open_viewer"){var L;n[3]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Added"),n[3]=L):L=n[3],b=L}else{var E=f-l,k;n[4]!==E?(k=_(E),n[4]=E,n[5]=k):k=n[5];var I=k,T=I.days,D=I.hours,x=I.minutes;if(T>30){var $;n[6]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"30d+"),n[6]=$):$=n[6],b=$}else if(T>0){var P;n[7]!==T?(P=s._(/*BTDS*/"{days}d late",[s._param("days",T)]),n[7]=T,n[8]=P):P=n[8],b=P}else if(D>0){var N;n[9]!==D?(N=s._(/*BTDS*/"{hours}h late",[s._param("hours",D)]),n[9]=D,n[10]=N):N=n[10],b=N}else{var M;n[11]!==x?(M=s._(/*BTDS*/"{minutes}m late",[s._param("minutes",Math.max(1,x))]),n[11]=x,n[12]=M):M=n[12],b=M}}else{var v=_(l-f),S=v.minutes,R=v.seconds;b=("0"+S).slice(-2)+":"+("0"+R).slice(-2)}var w;n[13]===Symbol.for("react.memo_cache_sentinel")?(w={className:"x1h0vfkc x16qb05n xi7iut8 x1dm3dyd x1pv694p x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k x11t971q xvc5jky xf159sx xmzvs34 xeq5yr9"},n[13]=w):w=n[13];var A;return n[14]!==b?(A=c.jsx("div",babelHelpers.extends({},w,{children:c.jsx(r("MWXText.react"),{numberOfLines:1,type:"meta4",children:b})})),n[14]=b,n[15]=A):A=n[15],A}l.default=f}),226);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","MWXImage.react","MWXText.react","MWXVideoStatusListener.react","gkx","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useRef,p=160,_=213,f=16,g={avatar:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",objectFit:"xl1xv1r",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(40),n=e.attachmentItem,a=e.mediaRenderQpl,i=n.faviconUrl,l=n.playableUrl,u=n.previewUrl,c=n.subtitleText,f=n.titleText,h,y;t[0]!==a||t[1]!==l||t[2]!==u?(h=function(){a==null||a.addPoint("render-roll-call-xma-attachment-item",{bool:{has_playable_url:!r("isStringNullOrEmpty")(l),has_preview_url:!r("isStringNullOrEmpty")(u)}}),!r("isStringNullOrEmpty")(l)&&!r("isStringNullOrEmpty")(u)&&(a==null||a.endSuccess())},y=[a,l,u],t[0]=a,t[1]=l,t[2]=u,t[3]=h,t[4]=y):(h=t[3],y=t[4]),d(h,y);var C=m(null),b;t[5]!==a?(b=function(t){a==null||a.endFail("load-video-error",{string:{video_error_name:t}})},t[5]=a,t[6]=b):b=t[6];var v=b,S;t[7]!==a?(S=function(){a==null||a.endSuccess()},t[7]=a,t[8]=S):S=t[8];var R=S;if(r("isStringNullOrEmpty")(l))if(r("isStringNullOrEmpty")(u)){if(r("gkx")("7782")&&!r("isStringNullOrEmpty")(f)&&!r("isStringNullOrEmpty")(i)){var N;t[28]===Symbol.for("react.memo_cache_sentinel")?(N={className:"xbjudin xnlwouz xpp8er5 xs9wviy xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn x9bbmet x78zum5 xdt5ytf xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},t[28]=N):N=t[28];var M;t[29]!==i?(M=s.jsx(r("MWXImage.react"),{height:24,src:i,width:24,xstyle:g.avatar}),t[29]=i,t[30]=M):M=t[30];var w;t[31]===Symbol.for("react.memo_cache_sentinel")?(w={className:"x1iyjqo2 xyamay9 x1l90r2v xv54qhq"},t[31]=w):w=t[31];var A;t[32]!==f?(A=s.jsx("div",babelHelpers.extends({},w,{children:s.jsx(r("MWXText.react"),{numberOfLines:6,type:"entityHeaderMeta3",children:f})})),t[32]=f,t[33]=A):A=t[33];var F;t[34]!==c?(F=r("isStringNullOrEmpty")(c)?null:s.jsx("div",{className:"x2lah0s x84yb8i",children:s.jsx(r("MWXText.react"),{type:"body4",children:c})}),t[34]=c,t[35]=F):F=t[35];var O;return t[36]!==M||t[37]!==A||t[38]!==F?(O=s.jsxs("div",babelHelpers.extends({},N,{children:[M,A,F]})),t[36]=M,t[37]=A,t[38]=F,t[39]=O):O=t[39],O}}else{var D;t[19]===Symbol.for("react.memo_cache_sentinel")?(D={className:"xbjudin xnlwouz xpp8er5 xs9wviy xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn"},t[19]=D):D=t[19];var x;t[20]!==a?(x=a==null?void 0:a.endFail("load-image-error"),t[20]=a,t[21]=x):x=t[21];var $;t[22]!==a?($=a==null?void 0:a.endSuccess(),t[22]=a,t[23]=$):$=t[23];var P;return t[24]!==u||t[25]!==x||t[26]!==$?(P=s.jsx("div",babelHelpers.extends({},D,{children:s.jsx(r("BaseImage.react"),{height:_,onError:x,onLoad:$,src:u,width:p,xstyle:g.media})})),t[24]=u,t[25]=x,t[26]=$,t[27]=P):P=t[27],P}else{var L;t[9]===Symbol.for("react.memo_cache_sentinel")?(L={className:"xbjudin xnlwouz xpp8er5 xs9wviy xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn"},t[9]=L):L=t[9];var E;t[10]!==v||t[11]!==R?(E=s.jsx(r("MWXVideoStatusListener.react"),{onError:v,onLoad:R,videoRef:C}),t[10]=v,t[11]=R,t[12]=E):E=t[12];var k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k={className:"xwcfey6 x1xsqp64 x18d0r48 xbjudin xnlwouz xpp8er5 xs9wviy xl1xv1r"},t[13]=k):k=t[13];var I;t[14]!==l?(I=s.jsx("video",babelHelpers.extends({},k,{height:_,muted:!0,src:l,width:p})),t[14]=l,t[15]=I):I=t[15];var T;return t[16]!==E||t[17]!==I?(T=s.jsxs("div",babelHelpers.extends({},L,{children:[E,I]})),t[16]=E,t[17]=I,t[18]=T):T=t[18],T}return null}l.default=h}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),a=e.message,i=a.adminMsgCtaTitle,l;t[0]!==a.threadKey||t[1]!==i?(l=i!=null&&n("cr:7125")!=null?s.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:s.jsx(n("cr:7125"),{threadKey:a.threadKey,title:i})}):null,t[0]=a.threadKey,t[1]=i,t[2]=l):l=t[2];var u=l,c;return t[3]!==u||t[4]!==a?(c=s.jsx(r("MWAdminTextLayout.react"),{cta:u,message:a}),t[3]=u,t[4]=a,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react",["fbt","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWAdminMsgCtaLink.react"),{href:"https://www.facebook.com/legal/ai-terms",target:"_blank",children:s._(/*BTDS*/"Learn more.")}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWAdminTextLayout.react"),{cta:a,message:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("useMWInboxOpenChangeThemeDialog",["JSResourceForInteraction","MWEditThemeDialogRoot.entrypoint","MWEditThemeQplLogger","MWPBumpEntityKey","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPThreadTheme","useMWXEntryPointDialog","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(10),a=r("useMWFalcoFeatureEventLogger")(e,t),i=r("useMWEntrypoint")(),l=r("useAsyncReStore")(),s=r("useMWPThreadTheme")(),u=s.setPreviewId,m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m=r("JSResourceForInteraction")("MWEditThemeDialog.react").__setRef("useMWInboxOpenChangeThemeDialog"),n[0]=m):m=n[0];var p=r("useMWXLazyDialog")(m),_=p[0],f;n[1]===Symbol.for("react.memo_cache_sentinel")?(f={},n[1]=f):f=n[1];var g=r("useMWXEntryPointDialog")(r("MWEditThemeDialogRoot.entrypoint"),f),h=g[0],y;return n[2]!==l||n[3]!==i||n[4]!==a||n[5]!==u||n[6]!==_||n[7]!==h||n[8]!==e?(y=function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_theme"),a(i,"change_thread_theme"),r("promiseDone")(l,function(t){r("promiseDone")(t.tables.threads.get(e),function(e){if(e!=null)if(r("gkx")("11175")){var t=o("MWEditThemeQplLogger").startEventAndReturnInstanceKey("MWInboxInfoEditTheme","v2");h({instanceKey:t,thread:e},function(){return u(d)})}else{var n=o("MWEditThemeQplLogger").startEventAndReturnInstanceKey("MWInboxInfoEditTheme","v1");_({instanceKey:n,thread:e},function(){return u(c)})}})})},n[2]=l,n[3]=i,n[4]=a,n[5]=u,n[6]=_,n[7]=h,n[8]=e,n[9]=y):y=n[9],y}function c(){}function d(){}l.default=u}),98);
__d("MWV2AdminMsgChangeTheme.react",["FBLogger","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","react-compiler-runtime","useMWInboxOpenChangeThemeDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(18),l=t.message,u=(e||(e=r("useReStore")))(),d;a[0]!==u.tables.admin_message_ctas||a[1]!==l.adminMsgCtaId||a[2]!==l.messageId||a[3]!==l.threadKey?(d=function(){var e;return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(l.threadKey,l.messageId,(e=l.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},a[0]=u.tables.admin_message_ctas,a[1]=l.adminMsgCtaId,a[2]=l.messageId,a[3]=l.threadKey,a[4]=d):d=a[4];var m;a[5]!==u||a[6]!==l?(m=[u,l],a[5]=u,a[6]=l,a[7]=m):m=a[7];var p=o("ReQLSuspense").useFirst(d,m,i.id+":27"),_=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.threads).getKeyRange(l.threadKey)},[u,l],i.id+":37"))==null?void 0:n.threadType;if(_==null)throw r("FBLogger")("messenger_web").mustfixThrow("threadType should not be null when trying to open the change theme dialog at MWV2AdminMsgChangeTheme");var f=r("useMWInboxOpenChangeThemeDialog")(l.threadKey,_);if(p==null||_==null||!r("justknobx")._("3921")){var g;return a[8]!==l?(g=c.jsx(r("MWAdminTextLayout.react"),{message:l}),a[8]=l,a[9]=g):g=a[9],g}if(p==null||_==null){var h;return a[10]!==l?(h=c.jsx(r("MWAdminTextLayout.react"),{message:l}),a[10]=l,a[11]=h):h=a[11],h}var y=p==null?void 0:p.title,C;a[12]!==f||a[13]!==y?(C=y!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:f,children:y}):null,a[12]=f,a[13]=y,a[14]=C):C=a[14];var b=C,v;return a[15]!==b||a[16]!==l?(v=c.jsx(r("MWAdminTextLayout.react"),{cta:b,message:l}),a[15]=b,a[16]=l,a[17]=v):v=a[17],v}l.default=d}),98);
__d("useAdminMessageCTATitleLS",["ReQL","ReQLSuspense","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(7),r;n[0]!==e.tables.admin_message_ctas||n[1]!==t.messageId||n[2]!==t.threadKey?(r=function(){return o("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(t.threadKey,t.messageId)},n[0]=e.tables.admin_message_ctas,n[1]=t.messageId,n[2]=t.threadKey,n[3]=r):r=n[3];var a;n[4]!==e||n[5]!==t?(a=[e,t],n[4]=e,n[5]=t,n[6]=a):a=n[6];var l=o("ReQLSuspense").useFirst(r,a,i.id+":26");return l==null?void 0:l.title}l.default=e}),98);
__d("useMAWSeparateReadsSelector",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){return r?t:n}function l(e,t,n,r,o){return o===void 0&&(o=[]),r?t:n}i.useMAWSeparateReadsSelector=e,i.mawSeparateReadsMapSelector=l}),66);
__d("useAdminMessageCTATitleProvider",["qex","react-compiler-runtime","useAdminMessageCTATitleLS","useMAWSeparateReadsSelector"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("react-compiler-runtime").c(2),i;if(a[0]!==n){var l;i=n&&((l=r("qex")._("62"))!=null?l:!1),a[0]=n,a[1]=i}else i=a[1];var s=i,u=r("useAdminMessageCTATitleLS")(e,t),c=o("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Title",t.adminMsgCtaTitle,s?void 0:u,s);return c}l.default=e}),98);
__d("MWV2AdminMsgChangeThreadLimitSharingPermission.react",["MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl";function d(t){var n=o("react-compiler-runtime").c(7),a=t.message,i=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={fallbackIsSecure:!0},n[0]=l):l=n[0];var s=r("useIsSecureMessage")(i,a,l),d=r("useAdminMessageCTATitleProvider")(i,a,s),m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m={className:"xxq4lyh x1rg5ohu xk50ysn"},n[1]=m):m=n[1];var p;n[2]!==d?(p=u.jsx("div",babelHelpers.extends({},m,{children:u.jsx(r("MWXLink.react"),{href:c,children:d})})),n[2]=d,n[3]=p):p=n[3];var _=p,f;return n[4]!==_||n[5]!==a?(f=u.jsx(r("MWAdminTextLayout.react"),{cta:_,message:a}),n[4]=_,n[5]=a,n[6]=f):f=n[6],f}l.default=d}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWXLink.react"),{href:o("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:s._(/*BTDS*/"Learn More")}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWAdminTextLayout.react"),{cta:a,message:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1,__pwa:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0),s=e;l.default=s}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWFBLogger","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","XPolarisDirectInboxControllerRouteBuilder","react","react-strict-dom","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function p(t){var n=t.message,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(n.threadKey).map(function(e){return(u||(u=o("I64"))).to_string(e.jid)})},[a,n.threadKey],i.id+":42"),c;l!=null?r("CurrentEnvironment").instagramdotcom?c=r("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:l}):c=o("MWInboxRouteBuilder").buildURL({thread_key:l}):(o("MWFBLogger").MWLogger().tags(["Cutover"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""])),(u||(u=o("I64"))).to_string(n.threadKey)),c=o("MWInboxRouteBuilder").buildHomeURL());var p=r("useIsSecureMessage")(a,n,{fallbackIsSecure:!0}),_=r("useAdminMessageCTATitleProvider")(a,n,p),f=_!=null?d.jsx(o("react-strict-dom").html.div,{style:m.adminTextCta,children:d.jsx(r("MWXLink.react"),{href:c,target:"_self",children:_})}):null;return d.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),m=s._(/*BTDS*/"Learn more");function p(t){var n=o("react-compiler-runtime").c(12),a=t.message,i=(e||(e=r("useReStore")))(),l;if(n[0]===Symbol.for("react.memo_cache_sentinel")){var s;l=(s=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null||(s=s.setProtocol("https"))==null?void 0:s.toString(),n[0]=l}else l=n[0];var u=l,p;n[1]===Symbol.for("react.memo_cache_sentinel")?(p={},n[1]=p):p=n[1];var _=p,f=r("useMWXLazyDialog")(d),g=f[0],h;n[2]!==g?(h=function(){return g(_)},n[2]=g,n[3]=h):h=n[3];var y=h,C;n[4]===Symbol.for("react.memo_cache_sentinel")?(C={fallbackIsSecure:!0},n[4]=C):C=n[4];var b=r("useIsSecureMessage")(i,a,C),v=r("useAdminMessageCTATitleProvider")(i,a,b),S;n[5]!==y||n[6]!==v?(S=v!=null?r("CurrentEnvironment").instagramdotcom?c.jsx(r("MWXLink.react"),{href:u,target:"_blank",children:m}):c.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:c.jsx(r("MWXLink.react"),{onClick:y,target:"_blank",children:v})}):null,n[5]=y,n[6]=v,n[7]=S):S=n[7];var R=S,L;n[8]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx("div",{className:"x1o583il x1rg5ohu xz03a8w x1n2onr6",children:c.jsx(r("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),n[8]=L):L=n[8];var E;return n[9]!==R||n[10]!==a?(E=c.jsxs(c.Fragment,{children:[L,c.jsx(r("MWAdminTextLayout.react"),{cta:R,message:a})]}),n[9]=R,n[10]=a,n[11]=E):E=n[11],E}l.default=p}),226);
__d("MWV2AdminMsgE2EEUKOSA.react",["MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="https://www.messenger.com/help/1145318292241859/?helpref=uk_lm";function d(t){var n=o("react-compiler-runtime").c(7),a=t.message,i=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={fallbackIsSecure:!0},n[0]=l):l=n[0];var s=r("useIsSecureMessage")(i,a,l),d=r("useAdminMessageCTATitleProvider")(i,a,s),m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m={className:"xxq4lyh x1rg5ohu xk50ysn"},n[1]=m):m=n[1];var p;n[2]!==d?(p=u.jsx("div",babelHelpers.extends({},m,{children:u.jsx(r("MWXLink.react"),{href:c,children:d})})),n[2]=d,n[3]=p):p=n[3];var _=p,f;return n[4]!==_||n[5]!==a?(f=u.jsx(r("MWAdminTextLayout.react"),{cta:_,message:a}),n[4]=_,n[5]=a,n[6]=f):f=n[6],f}l.default=d}),98);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c="https://www.facebook.com/help/147596532316790";function d(e){var t=o("react-compiler-runtime").c(3),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(o("react-strict-dom").html.div,{children:u.jsx(r("MWXLink.react"),{color_DEPRECATED:"blueLink",href:c,target:"_blank",children:s._(/*BTDS*/"Learn More")})}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWAdminTextLayout.react"),{cta:a,message:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=d}),226);
__d("MWV2AdminMsgMarketingMessagesManage.react",["I64","MWAdminTextLayout.react","MWMarketingMessagesManageAdminMsgCta.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(16),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u={fallbackIsSecure:!0},n[0]=u):u=n[0];var d=r("useIsSecureMessage")(l,a,u),m=r("useAdminMessageCTATitleProvider")(l,a,d),p;n[1]!==l.tables.admin_message_ctas||n[2]!==a.adminMsgCtaId||n[3]!==a.messageId||n[4]!==a.threadKey?(p=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[1]=l.tables.admin_message_ctas,n[2]=a.adminMsgCtaId,n[3]=a.messageId,n[4]=a.threadKey,n[5]=p):p=n[5];var _;n[6]!==l||n[7]!==a?(_=[l,a],n[6]=l,n[7]=a,n[8]=_):_=n[8];var f=o("ReQLSuspense").useFirst(p,_,i.id+":41"),g=f==null?void 0:f.targetId,h;n[9]!==a.threadKey||n[10]!==g||n[11]!==m?(h=m!=null&&g!=null?c.jsx("div",{className:"x1y872pf x1rg5ohu x1s688f",children:c.jsx(r("MWMarketingMessagesManageAdminMsgCta.react"),{pageId:g,threadKey:a.threadKey,title:m})}):null,n[9]=a.threadKey,n[10]=g,n[11]=m,n[12]=h):h=n[12];var y=h,C;return n[13]!==y||n[14]!==a?(C=c.jsx(r("MWAdminTextLayout.react"),{cta:y,message:a}),n[13]=y,n[14]=a,n[15]=C):C=n[15],C}l.default=d}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(17),a=t.isOptOut,l=t.message,u=(e||(e=r("useReStore")))(),d;n[0]!==u.tables.admin_message_ctas||n[1]!==l.adminMsgCtaId||n[2]!==l.messageId||n[3]!==l.threadKey?(d=function(){var e;return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(l.threadKey,l.messageId,(e=l.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=u.tables.admin_message_ctas,n[1]=l.adminMsgCtaId,n[2]=l.messageId,n[3]=l.threadKey,n[4]=d):d=n[4];var m;n[5]!==u||n[6]!==l?(m=[u,l],n[5]=u,n[6]=l,n[7]=m):m=n[7];var p=o("ReQLSuspense").useFirst(d,m,i.id+":37"),_=l.adminMsgCtaTitle,f=p==null?void 0:p.targetId,g;n[8]!==p||n[9]!==_||n[10]!==a||n[11]!==l.threadKey||n[12]!==f?(g=_!=null&&p!=null&&f!=null?c.jsx("div",{className:"x1y872pf x1rg5ohu x1s688f",children:c.jsx(r("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:a,targetId:f,threadKey:l.threadKey,title:_})}):null,n[8]=p,n[9]=_,n[10]=a,n[11]=l.threadKey,n[12]=f,n[13]=g):g=n[13];var h=g,y;return n[14]!==h||n[15]!==l?(y=c.jsx(r("MWAdminTextLayout.react"),{cta:h,message:l}),n[14]=h,n[15]=l,n[16]=y):y=n[16],y}l.default=d}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3008"),s=o("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",e),u=s;l.default=u}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function m(t){var n=o("react-compiler-runtime").c(15),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var m;n[5]!==l||n[6]!==a?(m=[l,a],n[5]=l,n[6]=a,n[7]=m):m=n[7];var _=o("ReQLSuspense").useFirst(u,m,i.id+":31"),f=r("useMWXLazyDialog")(d),g=f[0],h=_==null?void 0:_.title,y;n[8]!==a.threadKey||n[9]!==g||n[10]!==h?(y=h!=null?c.jsx(r("MWXLink.react"),{onClick:function(){g({entryPoint:"ADMIN_TEXT",threadKey:a.threadKey},p),r("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(s||(s=o("I64"))).to_string(a.threadKey)}})},children:h}):null,n[8]=a.threadKey,n[9]=g,n[10]=h,n[11]=y):y=n[11];var C=y,b;return n[12]!==C||n[13]!==a?(b=c.jsx(r("MWAdminTextLayout.react"),{cta:C,message:a}),n[12]=C,n[13]=a,n[14]=b):b=n[14],b}function p(){}l.default=m}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useCallback,m=r("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function p(e){var t=o("react-compiler-runtime").c(7),n=e.senderId,a=e.threadKey,i=e.title,l=r("useMWXLazyDialog")(m),s=l[0],d;t[0]!==n||t[1]!==s||t[2]!==a?(d=function(){o("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(u||(u=o("I64"))).to_string(a)}),s({senderId:n,threadKey:a})},t[0]=n,t[1]=s,t[2]=a,t[3]=d):d=t[3];var p=d,_;return t[4]!==p||t[5]!==i?(_=c.jsx(r("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:p,role:"button",children:i}),t[4]=p,t[5]=i,t[6]=_):_=t[6],_}function _(t){var n=o("react-compiler-runtime").c(17),a=t.message,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(s=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(u||(u=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=s):s=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(s,d,i.id+":63"),_=m==null?void 0:m.title,f=m==null?void 0:m.actionUrl,g=null;if(f!=null){var h;if(n[8]!==f){var y=new URL(f);h=y.searchParams.get("removed_msg_sender_id"),n[8]=f,n[9]=h}else h=n[9];g=h}var C;n[10]!==a.threadKey||n[11]!==g||n[12]!==_?(C=g!=null&&_!=null?c.jsx(p,{senderId:g,threadKey:a.threadKey,title:_}):null,n[10]=a.threadKey,n[11]=g,n[12]=_,n[13]=C):C=n[13];var b=C,v;return n[14]!==b||n[15]!==a?(v=c.jsx(r("MWAdminTextLayout.react"),{cta:b,message:a}),n[14]=b,n[15]=a,n[16]=v):v=n[16],v}l.default=_}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function m(t){var n=o("react-compiler-runtime").c(15),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var m;n[5]!==l||n[6]!==a?(m=[l,a],n[5]=l,n[6]=a,n[7]=m):m=n[7];var _=o("ReQLSuspense").useFirst(u,m,i.id+":32"),f=r("useMWXLazyDialog")(d),g=f[0],h=_==null?void 0:_.title,y;n[8]!==a.threadKey||n[9]!==g||n[10]!==h?(y=h!=null?c.jsx(r("MWXLink.react"),{onClick:function(){return g({entryPoint:"ADMIN_TEXT",threadKey:a.threadKey},p)},children:h}):null,n[8]=a.threadKey,n[9]=g,n[10]=h,n[11]=y):y=n[11];var C=y,b;return n[12]!==C||n[13]!==a?(b=c.jsx(r("MWAdminTextLayout.react"),{cta:C,message:a}),n[12]=C,n[13]=a,n[14]=b):b=n[14],b}function p(){}l.default=m}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function d(t){var n=o("react-compiler-runtime").c(21),a=t.message,l=(e||(e=r("useReStore")))(),s=r("useMWXLazyDialog")(c),d=s[0],p;n[0]!==l.tables.threads||n[1]!==a.threadKey?(p=function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadType"]).getKeyRange(a.threadKey)},n[0]=l.tables.threads,n[1]=a.threadKey,n[2]=p):p=n[2];var _;n[3]!==l||n[4]!==a.threadKey?(_=[l,a.threadKey],n[3]=l,n[4]=a.threadKey,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":36"),g=r("MessengerWebUXLogger").useInteractionLogger(),h;n[6]!==g||n[7]!==a.threadKey||n[8]!==d||n[9]!==(f==null?void 0:f.threadType)?(h=function(){var e={eventName:"open_view_pinned_messages_dialog",threadKey:a.threadKey,threadType:f==null?void 0:f.threadType};return g==null||g(e),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta"),d({threadKey:a.threadKey},m)},n[6]=g,n[7]=a.threadKey,n[8]=d,n[9]=f==null?void 0:f.threadType,n[10]=h):h=n[10];var y=h,C;n[11]!==f?(C=f!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(f==null?void 0:f.threadType),n[11]=f,n[12]=C):C=n[12];var b;n[13]!==C?(b={fallbackIsSecure:C},n[13]=C,n[14]=b):b=n[14];var v=r("useIsSecureMessage")(l,a,b),S=r("useAdminMessageCTATitleProvider")(l,a,v),R;n[15]!==y||n[16]!==S?(R=S!=null?u.jsx(r("MWAdminMsgCtaLink.react"),{onClick:y,children:S}):null,n[15]=y,n[16]=S,n[17]=R):R=n[17];var L=R,E;return n[18]!==L||n[19]!==a?(E=u.jsx(r("MWAdminTextLayout.react"),{cta:L,message:a}),n[18]=L,n[19]=a,n[20]=E):E=n[20],E}function m(){}l.default=d}),98);
__d("MWV2AdminMsgSupportDialogCTA.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useJSON","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(15),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(u,d,i.id+":29"),p=o("AdsMessengerContext.react").useAdsMessengerContext(),_=p.showAdsAISMAGModal,f=m==null?void 0:m.actionContentBlob,g=r("useJSON")(f!=null?f:"{}");if(_===void 0)return null;var h=m==null?void 0:m.title,y;n[8]!==g||n[9]!==_||n[10]!==h?(y=h!=null?c.jsx(r("MWXText.react"),{color:"blueLink",type:"meta4",children:c.jsx(r("MWXLink.react"),{onClick:function(){return r("promiseDone")(_({overlay_view_type:g.overlay_view_type,use_case:g.use_case,use_case_params:g.use_case_params}))},children:h})}):null,n[8]=g,n[9]=_,n[10]=h,n[11]=y):y=n[11];var C=y,b;return n[12]!==C||n[13]!==a?(b=c.jsx(r("MWAdminTextLayout.react"),{cta:C,message:a}),n[12]=C,n[13]=a,n[14]=b):b=n[14],b}l.default=d}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWAdminTextLayout.react","MWFBLogger","MWXLink.react","MWXText.react","ReQL","gkx","promiseDone","react","requireDeferred","useAsyncReStore","useMWEntrypoint","useMWNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useCallback,p=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWV2AdminMsgViewMessagesDualThreadCutover.react");function _(t){var n=t.message,a=r("useAsyncReStore")(),i=r("useMWNavigation")(),l=o("MAWThreadCutover").useIsCutoverSecureThread(n.threadKey),s=r("useMWEntrypoint")(),_=m(function(){p.onReady(function(e){return e.log(function(){return{entry_point:s,event_type:"secret_conversation_post_cutover_admin_message_cta_click_event",is_cutover:l,thread_id:(u||(u=o("I64"))).to_string(n.threadKey),thread_type:u.to_string((c||(c=o("LSIntEnum"))).ofNumber(15)),transport_type:"ACT"}})}),r("promiseDone")(a,async function(t){var a,l=(a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.mi_act_mapping_table).getKeyRange(n.threadKey)))==null?void 0:a.jid;l!=null&&await r("LSPlatformWaitForTaskCompletion")(t,function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(c||(c=o("LSIntEnum"))).ofNumber(1),threadKey:l,threadType:c.ofNumber(1)})},"readwrite");var s=l!=null?await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(l)):null;s?i.openTabOrInbox({clientThreadKey:s.clientThreadKey,threadKey:s.threadKey,threadType:s.threadType},"preCutoverThread"):o("MWFBLogger").MWLogger().tags(["DualThreadCutover"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to navitage to open messages thread ",""])),(u||(u=o("I64"))).to_string(n.threadKey))})},[a,s,l,n.threadKey,i]),f=r("gkx")("8631"),g=n.adminMsgCtaTitle,h=g!=null?d.jsx(r("MWXLink.react"),{color_DEPRECATED:f?"blueLink":void 0,onClick:_,role:"button",testid:void 0,children:f?g:d.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:g})}):null,y=o("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(n.threadKey)==null;return!y&&d.jsx(r("MWAdminTextLayout.react"),{cta:h,message:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","react-compiler-runtime","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(20),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(u,d,i.id+":28"),p=r("useMWHasPollsVotingEnabled")(a.threadKey),_=r("useMWChatPollXMAActionHandler")(),f;n[8]!==(m==null?void 0:m.targetId)||n[9]!==(m==null?void 0:m.targetTitle)||n[10]!==_?(f=function(){_(m==null?void 0:m.targetId,m==null?void 0:m.targetTitle)},n[8]=m==null?void 0:m.targetId,n[9]=m==null?void 0:m.targetTitle,n[10]=_,n[11]=f):f=n[11],m==null||m.targetId,m==null||m.targetTitle;var g=f;if(!r("justknobx")._("1987")||!p||m==null){var h;return n[12]!==a?(h=c.jsx(r("MWAdminTextLayout.react"),{message:a}),n[12]=a,n[13]=h):h=n[13],h}var y=m==null?void 0:m.title,C;n[14]!==g||n[15]!==y?(C=y!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:g,children:y}):null,n[14]=g,n[15]=y,n[16]=C):C=n[16];var b=C,v;return n[17]!==b||n[18]!==a?(v=c.jsx(r("MWAdminTextLayout.react"),{cta:b,message:a}),n[17]=b,n[18]=a,n[19]=v):v=n[19],v}l.default=m}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(14),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(u,d,i.id+":24"),p=m==null?void 0:m.title,_=m==null?void 0:m.actionUrl,f;n[8]!==_||n[9]!==p?(f=p!=null&&_!=null?c.jsx(r("MWXLink.react"),{href:_,target:"_blank",children:p}):null,n[8]=_,n[9]=p,n[10]=f):f=n[10];var g=f,h;return n[11]!==g||n[12]!==a?(h=c.jsx(r("MWAdminTextLayout.react"),{cta:g,message:a}),n[11]=g,n[12]=a,n[13]=h):h=n[13],h}l.default=d}),98);
__d("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29746995494916388"}),null);
__d("ScaledChatOptOutAndEndChatMutation.graphql",["ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],r=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],o={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:t,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:r,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[o],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:t,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:r,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:n("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"),metadata:{},name:"ScaledChatOptOutAndEndChatMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("ScaledChatOptOutAndEndChatMutation.react",["CometRelay","ScaledChatOptOutAndEndChatMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("ScaledChatOptOutAndEndChatMutation.graphql");function u(e){var t=e.entryPoint,n=e.environment,r=e.setDefaultOptedIn,a=e.setLoading;o("CometRelay").commitMutation(n,{mutation:s,onCompleted:function(t,n){a(!1),r&&r(!1)},onError:function(){a(!1)},variables:{input:{entry_point:t,topic:"ADVERTISER_GUIDANCE"}}})}l.commitScaledChatOptInMutation=u}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","ScaledChatOptOutAndEndChatMutation.react","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(16),l=t.message,u=o("CometRelay").useRelayEnvironment(),d=(e||(e=r("useReStore")))(),_;a[0]!==d.tables.admin_message_ctas||a[1]!==l.adminMsgCtaId||a[2]!==l.messageId||a[3]!==l.threadKey?(_=function(){var e;return o("ReQL").fromTableAscending(d.tables.admin_message_ctas).getKeyRange(l.threadKey,l.messageId,(e=l.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},a[0]=d.tables.admin_message_ctas,a[1]=l.adminMsgCtaId,a[2]=l.messageId,a[3]=l.threadKey,a[4]=_):_=a[4];var f;a[5]!==d||a[6]!==l?(f=[d,l],a[5]=d,a[6]=l,a[7]=f):f=a[7];var g=o("ReQLSuspense").useFirst(_,f,i.id+":29"),h=(n=g==null?void 0:g.title)!=null?n:"",y;a[8]!==u?(y=function(){return o("ScaledChatOptOutAndEndChatMutation.react").commitScaledChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:u,setLoading:p,setOptedIn:m})},a[8]=u,a[9]=y):y=a[9];var C=y,b;a[10]!==h||a[11]!==C?(b=h!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:C,children:h}):null,a[10]=h,a[11]=C,a[12]=b):b=a[12];var v=b,S;return a[13]!==v||a[14]!==l?(S=c.jsx(r("MWAdminTextLayout.react"),{cta:v,message:l}),a[13]=v,a[14]=l,a[15]=S):S=a[15],S}function m(){}function p(){}l.default=d}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWGenAINux.react","MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react","MWV2AdminMsgChangeTheme.react","MWV2AdminMsgChangeThreadLimitSharingPermission.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgE2EEUKOSA.react","MWV2AdminMsgICDC.react","MWV2AdminMsgMarketingMessagesManage.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgSupportDialogCTA.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={color:{color:"x186z157",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function c(e){return e!=null?e.isAdminMessage:!1}function d(e){var t=o("react-compiler-runtime").c(8),n=e.children,r=e.nextMessage,a=e.prevMessage,i=c(a)?u.containerThatProceedsAdminMessage:!1,l=c(r)?u.containerThatPrecedesAdminMessage:!1,d;t[0]!==i||t[1]!==l?(d=[u.container,i,l],t[0]=i,t[1]=l,t[2]=d):d=t[2];var m;t[3]!==n?(m=s.jsx(o("react-strict-dom").html.div,{style:u.content,children:n}),t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==d||t[6]!==m?(p=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:d,children:m}),t[5]=d,t[6]=m,t[7]=p):p=t[7],p}function m(e){var t=o("react-compiler-runtime").c(60),n=e.message;e:switch(n.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":{var a;return t[0]!==n?(a=s.jsx(r("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:n}),t[0]=n,t[1]=a):a=t[1],a}case"admin_msg_dual_thread_cutover":{var i;return t[2]!==n?(i=s.jsx(r("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:n}),t[2]=n,t[3]=i):i=t[3],i}case"admin_msg_web_url":{var l;return t[4]!==n?(l=s.jsx(r("MWV2AdminMsgWebUrl.react"),{message:n}),t[4]=n,t[5]=l):l=t[5],l}case"admin_msg_sbg_proactive_chat_opt_in":{var u;return t[6]!==n?(u=s.jsx(r("MWV2SBGProactiveChatMutationUrl.react"),{message:n}),t[6]=n,t[7]=u):u=t[7],u}case"admin_msg_sbg_proactive_chat_opt_out":{var c;return t[8]!==n?(c=s.jsx(r("MWV2SBGProactiveChatMutationUrl.react"),{message:n}),t[8]=n,t[9]=c):c=t[9],c}case"admin_msg_p2b_privacy_disclosure":if(r("gkx")("24144")){var d;return t[10]!==n?(d=s.jsx(r("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:n}),t[10]=n,t[11]=d):d=t[11],d}else break e;case"admin_notification_messages_opt_out":{var m;return t[12]!==n?(m=s.jsx(r("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:n}),t[12]=n,t[13]=m):m=t[13],m}case"admin_notification_messages_opt_in":{var p;return t[14]!==n?(p=s.jsx(r("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:n}),t[14]=n,t[15]=p):p=t[15],p}case"admin_msg_marketing_messages_ctm":{var _;return t[16]!==n?(_=s.jsx(r("MWV2AdminMsgMarketingMessagesManage.react"),{message:n}),t[16]=n,t[17]=_):_=t[17],_}case"admin_msg_thread_level_cutover":{var f;return t[18]!==n?(f=s.jsx(r("MWV2AdminMsgE2EEDescription.react"),{message:n}),t[18]=n,t[19]=f):f=t[19],f}case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":{var g;return t[20]!==n?(g=s.jsx(r("MWV2AdminMsgE2EECutoverRollback.react"),{message:n}),t[20]=n,t[21]=g):g=t[21],g}case"admin_msg_e2ee_uk_osa":{var h;return t[22]!==n?(h=s.jsx(r("MWV2AdminMsgE2EEUKOSA.react"),{message:n}),t[22]=n,t[23]=h):h=t[23],h}case"xmat_instant_game_bot_message_subscribe":{var y;return t[24]!==n?(y=s.jsx(r("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!0}),t[24]=n,t[25]=y):y=t[25],y}case"xmat_instant_game_bot_message_unsubscribe":{var C;return t[26]!==n?(C=s.jsx(r("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!1}),t[26]=n,t[27]=C):C=t[27],C}case"xmat_horizon_worlds_update_subscribe":{var b;return t[28]!==n?(b=s.jsx(r("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!0}),t[28]=n,t[29]=b):b=t[29],b}case"xmat_horizon_worlds_update_unsubscribe":{var v;return t[30]!==n?(v=s.jsx(r("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!1}),t[30]=n,t[31]=v):v=t[31],v}case"admin_msg_view_pin_msgs_v2":{var S;return t[32]!==n?(S=s.jsx(r("MWV2AdminMsgShowPinnedMessages.react"),{message:n}),t[32]=n,t[33]=S):S=t[33],S}case"xmat_instant_game_custom_update_message_mute":{var R;return t[34]!==n?(R=s.jsx(r("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:n,shouldMute:!0}),t[34]=n,t[35]=R):R=t[35],R}case"xmat_instant_game_custom_update_message_unmute":{var L;return t[36]!==n?(L=s.jsx(r("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:n,shouldMute:!1}),t[36]=n,t[37]=L):L=t[37],L}case"admin_message_service_booking_legal_disclaimer":{var E;return t[38]!==n?(E=s.jsx(r("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:n}),t[38]=n,t[39]=E):E=t[39],E}case"admin_msg_admod_post_msg_remove_actions":{var k;return t[40]!==n?(k=s.jsx(r("MWV2AdminMsgPostMessageRemoveActions.react"),{message:n}),t[40]=n,t[41]=k):k=t[41],k}case"admin_msg_change_theme":{var I;return t[42]!==n?(I=s.jsx(r("MWV2AdminMsgChangeTheme.react"),{message:n}),t[42]=n,t[43]=I):I=t[43],I}case"admin_msg_poll_details":{var T;return t[44]!==n?(T=s.jsx(r("MWV2AdminMsgViewPoll.react"),{message:n}),t[44]=n,t[45]=T):T=t[45],T}case"admin_msg_icdc":{var D;return t[46]!==n?(D=s.jsx(r("MWV2AdminMsgICDC.react"),{message:n}),t[46]=n,t[47]=D):D=t[47],D}case"admin_msg_ig_dm_learn_more":{var x;return t[48]!==n?(x=s.jsx(r("MWV2AdminMsgDMLearnMore.react"),{message:n}),t[48]=n,t[49]=x):x=t[49],x}case"admin_msg_bm_genai_consumer_disclaimer_learn_more":{var $;return t[50]!==n?($=s.jsx(r("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react"),{message:n}),t[50]=n,t[51]=$):$=t[51],$}case"admin_msg_change_thread_limit_sharing_permission":{var P;return t[52]!==n?(P=s.jsx(r("MWV2AdminMsgChangeThreadLimitSharingPermission.react"),{message:n}),t[52]=n,t[53]=P):P=t[53],P}case"support_open_dialog":{var N;return t[54]!==n?(N=s.jsx(r("MWV2AdminMsgSupportDialogCTA.react"),{message:n}),t[54]=n,t[55]=N):N=t[55],N}case"admin_msg_genai_nux_inline":{var M;return t[56]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(r("MWGenAINux.react"),{source:"adminMessage"}),t[56]=M):M=t[56],M}case"admin_msg_genai_nux_training_inline":{var w;return t[57]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(r("MWGenAINux.react"),{source:"trainingAdminMessage"}),t[57]=w):w=t[57],w}}var A;return t[58]!==n?(A=s.jsx(r("MWAdminTextLayout.react"),{message:n}),t[58]=n,t[59]=A):A=t[59],A}function p(e){var t=o("react-compiler-runtime").c(6),n=e.message,a=e.nextMessage,i=e.prevMessage;if(n.adminMsgCtaType==="admin_msg_e2ee_thread")return null;var l;t[0]!==n?(l=s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx(o("react-strict-dom").html.div,{style:u.color,children:s.jsx(m,{message:n})})}),t[0]=n,t[1]=l):l=t[1];var c;return t[2]!==a||t[3]!==i||t[4]!==l?(c=s.jsx(d,{nextMessage:a,prevMessage:i,children:l}),t[2]=a,t[3]=i,t[4]=l,t[5]=c):c=t[5],c}l.isAdminMessage=c,l.MWV2ChatAdminMessageContainer=d,l.MWV2ChatAdminMessage=p}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(t,n,r,o,a,i,l){"use strict";var e={getRanges:function(t){var e=[],r=0;return t.getEditorState().read(function(){var t=o("Lexical").$getRoot().getFirstChild();t instanceof o("Lexical").ElementNode&&t.getChildren().forEach(function(t){if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)){var a=t.getEntity();e.push({id:a.id,length:t.getTextContent().length,offset:r,type:o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)?t.getRangeType():"p"})}if(n("cr:11494")!=null&&t instanceof n("cr:11494").MessengerLexicalCommandNode){var i=t.getEntity();e.push({id:i.commandId,length:t.getTextContent().length,offset:r,type:t.getRangeType()})}r+=t.getTextContent().length})}),e}},s=e;l.default=s}),98);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatBubbleEmphasisRing.react","MWChatTextTransform","MWV2ChatEmojiHotLike.react","ReStoreVaulting","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useMemo,p=(e={},e[r("LSHotEmojiSize").NONE]=32,e[r("LSHotEmojiSize").SMALL]=32,e[r("LSHotEmojiSize").MEDIUM]=56,e[r("LSHotEmojiSize").LARGE]=96,e);function _(e){var t=o("react-compiler-runtime").c(14),n=e.hasEmphasisRing,a=e.isSecureMessage,i=e.message,l=n===void 0?!1:n,s=a===void 0?!1:a,m=i.hotEmojiSize,_=m!=null&&((u||(u=o("I64"))).equal(m,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(u||(u=o("I64"))).equal(m,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(u||(u=o("I64"))).equal(m,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE))),f;t[0]!==m?(f=m!=null?(c||(c=o("LSIntEnum"))).unwrapIntEnum(m):r("LSHotEmojiSize").NONE,t[0]=m,t[1]=f):f=t[1];var g=f,h,y;t[2]!==g?(y=o("MWChatTextTransform").textTransformsWithOptions({size:r("gkx")("23249")?32:p[g]}),t[2]=g,t[3]=y):y=t[3],h=y;var C=h,b=i.text;if(b==null)return null;var v;t[4]!==b?(v=o("ReStoreVaulting").maybeUnvault(b),t[4]=b,t[5]=v):v=t[5];var S=v;if(s&&_&&S==="\uD83D\uDC4D"){var R;return t[6]!==g?(R=d.jsx(r("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:g}),t[6]=g,t[7]=R):R=t[7],R}var L;t[8]!==C||t[9]!==S?(L=d.jsx(r("CometTextWithEntities.react"),{text:S,transforms:C,withLineBreaks:!0,withParagraphs:!0}),t[8]=C,t[9]=S,t[10]=L):L=t[10];var E=L;if(l){var k;return t[11]!==E||t[12]!==i?(k=d.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,flattenTop:!1,message:i,outgoing:!1,precedesXMA:!1,children:E}),t[11]=E,t[12]=i,t[13]=k):k=t[13],k}return E}l.default=_}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.isOutgoing,a=e.isReply,i=a&&c.withRepliedMessage,l;t[0]!==a?(l=a?null:u.jsx(o("react-strict-dom").html.div,{style:c.vr}),t[0]=a,t[1]=l):l=t[1];var d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Error displaying this message"),t[2]=d):d=t[2];var m;t[3]!==n?(m=u.jsxs(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:[" ",d]}),t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==i||t[6]!==l||t[7]!==m?(p=u.jsxs(o("react-strict-dom").html.div,{style:i,children:[l,m]}),t[5]=i,t[6]=l,t[7]=m,t[8]=p):p=t[8],p}l.default=d}),226);
__d("MWV2ChatSeenHeadsRow.react",["fbt","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWV2MessageRowIsRowFocusedContext.react","MWXImage.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","react","react-compiler-runtime","react-strict-dom","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useContext,m=c.useRef,p=5,_=r("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),f={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",paddingInlineEnd:"x1ccui7m",paddingInlineStart:"x18pi947",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"x11lfxj5",paddingBottom:"x18d9i69",paddingInlineStart:"x135b78x",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function g(e,t,n,a){if(!n)return[];var i=Math.max(Math.floor(t-9),0),l=e.slice(i,t),c="\n"+s._(/*BTDS*/"_j{\"*\":\"and {Number of additional views} more\"}",[s._param("Number of additional views",i,[0])]).toString(),d=u.jsxs(o("react-strict-dom").html.ul,{children:[l.reverse().map(function(e,t){return u.jsx(o("react-strict-dom").html.li,{children:e.name},String(t))}),i>0?u.jsx(o("react-strict-dom").html.li,{children:c},"overflow"):null]}),m=s._(/*BTDS*/"_j{\"*\":\"+{the number of additional viewers}\"}",[s._param("the number of additional viewers",t,[0])]);return[u.jsx(r("MWXTooltip.react"),{align:a==="Inbox"?"middle":"end",forceInlineDisplay:!0,label:m,position:"above",tooltip:d,children:u.jsx(o("react-strict-dom").html.span,{style:f.overflow,children:m})},"overflow")]}function h(e){var t=o("react-compiler-runtime").c(12),n=e.displayContext,a=e.index,i=e.user,l;t[0]!==i.gender||t[1]!==i.name||t[2]!==i.timestamp?(l=i.timestamp>0?s._(/*BTDS*/"_j{\"*\":\"Seen by {full name} at {seen time}\"}",[s._name("full name",i.name,r("getFBTSafeGenderFromGenderConst")(i.gender)),s._param("seen time",r("getMessengerPreciseTimestamp")(i.timestamp))]):s._(/*BTDS*/"_j{\"*\":\"Seen by {full name}\"}",[s._name("full name",i.name,r("getFBTSafeGenderFromGenderConst")(i.gender))]),t[0]=i.gender,t[1]=i.name,t[2]=i.timestamp,t[3]=l):l=t[3];var c=l,d=n==="Inbox"?"middle":"end",m;t[4]!==a||t[5]!==c||t[6]!==i.imageSrc?(m=i.imageSrc===""?u.jsx(r("MDSGlimmer.react"),{index:a,xstyle:f.img}):u.jsx(r("MWXImage.react"),{alt:c,src:i.imageSrc,xstyle:f.img}),t[4]=a,t[5]=c,t[6]=i.imageSrc,t[7]=m):m=t[7];var p;return t[8]!==c||t[9]!==d||t[10]!==m?(p=u.jsx(r("MWXTooltip.react"),{align:d,forceInlineDisplay:!0,position:"above",tooltip:c,children:m}),t[8]=c,t[9]=d,t[10]=m,t[11]=p):p=t[11],p}function y(e,t){var n=e.length,r=n>p,o=Math.max(Math.floor(n-(r?p-1:p)),0),a=e.slice(o);return[].concat(g(e,o,r,t),a.map(function(e,n){return u.jsx(h,{displayContext:t,index:n,user:e},e.id)}))}function C(e){var t=o("react-compiler-runtime").c(26),n=e.messageSeenBy,a=e.xstyle,i=d(o("MWV2MessageRowIsRowFocusedContext.react").context),l=i.setFocused,c=i.setIsDialogOpened,p=n.length,g=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),h=m(null),C;t[0]!==n?(C={messageSeenBy:n},t[0]=n,t[1]=C):C=t[1];var R=C,L=r("useMWXLazyDialog")(_),E=L[0],k;t[2]!==R||t[3]!==l||t[4]!==c||t[5]!==E?(k=function(){return E(R,function(){c(S),l(v)})},t[2]=R,t[3]=l,t[4]=c,t[5]=E,t[6]=k):k=t[6];var I=k,T,D;t[7]===Symbol.for("react.memo_cache_sentinel")?(T=[f.root,f.mask],D=u.jsx(o("react-strict-dom").html.div,{style:f.spacer}),t[7]=T,t[8]=D):(T=t[7],D=t[8]);var x;t[9]!==p?(x=s._(/*BTDS*/"Seen by {number of participants who have seen this message} participants",[s._param("number of participants who have seen this message",String(p))]).toString(),t[9]=p,t[10]=x):x=t[10];var $;t[11]!==I||t[12]!==c?($=function(){c(b),I()},t[11]=I,t[12]=c,t[13]=$):$=t[13];var P;t[14]!==a?(P=function(){return[f.heads,a]},t[14]=a,t[15]=P):P=t[15];var N;t[16]!==g||t[17]!==n?(N=y(n,g),t[16]=g,t[17]=n,t[18]=N):N=t[18];var M;t[19]!==N?(M=u.jsx(r("MWXTooltipGroup.react"),{children:N}),t[19]=N,t[20]=M):M=t[20];var w;return t[21]!==x||t[22]!==$||t[23]!==P||t[24]!==M?(w=u.jsxs(o("react-strict-dom").html.div,{role:"none",style:T,children:[D,u.jsx(r("MWXPressable.react"),{"aria-label":x,onPress:$,overlayDisabled:!0,ref:h,xstyle:P,children:M})]}),t[21]=x,t[22]=$,t[23]=P,t[24]=M,t[25]=w):w=t[25],w}function b(){return!0}function v(){return!0}function S(){return!1}l.default=C}),226);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=o("MWPMessageAuthor.react").useAuthorName(),r=n[0];if(r!=null){var a;return t[0]!==r?(a=s._(/*BTDS*/"{first name} unsent a message",[s._param("first name",r)]),t[0]=r,t[1]=a):a=t[1],a}var i;return t[2]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"A contact unsent a message"),t[2]=i):i=t[2],i}l.default=e}),226);
__d("MWV2ChatUnsentMessage.react",["fbt","I64","MWLSThread","MWPMessageAuthor.react","MWV2TombstonedMessage.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","mwCMIsAnyCMThread","react","react-compiler-runtime","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m={linkText:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a=e.isSecureMessage,i=e.message,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"A contact unsent a message"),t[0]=l):l=t[0];var u=l,c=r("useMAWUnsendContentInSecureThread")(i),m=o("MWPMessageAuthor.react").useAuthorName(),p=m[0],_;if(a)_=c;else if(p!=null){var f;t[1]!==p?(f=s._(/*BTDS*/"{first name} unsent a message",[s._param("first name",p)]),t[1]=p,t[2]=f):f=t[2],_=f}else if(n!=null){var g=n.descriptionText;_=g!=null?g:u}else _=u;var h;return t[3]!==_?(h=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:_}),t[3]=_,t[4]=h):h=t[4],h}function _(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a;if(n!=null){var i=n.descriptionText,l;t[0]!==i?(l=i!=null?i:s._(/*BTDS*/"You unsent a message"),t[0]=i,t[1]=l):l=t[1],a=l}else{var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"You unsent a message"),t[2]=u):u=t[2],a=u}var c;return t[3]!==a?(c=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!0,children:a}),t[3]=a,t[4]=c):c=t[4],c}function f(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.thread,i=r("useCommunityFolder")(a),l;if(n!=null){var u=n.cta1Title,m;t[0]!==u?(m=u!=null?u:s._(/*BTDS*/"See details in activity log"),t[0]=u,t[1]=m):m=t[1],l=m}else{var p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"See details in activity log"),t[2]=p):p=t[2],l=p}if(i!=null){var _="https://www.facebook.com"+r("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:(c||(c=o("I64"))).to_string(i.fbGroupId)}),f;t[3]!==_?(f={url:_},t[3]=_,t[4]=f):f=t[4];var h;t[5]!==l?(h=d.jsx(r("MWXText.react"),{color:"blueLink",type:"meta2",children:l}),t[5]=l,t[6]=h):h=t[6];var y;return t[7]!==f||t[8]!==h?(y=d.jsx(r("MWXPressable.react"),{linkProps:f,overlayDisabled:!0,xstyle:g,children:h}),t[7]=f,t[8]=h,t[9]=y):y=t[9],y}else return null}function g(){return[m.linkText]}function h(t){var n=o("react-compiler-runtime").c(20),a=t.isSecureMessage,l=t.message,s=t.outgoing,u=(e||(e=r("useReStore")))(),c=l.messageId,m=l.threadKey,g=o("MWLSThread").useThread(m),h;n[0]!==u.tables.attachments||n[1]!==c||n[2]!==m?(h=function(){return o("ReQL").fromTableAscending(u.tables.attachments).getKeyRange(m,c)},n[0]=u.tables.attachments,n[1]=c,n[2]=m,n[3]=h):h=n[3];var y;n[4]!==u||n[5]!==c||n[6]!==m?(y=[u,c,m],n[4]=u,n[5]=c,n[6]=m,n[7]=y):y=n[7];var C=o("ReQLSuspense").useFirst(h,y,i.id+":145"),b;if(C!=null){var v=C.cta1Type;b=v!=null?v==="xma_view_activity_log":!1}else b=!1;var S;n[8]!==C||n[9]!==a||n[10]!==l||n[11]!==s?(S=s?d.jsx(_,{attachment:C}):d.jsx(p,{attachment:C,isSecureMessage:a,message:l}),n[8]=C,n[9]=a,n[10]=l,n[11]=s,n[12]=S):S=n[12];var R;n[13]!==C||n[14]!==b||n[15]!==g?(R=g!=null&&b&&r("mwCMIsAnyCMThread")(g.threadType)?d.jsx(f,{attachment:C,thread:g}):null,n[13]=C,n[14]=b,n[15]=g,n[16]=R):R=n[16];var L;return n[17]!==S||n[18]!==R?(L=d.jsxs(d.Fragment,{children:[S,R]}),n[17]=S,n[18]=R,n[19]=L):L=n[19],L}l.MWV2ChatUnsentMessage=h}),226);
__d("MWV2ComposerActionsContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({});function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.onMessageSendAttempt,a=d(p),i=a.onMessageSendAttempt,l,u;t[0]!==r||t[1]!==i?(u={onMessageSendAttempt:function(t){i==null||i(t),r==null||r(t)}},t[0]=r,t[1]=i,t[2]=u):u=t[2],l=u;var c=l,m;return t[3]!==n||t[4]!==c?(m=s.jsx(p.Provider,{value:c,children:n}),t[3]=n,t[4]=c,t[5]=m):m=t[5],m}l.MWV2ComposerActionsContext=p,l.MWV2ComposerActionsListener=_}),98);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),s;n[0]!==l||n[1]!==a.tables.messaging_privacy_settings?(s=function(){return o("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(l)},n[0]=l,n[1]=a.tables.messaging_privacy_settings,n[2]=s):s=n[2];var u;n[3]!==l||n[4]!==a?(u=[a,l],n[3]=l,n[4]=a,n[5]=u):u=n[5];var c=o("ReQLSuspense").useFirst(s,u,i.id+":22");return c==null?r("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(t=c==null?void 0:c.e2eeHdMediaEnabled)!=null?t:!1}l.default=s}),98);
__d("useMWV2ComposerOnFilesSelected",["react","react-compiler-runtime","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=r("useMWIsHDMediaEnabled")(),a;return t[0]!==n||t[1]!==e?(a=function(r){var t=Array.from(r);if(t.length>0)return e(t,n)},t[0]=n,t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("MWV2ComposerFileButton.react",["fbt","BaseFileSelector.react","I64","MWChatComposerIcons","MWMediaManagerFileSizeLimit","MWXPressable.react","MWXTooltip.react","gkx","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(12),n=e.disabled,a=e.getMaxAttachmentSizeInMBFunc,i=e.hidden,l=e.isSecureThread,d=e.onAttachmentsAdded,m=e.supportedFileTypes,_=e.threadKey,f=a===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:a,g=r("useMWV2ComposerOnFilesSelected")(d),h;t[0]!==f||t[1]!==l?(h=s._(/*BTDS*/"Attach a file up to {fileSizeLimit} MB",[s._param("fileSizeLimit",String(f(l)))]),t[0]=f,t[1]=l,t[2]=h):h=t[2];var y=h,C;t[3]!==n||t[4]!==i||t[5]!==y||t[6]!==_?(C=function(t){return c.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:y,children:c.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":y,disabled:n,id:"mw-composer-file-uploader-"+(u||(u=o("I64"))).to_string(_),loggingEvent:"composer_open_file_picker",onPress:t,overlayRadius:"50%",testid:void 0,xstyle:p,children:c.jsx(o("MWChatComposerIcons").MWChatComposerIconsPhoto,{fill:n?void 0:"var(--chat-composer-button-color)",size:20})})})},t[3]=n,t[4]=i,t[5]=y,t[6]=_,t[7]=C):C=t[7];var b;return t[8]!==g||t[9]!==m||t[10]!==C?(b=c.jsx(r("BaseFileSelector.react"),{accept:m,multiple:!0,onFilesSelected:g,children:C}),t[8]=g,t[9]=m,t[10]=C,t[11]=b):b=t[11],b}function p(){return[r("gkx")("23219")?d.buttonMDS:d.buttonFDS]}l.default=m}),226);
__d("MWV2ComposerMediaStagingItemDocumentPreview.react",["MWChatFileIcon.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(8),n=e.fileName,a=e.mediaRenderQpl,i,l;t[0]!==a?(i=function(){a==null||a.endSuccess()},l=[a],t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]),u(i,l);var c,d,m;t[3]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},d=s.jsx(r("MWChatFileIcon.react"),{}),m={className:"x1iyjqo2"},t[3]=c,t[4]=d,t[5]=m):(c=t[3],d=t[4],m=t[5]);var p;return t[6]!==n?(p=s.jsxs("div",babelHelpers.extends({},c,{children:[d,s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("MWXText.react"),{numberOfLines:2,type:"headline4",children:n})}))]})),t[6]=n,t[7]=p):p=t[7],p}l.default=c}),98);
__d("MWV2ComposerMediaStagingItemImagePreview.react",["FDSImageCover.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useState,m={container:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},p=48;function _(e){var t=o("react-compiler-runtime").c(13),n=e.isGif,a=e.mediaRenderQpl,i=e.previewUrl,l;t[0]!==a?(l=function(){a==null||a.endFail("load-image-error")},t[0]=a,t[1]=l):l=t[1];var u=l,c;t[2]!==a?(c=function(){a==null||a.endSuccess()},t[2]=a,t[3]=c):c=t[3];var _=c,f=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),g=n&&f!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON,h=d(!1),y=h[0],C=h[1];if(i==null)return a==null||a.endFail("missing-preview-url"),null;if(g&&y===!1){var b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b=function(){return C(!0)},t[4]=b):b=t[4];var v;return t[5]!==a||t[6]!==i?(v=s.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:null,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Composer,gifPreviewUrl:i,mediaRenderQpl:a,message:null,onPlay:b,outgoing:!0,previewHeight:p,previewWidth:p}),t[5]=a,t[6]=i,t[7]=v):v=t[7],v}var S;return t[8]!==u||t[9]!==_||t[10]!==i||t[11]!==g?(S=g?s.jsx(r("MWXPressable.react"),{label:"Pressable",onPress:function(){C(!1)},overlayDisabled:!1,xstyle:m.container,children:s.jsx(r("FDSImageCover.react"),{alt:"",onError:u,onLoad:_,src:i})}):s.jsx(r("FDSImageCover.react"),{alt:"",onError:u,onLoad:_,src:i}),t[8]=u,t[9]=_,t[10]=i,t[11]=g,t[12]=S):S=t[12],S}l.default=_}),98);
__d("MWV2ComposerMediaStagingItemVideoPreview.react",["MWVideoPlayerPlayButton.react","MWXVideoStatusListener.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useRef;function m(e){var t=o("react-compiler-runtime").c(14),n=e.mediaRenderQpl,a=e.previewUrl,i=d(null),l;t[0]!==n?(l=function(t){n==null||n.endFail("load-video-error",{string:{video_error_name:t}})},t[0]=n,t[1]=l):l=t[1];var u=l,c;t[2]!==n?(c=function(){n==null||n.endSuccess()},t[2]=n,t[3]=c):c=t[3];var m=c,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("MWVideoPlayerPlayButton.react"),{isVisible:!0,size:"SMALL"}),t[4]=p):p=t[4];var _=p;if(a!=null){var f;t[5]!==u||t[6]!==m?(f=s.jsx(r("MWXVideoStatusListener.react"),{onError:u,onLoad:m,videoRef:i}),t[5]=u,t[6]=m,t[7]=f):f=t[7];var g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g={className:"xl1xv1r"},t[8]=g):g=t[8];var h;t[9]!==a?(h=s.jsx("video",babelHelpers.extends({},g,{height:"48",ref:i,src:a,width:"48"})),t[9]=a,t[10]=h):h=t[10];var y;return t[11]!==f||t[12]!==h?(y=s.jsxs(s.Fragment,{children:[f,h,_]}),t[11]=f,t[12]=h,t[13]=y):y=t[13],y}else return n==null||n.endFail("missing-preview-url"),null}l.default=m}),98);
__d("MWV2ComposerMediaStagingItemPreview.react",["I64","LSIntEnum","MWSharedMediaManagerUtils","MWV2ComposerMediaStagingItemDocumentPreview.react","MWV2ComposerMediaStagingItemImagePreview.react","MWV2ComposerMediaStagingItemVideoPreview.react","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(15),n=e.mediaRenderQpl,a=e.mediaStaging,i=a.attachmentType,l=a.previewUrl,m,p;if(t[0]!==n?(m=function(){n==null||n.addPoint("staging-item-render")},p=[n],t[0]=n,t[1]=m,t[2]=p):(m=t[1],p=t[2]),d(m,p),o("MWSharedMediaManagerUtils").isVideoLikeImage(a)||(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))){var _;t[3]!==a?(_=o("MWSharedMediaManagerUtils").isGIFImage(a),t[3]=a,t[4]=_):_=t[4];var f;return t[5]!==n||t[6]!==l||t[7]!==_?(f=c.jsx(r("MWV2ComposerMediaStagingItemImagePreview.react"),{isGif:_,mediaRenderQpl:n,previewUrl:l}),t[5]=n,t[6]=l,t[7]=_,t[8]=f):f=t[8],f}if((s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){var g;return t[9]!==n||t[10]!==l?(g=c.jsx(r("MWV2ComposerMediaStagingItemVideoPreview.react"),{mediaRenderQpl:n,previewUrl:l}),t[9]=n,t[10]=l,t[11]=g):g=t[11],g}var h;return t[12]!==n||t[13]!==a.filename?(h=c.jsx(r("MWV2ComposerMediaStagingItemDocumentPreview.react"),{fileName:a.filename,mediaRenderQpl:n}),t[12]=n,t[13]=a.filename,t[14]=h):h=t[14],h}l.default=m}),98);
__d("MWV2ComposerMediaStagingItem.react",["fbt","I64","LSIntEnum","MWMediaComposerRenderQpl","MWSharedMediaManagerUtils","MWV2ComposerMediaProgressBar.react","MWV2ComposerMediaStagingItemPreview.react","MWXCircleButton.react","MWXIconCross","MWXTooltip.react","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect;function f(e){var t=o("react-compiler-runtime").c(31),n=e.mediaStaging,a=e.onAttachmentRemoved,i;t[0]!==n.offlineAttachmentId||t[1]!==a?(i=function(){return a(n.offlineAttachmentId)},t[0]=n.offlineAttachmentId,t[1]=a,t[2]=i):i=t[2];var l=i,m=!(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&!(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&!o("MWSharedMediaManagerUtils").isVideoLikeImage(n),p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Remove attachment"),t[3]=p):p=t[3];var f=p,g=o("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(n),h,y;t[4]!==g?(h=function(){g==null||g.addPoint("staging-item-render")},y=[g],t[4]=g,t[5]=h,t[6]=y):(h=t[5],y=t[6]),_(h,y);var C=n.filename,b;t[7]!==m?(b={0:{className:"x1c4vz4f x2lah0s xsdox4t xr9ek0c xbmvrgn xzueoph x1lziwak x1n2onr6 x1useyqa"},1:{className:"x1c4vz4f x2lah0s xsdox4t xr9ek0c xbmvrgn xzueoph x1lziwak x1n2onr6 x2pejg6"}}[!!m<<0],t[7]=m,t[8]=b):b=t[8];var v=n.offlineAttachmentId,S;t[9]!==m?(S={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xsdox4t x6ikm8r x10wlt62 x1n2onr6 x1useyqa"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xsdox4t x6ikm8r x10wlt62 x1n2onr6 x1vtvx1t x2pejg6"}}[!!m<<0],t[9]=m,t[10]=S):S=t[10];var R;t[11]!==g||t[12]!==n?(R=d.jsx(r("MWV2ComposerMediaStagingItemPreview.react"),{mediaRenderQpl:g,mediaStaging:n}),t[11]=g,t[12]=n,t[13]=R):R=t[13];var L;t[14]!==n?(L=d.jsx(r("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:n}),t[14]=n,t[15]=L):L=t[15];var E;t[16]!==L||t[17]!==S||t[18]!==R?(E=d.jsxs("div",babelHelpers.extends({},S,{children:[R,L]})),t[16]=L,t[17]=S,t[18]=R,t[19]=E):E=t[19];var k;t[20]===Symbol.for("react.memo_cache_sentinel")?(k={className:"xgvahye x10l6tqk x1v4kod4"},t[20]=k):k=t[20];var I=n.offlineAttachmentId,T;t[21]===Symbol.for("react.memo_cache_sentinel")?(T=s._(/*BTDS*/"Remove attachment"),t[21]=T):T=t[21];var D;t[22]!==n.offlineAttachmentId||t[23]!==l?(D=d.jsx("div",babelHelpers.extends({},k,{children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:f,children:d.jsx(r("MWXCircleButton.react"),{"aria-describedby":I,icon:r("MWXIconCross"),label:T,onPress:l,size:24,type:"overlay"})})})),t[22]=n.offlineAttachmentId,t[23]=l,t[24]=D):D=t[24];var x;return t[25]!==n.filename||t[26]!==n.offlineAttachmentId||t[27]!==E||t[28]!==D||t[29]!==b?(x=d.jsxs("div",babelHelpers.extends({"aria-label":C},b,{"data-testid":void 0,id:v,role:"listitem",children:[E,D]})),t[25]=n.filename,t[26]=n.offlineAttachmentId,t[27]=E,t[28]=D,t[29]=b,t[30]=x):x=t[30],x}l.default=f}),226);
__d("MWV2ComposerMediaStaging.react",["fbt","BaseFileSelector.react","FDSPhotoAddFilled24Icon","MWV2ComposerMediaStagingItem.react","MWXIcon_DEPRECATED.react","MWXPressable.react","MWXTooltip.react","justknobx","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={uploadPlaceholderPressable:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.isDisabled,a=e.onAttachmentsAdded,i=e.supportedFileTypes,l=r("useMWV2ComposerOnFilesSelected")(a),d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Upload another file"),t[0]=d):d=t[0];var m=d,p;t[1]!==n?(p=function(t){return u.jsx("div",{className:"x78zum5 x1c4vz4f x2lah0s xbmvrgn x1n2onr6",children:u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:m,children:u.jsx(r("MWXPressable.react"),{"aria-label":m,disabled:n,onPress:function(){return t()},xstyle:c.uploadPlaceholderPressable,children:u.jsx(r("MWXIcon_DEPRECATED.react"),{color:n?"disabled":"primary",icon:r("FDSPhotoAddFilled24Icon"),testid:void 0})})})})},t[1]=n,t[2]=p):p=t[2];var _;return t[3]!==l||t[4]!==i||t[5]!==p?(_=u.jsx(r("BaseFileSelector.react"),{accept:i,multiple:!0,onFilesSelected:l,children:p}),t[3]=l,t[4]=i,t[5]=p,t[6]=_):_=t[6],_}function m(e){var t=o("react-compiler-runtime").c(17),n=e.mediaStaging,a=e.onAttachmentRemoved,i=e.onAttachmentsAdded,l=e.supportedFileTypes;if(n.length===0)return null;var c=n.length>=r("justknobx")._("2538"),m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj xsag5q8 x1g0dm76 xh8yej3"},t[0]=m):m=t[0];var p;t[1]!==i||t[2]!==c||t[3]!==l?(p=u.jsx(d,{isDisabled:c,onAttachmentsAdded:i,supportedFileTypes:l}),t[1]=i,t[2]=c,t[3]=l,t[4]=p):p=t[4];var _,f;t[5]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Attachments"),f={className:"x78zum5"},t[5]=_,t[6]=f):(_=t[5],f=t[6]);var g;if(t[7]!==n||t[8]!==a){var h;t[10]!==a?(h=function(t){return u.jsx(r("MWV2ComposerMediaStagingItem.react"),{mediaStaging:t,onAttachmentRemoved:a},t.offlineAttachmentId)},t[10]=a,t[11]=h):h=t[11],g=n.map(h),t[7]=n,t[8]=a,t[9]=g}else g=t[9];var y;t[12]!==g?(y=u.jsx("div",babelHelpers.extends({"aria-label":_},f,{role:"list",children:g})),t[12]=g,t[13]=y):y=t[13];var C;return t[14]!==p||t[15]!==y?(C=u.jsxs("div",babelHelpers.extends({},m,{children:[p,y]})),t[14]=p,t[15]=y,t[16]=C):C=t[16],C}l.default=m}),226);
__d("MWV2ComposerSendButton.react",["fbt","Locale","MWChatChatButtonColorConstants","MWXPressable.react","MWXSpinner.react","MWXTooltip.react","UserAgent","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useState,f=r("gkx")("23402"),g=r("UserAgent").isPlatform("Mac OS X"),h=f?g?s._(/*BTDS*/"Press Cmd+Enter to send"):s._(/*BTDS*/"Press Ctrl+Enter to send"):s._(/*BTDS*/"Press enter to send"),y={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},reverse:{transform:"xpk2tj9",$$css:!0}};function C(t){var n=o("react-compiler-runtime").c(16),a=t.disabled,i=t.hasStuffToSend,l=t.onPress,s=t.ref,u=t.shouldHideTooltip,d=u===void 0?!1:u,m=_(!1),f=m[0],g=m[1],y,C;n[0]!==i?(y=function(){i||g(!1)},C=[i,g],n[0]=i,n[1]=y,n[2]=C):(y=n[1],C=n[2]),p(y,C);var v;n[3]!==l?(v=function(){g(!0),l()},n[3]=l,n[4]=v):v=n[4];var S=v,R=a===!0||f,L;n[5]!==a||n[6]!==f?(L=f?c.jsx(r("MWXSpinner.react"),{color:"blue",size:20}):c.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWChatChatButtonColorConstants").styles.fillGrey),{height:"20px",viewBox:"0 0 24 24",width:"20px",children:[c.jsx("title",{children:h}),c.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:a===!0?void 0:"var(--chat-composer-button-color)"})]})),n[5]=a,n[6]=f,n[7]=L):L=n[7];var E;n[8]!==a||n[9]!==S||n[10]!==s||n[11]!==R||n[12]!==L?(E=c.jsx(r("MWXPressable.react"),{disabled:R,label:h,loggingEvent:"composer_send_message",onPress:S,overlayDisabled:a,overlayRadius:"50%",ref:s,testid:void 0,xstyle:b,children:L}),n[8]=a,n[9]=S,n[10]=s,n[11]=R,n[12]=L,n[13]=E):E=n[13];var k=E;if(d)return k;var I;return n[14]!==k?(I=c.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:h,children:k}),n[14]=k,n[15]=I):I=n[15],I}function b(){return[r("gkx")("23219")?y.buttonMDS:y.buttonFDS,o("Locale").isRTL()&&y.reverse]}l.default=C}),226);
__d("MWV2FileDropzone.react",["fbt","FBLogger","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXTextPairing.react","cometIsMimeTypeForMedia","promiseDone","react","react-compiler-runtime","stylex","useFileDragEvents","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.createContext,_=m.useCallback,f=m.useRef,g=p({current:{enabled:!0,handler:null}});function h(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.fileUploadHandlerConfigRef,a=g.Provider,i;return t[0]!==n||t[1]!==r?(i=d.jsx(a,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}var y={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function C(e){if(e==null)return[];var t=e.dataTransfer;return t==null?[]:t.types}function b(e){switch(e){case 0:return;case 1:return s._(/*BTDS*/"Certain file types are unsupported in this chat.").toString();default:return s._(/*BTDS*/"Some files are unsupported and cannot be shared to this chat").toString()}}function v(e,t){var n=b(t);n!=null&&r("promiseDone")(e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,i.id+":122"))}function S(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)||o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?!0:t.startsWith("audio/")}var R=new Set(["text/plain","text/html","text/uri-list"]);function L(t){var n=t.children,a=t.getMaxAttachmentSizeInMBFunc,i=a===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:a,l=t.isDisabled,c=t.isMediaOnly,m=t.thread,p=t.xstyle,g=f({enabled:!1,handler:null}),b=f(null),L=(e||(e=r("useReStore")))(),E=m!=null?(o("MWCMThreadTypes.react").isBroadcastThread(m.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m.threadType)||o("LSMessagingThreadTypeUtil").isAiBot(m.threadType))&&!o("LSThreadBitOffset").has(56,m):!1,k=m!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType):!1,I=l===!0||E,T=function(t){var e;return((e=g.current)==null?void 0:e.handler)==null?!1:!C(t).some(function(e){return R.has(e)})},D=r("useFileDragEvents")(function(){return!1},void 0,T),x=_(function(e){var t,n;if(((t=g.current)==null?void 0:t.enabled)!==!1){var o=(n=g.current)==null?void 0:n.handler;if(o==null){E||r("FBLogger")("messenger_web_media").mustfix(g.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file");return}var a=Array.from(e),i=c?a.filter(S):a;a.length!==i.length&&v(L,a.length),!I&&i.length!==0&&o(i)}},[c,I,E,L]);return r("useFileDragEvents")(x,b.current,function(e){return!0}),d.jsxs("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(y.root,p!=null?p:!1),{ref:b,children:[d.jsx(h,{fileUploadHandlerConfigRef:g,children:n}),!I&&D?d.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy x1vjfegm",children:d.jsx(r("MWXTextPairing.react"),{body:s._(/*BTDS*/"max {fileSizeLimit} MB",[s._param("fileSizeLimit",String(i(k)))]),bodyColor:"secondary",headline:s._(/*BTDS*/"Drop files here"),level:4,textAlign:"center"})}):null]}))}L.displayName=L.name+" [from "+i.id+"]",l.mWV2FileDropzoneContext=g,l.MWV2FileDropzone=L}),226);
__d("MWV2MessageActionsVisibility.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useRef;function u(){return s(c)}function c(){}l.useStopHoveringRef=u}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","intlSummarizeNumber","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.alignLeft,a=e.enableSeenInfo,i=e.num;if(!a){var l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(u.Fragment,{}),t[0]=l):l=t[0],l}var d;t[1]!==i?(d=s._(/*BTDS*/"Seen by {seenByNumber}",[s._param("seenByNumber",r("intlSummarizeNumber")(i))]).toString(),t[1]=i,t[2]=d):d=t[2];var m;return t[3]!==n||t[4]!==d?(m=u.jsx(r("MWStatusText.react"),{alignLeft:n,text:d,xstyle:c.statusText}),t[3]=n,t[4]=d,t[5]=m):m=t[5],m}function m(e){var t=o("react-compiler-runtime").c(13),n=e.alignLeft,a=e.enableSeenInfo,i=e.status,l=a===void 0?!0:a,s;if(t[0]!==n||t[1]!==l||t[2]!==i){s=Symbol.for("react.early_return_sentinel");e:{var m=o("MWMessageDeliveryStatus").getBroadcastStatusTitle(i);t:switch(i.type){case"NoneStatus":{s=null;break e}case"Error":{s=u.jsx(r("MWStatusText.react"),{error:!0,text:m.toString(),xstyle:c.statusText});break e}case"SingleSeenHead":{var p;t[4]!==l?(p=u.jsx(d,{enableSeenInfo:l,num:1}),t[4]=l,t[5]=p):p=t[5],s=p;break e}case"MultipleSeenHeads":case"DeliveredAndRead":break t;case"SeenCount":{var _;t[6]!==n||t[7]!==l||t[8]!==i.count?(_=u.jsx(d,{alignLeft:n,enableSeenInfo:l,num:i.count}),t[6]=n,t[7]=l,t[8]=i.count,t[9]=_):_=t[9],s=_;break e}case"Loading":{s=u.jsx(r("MWStatusText.react"),{alignLeft:n,text:m.toString(),xstyle:c.statusText});break e}case"RetriableError":{s=u.jsx(r("MWStatusText.react"),{alignLeft:n,error:!0,text:m.toString(),xstyle:c.statusText});break e}default:{s=u.jsx(r("MWStatusText.react"),{text:m.toString(),xstyle:c.statusText});break e}}}t[0]=n,t[1]=l,t[2]=i,t[3]=s}else s=t[3];if(s!==Symbol.for("react.early_return_sentinel"))return s;var f;return t[10]!==l||t[11]!==i.heads.length?(f=u.jsx(d,{enableSeenInfo:l,num:i.heads.length}),t[10]=l,t[11]=i.heads.length,t[12]=f):f=t[12],f}l.default=m}),226);
__d("MWV2MessageEndOfGroupContent.react",["LSMessagingThreadTypeUtil","MWChatSingleSeenHeadRow.react","MWClickToRevealMustacheText.react","MWLSThread","MWMessageDeliveryStatus","MWMessageOutgoingStatus.react","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={baseStyle:{marginInlineEnd:"x14iifvp",marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginInlineEnd:"x2fvf9",marginBottom:"xjpr12u",marginInlineStart:"x1lziwak",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(35),n=e.alignLeft,a=e.enableSeenInfo,i=e.hasTextBasedMessageReceipts,l=e.isFromBlockedContact,c=e.isLastMessage,m=e.isOutgoing,p=e.isSecureMessage,_=e.isTextOnly,f=e.message,g=e.status,h=a===void 0?!0:a,y=o("MWLSThread").useThread(f.threadKey,d);if(c&&i&&g.type==="NoneStatus"){var C;return t[0]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:17}),t[0]=C):C=t[0],C}if(l){var b;return t[1]!==f.messageId?(b=s.jsx(r("MWClickToRevealMustacheText.react"),{messageId:f.messageId}),t[1]=f.messageId,t[2]=b):b=t[2],b}if(_===!0){var v;return t[3]!==n||t[4]!==h||t[5]!==g?(v=s.jsx(r("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:n,enableSeenInfo:h,status:g}),t[3]=n,t[4]=h,t[5]=g,t[6]=v):v=t[6],v}if(g.type==="MultipleSeenHeads"){var S=i&&(c?u.lastMessage:u.nonLastMessage),R=i&&u.baseStyle,L;t[7]!==S||t[8]!==R?(L=[u.seenHeads,S,R],t[7]=S,t[8]=R,t[9]=L):L=t[9];var E;return t[10]!==g.heads||t[11]!==L?(E=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:s.jsx(r("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:g.heads,xstyle:L})}),t[10]=g.heads,t[11]=L,t[12]=E):E=t[12],E}if(c===!0&&y===!0&&i===!0&&g.type==="SeenCount"){if(g.count>0){var k;return t[13]!==n||t[14]!==h||t[15]!==g?(k=s.jsx(r("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:n,enableSeenInfo:h,status:g}),t[13]=n,t[14]=h,t[15]=g,t[16]=k):k=t[16],k}var I;return t[17]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:22}),t[17]=I):I=t[17],I}if(i&&g.type==="SingleSeenHead"){var T=g.head,D;t[18]!==g.head?(D=o("MWMessageDeliveryStatus").getSingleSeenHead(g.head),t[18]=g.head,t[19]=D):D=t[19];var x=c?u.lastMessage:u.nonLastMessage,$;t[20]!==x?($=[x,u.baseStyle],t[20]=x,t[21]=$):$=t[21];var P;return t[22]!==g.head||t[23]!==D||t[24]!==$?(P=s.jsx(r("MWChatSingleSeenHeadRow.react"),{head:T,text:D,xstyle:$}),t[22]=g.head,t[23]=D,t[24]=$,t[25]=P):P=t[25],P}if(m&&i){var N=c?u.lastMessage:u.nonLastMessage,M;t[26]!==N?(M=[N,u.baseStyle],t[26]=N,t[27]=M):M=t[27];var w;return t[28]!==n||t[29]!==c||t[30]!==p||t[31]!==f||t[32]!==g||t[33]!==M?(w=s.jsx(r("MWMessageOutgoingStatus.react"),{alignLeft:n,isLastMessage:c,isSecureMessage:p,message:f,status:g,xstyle:M}),t[28]=n,t[29]=c,t[30]=p,t[31]=f,t[32]=g,t[33]=M,t[34]=w):w=t[34],w}return null}function d(e){return o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}l.MWV2MessageEndOfGroupContent=c}),98);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID,n=t.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:r("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:e,userID:n}}}}},root:r("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};l.default=e}),98);
__d("MWXIconAccount",["MWXSvgIcon","SVGIcon","cr:22172","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22172")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","FDSImageCover.react","I64","IGDWebUtils","LSContactBitOffset","LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","MWPContactContext.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MWXGlimmer.react","MWXIconAccount","MWXIconStrict.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","getLSMediaContactProfilePictureUrl","mwCMIsAnyCMThread","qex","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=s._(/*BTDS*/"Member"),p={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",maxWidth:"x193iq5w",width:"xgd8bvy",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(39),a=t.ariaHidden,l=t.isGroupThread,s=t.message,c=a===void 0?!1:a,_=o("MWPContactContext.react").useMWPContactStableContext(),g=_.contact,h=_.nickname,y=o("MWPActor.react").useActor(),C=(e||(e=r("useReStore")))(),b=o("MWLSThread").useThread(s.threadKey),v=b==null?void 0:b.parentThreadKey,S=b==null?void 0:b.threadType,R,L;n[0]!==C||n[1]!==v?(R=function(){return o("MWPreloadableQueries").getCommunityFolderQuery(C,v!=null?v:(u||(u=o("I64"))).zero).map(f)},L=[C,v],n[0]=C,n[1]=v,n[2]=R,n[3]=L):(R=n[2],L=n[3]);var E=o("ReQLSuspense").useFirst(R,L,i.id+":74"),k;n[4]!==S?(k=S!=null?r("mwCMIsAnyCMThread")(S):!1,n[4]=S,n[5]=k):k=n[5];var I=k,T;if(s.takedownState!=null){var D;n[6]===Symbol.for("react.memo_cache_sentinel")?(D=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:d.jsx(r("MWXIconStrict.react"),{alt:m,color:"secondary",icon:r("MWXIconAccount"),size:28})}),n[6]=D):D=n[6],T=D}else if(g!=null&&r("getLSMediaContactProfilePictureUrl")(g)!==""){var x,$,P=h!=null?h+" ("+g.name+")":g.name,N=(x=o("LSContactBitOffset").has(77,g))!=null?x:!1,M=($=o("LSContactBitOffset").has(84,g))!=null?$:!1,w=!M&&!N&&!o("IGDWebUtils").isOnInstagramWeb(),A;n[7]!==I||n[8]!==w?(A=w&&I&&r("qex")._("20")===!0,n[7]=I,n[8]=w,n[9]=A):A=n[9];var F=A,O;n[10]!==w||n[11]!==b?(O=w&&b!=null&&o("LSMessagingThreadTypeUtil").isOpenOrArmadilloFnFThread(b),n[10]=w,n[11]=b,n[12]=O):O=n[12];var B=O,W=g.name,q;n[13]!==g?(q=r("getLSMediaContactProfilePictureUrl")(g),n[13]=g,n[14]=q):q=n[14];var U;n[15]===Symbol.for("react.memo_cache_sentinel")?(U={borderRadius:"50%"},n[15]=U):U=n[15];var V;n[16]!==g.name||n[17]!==q?(V=d.jsx(r("FDSImageCover.react"),{alt:W,src:q,style:U}),n[16]=g.name,n[17]=q,n[18]=V):V=n[18];var H=V,G;n[19]!==I?(G=function(t){t&&I&&o("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu")},n[19]=I,n[20]=G):G=n[20];var z;n[21]!==y||n[22]!==H||n[23]!==E||n[24]!==I||n[25]!==l||n[26]!==s||n[27]!==F||n[28]!==B?(z=F||B?d.jsx(r("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(u||(u=o("I64"))).to_string(E!=null?E:(u||(u=o("I64"))).zero),userID:(u||(u=o("I64"))).to_string(y)},otherProps:{isGroupThread:l,message:s},popoverEntryPoint:r("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(t,n,a,i,l,s){return d.jsx(r("MWXPressable.react"),{onHoverIn:i,onHoverOut:l,onPress:function(){I&&o("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),n()},onPressIn:s,overlayRadius:"50%",ref:t,xstyle:p.profile,children:H})}}):H,n[21]=y,n[22]=H,n[23]=E,n[24]=I,n[25]=l,n[26]=s,n[27]=F,n[28]=B,n[29]=z):z=n[29];var j;n[30]!==G||n[31]!==z||n[32]!==P?(j=d.jsx(r("MWXTooltip.react"),{align:"middle",onVisibilityChange:G,position:"start",tooltip:P,children:z}),n[30]=G,n[31]=z,n[32]=P,n[33]=j):j=n[33],T=j}else{var K;n[34]===Symbol.for("react.memo_cache_sentinel")?(K=d.jsx(r("MWXGlimmer.react"),{index:1,xstyle:p.glimmer}),n[34]=K):K=n[34],T=K}var Q;n[35]===Symbol.for("react.memo_cache_sentinel")?(Q={className:"xuk3077 x78zum5 x2lah0s x1fgtraw x193iq5w xgd8bvy"},n[35]=Q):Q=n[35];var X;return n[36]!==c||n[37]!==T?(X=d.jsx("div",babelHelpers.extends({"aria-hidden":c},Q,{children:T})),n[36]=c,n[37]=T,n[38]=X):X=n[38],X}function f(e){return e.fbGroupId}l.default=_}),226);
__d("MWV2MessageProfilePhoto.react",["MWV2MessageProfilePhotoContent.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ariaHidden,a=e.display,i=e.isGroupThread,l=e.message,u=n===void 0?!1:n,c=a===void 0?"visible":a,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xgd8bvy"},t[0]=d):d=t[0];var m;t[1]!==u||t[2]!==c||t[3]!==i||t[4]!==l?(m=c==="visible"&&s.jsx(r("MWV2MessageProfilePhotoContent.react"),{ariaHidden:u,isGroupThread:i,message:l}),t[1]=u,t[2]=c,t[3]=i,t[4]=l,t[5]=m):m=t[5];var p;return t[6]!==m?(p=s.jsx("div",babelHelpers.extends({},d,{children:m})),t[6]=m,t[7]=p):p=t[7],p}l.default=u}),98);
__d("MWV2MessageStartOfGroupContent.react",["BaseHeadingContextWrapper.react","I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t){return t!=null?(s||(s=o("I64"))).compare(s.abs(s.sub(e.timestampMs,t.timestampMs)),s.of_string("900000"))>0:!0}function d(e){var t=o("react-compiler-runtime").c(12),n=e.domElementRef,a=e.message,i=e.prevMessage,l=e.renderTextWrapper;if(c(a,i)){var d;t[0]!==a.timestampMs?(d=(s||(s=o("I64"))).to_float(a.timestampMs),t[0]=a.timestampMs,t[1]=d):d=t[1];var m;t[2]!==l||t[3]!==d?(m=u.jsx(r("BaseHeadingContextWrapper.react"),{children:u.jsx(r("MWPDateBreak.react"),{renderTextWrapper:l,timestamp:d})}),t[2]=l,t[3]=d,t[4]=m):m=t[4];var p;t[5]!==a||t[6]!==i||t[7]!==m?(p=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u.jsx(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:a,prevMessage:i,children:m})}),t[5]=a,t[6]=i,t[7]=m,t[8]=p):p=t[8];var _;return t[9]!==n||t[10]!==p?(_=u.jsx(r("MWV2MessageRowSimple.react"),{domElementRef:n,children:p}),t[9]=n,t[10]=p,t[11]=_):_=t[11],_}else return null}function m(e){var t=o("react-compiler-runtime").c(5),n=e.domElementRef,r=e.message,a=e.prevMessage,i=e.renderTextWrapper,l;return t[0]!==n||t[1]!==r||t[2]!==a||t[3]!==i?(l=u.jsx(d,{domElementRef:n,message:r,prevMessage:a,renderTextWrapper:i}),t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=l):l=t[4],l}l.default=m}),98);
__d("MWV2MessageTimestampTooltip.react",["fbt","I64","MWMessageUnsentTimestampText.react","MWXTooltip.react","cr:1654","cr:6194","getMessengerPreciseTimestamp","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e.useMemo;function m(e){var t=o("react-compiler-runtime").c(2),n=e.ts,r=n!=null?"Uploaded to EB: "+n:null,a;return t[0]!==r?(a=c.jsx("div",{children:r}),t[0]=r,t[1]=a):a=t[1],a}function p(e){var t=o("react-compiler-runtime").c(2),n=e.ts,r=n!=null&&n>0?"Send Latency: "+n.toString()+"ms":null,a;return t[0]!==r?(a=c.jsx("div",{children:r}),t[0]=r,t[1]=a):a=t[1],a}function _(e){var t=e.children,a=e.message,i=e.position,l=i===void 0?"start":i,_=n("cr:1654")==null?void 0:n("cr:1654")(a.messageId),f=n("cr:6194")==null?void 0:n("cr:6194")(a.messageId),g=d(function(){var e=a.isUnsent,t=a.unsentTimestampMs;if(t!=null&&e)return[c.jsx(r("MWMessageUnsentTimestampText.react"),{timestampMs:a.timestampMs,unsentTimestampMs:t},"first"),s._(/*BTDS*/"Message unsent")];var n=s._(/*BTDS*/"{time}",[s._param("time",r("getMessengerPreciseTimestamp")((u||(u=o("I64"))).to_float(a.timestampMs),!0))]);return[c.jsxs("div",{"data-testid":void 0,children:[c.jsx(p,{ts:_}),c.jsx(m,{ts:f}),c.jsx("div",{children:n})]},"first"),n]},[a,_,f]),h=g[0],y=g[1];return c.jsx(r("MWXTooltip.react"),{align:"middle",label:y,position:l,tooltip:h,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2NegativeFeedbackButton.react",["BaseView.react","MWMessageActionButton.react","MWXIconLike","handleMWV2NoMessageOrTurn","react","react-compiler-runtime","useGenAiNegativeFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container:{marginInlineEnd:"x14z9mp",transform:"x19jd1h0",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=e.turn,i=r("useGenAiNegativeFeedback")(n,a),l=i[0],c=i[1];if(!n&&!a)return r("handleMWV2NoMessageOrTurn")(),null;var d;return t[0]!==l||t[1]!==c?(d=s.jsx(r("BaseView.react"),{xstyle:u.container,children:s.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconLike"),label:c,onPress:l,testid:void 0})}),t[0]=l,t[1]=c,t[2]=d):d=t[2],d}l.default=c}),98);
__d("MWV2PositiveFeedbackButton.react",["BaseView.react","MWMessageActionButton.react","MWXIconLike","handleMWV2NoMessageOrTurn","react","react-compiler-runtime","useGenAiPositiveFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container:{marginInlineEnd:"x14z9mp",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=e.turn,i=r("useGenAiPositiveFeedback")(n,a),l=i[0],c=i[1];if(!n&&!a)return r("handleMWV2NoMessageOrTurn")(),null;var d;return t[0]!==l||t[1]!==c?(d=s.jsx(r("BaseView.react"),{xstyle:u.container,children:s.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconLike"),label:c,onPress:l,testid:void 0})}),t[0]=l,t[1]=c,t[2]=d):d=t[2],d}l.default=c}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","err","gkx","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){o("sendToSentQPLLogger").markSendToSentPoint(e,"received_successful_server_ack"),o("sendToSentQPLLogger").markSendToSentSuccess(e),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function c(e,t){o("sendToSentQPLLogger").markSendToSentFail(e,"send_message_server_error",r("err")("send_message_server_error")),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function d(e){o("sendToSentQPLLogger").markSendToSentPoint(e,"sending_message")}function m(t){var n=t.db,a=t.isCommunityEvent,i=t.isFirstMessage,l=i===void 0?!1:i,m=t.isMessageRequest,p=t.isWorkChat,_=p===void 0?!1:p,f=t.s2sInstanceKey,g=t.sendFirstMessageSeparately,h=g===void 0?!1:g,y=t.source,C=t.threadType,b=t.traceSendMessageAPI,v={isCommunityEvent:a,isMessageRequest:m,mwVersion:o("MWVersion").v2,source:y,threadType:C};return function(t){o("MWLSLogSend").logSentHeroInteraction(b,t,v),o("MWChatInteraction").set(o("MWChatInteraction").s2sKey(t),String(f)),o("sendToSentQPLLogger").addSendToSentAnnotations(f,{bool:{subscription_points_gk:!0},string:{entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(y),is_community_event:a===!0?"true":"false",is_first_message:l===!0?"true":"false",is_message_request:m===!0?"true":"false",offline_threading_id:_&&r("gkx")("9326")?t:null,send_first_message_separately:h===!0?"true":"false",thread_type:C==null?"unknown":(e||(e=o("I64"))).to_string(C)}});var i=!1,p=o("ReQL").fromTableAscending(n.tables.messages.index("optimistic")).getKeyRange(t),g=o("ReQLSubscribe").subscribeToFirst(p,function(n){n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(2))?(i=!0,u(f,t),g()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(4))?(i=!0,c(f,t),g()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(1))&&d(f)});window.setTimeout(async function(){if(!i){var e=await o("ReQL").firstAsync(p);i||o("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{status_after_10s:e?""+(s||(s=o("LSIntEnum"))).toNumber(e.sendStatusV2):"none"}})}},1e4),window.setTimeout(function(){g()},12e4)}}l.default=m}),98);
__d("MWXIconClock",["MWXSvgIcon","SVGIcon","cr:22273","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22273")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconLive",["MWXSvgIcon","SVGIcon","cr:22387","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22387")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconReply",["MWXSvgIcon","SVGIcon","cr:22460","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22460")),r("gkx")("23219"));l.default=e}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=m.useCallback,_=m.useMemo;function f(t,a){var l=(c||(c=r("useReStore")))(),d=r("useMWBaseChatOpenTabForUser")(void 0,a),m=d.openTabByThreadKey,f=r("useMWChatOpenTabForPage")(a),g=o("MWPActor.react").useActor(),h=_(function(){return new(e||(e=n("Promise")))(function(e,n){var a,c=(a=o("ReQL")).mergeJoin(a.fromTableAscending(l.tables.participants).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,g)}),a.fromTableAscending(l.tables.contacts)),d={contents:function(){}};d.contents=c.subscribe(function(t,n){if(n.operation!=="delete"){var a=n.value[1];if((s||(s=o("I64"))).ge(a.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return d.contents(),e(a)}}),r("promiseDone")(a.firstAsync(c),function(n){if(n!=null){var a=n[1];return(s||(s=o("I64"))).ge(a.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?(d.contents(),e(a)):void 0}r("promiseDone")(l.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(u||(u=o("LSIntEnum"))).ofNumber(1),threadKey:t,threadType:u.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":89"))})})},[t,l]);return p(function(e){r("promiseDone")(h,function(n){var a=(s||(s=o("I64"))).to_string(t),i=n.contactType;return(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))?f(a,!1):m(a,e)})},[h,m,f,t])}l.default=f}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","promiseDone","react-compiler-runtime","useAsyncReStore","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useMWNavigation","useShouldShowMessagingEntrypointInCometRoot"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.threadKey,a=u(r),i;return t[0]!==n||t[1]!==a?(i=n(a),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function u(t){var n=o("react-compiler-runtime").c(8),a=r("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),i=r("useCometRouterDispatcher")(),l=r("useMWChatOpenTabByThreadKey")(t,"chatInThread"),s=r("useAsyncReStore")(),u=r("useMWNavigation")(),c,d;return n[0]!==s||n[1]!==i||n[2]!==a||n[3]!==u||n[4]!==l||n[5]!==t?(c=function(c){var n=(e||(e=o("LSIntEnum"))).ofNumber(22);r("promiseDone")(s,function(e){r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t)),function(e){var r=(e==null?void 0:e.threadType)!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);if(a){var s=c.metaKey||c.ctrlKey||c.shiftKey;if(!s)return l(r)}else return i!=null&&e!=null?u.openInbox({threadKey:t,threadType:e.threadType},"chatInThread",n):void 0})})},d=[i,a,s,u,l,t],n[0]=s,n[1]=i,n[2]=a,n[3]=u,n[4]=l,n[5]=t,n[6]=c,n[7]=d):(c=n[6],d=n[7]),o("Int64Hooks").useCallbackInt64(c,d)}l.default=s}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.cta,a=t.loggingDetails,i=t.source;if(a!=null){var l=n.actionContentBlob,s=l!=null?u(l):"",_=l!=null?d(l):"",f=l!=null?c(l):"",g=l!=null?m(l):"",h=l!=null?p(l):"",y=a[1],C=a[0];r("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:_,id:(e||(e=o("I64"))).to_string(n.ctaId),name:"",source:i,type:y},message:{campaign_id:f,id:n.messageId,marketing_message_impression_token:g,marketing_message_surface:h,notification_token:s},page:{id:C},target:{id:C},thread:{id:C}}})}}function u(e){try{var t=JSON.parse(e),n=t.notification_message_token;return n!=null?n:""}catch(e){return""}}function c(e){try{var t=JSON.parse(e),n=t.mbs_mm_campaign_id;return n!=null?n:""}catch(e){return""}}function d(e){try{var t=JSON.parse(e),n=t.mm_cta_unique_id;return n!=null?n:""}catch(e){return""}}function m(e){try{var t=JSON.parse(e),n=t.mm_impression_token;return n!=null?n:""}catch(e){return""}}function p(e){try{var t=JSON.parse(e),n=t.mm_surface;return n!=null?n:""}catch(e){return""}}l.logXMACtaClicked=s}),98);
__d("useMWLinkHashXMAActionHandler",["ConstUriUtils","FBLogger","I64","LSCommunityInviteStatus","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","MWCMGetValidId","MWCMStandaloneJoinDialog.entrypoint","MWCMStandaloneMemberJoinChatDialog.entrypoint","MWCMStandaloneRequestToJoinDialog.entrypoint","ReQL","ReQLSuspense","XMessengerDotComCometCommunityThreadsControllerRouteBuilder","gkx","goUriOnNewWindow","promiseDone","qex","react","react-compiler-runtime","requireDeferred","useCometRouterDispatcher","useMWNavigation","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useCallback,p=d.useRef,_=r("requireDeferred")("C4gEngagementFalcoEvent").__setRef("useMWLinkHashXMAActionHandler"),f=["ch","cm"];function g(e){var t=o("ConstUriUtils").getUri(e);if(t!=null&&t.isSubdomainOfDomain("m.me")){var n,r=t==null||(n=t.getPath())==null?void 0:n.split("/").filter(function(e){return e!==""});return(r==null?void 0:r.length)===2&&f.includes(r[0])?r[1]:null}return null}function h(e,t,n,a,i,l){if(t!=null){if(a==null){var s=r("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildExtraURL("/c/{folder_id}/",{folder_id:(c||(c=o("I64"))).to_string(n)});if(e)return t.go(s,{});r("goUriOnNewWindow")("https://www.messenger.com"+s);return}if(e)return t.go(r("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(c||(c=o("I64"))).to_string(n),thread_key:c.to_string(a)}),{});r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(a)),function(e){if(e!=null)return l.openInbox({threadKey:a,threadType:e.threadType},"xmaAttachment");var t=r("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(c||(c=o("I64"))).to_string(n),thread_key:c.to_string(a)});r("goUriOnNewWindow")("https://www.messenger.com"+t)})}}function y(){var t=o("react-compiler-runtime").c(10),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={},t[0]=n):n=t[0];var a=r("useMWXEntryPointDialog")(r("MWCMStandaloneRequestToJoinDialog.entrypoint"),n),l=a[0],s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s={},t[1]=s):s=t[1];var d=r("useMWXEntryPointDialog")(r("MWCMStandaloneJoinDialog.entrypoint"),s),m=d[0],f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={},t[2]=f):f=t[2];var y=r("useMWXEntryPointDialog")(r("MWCMStandaloneMemberJoinChatDialog.entrypoint"),f),C=y[0],b=(e||(e=r("useReStore")))(),v=r("useCometRouterDispatcher")(),S=r("gkx")("23433"),R=p(),L=r("useMWNavigation")(),E;t[3]!==v||t[4]!==b||t[5]!==L||t[6]!==m||t[7]!==C||t[8]!==l?(E=function(t,n){if(t==null)return r("FBLogger")("messenger_web_sharing").info("Invalid url to extract link hash");var e=g(t);if(e==null)return r("FBLogger")("messenger_web_sharing").info("Invalid link hash in url");r("promiseDone")(b.runInTransaction(function(t){return r("LSOptimisticFetchPendingGroupInviteStoredProcedure")(r("LSFactory")(t),{linkHash:e})},"readwrite",void 0,void 0,i.id+":195")),R.current=o("ReQL").fromTableAscending(b.tables.group_invitations_pending).getKeyRange(e).subscribe(function(t,a){if(a.operation!=="delete"){var s=a.value,d=s.communityId,p=s.communityJoinRequestStatus,f=s.isSubscribed,g=s.threadId;if(!o("MWCMGetValidId").MWCMHasValidFbGroupId(d,!0))return;R.current==null||R.current();var y=o("ReQLSuspense").first(o("ReQL").fromTableAscending(b.tables.community_folders).getKeyRange(d),i.id+":222");return n==="xma_join_community"||n==="xma_join_community_chat"?(_.onReady(function(e){e.log(function(){return{action:"tap",client_extras:{has_invite:(y==null).toString(),has_pending_request:(c||(c=o("I64"))).to_string(p)},community_id:c.to_string(d),entry_point:"cm:xma",event:g==null?"request_to_join_community_initiated":"request_to_join_community_and_thread_initiated",surface:"message_thread",thread_id:g!=null?(c||(c=o("I64"))).to_string(g):void 0}})}),y!=null&&(c||(c=o("I64"))).equal(y.inviteStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSCommunityInviteStatus").INVITED))?m({folder:y}):r("qex")._("1827")===!0&&(y==null?void 0:y.isMember)===!0?f?h(S,v,d,g,b,L):C({linkHash:e}):l({linkHash:e})):v==null?void 0:(_.onReady(function(e){e.log(function(){return{action:"tap",community_id:(c||(c=o("I64"))).to_string(d),entry_point:"cm:xma",event:g==null?"redirect_to_community":"redirect_to_community_and_thread",surface:"message_thread",thread_id:g!=null?(c||(c=o("I64"))).to_string(g):void 0}})}),h(S,v,d,g,b,L))}})},t[3]=v,t[4]=b,t[5]=L,t[6]=m,t[7]=C,t[8]=l,t[9]=E):E=t[9];var k=E;return k}l.default=y}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useShouldTryWithMessengerDesktop")(),t=o("MWLSStartPhoneCall").useMakeRTCCall(),n=t[0],a=o("MWStartRTCCallUtils").useStartDesktopCall(n);return e?a:n}l.default=e}),98);
__d("xmaAttachmentUtils",["I64","LSIntEnum","MNXMAPreviewImageDecorationType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=e.actionUrl;return(t==null?void 0:t.includes("groupcall"))===!0}function c(t){var n=t.previewImageDecorationType;if(n==null)return!1;var a=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE)),i=e.equal(n,s.ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED));return a||i}function d(e){var t=null;try{var n=JSON.parse(e);n!=null&&typeof n=="object"&&Array.isArray(n)===!1&&n.postback_action_text!=null&&(t=n.postback_action_text)}catch(e){t=null}return t}l.isMeetingsAttachment=u,l.isLiveXMA=c,l.getPostbackTextFromCTAContentBlob=d}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","AdsMessengerContext.react","CometRouteURL","ConstUriUtils","CustomerInformationTemplateFalcoEvent","I64","LSIntEnum","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWLSWebUrlCtaHandler","RoomsLinkUtils","XCometProfileControllerRouteBuilder","XCometStoriesControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","emptyFunction","isStringNullOrEmpty","nullthrows","react","useEmptyFunction","useLSMessagingInitiatingSource","useLSMessagingSource","useMWBaseChatOpenTabForUser","useMWChatPollXMAActionHandler","useMWLinkHashXMAActionHandler","useMWNavigation","useOpenSubthreadView","useRollcallContributionsXMAActionHandler","useStartRTCCall","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=(d||(d=o("react"))).useContext,f=(e=(s=n("cr:4539"))!=null?s:n("cr:131"))!=null?e:r("useEmptyFunction"),g=(u=(c=n("cr:4538"))!=null?c:n("cr:236"))!=null?u:r("useEmptyFunction"),h=n("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function y(){var e=r("useLSMessagingInitiatingSource")(),t=r("useLSMessagingSource")(),n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=r("useMWBaseChatOpenTabForUser")(void 0,"inboxInThread"),i=a.openTabForUser,l=o("CometRouteURL").useRouteURL(),s=o("Actor").useActor(),u=s[0],c=o("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(t,e),d=r("useStartRTCCall")(),y=o("MWChatXmaThirdPartyActionHandler").useHandler(c,d),C=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),b=r("useMWLinkHashXMAActionHandler")(),v=r("useMWChatPollXMAActionHandler")(),S=o("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),R=o("MWLSWebUrlCtaHandler").useShowWebViewDialog(),L=r("useMWNavigation")(),E=g(),k=f({onSuccess:E!=null?E:r("emptyFunction")}),I=r("useOpenSubthreadView")(),T=_(o("AdsMessengerContext.react").AdsMessengerContext),D=T.isMessageSendDisabled;return function(e){var t,a=/^http(s)*\:\/\/m\.me\/([a-z0-9\.\_]+)$/i,s=e.actionUrl!=null&&a.test(e.actionUrl)?(t=e.actionUrl)==null?void 0:t.replace("m.me/","messenger.com/t/"):e.actionUrl,c=e.platformToken,d=e.type_,_=e.title,f=e.messageId,g=e.threadKey,E=e.attachmentFbid,T=e.targetId,x=T!=null?(m||(m=o("I64"))).to_string(T):null,$=["Title: "+_,"Type: "+d,"PlatformTokenPresent: "+(c!=null).toString(),"ActionUrlPresent: "+(s!=null).toString(),"ActionContentBlobPresent: "+(e.actionContentBlob!=null).toString()].join(", ");if(d==="xma_roll_call_open_viewer"||d==="xma_prompt_open_viewer_for_text"||d==="xma_roll_call_add_yours")return T==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){S(r("nullthrows")(T),g,null,d,f)},secondaryInfo:void 0};if(d==="xma_rtc_audio"||d==="xma_rtc_missed_audio"||d==="xma_rtc_new_audio_default"||d==="xma_rtc_ended_audio"){var P={hasVideo:!1,threadId:(m||(m=o("I64"))).to_string(g),trigger:d};return T!=null&&(P.representedID=(m||(m=o("I64"))).to_string(T)),{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeRtcCall",VAL:P})},secondaryInfo:void 0}}if(d==="lead_forms_request_editable"){var N=e.targetId;if(N!=null)return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ViewFormRequestEditable",VAL:{consumerID:u,pageID:(m||(m=o("I64"))).to_string(g),requestID:m.to_string(N)}})},secondaryInfo:void 0}}if(d==="xma_rtc_video"||d==="xma_rtc_new_video_default"||d==="xma_rtc_new_video_from_fb_share"||d==="xma_rtc_new_video_from_fb_video_share"||d==="xma_rtc_missed_video"||d==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(m||(m=o("I64"))).to_string(g),trigger:d}})},secondaryInfo:void 0};if(d==="xma_postback"){var M=e.actionContentBlob!=null?o("xmaAttachmentUtils").getPostbackTextFromCTAContentBlob(e.actionContentBlob):null;return D?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return C(c,M!=null?M:_)},secondaryInfo:[(m||(m=o("I64"))).to_string(g),31]}}if(d==="xma_smag_postback")return D?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"HandleSMAGPostback",VAL:{actionContentBlob:e.actionContentBlob,ctaLabel:e.title,message:_,platformToken:c,url:s}})},secondaryInfo:void 0};if(d==="xma_open_dialog"){var w;if(s==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var A=(w=o("ConstUriUtils").getUri(s))==null||w.getQueryData==null?void 0:w.getQueryData();if(A==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var F=String(A.page_id).toString(),O=String(A.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowGuestChatHistory",VAL:{guestId:O,pageId:F}})},secondaryInfo:void 0}}if(d==="xma_p2p_payment_details"||d==="xma_p2p_request_pay"||d==="xma_p2p_payment_details_receive_money"||d==="xma_p2p_verify_info"){var B=e.targetId;return B==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(m||(m=o("I64"))).to_string(B)}})},secondaryInfo:void 0}}if(d==="fill_in_thread_form"||d==="filled_in_thread_form_successfully"){var W=e.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(r("nullthrows")(W))})},secondaryInfo:void 0}}if(d==="xma_join_from_portal"&&s!=null)return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:s}})},secondaryInfo:void 0};if(d==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return y(e.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:f}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:f,titleString:_}})},secondaryInfo:void 0};if(d==="rtc_call_hours"){var q=o("ConstUriUtils").getUri(l),U=q==null?void 0:q.setPath("/latest/inbox/settings/calls");return{actionType:"URL",primaryInfo:String(U!=null?U:""),secondaryInfo:void 0}}if(d==="rtc_call_summary"){var V=e.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowInThreadRTCCallSummaryMessage",VAL:JSON.parse(r("nullthrows")(V))})},secondaryInfo:void 0}}if(d==="xma_web_url"){var H=e.nativeUrl;if(H!=null&&H.includes("://timeline_review/")){var G,z=(G=r("XCometProfileControllerRouteBuilder").buildUri({id:u,log_filter:"review",sk:"approve"}).setDomain("www.facebook.com"))==null?void 0:G.setProtocol("https");return{actionType:"URL",primaryInfo:r("nullthrows")(z).toString(),secondaryInfo:void 0}}if(s!=null&&s.includes("://location_share"))return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowStaticLocationDetails",VAL:{msgId:f}})},secondaryInfo:void 0}}if(d==="contact_sharing_profile"&&e.targetId!=null){var j,K=(j=r("XCometProfileControllerRouteBuilder").buildUri({id:(m||(m=o("I64"))).to_string(e.targetId)}).setDomain("www.facebook.com"))==null?void 0:j.setProtocol("https");return{actionType:"URL",primaryInfo:r("nullthrows")(K).toString(),secondaryInfo:void 0}}if(d==="contact_sharing_message"&&x!=null)return{actionType:"BUTTON",primaryInfo:function(){n==="ChatTab"?x!=null&&i({userId:x}):T!=null&&L.openInbox({clientThreadKey:void 0,threadKey:T,threadType:(p||(p=o("LSIntEnum"))).ofNumber(1)},"contactShareMessage")},secondaryInfo:void 0};if(d==="xma_join_community"||d==="xma_join_community_chat"||d==="xma_see_community"||d==="xma_see_community_chat")return{actionType:"BUTTON",primaryInfo:function(){return b(s,d)},secondaryInfo:void 0};var Q=e.actionContentBlob;if(d==="xma_poll_details_button"||d==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return v(T,Q)},secondaryInfo:void 0};if(Q!=null&&T!=null)try{var X=JSON.parse(Q);if(d==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var e=X.activityLogItemID,t=X.groupID,n=X.profileID;return y({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:e!=null?JSON.stringify(e):"",groupId:t!=null?JSON.stringify(t):"",profileId:n!=null?JSON.stringify(n):"",targetId:T!=null?(m||(m=o("I64"))).to_string(T):""}})},secondaryInfo:void 0};if(d==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var e=X.activityLogItemID,t=X.authorID,n=X.groupID,r=X.postID;return y({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:e!=null?JSON.stringify(e):"",authorId:t!=null?JSON.stringify(t):"",groupId:n!=null?JSON.stringify(n):"",postId:r!=null?JSON.stringify(r):"",targetId:T!=null?(m||(m=o("I64"))).to_string(T):""}})},secondaryInfo:void 0}}catch(e){if(d!=="marketplace_xma_call_function")return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}var Y=e.targetId;if(Y!=null){if(d==="xma_merchant_confirm_order"&&(s==null||s==="")){var J={orderID:(m||(m=o("I64"))).to_string(Y)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowMerchantConfirmOrder",VAL:J})},secondaryInfo:void 0}}var Z={ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)};if(d==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MOrderDetails",VAL:Z})},secondaryInfo:void 0};if(d==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MAttachBankSlip",VAL:Z})},secondaryInfo:void 0};if(d==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MOffsiteBankTransferCTA",VAL:Z})},secondaryInfo:void 0};if(d==="xma_p2m_mark_as_paid")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MMarkAsPaid",VAL:{ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)}})},secondaryInfo:void 0};if(d==="xma_p2m_mark_as_shipped")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MMarkAsShipped",VAL:{ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)}})},secondaryInfo:void 0};if(d==="xma_p2m_mark_as_received")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MMarkAsReceived",VAL:{ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)}})},secondaryInfo:void 0};if(d==="xma_p2m_checkout"){var ee={orderID:(m||(m=o("I64"))).to_string(Y),pageID:m.to_string(g)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MCheckout",VAL:ee})},secondaryInfo:void 0}}if(d==="xma_p2m_informational_message_bottom_sheet"){var te={contentType:JSON.parse(r("nullthrows")(Q)),orderID:(m||(m=o("I64"))).to_string(Y),pageID:m.to_string(g)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MInformationalMessageBottomSheet",VAL:te})},secondaryInfo:void 0}}}if(d==="xma_p2m_async_controller"){var ne={payload:JSON.parse(r("nullthrows")(Q))};return ne.payload.action_type==="mark_as_x"&&Y!=null?{actionType:"BUTTON",primaryInfo:function(){var t;return y({NAME:"P2MMarkAsX",VAL:{ctaId:e.ctaId,ctaType:(t=ne.payload.extra_data.cta_type)!=null?t:"",orderID:(m||(m=o("I64"))).to_string(Y)}})}}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MAsyncControllerDialog",VAL:ne})}}}if(d==="XMA_ADS_AI_ASSET_SELECTION"){var re=Q!=null?JSON.parse(r("nullthrows")(Q)):{};return D?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){var e;return y({NAME:"ShowAdsAILowProbabilityEntitySelectionModal",VAL:{adAccountID:re.ad_account_id,allowDraftSelection:(e=re.allow_draft_selection)!=null?e:!1,entityType:re.entity_type,threadKey:g}})},secondaryInfo:void 0}}if(d==="xma_customer_information"){var oe=(m||(m=o("I64"))).to_string(g);r("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:u,event_type:"mw_xma_impression",form_id:e.attachmentFbid,page_id:oe}});var ae={actorId:u,eeMessageId:e.attachmentFbid,messageId:e.messageId,pageId:oe};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"BuyerShippingAddress",VAL:ae})},secondaryInfo:void 0}}if(Q==null&&(d==="xma_direct_send"||d==="xma_biz_inbox_form_send"||d==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(d==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:r("nullthrows")(Q)}})},secondaryInfo:[(m||(m=o("I64"))).to_string(g),69]};if(d==="xma_workplace_chat_bot_submit_feedback"){var ie={feedbackActionContentBlob:r("nullthrows")(Q)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"WorkplaceChatBotSubmitFeedback",VAL:ie})},secondaryInfo:void 0}}if(d==="xma_work_meetings_invite"){var le,se=o("RoomsLinkUtils").getRoomsLinkHash((le=e==null?void 0:e.actionUrl)!=null?le:"");return se!=null?{actionType:"POPOVER_BUTTON",primaryInfo:se}:{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}if(d==="xma_account_link")return s==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"OpenAccountLinkUrl",VAL:s})},secondaryInfo:[(m||(m=o("I64"))).to_string(g),49]};if(d==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:s!=null?s:""}})},secondaryInfo:void 0};if(d==="xma_montage_share"){var ue;if(e.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var ce=(ue=r("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(m||(m=o("I64"))).to_string(e.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:ue.setProtocol("https");return ce==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:r("nullthrows")(ce).toString(),secondaryInfo:void 0}}if(d==="marketplace_xma_call_function")return e.actionContentBlob==null||e.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:r("nullthrows")(e.actionContentBlob),attachmentFbid:E,messageId:f,targetId:r("nullthrows")(e.targetId)}})},secondaryInfo:void 0};if(d==="marketplace_xma_open_dialog"){if(s==null||e.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};var de=o("ConstUriUtils").getUri(s);if(de==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var me=String(de.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"OpenMarketplaceDialog",VAL:{ctaType:r("nullthrows")(e.actionContentBlob),listingId:me,threadId:(m||(m=o("I64"))).to_string(g)}})},secondaryInfo:void 0}}if(d==="xma_ctm_in_thread_multiphoto_reply_image"){if(e.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{var pe=JSON.parse(e.actionContentBlob),_e=pe.action_prefill,fe=pe.ad_id,ge=pe.customer_id,he=pe.index,ye=pe.page_id,Ce=pe.reply_image_uri;if(_e==null||Ce==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var be='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"SendImagePostback",VAL:{image:Ce,loggingDetails:{ad_id:fe.toString(),consumer_id:ge.toString(),index:he,page_id:ye.toString()},message:_e,platformToken:r("isStringNullOrEmpty")(c)?be:c}})},secondaryInfo:void 0}}catch(e){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(d==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(d==="xma_open_native"){var ve=e.nativeUrl;if(ve!=null&&ve.startsWith("fb-messenger://user-thread/")){var Se=ve.substr(27);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(m||(m=o("I64"))).to_string(g),33],threadKey:m.of_string(Se)}}}if(ve!=null&&ve.startsWith(h.SUBTHREAD_LINK)){var Re,Le;try{Re=new URL(ve),Le=Re.searchParams.get("subthread_fbid")}catch(e){Re=null,Le=null}if(I!=null&&Le!=null){var Ee=(m||(m=o("I64"))).of_string(Le);return{actionType:"BUTTON",primaryInfo:function(){return I(Ee)},secondaryInfo:void 0}}}var ke=e.actionContentBlob;if(ke!=null)return{actionType:"BUTTON",primaryInfo:function(){return R(ke)},secondaryInfo:void 0};if(s!=null)if(s.includes("://m.me/j/")){if(e.targetId!=null){var Ie=(m||(m=o("I64"))).to_string(e.targetId);return{actionType:"BUTTON",primaryInfo:function(){return L.openInbox({threadKey:(m||(m=o("I64"))).of_string(Ie),threadType:(p||(p=o("LSIntEnum"))).ofNumber(152)},"xmaAttachment")},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return k==null?void 0:k(s)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:s,secondaryInfo:[(m||(m=o("I64"))).to_string(g),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+$,secondaryInfo:"messenger_privacy_web"}}var Te=e.targetId;if(Te!=null){if(d==="xma_services_confirm_booking")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ConfirmAppointmentBooking",VAL:{requestID:(m||(m=o("I64"))).to_string(Te)}})},secondaryInfo:void 0};if(d==="xma_services_view_appointment_details"){if(s!=null){var De,xe=(De=o("ConstUriUtils").getUri(s))==null||De.getQueryData==null?void 0:De.getQueryData(),$e=String(xe==null?void 0:xe.asset_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowBookingDetails",VAL:{pageId:$e,requestId:(m||(m=o("I64"))).to_string(Te)}})},secondaryInfo:void 0}}}else if(d==="lead_forms_response"&&s!==null)return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ViewFormDetails",VAL:{responseID:(m||(m=o("I64"))).to_string(Te)}})},secondaryInfo:void 0}}if(Q!=null&&Q.length>0&&Q!=="{}"&&!Q.includes("notification_message_token")&&!Q.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return R(Q)},secondaryInfo:void 0};if(s!=null){if(e.enableExtensions===!0){var Pe={actionLink:s,pageID:(m||(m=o("I64"))).to_string(g),sourceTitle:_!=null?_:"",userID:m.to_string(g)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowMessengerExtensions",VAL:Pe})},secondaryInfo:[m.to_string(g),33]}}return{actionType:"URL",primaryInfo:s,secondaryInfo:[(m||(m=o("I64"))).to_string(g),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+$,secondaryInfo:"messenger_privacy_web"}}}l.default=y}),98);
__d("MWXMAAttachmentActionTriggerDefault.react",["BizInboxStateContext","FBLogger","I64","MWInboxRouteBuilder","MWLSThread","MWPAttachmentDataContext","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","ReQL","ReQLSuspense","logXMACtaClicked","react","react-compiler-runtime","useGetMWXMACtaRegistryHandler","useHandleXmaEventsLogging","useMWXMAInformedAttachmentLabel","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useContext,m={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(27),a=t.attachment,l=t.attachmentItem,u=t.children,p=d(r("BizInboxStateContext")),f=p.pageID,g=(e||(e=r("useReStore")))(),h=l.defaultCtaType,y=l.threadKey,C=r("useMWXMAInformedAttachmentLabel")(l==null?void 0:l.titleText,a==null?void 0:a.gatingTitle,a==null?void 0:a.subtitleText),b;n[0]!==a.messageId||n[1]!==g.tables.messages?(b=function(){return o("ReQL").fromTableAscending(g.tables.messages.index("messageId")).getKeyRange(a.messageId)},n[0]=a.messageId,n[1]=g.tables.messages,n[2]=b):b=n[2];var v;n[3]!==a.messageId||n[4]!==g?(v=[g,a.messageId],n[3]=a.messageId,n[4]=g,n[5]=v):v=n[5];var S=o("ReQLSuspense").useFirst(b,v,i.id+":65"),R=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(l),L=R.defaultCta,E=o("MWLSThread").useThread(y,_),k=r("useGetMWXMACtaRegistryHandler")(),I=r("MessengerWebUXLogger").useInteractionLogger(),T;n[6]!==a||n[7]!==S||n[8]!==E?(T={attachment:a,message:S,threadType:E},n[6]=a,n[7]=S,n[8]=E,n[9]=T):T=n[9];var D=r("useHandleXmaEventsLogging")(T),x=a.defaultCtaType==="xma_prompt_open_viewer_for_text";if(L==null)return u;var $;if(n[10]!==C||n[11]!==l.defaultCtaTitle||n[12]!==l.titleText||n[13]!==u||n[14]!==L||n[15]!==h||n[16]!==k||n[17]!==D||n[18]!==x||n[19]!==I||n[20]!==f||n[21]!==y||n[22]!==E){$=Symbol.for("react.early_return_sentinel");e:{var P;if(f!=null&&(h==="xma_rtc_audio"||h==="xma_rtc_missed_audio"||h==="xma_rtc_new_audio_default"||h==="xma_rtc_ended_audio")){var N=babelHelpers.extends({},L,{targetId:(s||(s=o("I64"))).of_string(f)});P=k(N)}else P=k(L);switch(P.actionType){case"BUTTON":{var M,w=P,A=w.primaryInfo,F=w.secondaryInfo;$=c.jsx(r("MWXPressable.react"),{"aria-label":(M=l.titleText)!=null?M:l.defaultCtaTitle,hideHoverOverlay:x,onPress:function(){return I==null||I({ctaType:h,eventName:"open_xma_attachment_cta",threadKey:y,threadType:E}),o("logXMACtaClicked").logXMACtaClicked({cta:L,loggingDetails:F,source:1}),D(),A()},children:u});break e}case"DISABLED_BUTTON":{var O,B=(O=l.titleText)!=null?O:"",W;n[24]!==u||n[25]!==B?(W=c.jsx(r("MWXPressable.react"),{"aria-label":B,disabled:!0,children:u}),n[24]=u,n[25]=B,n[26]=W):W=n[26],$=W;break e}case"URL":{var q=P.primaryInfo;if(!(q.startsWith("http")||q.startsWith("/"))){$=u;break e}var U=P.secondaryInfo;$=c.jsx(r("MWXLink.react"),{href:q,label:C,onClick:function(){o("logXMACtaClicked").logXMACtaClicked({cta:L,loggingDetails:U,source:1}),D()},target:void 0,xstyle_DEPRECATED:m.link,children:u});break e}case"DEEPLINK":{var V=P.primaryInfo,H=V.loggingDetails,G=V.threadKey,z=function(){o("logXMACtaClicked").logXMACtaClicked({cta:L,loggingDetails:H,source:1}),D(!0)},j=o("MWInboxRouteBuilder").buildURL({thread_key:(s||(s=o("I64"))).to_string(G)});$=c.jsx(r("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:G,children:function(t){return c.jsx(r("MWXLink.react"),{href:j,onClick:function(n){return t(n),z()},preventLocalNavigation:!0,xstyle_DEPRECATED:m.link,children:u})}});break e}case"CTA_ERROR":{r("FBLogger")(P.secondaryInfo).debug(P.primaryInfo),$=u;break e}case"NOT_SUPPORTED":{$=u;break e}case"POPOVER_BUTTON":{$=u;break e}}}n[10]=C,n[11]=l.defaultCtaTitle,n[12]=l.titleText,n[13]=u,n[14]=L,n[15]=h,n[16]=k,n[17]=D,n[18]=x,n[19]=I,n[20]=f,n[21]=y,n[22]=E,n[23]=$}else $=n[23];if($!==Symbol.for("react.early_return_sentinel"))return $}function _(e){return e.threadType}l.default=p}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.attachment,a=e.attachmentItem,i=e.children,l=e.isPressable;if(l){var u;return t[0]!==n||t[1]!==a||t[2]!==i?(u=s.jsx(r("MWXMAAttachmentActionTriggerDefault.react"),{attachment:n,attachmentItem:a,children:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=u):u=t[3],u}else return i}l.default=u}),98);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","FBLogger","I64","ImageIconSource","LSCTAIconType","LSIntEnum","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useEffect,p=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function _(e){if(e==null)return null;switch((u||(u=o("LSIntEnum"))).toNumber(e)){case r("LSCTAIconType").NONE:return null;case r("LSCTAIconType").FB:return new(r("ImageIconSource"))(s("814640"),16,16);default:return null}}function f(e){var t=o("react-compiler-runtime").c(31),n=e.attachmentCta,a=e.ctaIconType,i=e.getCtaRegistryHandler,l=e.renderButtonActionNonEventButton,s=e.renderDeeplinkActionButton,u=e.renderDisabledButtonActionButton,f=e.renderPopoverMenuButtonActionButton,y=e.renderUrlActionButton,C=e.threadKey,b=e.title,v=e.type,S=o("MWLSThread").useThread(C,h),R;t[0]!==C||t[1]!==S||t[2]!==v?(R={ctaType:v,eventName:"xma_attachment_cta",threadKey:C,threadType:S},t[0]=C,t[1]=S,t[2]=v,t[3]=R):R=t[3];var L=r("MessengerWebUXLogger").useImpressionLoggerRef(R),E,k;t[4]!==v?(E=function(){var e=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(v);e&&p.onReady(g)},k=[v],t[4]=v,t[5]=E,t[6]=k):(E=t[5],k=t[6]),m(E,k);var I=o("AdsMessengerContext.react").useAdsMessengerContext(),T=I.isMessengerInAds,D=I.maybeGetCallbackFromURI;if(n==null){var x;return t[7]!==L||t[8]!==u||t[9]!==b||t[10]!==v?(x=v==="xma_disabled_cta"?d.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",ref:L,children:u(b)}):null,t[7]=L,t[8]=u,t[9]=b,t[10]=v,t[11]=x):x=t[11],x}var $;if(t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==T||t[16]!==D||t[17]!==l||t[18]!==s||t[19]!==u||t[20]!==f||t[21]!==y||t[22]!==b){var P=i(n),N=_(a);$=null;e:switch(P.actionType){case"BUTTON":{var M=P.secondaryInfo,w=P.primaryInfo;$=l(b,N,n,M,w);break e}case"POPOVER_BUTTON":{f&&($=f(b,n,P.primaryInfo));break e}case"URL":{var A=P.secondaryInfo,F=D==null?void 0:D(P.primaryInfo);T&&F!=null?$=l(b,N,n,A,F):$=y(b,N,n,A,P.primaryInfo);break e}case"DISABLED_BUTTON":{var O;t[24]!==u||t[25]!==b?(O=u(b),t[24]=u,t[25]=b,t[26]=O):O=t[26],$=O;break e}case"DEEPLINK":{var B=P.primaryInfo,W=B.loggingDetails,q=B.threadKey,U=o("MWInboxRouteBuilder").buildURL({thread_key:(c||(c=o("I64"))).to_string(q)});$=s(b,q,n,W,U);break e}case"CTA_ERROR":{r("FBLogger")(P.secondaryInfo).mustfix(P.primaryInfo),$=null;break e}case"NOT_SUPPORTED":$=null}t[12]=n,t[13]=a,t[14]=i,t[15]=T,t[16]=D,t[17]=l,t[18]=s,t[19]=u,t[20]=f,t[21]=y,t[22]=b,t[23]=$}else $=t[23];var V;t[27]===Symbol.for("react.memo_cache_sentinel")?(V={className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x"},t[27]=V):V=t[27];var H;return t[28]!==$||t[29]!==L?(H=d.jsx("div",babelHelpers.extends({},V,{ref:L,children:$})),t[28]=$,t[29]=L,t[30]=H):H=t[30],H}function g(e){e.logImpression({surface:"admin_message"})}function h(e){return e.threadType}l.default=f}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,s))!=null?t:{},r=n.pollsV1UICapability;return r===!0}function s(e){return{pollsV1UICapability:o("LSThreadBitOffset").has(158,e)}}l.default=e}),98);
__d("MWXMAAttachmentItemCtaButton.react",["LSMessagingThreadTypeUtil","MDSButton.react","MWLSThread","MWXEntryPointPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXPopoverLoadingState.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","mwCMIsAnyCMThread","react","react-compiler-runtime","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{minWidth:"xktpd3l",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(32),n=e.attachmentCta,a=e.ctaIconType,i=e.messageId,l=e.popoverMenu,c=e.threadKey,f=e.title,g=e.type;r("vulture")("JzaGxvnGNggwHqqTrtXTR7C8Lms=");var h=r("MessengerWebUXLogger").useInteractionLogger(),y=o("MWLSThread").useThread(c,_),C;t[0]!==c||t[1]!==y||t[2]!==g?(C={ctaType:g,eventName:"open_xma_attachment_cta",threadKey:c,threadType:y},t[0]=c,t[1]=y,t[2]=g,t[3]=C):C=t[3];var b=C,v=r("useGetMWXMACtaRegistryHandler")(),S=r("useMWHasPollsVotingEnabled")(c),R=r("useMWCMPollsV1Enabled")(c),L=r("useMWCMPollsV2Enabled")(c),E=o("MWLSThread").useThread(c,p),k=o("MWLSThread").useThread(c,m);if(!S&&(g==="xma_poll_details_button"||g==="xma_poll_details_card")||E!=null&&E&&!R&&!L&&g==="xma_poll_details_button")return null;var I;t[4]!==k||t[5]!==h||t[6]!==b?(I=function(t,n,a,i,l){return s.jsx(r("MWXTooltip.react"),{tooltip:t,children:s.jsx(r("MDSButton.react"),{disabled:k,icon:n,isContainerTarget:!0,label:t,onPress:function(){return h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:a,loggingDetails:i,source:2}),l()},type:"secondary"})})},t[4]=k,t[5]=h,t[6]=b,t[7]=I):I=t[7];var T;t[8]!==h||t[9]!==b?(T=function(t,n,a,i,l){return s.jsx(r("MWXTooltip.react"),{tooltip:t,children:s.jsx(r("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:n,children:function(n){return s.jsx(r("MDSButton.react"),{label:t,linkProps:{preventLocalNavigation:!0,url:l},onPress:function(t){return n(t),h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:a,loggingDetails:i,source:2})},type:"secondary"})}})})},t[8]=h,t[9]=b,t[10]=T):T=t[10];var D;t[11]!==h||t[12]!==b||t[13]!==l?(D=l?function(e,t,n){return s.jsx(r("MWXEntryPointPopoverTrigger.react"),{align:"stretch",entryPointParams:{primaryInfo:n},fallback:s.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:u.root}),otherProps:{cta:t},popoverEntryPoint:l,popoverType:"menu",position:"below",preloadTrigger:"button",children:function(a,i){return s.jsx(r("MWXTooltip.react"),{tooltip:e,children:s.jsx(r("MDSButton.react"),{label:e,onPress:function(){return h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:t,loggingDetails:void 0,source:2}),i()},ref:a,type:"secondary"})})}})}:void 0,t[11]=h,t[12]=b,t[13]=l,t[14]=D):D=t[14];var x;t[15]!==k||t[16]!==h||t[17]!==b||t[18]!==f?(x=function(t,n,a,i,l){return s.jsx(r("MWXTooltip.react"),{tooltip:t,children:s.jsx(r("MDSButton.react"),{disabled:k,icon:n,label:f,linkProps:{target:"_blank",url:l},onPress:function(){h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:a,loggingDetails:i,source:2})},type:"secondary"})})},t[15]=k,t[16]=h,t[17]=b,t[18]=f,t[19]=x):x=t[19];var $;return t[20]!==n||t[21]!==a||t[22]!==v||t[23]!==i||t[24]!==I||t[25]!==T||t[26]!==D||t[27]!==x||t[28]!==c||t[29]!==f||t[30]!==g?($=s.jsx(r("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentCta:n,ctaIconType:a,getCtaRegistryHandler:v,messageId:i,renderButtonActionNonEventButton:I,renderDeeplinkActionButton:T,renderDisabledButtonActionButton:d,renderPopoverMenuButtonActionButton:D,renderUrlActionButton:x,threadKey:c,title:f,type:g}),t[20]=n,t[21]=a,t[22]=v,t[23]=i,t[24]=I,t[25]=T,t[26]=D,t[27]=x,t[28]=c,t[29]=f,t[30]=g,t[31]=$):$=t[31],$}function d(e){return s.jsx(r("MWXTooltip.react"),{tooltip:e,children:s.jsx(r("MDSButton.react"),{disabled:!0,label:e,type:"secondary"})})}d.displayName=d.name+" [from "+i.id+"]";function m(e){return o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(e.threadType)||o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(e.threadType)}function p(e){return r("mwCMIsAnyCMThread")(e.threadType)}function _(e){return e.threadType}l.default=c}),98);
__d("MWXMAAttachmentItemIcon.react",["FDSImageCover.react","FDSSkittleIcon.react","InteractionTracingMetrics","MWXMAIconParser.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.attachmentItem,i=e.getFaviconUrlXMA,l=e.mediaRenderQpl,c;if(t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l){var m;c=o("MWXMAIconParser.react").parse((m=i(n,a,"MWXMAAttachmentItemIconImpl",l))!=null?m:""),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=c}else c=t[4];var p=c,_,f;if(t[5]!==p||t[6]!==l?(_=function(){l==null||l.addPoint("render-xma-attachment-item-icon",{bool:{has_icon:p!=null}}),p!=null&&r("InteractionTracingMetrics").currentInteractionLogger().forEach(d)},f=[p,l],t[5]=p,t[6]=l,t[7]=_,t[8]=f):(_=t[7],f=t[8]),u(_,f),p==null)return null;if(typeof p=="string"){var g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[9]=g):g=t[9];var h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h={borderRadius:"50%",height:"36px",width:"36px"},t[10]=h):h=t[10];var y;return t[11]!==p?(y=s.jsx("div",babelHelpers.extends({},g,{children:s.jsx(r("FDSImageCover.react"),{alt:"Icon for this message",src:p,style:h})})),t[11]=p,t[12]=y):y=t[12],y}var C;t[13]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[13]=C):C=t[13];var b;return t[14]!==p.color||t[15]!==p.icon?(b=s.jsx("div",babelHelpers.extends({},C,{children:s.jsx(r("FDSSkittleIcon.react"),{color:p.color,icon:p.icon,size:36})})),t[14]=p.color,t[15]=p.icon,t[16]=b):b=t[16],b}function d(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-icon","AppTiming")}l.default=c}),98);
__d("MWXMAAttachmentItemIconWithPlaceholder.react",["CometPlaceholder.react","InteractionTracingMetrics","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.attachment,a=e.attachmentItem,i=e.getFaviconUrlXMA,l=e.mediaRenderQpl,d,p;t[0]!==l?(d=function(){l==null||l.addPoint("render-xma-attachment-item-icon-with-placeholder"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(m)},p=[l],t[0]=l,t[1]=d,t[2]=p):(d=t[1],p=t[2]),u(d,p);var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",height:36,width:36,xstyle:c.loadingPlaceholder}),t[3]=_):_=t[3];var f;return t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==l?(f=s.jsx(r("CometPlaceholder.react"),{fallback:_,name:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",children:s.jsx(r("MWXMAAttachmentItemIcon.react"),{attachment:n,attachmentItem:a,getFaviconUrlXMA:i,mediaRenderQpl:l})}),t[4]=n,t[5]=a,t[6]=i,t[7]=l,t[8]=f):f=t[8],f}function m(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-icon-with-placeholder","AppTiming")}l.default=d}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.attachment,r=e.renderDefaultListItem,a=e.renderPercentageListItem,i;if(t[0]!==n||t[1]!==r||t[2]!==a){var l=[{contactUrlExpirationTimestampList:n.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:n.listItemContactUrlFallbackList1,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList1(n),id:n.listItemId1,progressBarFilledPercentage:n.listItemProgressBarFilledPercentage1,titleText:n.listItemTitleText1,totalCount:n.listItemTotalCount1},{contactUrlExpirationTimestampList:n.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:n.listItemContactUrlFallbackList2,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList2(n),id:n.listItemId2,progressBarFilledPercentage:n.listItemProgressBarFilledPercentage2,titleText:n.listItemTitleText2,totalCount:n.listItemTotalCount2},{contactUrlExpirationTimestampList:n.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:n.listItemContactUrlFallbackList3,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList3(n),id:n.listItemId3,progressBarFilledPercentage:n.listItemProgressBarFilledPercentage3,titleText:n.listItemTitleText3,totalCount:n.listItemTotalCount3}],u=[];l.forEach(function(e){var t=e.contactUrlExpirationTimestampList,n=e.contactUrlFallbackList,r=e.contactUrlList,o=e.id,a=e.progressBarFilledPercentage,i=e.titleText,l=e.totalCount;if(o!=null){var s=r!=null?r.split(","):[],c=t!=null?t.split(","):[],d=n!=null?n.split(","):[];u.push({contacts:s.map(function(e,t){return{url:e,urlExpirationTimestamp:c[t],urlFallback:d[t]}}),id:o,progressBarFilledPercentage:a,titleText:i,totalCount:l})}}),i=s.jsx(o("react-strict-dom").html.ul,{children:u.map(function(e){var t=e.progressBarFilledPercentage;return t!=null?a(e,t):r(e)})}),t[0]=n,t[1]=r,t[2]=a,t[3]=i}else i=t[3];return i}l.default=u}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.attachment,a=e.onPollOptionFacepilePress,i=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),l;t[0]!==i||t[1]!==a?(l=function(t,n){return u.jsxs("li",{className:"x14vqqas",children:[u.jsxs("div",{className:"x78zum5 x1qughib",children:[t.titleText!=null?u.jsx(r("MWXText.react"),{numberOfLines:i==="Inbox"?3:1,type:"headline4",children:t.titleText}):null,u.jsx("div",{className:"x13fj5qh",children:u.jsx(r("MWChatPollFacepile.react"),{contacts:t.contacts.map(d),countOverride:t.totalCount!=null?(s||(s=o("I64"))).to_int32(t.totalCount):void 0,direction:"reversed",gap:"negative",onPress:a!=null?function(){a(t.id)}:void 0,size:"small"})})]}),u.jsx("div",{className:"x1wpzbip x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt xod5an3 x1xmf6yo",children:u.jsx("div",{className:"xsqyzxx x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt",style:{width:(s||(s=o("I64"))).to_string(n)+"%"}})})]},s.to_string(t.id))},t[0]=i,t[1]=a,t[2]=l):l=t[2];var c;return t[3]!==n||t[4]!==l?(c=u.jsx(r("MWXMAAttachmentItemListItemsBase.react"),{attachment:n,renderDefaultListItem:m,renderPercentageListItem:l}),t[3]=n,t[4]=l,t[5]=c):c=t[5],c}function d(e){return{name:void 0,profile_picture_url:e.url}}function m(e){return u.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:u.jsxs("div",{children:[u.jsx(r("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:e.contacts.map(p),countOverride:e.totalCount!=null?(s||(s=o("I64"))).to_int32(e.totalCount):void 0,limit:9,overflowStyle:"overlayLastPhoto",size:"large"}),e.titleText!=null?u.jsx("div",{className:"xdwrcjd x1xmf6yo",children:u.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:e.titleText})}):null]})},(s||(s=o("I64"))).to_string(e.id))}m.displayName=m.name+" [from "+i.id+"]";function p(e){return{name:void 0,profile_picture_url:e.url}}l.default=c}),98);
__d("MWXMAAttachmentItemBodyText.react",["MWV2ChatTextParserUtils","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","useMWTextRenderers"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.bodyText,a=e.outgoing,i=r("useMWTextRenderers")(a,!1),l;t[0]!==n?(l=o("MWV2ChatTextParserUtils").findRanges(n,!0),t[0]=n,t[1]=l):l=t[1];var u=l,c;return t[2]!==n||t[3]!==u||t[4]!==i?(c=s.jsx(r("MWXText.react"),{color:"primary",type:"meta3",children:s.jsx(r("MWXMessageTextWithEntities.react"),{ranges:u,renderers:i,text:n})}),t[2]=n,t[3]=u,t[4]=i,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWXMAAttachmentSourceTextDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(3),n=e.subtitleDecorationType,a,i;return t[0]!==n?(a=function(){switch((u||(u=o("LSIntEnum"))).toNumber(n)){case r("MNXMASubtitleDecorationType").MESSENGER_ICON:return c.jsx(r("MWXImage.react"),{height:12,objectFit:"contain",src:s("855857"),width:12});default:return null}},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),o("Int64Hooks").useMemoInt64(a,i)}l.default=d}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["FDSAppThreadsFilled16Icon","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon_DEPRECATED.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.subtitleDecorationType,a,i;return t[0]!==n?(a=function(){switch((s||(s=o("LSIntEnum"))).toNumber(n)){case r("MNXMASubtitleDecorationType").THREADS_ICON:return u.jsx(r("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:r("FDSAppThreadsFilled16Icon")});default:return null}},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),o("Int64Hooks").useMemoInt64(a,i)}l.default=c}),98);
__d("MWXMALiveAttachmentItemMainText.react",["I64","LSIntEnum","LSVerifiedType","MWXIconBadgeCheckmark","MWXIconStrict.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.bodyLineLimit,i=e.facePileElement,l=e.headlineLineLimit,d=e.title,m;t[0]!==n.verifiedType?(m=n.verifiedType!=null?(s||(s=o("I64"))).equal(n.verifiedType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").DEFAULT)):!1,t[0]=n.verifiedType,t[1]=m):m=t[1];var p=m,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x78zum5 xl56j7k"},t[2]=_):_=t[2];var f;t[3]!==p?(f=p&&c.jsx("div",{className:"xdwrcjd",children:c.jsx(r("MWXIconStrict.react"),{color:"mds-accent",icon:r("MWXIconBadgeCheckmark"),size:12})}),t[3]=p,t[4]=f):f=t[4];var g;t[5]!==f||t[6]!==d?(g=c.jsxs("div",babelHelpers.extends({},_,{children:[d,f]})),t[5]=f,t[6]=d,t[7]=g):g=t[7];var h=g,y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x193iq5w x126k92a xh8yej3"},t[8]=y):y=t[8];var C;t[9]!==n.captionBodyText||t[10]!==a||t[11]!==l||t[12]!==h?(C=c.jsx(r("MWXTextPairing.react"),{body:n.captionBodyText,bodyColor:"secondary",bodyLineLimit:a,headline:h,headlineLineLimit:l,level:4,testid:void 0,textAlign:"center"}),t[9]=n.captionBodyText,t[10]=a,t[11]=l,t[12]=h,t[13]=C):C=t[13];var b;return t[14]!==i||t[15]!==C?(b=c.jsxs("div",babelHelpers.extends({},y,{children:[C,i]})),t[14]=i,t[15]=C,t[16]=b):b=t[16],b}l.default=d}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","LSVerifiedType","Locale","MNLSXMALayoutType","MNXMASubtitleDecorationType","MWXIconBadgeCheckmark","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXMAAttachmentItemBodyText.react","MWXMAAttachmentSourceTextDecoration.react","MWXMAAttachmentSubtitleDecoration.react","MWXMALiveAttachmentItemMainText.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","stylex","xmaAttachmentUtils","xmaLayouts"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p={hscroll:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function _(t){var n,a=o("react-compiler-runtime").c(61),i=t.attachment,l=t.bodyLineLimit,u=t.bodyText,_=t.facePileElement,f=t.hasIcon,g=t.headlineLineLimit,h=t.isHscroll,y=t.outgoing,C=t.subtitleText,b=t.title,v=t.xmaLayout,S=y===void 0?!1:y,R;if(a[0]!==i.xmaLayoutType){var L;R=(c||(c=o("I64"))).equal((L=i.xmaLayoutType)!=null?L:(c||(c=o("I64"))).zero,(d||(d=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),a[0]=i.xmaLayoutType,a[1]=R}else R=a[1];var E=R;if(o("xmaAttachmentUtils").isLiveXMA(i)){var k=b!=null?b:"",I;return a[2]!==i||a[3]!==l||a[4]!==_||a[5]!==g||a[6]!==k?(I=m.jsx(r("MWXMALiveAttachmentItemMainText.react"),{attachment:i,bodyLineLimit:l,facePileElement:_,headlineLineLimit:g,title:k}),a[2]=i,a[3]=l,a[4]=_,a[5]=g,a[6]=k,a[7]=I):I=a[7],I}var T;a[8]===Symbol.for("react.memo_cache_sentinel")?(T=s._(/*BTDS*/"Use Latest Mobile App"),a[8]=T):T=a[8];var D=T,x;a[9]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"Download the latest version of the Messenger app to view this message."),a[9]=x):x=a[9];var $=x,P=o("Locale").isRTL()?r("MWXIconChevronLeft"):r("MWXIconChevronRight"),N;a[10]!==i.attachmentLoggingType||a[11]!==g||a[12]!==E||a[13]!==S||a[14]!==b?(N=b!==""?E?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[m.jsx(r("MWXText.react"),{color:S?"white":"secondary",type:"meta2",children:b}),m.jsx(r("MWXIconStrict.react"),{color:S?"white":"secondary",icon:P,size:12})]}):m.jsx(r("MWXTextPairing.react"),{headline:E?D:b,headlineLineLimit:g,level:4,testid:void 0,textAlign:i.attachmentLoggingType==="xma_view_event"?"center":"start"}):null,a[10]=i.attachmentLoggingType,a[11]=g,a[12]=E,a[13]=S,a[14]=b,a[15]=N):N=a[15];var M=N,w;if(a[16]!==i.replyCount||a[17]!==l||a[18]!==_||a[19]!==E||a[20]!==S||a[21]!==C){var A,F;w=C!==""?E?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1nhvcw1",children:[_,m.jsx("div",{className:"x1k70j0n",children:m.jsx(r("MWXText.react"),{color:S?"white":"secondary",type:"meta2",children:i.replyCount==null||(c||(c=o("I64"))).equal(i.replyCount,(c||(c=o("I64"))).zero)?C:(c||(c=o("I64"))).gt((A=i.replyCount)!=null?A:(c||(c=o("I64"))).zero,(c||(c=o("I64"))).of_int32(20))?s._(/*BTDS*/"20+ replies"):s._(/*BTDS*/"_j{\"*\":\"{number} replies\",\"_1\":\"1 reply\"}",[s._plural((c||(c=o("I64"))).to_int32((F=i.replyCount)!=null?F:(c||(c=o("I64"))).zero),"number")])})})]}):m.jsx("div",{className:"x889kno",children:m.jsx(r("MWXTextPairing.react"),{body:E?$:C,bodyColor:"secondary",bodyLineLimit:l,level:4,testid:void 0})}):null,a[16]=i.replyCount,a[17]=l,a[18]=_,a[19]=E,a[20]=S,a[21]=C,a[22]=w}else w=a[22];var O=w,B=(n=i.subtitleDecorationType)!=null?n:(c||(c=o("I64"))).zero,W;a[23]!==B?(W=(d||(d=o("LSIntEnum"))).toNumber(B)===r("MNXMASubtitleDecorationType").THREADS_ICON?m.jsx("div",{className:"x1xegmmw x1k70j0n",children:m.jsx(r("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:B})}):null,a[23]=B,a[24]=W):W=a[24];var q=W,U;a[25]!==i.captionBodyText?(U=i.captionBodyText!=null&&i.captionBodyText.length>0?m.jsx(r("MWXText.react"),{color:"primary",type:"meta3",children:i.captionBodyText}):null,a[25]=i.captionBodyText,a[26]=U):U=a[26];var V=U,H;a[27]!==u||a[28]!==S?(H=u!=null&&u.length>0?m.jsx(r("MWXMAAttachmentItemBodyText.react"),{bodyText:u,outgoing:S}):null,a[27]=u,a[28]=S,a[29]=H):H=a[29];var G=H,z;a[30]!==i.verifiedType?(z=i.verifiedType!=null?(c||(c=o("I64"))).equal(i.verifiedType,(d||(d=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").VERIFIED_FOOTER)):!1,a[30]=i.verifiedType,a[31]=z):z=a[31];var j=z,K;a[32]!==i.sourceText||a[33]!==B?(K=i.sourceText!=null?m.jsxs("div",{className:"x6s0dn4 x17zd0t2 x78zum5 x1q0g3np x889kno",children:[B!=null?m.jsx(r("MWXMAAttachmentSourceTextDecoration.react"),{subtitleDecorationType:B}):null,m.jsx(r("MWXText.react"),{color:"secondary",type:"meta3",children:i.sourceText})]}):null,a[32]=i.sourceText,a[33]=B,a[34]=K):K=a[34];var Q=K,X;a[35]!==f||a[36]!==h?(X=(e||(e=r("stylex"))).props(p.root,f?p.withIcon:h?p.hscroll:!1),a[35]=f,a[36]=h,a[37]=X):X=a[37];var Y;a[38]!==V||a[39]!==M||a[40]!==v?(Y=v===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&M!==null?m.jsx("div",{className:"xahult9",children:M}):V!=null?m.jsx("div",{className:"x1e56ztr",children:M}):M,a[38]=V,a[39]=M,a[40]=v,a[41]=Y):Y=a[41];var J;a[42]===Symbol.for("react.memo_cache_sentinel")?(J={className:"x6s0dn4 x78zum5 x1q0g3np"},a[42]=J):J=a[42];var Z;a[43]!==j?(Z=j?m.jsx("div",{className:"x78zum5 xdwrcjd",children:m.jsx(r("MWXIconStrict.react"),{color:"highlight",icon:r("MWXIconBadgeCheckmark"),size:12})}):null,a[43]=j,a[44]=Z):Z=a[44];var ee;a[45]!==V||a[46]!==Z?(ee=m.jsxs("div",babelHelpers.extends({},J,{children:[V,Z]})),a[45]=V,a[46]=Z,a[47]=ee):ee=a[47];var te;a[48]===Symbol.for("react.memo_cache_sentinel")?(te={className:"x6s0dn4 x78zum5"},a[48]=te):te=a[48];var ne;a[49]!==q||a[50]!==O?(ne=m.jsxs("div",babelHelpers.extends({},te,{children:[q,O]})),a[49]=q,a[50]=O,a[51]=ne):ne=a[51];var re;a[52]!==G?(re=G!=null&&m.jsx("div",{className:"x889kno",children:G}),a[52]=G,a[53]=re):re=a[53];var oe;return a[54]!==Q||a[55]!==X||a[56]!==Y||a[57]!==ee||a[58]!==ne||a[59]!==re?(oe=m.jsxs("div",babelHelpers.extends({},X,{children:[Y,ee,ne,re,Q]})),a[54]=Q,a[55]=X,a[56]=Y,a[57]=ee,a[58]=ne,a[59]=re,a[60]=oe):oe=a[60],oe}l.default=_}),226);
__d("MWXMAEventFacepiles.react",["ALT_PLACEHOLDER_FIXME","FDSPressableFacepile.react","I64","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(17),a=t.avatarText,i=t.count,l=t.cta,s=t.size,m=t.urls,f=t.xstyle,g=s===void 0?32:s,h;n[0]!==i?(h=i!=null?(u||(u=o("I64"))).le(i,(u||(u=o("I64"))).of_int32(9)):!1,n[0]=i,n[1]=h):h=n[1];var y=h,C;n[2]!==(l==null?void 0:l.actionUrl)||n[3]!==y?(C=y?void 0:{target:"_blank",url:l==null?void 0:l.actionUrl},n[2]=l==null?void 0:l.actionUrl,n[3]=y,n[4]=C):C=n[4];var b=C,v;n[5]!==y||n[6]!==m?(v=y?m.map(_):m.slice(0,9).map(p),n[5]=y,n[6]=m,n[7]=v):v=n[7];var S=v,R=a==null?d.root_center_aligned:d.root_start_aligned,L;return n[8]!==a||n[9]!==i||n[10]!==b||n[11]!==R||n[12]!==g||n[13]!==S||n[14]!==m.length||n[15]!==f?(L=S.length>0?c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(R),{"data-testid":void 0,children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.facepile,f),{role:"gridcell",children:c.jsx(r("FDSPressableFacepile.react"),{count:i!=null?(u||(u=o("I64"))).to_int32(i):m.length,isOverlapping:!0,isTextInline:a!=null,items:S,linkProps:b,size:g,text:a!=null?c.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:a}):void 0})}))})):null,n[8]=a,n[9]=i,n[10]=b,n[11]=R,n[12]=g,n[13]=S,n[14]=m.length,n[15]=f,n[16]=L):L=n[16],L}function p(e){return{alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:e}}}function _(e){return{alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:e}}}l.default=m}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.avatarViewUrlExpirationTimestampList,a=t.avatarViewUrlFallbackList,i=t.avatarViewUrlList;if(r("isStringNullOrEmpty")(i))return r("isStringNullOrEmpty")(n)?a!=null?a.split(", "):[]:[];if(r("isStringNullOrEmpty")(n))return[];if(a==null)return[];var l=i.split(", "),s=n.split(", "),u=a.split(", ");return l.map(function(t,n){var r;try{r=o("LSMediaUrlUtils").isTimestampExpired((e||(e=o("I64"))).of_string(s[n]))}catch(e){r=!0}if(r){var a;return(a=u[n])!=null?a:""}else return t})}l.default=s}),98);
__d("MWXMAAttachmentItemBody.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWPAttachmentDataContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","react-compiler-runtime","stylex","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=u||(u=o("react")),p=u.useEffect,_={buttonHorizontal:{flex:"x98rzlu",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",width:"xj35x94",$$css:!0},buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},buttonsWrapperHorizontal:{display:"x78zum5",flexDirection:"x1q0g3np",justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginInlineEnd:"x2fvf9",$$css:!0},hasFavicon:{paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},subthreadFacepiles:{marginInlineEnd:"x1sa5p1d",marginTop:"x1k70j0n",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginInlineEnd:"x1ys307a",marginBottom:"x1yztbdb",marginInlineStart:"xyqm7xq",marginTop:"x14vqqas",$$css:!0}};function f(t){var n,a,l=o("react-compiler-runtime").c(21),u=t.attachment,f=t.attachmentItem,S=t.bodyLineLimit,R=t.buttonLayout,L=t.ctaPopoverMenu,E=t.facepiles,k=t.getFaviconUrlXMA,I=t.headlineLineLimit,T=t.isHscroll,D=t.isPressable,x=t.isSearchSingleBubblePlugin,$=t.isStandalone,P=t.mediaRenderQpl,N=t.onPollOptionFacepilePress,M=t.outgoing,w=t.xmaLayout,A=x===void 0?!1:x,F=M===void 0?!1:M,O=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(f),B=O.attachmentCta1,W=O.attachmentCta2,q=O.attachmentCta3,U;l[0]!==u||l[1]!==f?(U=!1,U=o("LSMediaUrlAttachment").faviconUrl(u)!=null||o("LSMediaUrlAttachmentItem").faviconUrl(f)!=null||u.hasXmaFavicon===!0,l[0]=u,l[1]=f,l[2]=U):U=l[2];var V;l[3]!==U||l[4]!==P?(V=function(){P==null||P.addPoint("render-xma-attachment-item-body",{bool:{has_icon:U}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_has_fav_icon",U)})},l[3]=U,l[4]=P,l[5]=V):V=l[5];var H;l[6]!==U||l[7]!==P?(H=[U,P],l[6]=U,l[7]=P,l[8]=H):H=l[8],p(V,H);var G=(c||(c=o("I64"))).equal((n=u.xmaLayoutType)!=null?n:(c||(c=o("I64"))).zero,(d||(d=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),z=!f.titleText&&!f.subtitleText&&!U,j=f.titleText||!$?f.titleText:u.titleText,K=f.subtitleText||!$?f.subtitleText:u.subtitleText,Q=f.bodyText||!$?f.bodyText:u.bodyText,X;l[9]!==u?(X=r("getLSMediaAttachmentAvatarViewUrlList")(u),l[9]=u,l[10]=X):X=l[10];var Y=X,J=E!=null?E:Y.length!==0&&!G?[m.jsx(r("MWXMAEventFacepiles.react"),{avatarText:u.avatarViewContextText,count:u.avatarCount,cta:B,urls:Y},"xma-event-facepiles")]:[],Z=!j&&!K?[]:[m.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:u,attachmentItem:f,isPressable:D,children:m.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.description,U!=null?U:_.hasFavicon),{children:[m.jsx(r("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:u,attachmentItem:f,getFaviconUrlXMA:k,mediaRenderQpl:P}),m.jsx(r("MWXMAAttachmentItemMainText.react"),{attachment:u,bodyLineLimit:S,bodyText:Q,facePileElement:(c||(c=o("I64"))).equal((a=u.avatarCount)!=null?a:(c||(c=o("I64"))).zero,(c||(c=o("I64"))).zero)?null:m.jsx(r("MWXMAEventFacepiles.react"),{avatarText:u.avatarViewContextText,count:u.avatarCount,cta:B,size:24,urls:Y,xstyle:_.subthreadFacepiles}),hasIcon:U,headlineLineLimit:I,isHscroll:T,isStandalone:$,outgoing:F,subtitleText:K!=null?K:"",title:j!=null?j:"",xmaLayout:w})]}))},"xma-action-trigger")],ee=u.listItemsDescriptionText,te=u.listItemsDescriptionSubtitleText,ne=u.cta2IconType,re=u.cta3IconType,oe=u.listItemId1,ae=u.listItemsSecondaryDescriptionText,ie=u.messageId,le=u.threadKey,se=f.cta1IconType,ue=f.cta1Title,ce=f.cta1Type,de=f.cta2Title,me=f.cta2Type,pe=f.cta3Title,_e=f.cta3Type,fe=ce!=null&&ue!=null&&B!=null?[m.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(R==="horizontal"?_.buttonsWrapperHorizontal:_.buttonsWrapper,z?_.buttonsOnly:!1),{key:"xma-cta-button"}),m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(R==="horizontal"?_.buttonHorizontal:!1),{children:m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:B,ctaIconType:se,messageId:ie,threadKey:le,title:ue,type:ce})})),me!=null&&de!=null&&W!=null?m.jsxs(m.Fragment,{children:[m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(R==="horizontal"?_.buttonHorizontal:!1),{children:m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:W,ctaIconType:ne,messageId:ie,popoverMenu:L,threadKey:le,title:de,type:me})})),_e!=null&&pe!=null&&q!=null?m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(R==="horizontal"?_.buttonHorizontal:!1),{children:m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:q,ctaIconType:re,messageId:ie,threadKey:le,title:pe,type:_e})})):null]}):null)]:[],ge=ee!=null?[m.jsx(C,{headlineLineLimit:I,listItemsDescriptionText:ee},"xma-list-items-description-text")]:[],he=te!=null?[m.jsx(b,{bodyLineLimit:S,value:te},"xma-list-items-description-subtitle-text")]:[],ye=oe!=null?[m.jsx(r("MWXMAAttachmentItemListItems.react"),{attachment:u,onPollOptionFacepilePress:N},"list-item-1")]:[],Ce=ae!=null?[m.jsx(v,{bodyLineLimit:S,listItemsSecondaryDescriptionText:ae},"xma-list-items-secondary-description-text")]:[],be=[Z,ge,he,J,ye,Ce,fe].reduce(y,[]),ve;ve=o("LSMediaUrlAttachment").previewUrl(u)!=null||o("LSMediaUrlAttachmentItem").playableUrl(f)!=null||o("LSMediaUrlAttachmentItem").previewUrl(f)!=null||o("LSMediaUrlAttachmentItem").previewUrlLarge(f)!=null||u.hasXmaPreview===!0;var Se=(s||(s=r("useReStore")))(),Re=o("MWLSThread").useThread(le,h),Le;l[11]!==u.messageId||l[12]!==Se.tables.messages?(Le=function(){return o("ReQL").fromTableAscending(Se.tables.messages.index("messageId")).getKeyRange(u.messageId)},l[11]=u.messageId,l[12]=Se.tables.messages,l[13]=Le):Le=l[13];var Ee;l[14]!==u.messageId||l[15]!==Se?(Ee=[Se,u.messageId],l[14]=u.messageId,l[15]=Se,l[16]=Ee):Ee=l[16];var ke=o("ReQLSuspense").useFirst(Le,Ee,i.id+":406"),Ie;l[17]!==u||l[18]!==ke||l[19]!==Re?(Ie={attachment:u,clickCategory:1,message:ke,threadType:Re},l[17]=u,l[18]=ke,l[19]=Re,l[20]=Ie):Ie=l[20];var Te=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(Ie);return A||be.length===0?null:m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.root,w===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?_.xmaUnifiedtyles:!1,w!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!ve&&u.headerTitle!=null?_.rootWithHeaderAndNoMedia:!1),{ref:Te,children:be.map(g)}))}function g(e,t){return m.jsx(m.Fragment,{children:e},String(t))}g.displayName=g.name+" [from "+i.id+"]";function h(e){return e.threadType}function y(e,t){return e.concat(t)}function C(e){var t=o("react-compiler-runtime").c(4),n=e.headlineLineLimit,a=e.listItemsDescriptionText,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k x2fvf9"},t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=m.jsx("div",babelHelpers.extends({},i,{children:m.jsx(r("MDSTextPairing.react"),{headline:a,headlineLineLimit:n,level:4,textAlign:"center"})})),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}function b(e){var t=o("react-compiler-runtime").c(4),n=e.bodyLineLimit,a=e.value,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 xl56j7k xwib8y2 x889kno"},t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=m.jsx("div",babelHelpers.extends({},i,{children:m.jsx(r("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:n,level:4,textAlign:"center"})})),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}function v(e){var t=o("react-compiler-runtime").c(4),n=e.bodyLineLimit,a=e.listItemsSecondaryDescriptionText,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"xod5an3"},t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=m.jsx("div",babelHelpers.extends({},i,{children:m.jsx(r("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:n,level:4})})),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}l.default=f}),98);
__d("MWXMAAttachmentItemImageDimensionCalculator",["I64","LSIntEnum","MNLSXMALayoutType","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l){var u=n.previewWidth!=null?(e||(e=o("I64"))).to_int32(n.previewWidth):0,c=t.previewWidth!=null?(e||(e=o("I64"))).to_int32(t.previewWidth):0,d=t.previewWidthLarge!=null?(e||(e=o("I64"))).to_int32(t.previewWidthLarge):0,m=u>0?u:c>0?c:d,p=n.previewHeight!=null?(e||(e=o("I64"))).to_int32(n.previewHeight):0,_=t.previewHeight!=null?(e||(e=o("I64"))).to_int32(t.previewHeight):0,f=t.previewHeightLarge!=null?(e||(e=o("I64"))).to_int32(t.previewHeightLarge):0,g=p>0?p:_>0?_:f,h=n.defaultCtaType,y;h==="xma_montage_share"?y=!0:y=n.imageUrl==null?l:m===g;var C=m!==0&&g!==0?m/(g*1):0;t.xmaLayoutType!=null&&(e||(e=o("I64"))).equal(t.xmaLayoutType,(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").STANDARD_DXMA))&&(C===0&&(C=2),y=!0);var b=a,v={height:C===0?106:b/C,width:b},S={};i===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(g>m&&(v.height=b,v.width=C===0?106:b*C),S={aspectRatio:void 0,flexGrow:"0",height:v.height.toString()+"px",margin:"auto",width:v.width.toString()+"px"});var R={height:(C===0?b-106:b/C).toString()+"px",width:b.toString()+"px"};return{aspectRatio:C,dimensions:v,dimensionsStyle:{height:v.height.toString()+"px",width:v.width.toString()+"px"},expand:y,informedTreatmentCardDimension:R,unifiedStyles:S}}l.calculateDimensions=u}),98);
__d("MWXMAEarlyAccessOverlay.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXColumn.react","MWXColumnItem.react","MWXIconClock","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","ServerTime","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useEffect,_=m.useMemo,f=m.useState,g={pill:{backgroundColor:"xatbrnm",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("ServerTime").getMillis(),t[0]=a):a=t[0];var i=f(a),l=i[0],m=i[1],_;t[1]!==n.previewImageDecorationType||t[2]!==n.previewOverlayCountdownExpiry?(_=function(){if(n.previewOverlayCountdownExpiry!=null&&n.previewImageDecorationType!==null&&(u||(u=o("I64"))).equal(n.previewImageDecorationType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").PILL))&&r("gkx")("1643")){var e=window.setInterval(function(){m(o("ServerTime").getMillis())},1e3);return function(){return window.clearInterval(e)}}},t[1]=n.previewImageDecorationType,t[2]=n.previewOverlayCountdownExpiry,t[3]=_):_=t[3];var h;t[4]!==n.previewImageDecorationType||t[5]!==n.previewOverlayCountdownExpiry||t[6]!==l?(h=[n.previewImageDecorationType,n.previewOverlayCountdownExpiry,l],t[4]=n.previewImageDecorationType,t[5]=n.previewOverlayCountdownExpiry,t[6]=l,t[7]=h):h=t[7],p(_,h);var y;e:{var C=n.previewOverlayCountdownExpiry;if(C!=null){var b=(u||(u=o("I64"))).to_float(C)*1e3-l,v=Math.floor(b/36e5),S=Math.floor(b/6e4)%60,R=Math.floor(b/1e3)%60;if(v<0&&S<0&&R<0){y=null;break e}var L;t[8]!==v||t[9]!==S||t[10]!==R?(L=v?s._(/*BTDS*/"{hours}h early access",[s._param("hours",v)]):S?s._(/*BTDS*/"{minutes}m early access",[s._param("minutes",S)]):R?s._(/*BTDS*/"{seconds}s early access",[s._param("seconds",R)]):null,t[8]=v,t[9]=S,t[10]=R,t[11]=L):L=t[11],y=L;break e}y=void 0}var E=y;if(n.previewImageDecorationType==null||!r("gkx")("1643"))return null;if((u||(u=o("I64"))).equal(n.previewImageDecorationType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").BLUR))){var k;t[12]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x1h6ucep x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy"},t[12]=k):k=t[12];var I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=d.jsx(r("MWXColumnItem.react"),{align:"center",children:d.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconClock"),size:20})}),t[13]=I):I=t[13];var T;return t[14]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx("div",babelHelpers.extends({},k,{children:d.jsx(r("MWXRow.react"),{align:"center",expanding:!0,children:d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsxs(r("MWXColumn.react"),{spacing:16,children:[I,d.jsx(r("MWXColumnItem.react"),{align:"center",children:d.jsx(r("MWXText.react"),{color:"white",type:"body2",children:s._(/*BTDS*/"Join for early access")})})]})})})})),t[14]=T):T=t[14],T}if((u||(u=o("I64"))).equal(n.previewImageDecorationType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").PILL))){var D;return t[15]!==E?(D=E!=null&&d.jsx("div",{className:"x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy",children:d.jsx(r("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:d.jsxs(r("MWXRow.react"),{paddingHorizontal:8,paddingVertical:0,spacingHorizontal:4,xstyle:g.pill,children:[d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconClock"),size:16})}),d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsx(r("MWXText.react"),{color:"white",type:"body4",children:E})})]})})}),t[15]=E,t[16]=D):D=t[16],D}return null}l.default=h}),226);
__d("MWXMALivePill.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m={pill:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",paddingTop:"x1nn3v0j",paddingBottom:"x1120s5i",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,textTransform:"xtvhhri",$$css:!0},pillLive:{backgroundColor:"x1cdvf7c",$$css:!0},pillLiveEnded:{backgroundColor:"x2bj2ny",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(8),n=e.previewImageDecorationType,a=(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED)),i=a?m.pillLiveEnded:m.pillLive,l;t[0]!==i?(l=[m.pill,i],t[0]=i,t[1]=l):l=t[1];var p=a?"primary":"white",_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"LIVE"),t[2]=_):_=t[2];var f;t[3]!==p?(f=d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsx(r("MWXText.react"),{color:p,type:"bodyLink4",children:_})}),t[3]=p,t[4]=f):f=t[4];var g;return t[5]!==l||t[6]!==f?(g=d.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,xstyle:l,children:f}),t[5]=l,t[6]=f,t[7]=g):g=t[7],g}l.default=p}),226);
__d("MWXMALiveOverlay.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXIconLive","MWXIconStrict.react","MWXMALivePill.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a=e.isUnjoined,i=n.previewImageDecorationType;if(i==null)return null;var l=o("xmaAttachmentUtils").isLiveXMA(n),c;t[0]!==i?(c=u.jsx(r("MWXMALivePill.react"),{previewImageDecorationType:i}),t[0]=i,t[1]=c):c=t[1];var d=c;if(l){var m;return t[2]!==a||t[3]!==d?(m=a?u.jsx("div",{className:"x1h6ucep x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy",children:u.jsx(r("MWXRow.react"),{align:"center",expanding:!0,children:u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:u.jsxs(r("MWXColumn.react"),{spacing:16,children:[u.jsx(r("MWXColumnItem.react"),{align:"center",children:u.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconLive"),size:36})}),u.jsx(r("MWXColumnItem.react"),{align:"center",children:u.jsx(r("MWXText.react"),{color:"primaryOnMedia",type:"body2",children:s._(/*BTDS*/"Join to see live video")})})]})})})}):u.jsx("div",{className:"x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy",children:u.jsx(r("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:u.jsx(r("MWXRowItem.react"),{children:d})})}),t[2]=a,t[3]=d,t[4]=m):m=t[4],m}return null}l.default=c}),226);
__d("MWXMAAttachmentItemImage.react",["FDSImageCover.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MAWImageUtils","MNXMAPreviewImageDecorationType","MWInformedTreatment.react","MWXMAAttachmentItemImageDimensionCalculator","MWXMAEarlyAccessOverlay.react","MWXMALiveOverlay.react","ReQL","ReQLSuspense","gkx","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useRef,f=m.useState;function g(t){var n,a,l=o("react-compiler-runtime").c(70),c=t.attachment,m=t.attachmentItem,g=t.cardWidth,h=t.isStandalone,y=t.mediaRenderQpl,C=t.previewUrl,b=t.testid,v=t.xmaLayout,S=(e||(e=r("useReStore")))(),R;l[0]!==c.threadKey||l[1]!==S.tables.threads?(R=function(){return o("ReQL").fromTableAscending(S.tables.threads,["threadType"]).getKeyRange(c.threadKey)},l[0]=c.threadKey,l[1]=S.tables.threads,l[2]=R):R=l[2];var L;l[3]!==c.threadKey||l[4]!==S?(L=[S,c.threadKey],l[3]=c.threadKey,l[4]=S,l[5]=L):L=l[5];var E=o("ReQLSuspense").useFirst(R,L,i.id+":64"),k=f(C),I=k[0],T=k[1],D,x;l[6]!==C?(D=function(){T(C)},x=[C],l[6]=C,l[7]=D,l[8]=x):(D=l[7],x=l[8]),p(D,x);var $;l[9]!==E?($=E!=null&&o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(E==null?void 0:E.threadType),l[9]=E,l[10]=$):$=l[10];var P=$,N;l[11]!==E?(N=E!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(E.threadType),l[11]=E,l[12]=N):N=l[12];var M=N,w=c.gatingTitle,A=c.gatingType,F=o("MWInformedTreatment.react").checkIsInformedTreatmentVisible(w,A,C,E==null?void 0:E.threadType),O=o("MWXMAAttachmentItemImageDimensionCalculator").calculateDimensions(c,m,g,v,h),B;l[13]!==c.previewImageDecorationType?(B=c.previewImageDecorationType!=null&&(s||(s=o("I64"))).equal(c.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").BLUR))&&r("gkx")("1643"),l[13]=c.previewImageDecorationType,l[14]=B):B=l[14];var W=B,q;l[15]!==c.previewImageDecorationType||l[16]!==P?(q=P&&c.previewImageDecorationType!=null&&((s||(s=o("I64"))).equal(c.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE))||(s||(s=o("I64"))).equal(c.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED))),l[15]=c.previewImageDecorationType,l[16]=P,l[17]=q):q=l[17];var U=q,V;l[18]!==W||l[19]!==U?(V=W||U?{filter:"blur(15px)",transform:"scale(1.1)"}:{},l[18]=W,l[19]=U,l[20]=V):V=l[20];var H=V,G=_(null),z,j;if(l[21]!==y?(z=function(){var e=G.current;e!=null&&e.complete&&(y==null||y.endSuccess())},j=[y],l[21]=y,l[22]=z,l[23]=j):(z=l[22],j=l[23]),p(z,j),C.length===0||C==="")return y==null||y.endFail("empty_preview_url"),null;var K=m.previewUrlMimeType==="image/gif"||C.includes("tenor")||((n=m.titleText)==null?void 0:n.includes("tenor"))||C.includes("giphy")||((a=m.titleText)==null?void 0:a.includes("giphy")),Q=M===!1&&c.hasXma===!0&&K===!0&&I===C&&C!=null&&C!=="";if(Q){var X=o("MAWImageUtils").generateGIFThumbnail(C,O.dimensions.height,O.dimensions.width);X!=null&&r("promiseDone")(X,function(e){if(e!=null&&e.jpegThumbnail!=null){var t=new Blob([e.jpegThumbnail]),n=URL.createObjectURL(t);n!=null&&n!==""&&T(n)}})}var Y;l[24]!==A||l[25]!==M?(Y=M?o("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(A,10)):A,l[24]=A,l[25]=M,l[26]=Y):Y=l[26];var J=Y;if(w!=null&&J!=null&&F){var Z;return l[27]!==c.messageId||l[28]!==O.informedTreatmentCardDimension||l[29]!==w||l[30]!==J||l[31]!==y||l[32]!==I?(Z=d.jsx(o("MWInformedTreatment.react").MWInformedTreatment,{dimension:O.informedTreatmentCardDimension,gatingTitle:w,gatingType:J,isXMA:!0,mediaRenderQpl:y,messageId:c.messageId,previewUrl:I}),l[27]=c.messageId,l[28]=O.informedTreatmentCardDimension,l[29]=w,l[30]=J,l[31]=y,l[32]=I,l[33]=Z):Z=l[33],Z}if(O.expand){var ee;l[34]===Symbol.for("react.memo_cache_sentinel")?(ee={className:"x78zum5 x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6 xh8yej3"},l[34]=ee):ee=l[34];var te,ne;l[35]!==y?(te=function(){return y==null?void 0:y.endFail("load-image-error")},ne=function(){return y==null?void 0:y.endSuccess()},l[35]=y,l[36]=te,l[37]=ne):(te=l[36],ne=l[37]);var re;l[38]!==H||l[39]!==O.aspectRatio||l[40]!==O.unifiedStyles?(re=babelHelpers.extends({aspectRatio:O.aspectRatio,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},O.unifiedStyles,H),l[38]=H,l[39]=O.aspectRatio,l[40]=O.unifiedStyles,l[41]=re):re=l[41];var oe;l[42]!==te||l[43]!==ne||l[44]!==re||l[45]!==I?(oe=d.jsx("img",{alt:"",onError:te,onLoad:ne,ref:G,src:I,style:re}),l[42]=te,l[43]=ne,l[44]=re,l[45]=I,l[46]=oe):oe=l[46];var ae;l[47]!==c?(ae=d.jsx(r("MWXMAEarlyAccessOverlay.react"),{attachment:c}),l[47]=c,l[48]=ae):ae=l[48];var ie;l[49]!==c||l[50]!==P?(ie=d.jsx(r("MWXMALiveOverlay.react"),{attachment:c,isUnjoined:P}),l[49]=c,l[50]=P,l[51]=ie):ie=l[51];var le;return l[52]!==oe||l[53]!==ae||l[54]!==ie||l[55]!==b?(le=d.jsxs("div",babelHelpers.extends({},ee,{"data-testid":void 0,children:[oe,ae,ie]})),l[52]=oe,l[53]=ae,l[54]=ie,l[55]=b,l[56]=le):le=l[56],le}var se;l[57]===Symbol.for("react.memo_cache_sentinel")?(se="x78zum5 x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6 xh8yej3",l[57]=se):se=l[57];var ue,ce;l[58]!==y?(ue=function(){return y==null?void 0:y.endFail("load-image-error")},ce=function(){return y==null?void 0:y.endSuccess()},l[58]=y,l[59]=ue,l[60]=ce):(ue=l[59],ce=l[60]);var de;l[61]===Symbol.for("react.memo_cache_sentinel")?(de={bottom:"0",left:"0",position:"absolute",right:"0",top:"0"},l[61]=de):de=l[61];var me;l[62]!==ue||l[63]!==ce||l[64]!==I?(me=d.jsx(r("FDSImageCover.react"),{alt:"",onError:ue,onLoad:ce,src:I,style:de}),l[62]=ue,l[63]=ce,l[64]=I,l[65]=me):me=l[65];var pe;return l[66]!==O.dimensionsStyle||l[67]!==me||l[68]!==b?(pe=d.jsx("div",{className:se,"data-testid":void 0,style:O.dimensionsStyle,children:me}),l[66]=O.dimensionsStyle,l[67]=me,l[68]=b,l[69]=pe):pe=l[69],pe}l.default=g}),98);
__d("MWXMAAttachmentItemDefaultImagePreview.react",["CometPlaceholder.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemImage.react","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(20),n=e.attachment,a=e.attachmentItem,i=e.attachmentPreview,l=e.cardWidth,c=e.isPressable,m=e.isStandalone,p=e.mediaRenderQpl,_=e.renderLoadingPlaceholder,f=e.xmaLayout,g,h;if(t[0]!==i.url||t[1]!==p?(g=function(){p==null||p.addPoint("render-xma-attachment-item-default-image-preview",{bool:{has_attachment_preview_url:!!i.url}}),i.url||p==null||p.endFail("image-missing-preview-url")},h=[i.url,p],t[0]=i.url,t[1]=p,t[2]=g,t[3]=h):(g=t[2],h=t[3]),u(g,h),!i.url)return null;var y;t[4]!==_?(y=_("MWXMAAttachmentItemDefaultImagePreview.Suspense",!0),t[4]=_,t[5]=y):y=t[5];var C;t[6]!==i.url?(C=r("nullthrows")(i.url),t[6]=i.url,t[7]=C):C=t[7];var b;t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==c||t[12]!==m||t[13]!==p||t[14]!==C||t[15]!==f?(b=s.jsx(d,{attachment:n,attachmentItem:a,cardWidth:l,isPressable:c,isStandalone:m,mediaRenderQpl:p,previewUrl:C,xmaLayout:f}),t[8]=n,t[9]=a,t[10]=l,t[11]=c,t[12]=m,t[13]=p,t[14]=C,t[15]=f,t[16]=b):b=t[16];var v;return t[17]!==y||t[18]!==b?(v=s.jsx(r("CometPlaceholder.react"),{fallback:y,name:"MWXMAAttachmentItemDefaultImagePreview",children:b}),t[17]=y,t[18]=b,t[19]=v):v=t[19],v}function d(e){var t=o("react-compiler-runtime").c(16),n=e.attachment,a=e.attachmentItem,i=e.cardWidth,l=e.isPressable,c=e.isStandalone,d=e.mediaRenderQpl,m=e.previewUrl,p=e.xmaLayout,_,f;t[0]!==d?(_=function(){d==null||d.addPoint("render-xma-attachment-item-default-image-preview-impl")},f=[d],t[0]=d,t[1]=_,t[2]=f):(_=t[1],f=t[2]),u(_,f);var g;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==p?(g=s.jsx(r("MWXMAAttachmentItemImage.react"),{attachment:n,attachmentItem:a,cardWidth:i,isStandalone:c,mediaRenderQpl:d,previewUrl:m,testid:void 0,xmaLayout:p}),t[3]=n,t[4]=a,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=g):g=t[10];var h;return t[11]!==n||t[12]!==a||t[13]!==l||t[14]!==g?(h=s.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:n,attachmentItem:a,isPressable:l,children:g}),t[11]=n,t[12]=a,t[13]=l,t[14]=g,t[15]=h):h=t[15],h}l.default=c}),98);
__d("MWXMAAttachmentItemDefaultUnsupportedPreview.react",["MWXMALivePill.react","react","react-compiler-runtime","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.mediaRenderQpl,i=n.previewImageDecorationType,l;t[0]!==n?(l=o("xmaAttachmentUtils").isLiveXMA(n),t[0]=n,t[1]=l):l=t[1];var c=l,d,m;if(t[2]!==n||t[3]!==c||t[4]!==a||t[5]!==i?(d=function(){a==null||a.addPoint("render-xma-attachment-item-default-unsupported-preview",{bool:{has_preview_image_decoration_type:i!=null,is_live_xma:c}}),o("xmaAttachmentUtils").isLiveXMA(n)&&i!=null?a==null||a.endSuccess():a==null||a.endFail("missing-xma-media")},m=[n,c,a,i],t[2]=n,t[3]=c,t[4]=a,t[5]=i,t[6]=d,t[7]=m):(d=t[6],m=t[7]),u(d,m),o("xmaAttachmentUtils").isLiveXMA(n)&&i!=null){var p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x78zum5 xzueoph x11t971q xvc5jky xhrpt6u"},t[8]=p):p=t[8];var _;return t[9]!==i?(_=s.jsx("div",babelHelpers.extends({},p,{children:s.jsx(r("MWXMALivePill.react"),{previewImageDecorationType:i})})),t[9]=i,t[10]=_):_=t[10],_}return null}l.default=c}),98);
__d("MWXMAAttachmentItemAttribution.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,r=n,a=r.attributionAppIcon,i=r.attributionAppName;if(a!=null&&i!=null){var l,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x1vmbcc8 x16xm01d x78zum5 x1rfph6h x1iorvi4 x1icxu4v xjkvuk6 x25sj25"},u={className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p xlup9mm x1kky2od"},t[0]=l,t[1]=u):(l=t[0],u=t[1]);var c;t[2]!==a?(c=s.jsx("img",babelHelpers.extends({},u,{src:a})),t[2]=a,t[3]=c):c=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xzsf02u x1nxh6w3 xdzw4kq x13faqbe"},t[4]=d):d=t[4];var m;t[5]!==i?(m=s.jsx("span",babelHelpers.extends({},d,{children:i})),t[5]=i,t[6]=m):m=t[6];var p;return t[7]!==c||t[8]!==m?(p=s.jsxs("div",babelHelpers.extends({},l,{children:[c,m]})),t[7]=c,t[8]=m,t[9]=p):p=t[9],p}return null}l.default=u}),98);
__d("MWXMAAttachmentItemDefaultVideoPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MWXGlimmer.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","deferredLoadComponent","nullthrows","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect,d=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultVideoPreview.react")),m={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.attachmentItem,i=e.attachmentPreview,l=e.isPressable,s=e.mediaRenderQpl,d=e.renderLoadingPlaceholder,m,p;if(t[0]!==i.url||t[1]!==s?(m=function(){s==null||s.addPoint("render-xma-attachment-item-default-video-preview",{bool:{has_attachment_preview_url:!!i.url}}),i.url||s==null||s.endFail("video-missing-preview-url")},p=[i.url,s],t[0]=i.url,t[1]=s,t[2]=m,t[3]=p):(m=t[2],p=t[3]),c(m,p),!i.url)return null;var f;t[4]!==d?(f=d("MWXMAAttachmentItemDefaultVideoPreview.Suspense",!0),t[4]=d,t[5]=f):f=t[5];var g;t[6]!==i.url?(g=r("nullthrows")(i.url),t[6]=i.url,t[7]=g):g=t[7];var h;t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==s||t[12]!==g?(h=u.jsx(_,{attachment:n,attachmentItem:a,isPressable:l,mediaRenderQpl:s,playableUrl:g}),t[8]=n,t[9]=a,t[10]=l,t[11]=s,t[12]=g,t[13]=h):h=t[13];var y;return t[14]!==f||t[15]!==h?(y=u.jsx(r("CometPlaceholder.react"),{fallback:f,name:"MWXMAAttachmentItemDefaultVideoPreview",children:h}),t[14]=f,t[15]=h,t[16]=y):y=t[16],y}function _(e){var t,n=o("react-compiler-runtime").c(26),a=e.attachment,i=e.attachmentItem,l=e.isPressable,m=e.mediaRenderQpl,p=e.playableUrl,_,f;n[0]!==m?(_=function(){m==null||m.addPoint("render-xma-attachment-item-default-video-preview-impl")},f=[m],n[0]=m,n[1]=_,n[2]=f):(_=n[1],f=n[2]),c(_,f);var h=(t=a.shouldAutoplayVideo)!=null?t:!1,y=h?"none":"mwchat",C;n[3]!==i.previewHeight?(C=i.previewHeight!=null?(s||(s=o("I64"))).to_int32(i.previewHeight):0,n[3]=i.previewHeight,n[4]=C):C=n[4];var b;n[5]!==i.previewWidth?(b=i.previewWidth!=null?(s||(s=o("I64"))).to_int32(i.previewWidth):0,n[5]=i.previewWidth,n[6]=b):b=n[6];var v;n[7]!==i.attachmentFbid||n[8]!==m||n[9]!==p||n[10]!==y||n[11]!==C||n[12]!==b?(v=u.jsx(d,{controls:y,fbid:i.attachmentFbid,hideExpandButton:!1,mediaRenderQpl:m,originalHeight:C,originalWidth:b,sdSrc:p,shouldForcePauseOnClick:!0}),n[7]=i.attachmentFbid,n[8]=m,n[9]=p,n[10]=y,n[11]=C,n[12]=b,n[13]=v):v=n[13];var S;n[14]!==i||n[15]!==v?(S=u.jsx(g,{attachmentItem:i,testid:void 0,children:v}),n[14]=i,n[15]=v,n[16]=S):S=n[16];var R;n[17]!==a||n[18]!==h?(R=h?u.jsx(r("MWXMAAttachmentItemAttribution.react"),{attachment:a}):null,n[17]=a,n[18]=h,n[19]=R):R=n[19];var L;return n[20]!==a||n[21]!==i||n[22]!==l||n[23]!==S||n[24]!==R?(L=u.jsxs(r("MWXMAAttachmentActionTrigger.react"),{attachment:a,attachmentItem:i,isPressable:l,children:[S,R]}),n[20]=a,n[21]=i,n[22]=l,n[23]=S,n[24]=R,n[25]=L):L=n[25],L}function f(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:u.jsx(r("MWXGlimmer.react"),{index:0,xstyle:m.glimmer})}),e[0]=t):t=e[0],t}function g(e){var t,n,a=o("react-compiler-runtime").c(7),i=e.attachmentItem,l=e.children,c=e.testid,d=(s||(s=o("I64"))).to_int32((t=i.previewWidth)!=null?t:(s||(s=o("I64"))).zero),m=s.to_int32((n=i.previewHeight)!=null?n:(s||(s=o("I64"))).zero),p=d!==0&&m!==0?d/m:0,_=m>250&&p<.8,g=_?.8:p,h;a[0]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(f,{}),a[0]=h):h=a[0];var y;a[1]!==l?(y=u.jsx(r("CometPlaceholder.react"),{fallback:h,name:"MWXMAAttachmentItemVideoContainer",children:l}),a[1]=l,a[2]=y):y=a[2];var C;return a[3]!==g||a[4]!==y||a[5]!==c?(C=u.jsx(r("CometObjectFitContainer.react"),{contentAspectRatio:g,testid:void 0,children:y}),a[3]=g,a[4]=y,a[5]=c,a[6]=C):C=a[6],C}l.default=p}),98);
__d("MWXMAAttachmentItemDefaultPreviewInner.react",["InteractionTracingMetrics","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentItemDefaultImagePreview.react","MWXMAAttachmentItemDefaultUnsupportedPreview.react","MWXMAAttachmentItemDefaultVideoPreview.react","react","react-compiler-runtime","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(43),n=e.attachment,a=e.attachmentItem,i=e.cardWidth,l=e.getPreviewUrlXMA,c=e.isPressable,m=e.isStandalone,p=e.mediaRenderQpl,_=e.renderLoadingPlaceholder,f=e.xmaLayout,g=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),h=g==="Inbox",y;t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==h||t[4]!==p?(y=o("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:n,attachmentItem:a,description:"MWXMAAttachmentItemDefaultPreviewImpl",getPreviewUrl:l,mediaRenderQpl:p,preferLargePreview:h}),t[0]=n,t[1]=a,t[2]=l,t[3]=h,t[4]=p,t[5]=y):y=t[5];var C=y,b=(C.type==="Video"||C.type==="Image")&&C.url.length>0,v;t[6]!==n?(v=o("xmaAttachmentUtils").isLiveXMA(n),t[6]=n,t[7]=v):v=t[7];var S=v,R,L;switch(t[8]!==n||t[9]!==a||t[10]!==C.hasPlayableUrl||t[11]!==C.hasPreviewUrl||t[12]!==C.mimeType||t[13]!==C.playableUrlMimeType||t[14]!==C.type||t[15]!==C.url||t[16]!==l||t[17]!==b||t[18]!==h||t[19]!==S||t[20]!==p?(R=function(){p==null||p.addPoint("render-xma-attachment-item-default-preview-impl",{bool:{attachment_has_playable_url:!!o("LSMediaUrlAttachment").playableUrl(n),attachment_has_preview_url:!!o("LSMediaUrlAttachment").previewUrl(n),attachment_has_preview_url_large:!!o("LSMediaUrlAttachment").previewUrlLarge(n),attachment_item_has_playable_url:!!o("LSMediaUrlAttachmentItem").playableUrl(a),attachment_item_has_preview_url:!!o("LSMediaUrlAttachmentItem").previewUrl(a),attachment_item_has_preview_url_large:!!o("LSMediaUrlAttachmentItem").previewUrlLarge(a),has_media:b,has_playable_url:C.hasPlayableUrl,has_preview_url:C.hasPreviewUrl,has_url:!!C.url,is_large_surface:h,is_live_xma:S,is_preview_url_callback_fct_set:l!=null},string:{attachment_preview_type:C.type,playable_url_mime_type:C.playableUrlMimeType,preview_url_mime_type:C.mimeType}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(d)},L=[n,a,C.hasPlayableUrl,C.hasPreviewUrl,C.mimeType,C.playableUrlMimeType,C.type,C.url,l,b,h,S,p],t[8]=n,t[9]=a,t[10]=C.hasPlayableUrl,t[11]=C.hasPreviewUrl,t[12]=C.mimeType,t[13]=C.playableUrlMimeType,t[14]=C.type,t[15]=C.url,t[16]=l,t[17]=b,t[18]=h,t[19]=S,t[20]=p,t[21]=R,t[22]=L):(R=t[21],L=t[22]),u(R,L),C.type){case"Video":{var E;return t[23]!==n||t[24]!==a||t[25]!==C||t[26]!==c||t[27]!==p||t[28]!==_?(E=s.jsx(r("MWXMAAttachmentItemDefaultVideoPreview.react"),{attachment:n,attachmentItem:a,attachmentPreview:C,isPressable:c,mediaRenderQpl:p,renderLoadingPlaceholder:_}),t[23]=n,t[24]=a,t[25]=C,t[26]=c,t[27]=p,t[28]=_,t[29]=E):E=t[29],E}case"Image":{var k;return t[30]!==n||t[31]!==a||t[32]!==C||t[33]!==i||t[34]!==c||t[35]!==m||t[36]!==p||t[37]!==_||t[38]!==f?(k=s.jsx(r("MWXMAAttachmentItemDefaultImagePreview.react"),{attachment:n,attachmentItem:a,attachmentPreview:C,cardWidth:i,isPressable:c,isStandalone:m,mediaRenderQpl:p,renderLoadingPlaceholder:_,xmaLayout:f}),t[30]=n,t[31]=a,t[32]=C,t[33]=i,t[34]=c,t[35]=m,t[36]=p,t[37]=_,t[38]=f,t[39]=k):k=t[39],k}case"Unsupported":{var I;return t[40]!==n||t[41]!==p?(I=s.jsx(r("MWXMAAttachmentItemDefaultUnsupportedPreview.react"),{attachment:n,mediaRenderQpl:p}),t[40]=n,t[41]=p,t[42]=I):I=t[42],I}}}function d(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-default-preview-impl","AppTiming")}l.default=c}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","InteractionTracingMetrics","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","LSMessagingThreadTypeUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemDefaultPreviewInner.react","MWXMAAttachmentItemImageDimensionCalculator","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(37),n=e.attachment,a=e.attachmentItem,i=e.cardWidth,l=e.getPreviewUrlXMA,d=e.isPressable,m=e.isStandalone,p=e.mediaRenderQpl,_=e.threadType,f=e.xmaLayout,g=o("LSMediaUrlAttachment").previewUrl(n)!=null||o("LSMediaUrlAttachmentItem").playableUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrlLarge(a)!=null||n.hasXmaPreview===!0,h,y;t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==g||t[4]!==p?(h=function(){p==null||p.addPoint("render-xma-attachment-item-default-preview",{bool:{attachment_has_playable_url:!!o("LSMediaUrlAttachment").playableUrl(n),attachment_has_preview_url:!!o("LSMediaUrlAttachment").previewUrl(n),attachment_has_preview_url_large:!!o("LSMediaUrlAttachment").previewUrlLarge(n),attachment_item_has_playable_url:!!o("LSMediaUrlAttachmentItem").playableUrl(a),attachment_item_has_preview_url:!!o("LSMediaUrlAttachmentItem").previewUrl(a),attachment_item_has_preview_url_large:!!o("LSMediaUrlAttachmentItem").previewUrlLarge(a),has_attachment_fbid:!!n.attachmentFbid,has_media:n.hasMedia,has_preview:g,has_xma_preview:n.hasXmaPreview,is_attachment_fbid_number:!isNaN(n.attachmentFbid),is_preview_url_callback_fct_set:l!=null},string:{attachment_item_playable_url_mime_type:n.playableUrlMimeType,attachment_item_preview_url_mime_type:n.previewUrlMimeType,attachment_playable_url_mime_type:n.playableUrlMimeType,attachment_preview_url_mime_type:n.previewUrlMimeType}}),g||p==null||p.endSuccess(),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-default-preview","AppTiming"),r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_has_preview",g?1:0)})},y=[n,a,l,g,p],t[0]=n,t[1]=a,t[2]=l,t[3]=g,t[4]=p,t[5]=h,t[6]=y):(h=t[5],y=t[6]),u(h,y);var C;t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==m||t[11]!==f?(C=o("MWXMAAttachmentItemImageDimensionCalculator").calculateDimensions(n,a,i,f,m),t[7]=n,t[8]=a,t[9]=i,t[10]=m,t[11]=f,t[12]=C):C=t[12];var b=C,v=b.dimensions.width,S=b.dimensions.height,R=b.aspectRatio,L=i/(R>0?R:1),E=_!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(_);if(!g)return null;var k;t[13]!==i||t[14]!==L||t[15]!==p||t[16]!==S||t[17]!==v?(k=function(t,n){return s.jsxs(s.Fragment,{children:[s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:t,height:S,maxHeight:L,maxWidth:i,mediaRenderQpl:p,width:v,xstyle:c.loadingPlaceholder}),!n&&s.jsx(r("CometHeroHoldTrigger.react"),{description:t,hold:!0})]})},t[13]=i,t[14]=L,t[15]=p,t[16]=S,t[17]=v,t[18]=k):k=t[18];var I=k;if(E&&g&&n.hasMedia===!1){var T;return t[19]!==I?(T=I("MWXMAAttachmentItemDefaultPreview.NoMedia",!1),t[19]=I,t[20]=T):T=t[20],T}var D;t[21]!==g||t[22]!==I?(D=g&&I("MWXMAAttachmentItemDefaultPreview.Suspense",!0),t[21]=g,t[22]=I,t[23]=D):D=t[23];var x;t[24]!==n||t[25]!==a||t[26]!==i||t[27]!==l||t[28]!==d||t[29]!==m||t[30]!==p||t[31]!==I||t[32]!==f?(x=s.jsx(r("MWXMAAttachmentItemDefaultPreviewInner.react"),{attachment:n,attachmentItem:a,cardWidth:i,getPreviewUrlXMA:l,isPressable:d,isStandalone:m,mediaRenderQpl:p,renderLoadingPlaceholder:I,xmaLayout:f}),t[24]=n,t[25]=a,t[26]=i,t[27]=l,t[28]=d,t[29]=m,t[30]=p,t[31]=I,t[32]=f,t[33]=x):x=t[33];var $;return t[34]!==D||t[35]!==x?($=s.jsx(r("CometPlaceholder.react"),{fallback:D,name:"MWXMAAttachmentItemDefaultPreview",children:x}),t[34]=D,t[35]=x,t[36]=$):$=t[36],$}l.default=d}),98);
__d("MWXMAAttachmentItemHeaderIcon.react",["FDSImageCover.react","FDSSkittleIcon.react","InteractionTracingMetrics","MWXMAIconParser.react","react","react-compiler-runtime","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(18),n=e.attachment,a=e.getHeaderUrlXMA,i=e.mediaRenderQpl,l=e.xmaLayout,c=l===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:l,m;if(t[0]!==n||t[1]!==a||t[2]!==i){var p=a(n,"MWXMAAttachmentItemHeaderIcon",i);m=p==null?void 0:o("MWXMAIconParser.react").parse(p),t[0]=n,t[1]=a,t[2]=i,t[3]=m}else m=t[3];var _=m,f,g;if(t[4]!==_||t[5]!==i?(f=function(){i==null||i.addPoint("render-xma-attachment-item-header-icon",{bool:{has_icon:_!=null}}),_!=null&&r("InteractionTracingMetrics").currentInteractionLogger().forEach(d)},g=[_,i],t[4]=_,t[5]=i,t[6]=f,t[7]=g):(f=t[6],g=t[7]),u(f,g),_==null)return null;if(typeof _=="string"){var h=c===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px",y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[8]=y):y=t[8];var C;t[9]!==h?(C={borderRadius:"50%",height:h,width:h},t[9]=h,t[10]=C):C=t[10];var b;return t[11]!==_||t[12]!==C?(b=s.jsx("div",babelHelpers.extends({},y,{children:s.jsx(r("FDSImageCover.react"),{alt:"Icon for this message's header",src:_,style:C})})),t[11]=_,t[12]=C,t[13]=b):b=t[13],b}var v;t[14]===Symbol.for("react.memo_cache_sentinel")?(v={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[14]=v):v=t[14];var S;return t[15]!==_.color||t[16]!==_.icon?(S=s.jsx("div",babelHelpers.extends({},v,{children:s.jsx(r("FDSSkittleIcon.react"),{color:_.color,icon:_.icon,size:36})})),t[15]=_.color,t[16]=_.icon,t[17]=S):S=t[17],S}function d(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-header-icon","AppTiming")}l.default=c}),98);
__d("MWXMAAttachmentItemHeaderIconWithPlaceholder.react",["CometPlaceholder.react","InteractionTracingMetrics","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemHeaderIcon.react","react","react-compiler-runtime","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(14),n=e.attachment,a=e.getHeaderUrlXMA,i=e.mediaRenderQpl,l=e.xmaLayout,d=l===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:l,p,_;t[0]!==i?(p=function(){i==null||i.addPoint("render-xma-attachment-item-header-icon-with-placeholder"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(m)},_=[i],t[0]=i,t[1]=p,t[2]=_):(p=t[1],_=t[2]),u(p,_);var f=d===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?40:32,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[3]=g):g=t[3];var h;t[4]!==f?(h=s.jsx("div",babelHelpers.extends({},g,{children:s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemHeaderIconWithPlaceholder.Suspense",height:f,width:f,xstyle:c.loadingPlaceholder})})),t[4]=f,t[5]=h):h=t[5];var y;t[6]!==n||t[7]!==a||t[8]!==i||t[9]!==d?(y=s.jsx(r("MWXMAAttachmentItemHeaderIcon.react"),{attachment:n,getHeaderUrlXMA:a,mediaRenderQpl:i,xmaLayout:d}),t[6]=n,t[7]=a,t[8]=i,t[9]=d,t[10]=y):y=t[10];var C;return t[11]!==h||t[12]!==y?(C=s.jsx(r("CometPlaceholder.react"),{fallback:h,name:"MWXMAAttachmentItemHeaderIconWithPlaceholder",children:y}),t[11]=h,t[12]=y,t[13]=C):C=t[13],C}function m(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-header-icon","AppTiming")}l.default=d}),98);
__d("MWXMAAttachmentItemHeader.react",["FDSBadgeCheckmarkFilled12Icon","I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSVerifiedType","MAWIsXMAWithPlaintextHash","MWSearchPluginUtils","MWXIcon_DEPRECATED.react","MWXMAAttachmentItemHeaderIconWithPlaceholder.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","stylex","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useEffect,p={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(33),a=t.attachment,i=t.getHeaderUrlXMA,l=t.isSecureThread,s=t.mediaRenderQpl,_=t.xmaLayout,f=_===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:_,g=o("LSMediaUrlAttachment").headerImageUrl(a)!=null||a.hasXmaHeaderImage===!0,h,y;n[0]!==a.headerTitle||n[1]!==g||n[2]!==s?(h=function(){s==null||s.addPoint("render-xma-attachment-item-header",{bool:{has_header_icon:g,has_title:a.headerTitle!=null}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_has_header_icon",g)})},y=[a.headerTitle,g,s],n[0]=a.headerTitle,n[1]=g,n[2]=s,n[3]=h,n[4]=y):(h=n[3],y=n[4]),m(h,y);var C=a.headerTitle;if(C==null)return null;var b=a.headerSubtitleText,v=f===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,S;n[5]!==a?(S=o("MWSearchPluginUtils").isSearchSingleBubblePlugin(a),n[5]=a,n[6]=S):S=n[6];var R=S,L;n[7]!==a.verifiedType?(L=a.verifiedType!=null?(u||(u=o("I64"))).equal(a.verifiedType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").DEFAULT)):!1,n[7]=a.verifiedType,n[8]=L):L=n[8];var E=L,k;n[9]!==a||n[10]!==l?(k=l&&a.receiverFetchId==null&&o("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(a),n[9]=a,n[10]=l,n[11]=k):k=n[11];var I=k,T;n[12]!==v?(T=(e||(e=r("stylex"))).props(p.root,v?p.withBorder:!1),n[12]=v,n[13]=T):T=n[13];var D;n[14]!==a||n[15]!==i||n[16]!==g||n[17]!==s||n[18]!==I||n[19]!==f?(D=g!=null&&!I&&d.jsx(r("MWXMAAttachmentItemHeaderIconWithPlaceholder.react"),{attachment:a,getHeaderUrlXMA:i,mediaRenderQpl:s,xmaLayout:f}),n[14]=a,n[15]=i,n[16]=g,n[17]=s,n[18]=I,n[19]=f,n[20]=D):D=n[20];var x;n[21]!==b||n[22]!==C||n[23]!==R||n[24]!==v?(x=(v||R)&&b!==null&&b!=null&&b!==""?d.jsx(r("MWXTextPairing.react"),{headline:C,level:4,meta:b}):d.jsx(r("MWXText.react"),{type:"bodyLink3",children:C}),n[21]=b,n[22]=C,n[23]=R,n[24]=v,n[25]=x):x=n[25];var $;n[26]!==E?($=E?d.jsx("div",{className:"x78zum5 xdwrcjd",children:d.jsx(r("MWXIcon_DEPRECATED.react"),{color:"highlight",icon:r("FDSBadgeCheckmarkFilled12Icon")})}):null,n[26]=E,n[27]=$):$=n[27];var P;return n[28]!==$||n[29]!==T||n[30]!==D||n[31]!==x?(P=d.jsxs("div",babelHelpers.extends({},T,{children:[D,x,$]})),n[28]=$,n[29]=T,n[30]=D,n[31]=x,n[32]=P):P=n[32],P}l.default=_}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MAWLocalizationType","MAWXMAUtils","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWSearchPluginUtils","MWV2TombstonedMessage.react","MWXMAAttachmentActionTriggerDefault.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(65),n=e.attachment,a=e.attachmentItem,i=e.bodyLineLimit,l=e.buttonLayout,m=e.cardWidth,p=e.ctaPopoverMenu,_=e.facepiles,f=e.getFaviconUrlXMA,g=e.getHeaderUrlXMA,h=e.getPreviewUrlXMA,y=e.headlineLineLimit,C=e.isHscroll,b=e.isPressable,v=e.isStandalone,S=e.mediaRenderQpl,R=e.message,L=e.onPollOptionFacepilePress,E=e.outgoing,k=e.threadType,I=e.xmaLayout,T=E===void 0?!1:E,D=n.defaultCtaType,x=n.xmaContentType,$;t[0]!==k?($=k!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(k),t[0]=k,t[1]=$):$=t[1];var P=$,N=n.xmaLayoutType!==void 0&&(s||(s=o("LSIntEnum"))).toNumber(n.xmaLayoutType)===r("MNLSXMALayoutType").SHARED_STACK,M;t[2]!==n?(M=o("MWSearchPluginUtils").isSearchSingleBubblePlugin(n),t[2]=n,t[3]=M):M=t[3];var w=M,A=(R==null?void 0:R.replySourceTypeV2)!=null&&(u||(u=o("I64"))).equal(R==null?void 0:R.replySourceTypeV2,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE)),F,O;if(t[4]!==D||t[5]!==N||t[6]!==S?(F=function(){S==null||S.addPoint("render-xma-attachment-default-content",{bool:{is_roll_call:N},string:{default_cta_type:D}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"default_cta_type",D!=null?D:"unknown")})},O=[D,N,S],t[4]=D,t[5]=N,t[6]=S,t[7]=F,t[8]=O):(F=t[7],O=t[8]),d(F,O),N){var B;return t[9]!==a||t[10]!==S?(B=c.jsx(r("MWRollCallXMAAttachmentItem.react"),{attachmentItem:a,mediaRenderQpl:S}),t[9]=a,t[10]=S,t[11]=B):B=t[11],B}if(o("MAWXMAUtils").isXMAFBStory(x)||A){var W=o("LSMediaUrlAttachment").previewUrl(n)!=null||o("LSMediaUrlAttachmentItem").playableUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrlLarge(a)!=null||n.hasXmaPreview===!0;if(!W){var q;t[12]===Symbol.for("react.memo_cache_sentinel")?(q=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),t[12]=q):q=t[12];var U;return t[13]!==S||t[14]!==T?(U=c.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:T,mediaRenderQpl:S,children:q}),t[13]=S,t[14]=T,t[15]=U):U=t[15],U}}if(D==="xma_montage_share"){var V;return t[16]!==n||t[17]!==a||t[18]!==m||t[19]!==h||t[20]!==b||t[21]!==v||t[22]!==S||t[23]!==k||t[24]!==I?(V=c.jsx(r("MWXMAAttachmentItemDefaultPreview.react"),{attachment:n,attachmentItem:a,cardWidth:m,getPreviewUrlXMA:h,isPressable:b,isStandalone:v,mediaRenderQpl:S,threadType:k,xmaLayout:I}),t[16]=n,t[17]=a,t[18]=m,t[19]=h,t[20]=b,t[21]=v,t[22]=S,t[23]=k,t[24]=I,t[25]=V):V=t[25],V}var H;t[26]!==n||t[27]!==a||t[28]!==g||t[29]!==w||t[30]!==P||t[31]!==S||t[32]!==I?(H=w?c.jsx(r("MWXMAAttachmentActionTriggerDefault.react"),{attachment:n,attachmentItem:a,children:c.jsx(r("MWXMAAttachmentItemHeader.react"),{attachment:n,getHeaderUrlXMA:g,isSecureThread:P,mediaRenderQpl:S,xmaLayout:I})}):c.jsx(r("MWXMAAttachmentItemHeader.react"),{attachment:n,getHeaderUrlXMA:g,isSecureThread:P,mediaRenderQpl:S,xmaLayout:I}),t[26]=n,t[27]=a,t[28]=g,t[29]=w,t[30]=P,t[31]=S,t[32]=I,t[33]=H):H=t[33];var G;t[34]!==n||t[35]!==a||t[36]!==m||t[37]!==h||t[38]!==b||t[39]!==v||t[40]!==S||t[41]!==k||t[42]!==I?(G=c.jsx(r("MWXMAAttachmentItemDefaultPreview.react"),{attachment:n,attachmentItem:a,cardWidth:m,getPreviewUrlXMA:h,isPressable:b,isStandalone:v,mediaRenderQpl:S,threadType:k,xmaLayout:I}),t[34]=n,t[35]=a,t[36]=m,t[37]=h,t[38]=b,t[39]=v,t[40]=S,t[41]=k,t[42]=I,t[43]=G):G=t[43];var z;t[44]!==n||t[45]!==a||t[46]!==i||t[47]!==l||t[48]!==p||t[49]!==_||t[50]!==f||t[51]!==y||t[52]!==C||t[53]!==b||t[54]!==w||t[55]!==v||t[56]!==S||t[57]!==L||t[58]!==T||t[59]!==I?(z=c.jsx(r("MWXMAAttachmentItemBody.react"),{attachment:n,attachmentItem:a,bodyLineLimit:i,buttonLayout:l,ctaPopoverMenu:p,facepiles:_,getFaviconUrlXMA:f,headlineLineLimit:y,isHscroll:C,isPressable:b,isSearchSingleBubblePlugin:w,isStandalone:v,mediaRenderQpl:S,onPollOptionFacepilePress:L,outgoing:T,xmaLayout:I}),t[44]=n,t[45]=a,t[46]=i,t[47]=l,t[48]=p,t[49]=_,t[50]=f,t[51]=y,t[52]=C,t[53]=b,t[54]=w,t[55]=v,t[56]=S,t[57]=L,t[58]=T,t[59]=I,t[60]=z):z=t[60];var j;return t[61]!==H||t[62]!==G||t[63]!==z?(j=c.jsxs(c.Fragment,{children:[H,G,z]}),t[61]=H,t[62]=G,t[63]=z,t[64]=j):j=t[64],j}l.default=m}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIcon_DEPRECATED.react","MWXMAAttachmentActionTrigger.react","MWXText.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useEffect,m={sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function p(e){var t,n=o("react-compiler-runtime").c(34),a=e.attachment,i=e.attachmentItem,l=e.getPreviewUrlXMA,s=e.isPressable,u=e.mediaRenderQpl,p=l===void 0?r("emptyFunction"):l,h=a.defaultCtaType,y=p(a,i,"MWXMAPrivateAttachment",u),C=(t=o("MWLSThread").useThread(a.threadKey,_))!=null?t:{isSecureThread:!1,threadType:null},b=C.isSecureThread,v=C.threadType,S=a.gatingTitle,R=a.gatingType,L=o("MWInformedTreatment.react").checkIsInformedTreatmentVisible(S,R,y,v),E,k;n[0]!==h||n[1]!==L||n[2]!==b||n[3]!==u||n[4]!==y?(E=function(){return u==null?void 0:u.addPoint("render-xma-private-attachment",{bool:{has_preview_url:y!=null,is_inform_treatment_visible:L,is_secure_thread:b},string:{default_cta_type:h}})},k=[h,L,b,u,y],n[0]=h,n[1]=L,n[2]=b,n[3]=u,n[4]=y,n[5]=E,n[6]=k):(E=n[5],k=n[6]),d(E,k);var I;n[7]!==R||n[8]!==b?(I=b?o("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(R,10)):R,n[7]=R,n[8]=b,n[9]=I):I=n[9];var T=I;if(S!=null&&T!=null&&L){var D;n[10]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x1iu8u7t xh8yej3"},n[10]=D):D=n[10];var x;n[11]===Symbol.for("react.memo_cache_sentinel")?(x={height:"100%",width:"100%"},n[11]=x):x=n[11];var $;n[12]!==a.messageId||n[13]!==S||n[14]!==T||n[15]!==u||n[16]!==y?($=c.jsx("div",babelHelpers.extends({},D,{children:c.jsx(o("MWInformedTreatment.react").MWInformedTreatment,{dimension:x,gatingTitle:S,gatingType:T,isXMA:!0,mediaRenderQpl:u,messageId:a.messageId,previewUrl:y,xstyle:m.sensitiveContent})})),n[12]=a.messageId,n[13]=S,n[14]=T,n[15]=u,n[16]=y,n[17]=$):$=n[17];var P;n[18]!==a||n[19]!==i||n[20]!==s||n[21]!==u?(P=c.jsx(g,{attachment:a,attachmentItem:i,isPressable:s,mediaRenderQpl:u,showPreview:!1}),n[18]=a,n[19]=i,n[20]=s,n[21]=u,n[22]=P):P=n[22];var N;return n[23]!==$||n[24]!==P?(N=c.jsxs(c.Fragment,{children:[$,P]}),n[23]=$,n[24]=P,n[25]=N):N=n[25],N}if(h==="xma_montage_share"){var M;return n[26]!==a||n[27]!==u?(M=c.jsx(f,{attachment:a,mediaRenderQpl:u}),n[26]=a,n[27]=u,n[28]=M):M=n[28],M}var w;return n[29]!==a||n[30]!==i||n[31]!==s||n[32]!==u?(w=c.jsx(g,{attachment:a,attachmentItem:i,isPressable:s,mediaRenderQpl:u,showPreview:!0}),n[29]=a,n[30]=i,n[31]=s,n[32]=u,n[33]=w):w=n[33],w}function _(e){return{isSecureThread:o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),threadType:e.threadType}}function f(e){var t=o("react-compiler-runtime").c(7),n=e.attachment,a=e.mediaRenderQpl,i,l;t[0]!==a?(i=function(){a==null||a.addPoint("render-xma-private-attachment-preview"),a==null||a.endSuccess({bool:{is_private_xma_preview:!0}})},l=[a],t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]),d(i,l);var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=new(r("IconSource"))("FB",u("1423125"),32),t[3]=m):m=t[3];var p=m,_=n.defaultCtaType;if(_==="xma_montage_share"){var f;return t[4]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:c.jsx("div",{className:"x14vqqas xbmvrgn xod5an3 x1diwwjn",children:c.jsx(r("MWXIcon_DEPRECATED.react"),{icon:p})})}),t[4]=f):f=t[4],f}var g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Click to see post"),t[5]=g):g=t[5];var h=g,y;return t[6]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsxs("div",{className:"x6s0dn4 xzudefj x78zum5 xdt5ytf xl56j7k x2b8uid x1iu8u7t xh8yej3",children:[c.jsx("div",{className:"x14vqqas xbmvrgn xod5an3 x1diwwjn",children:c.jsx(r("MWXIcon_DEPRECATED.react"),{icon:p})}),c.jsx(r("MWXText.react"),{color:"white",type:"bodyLink4",children:h})]}),t[6]=y):y=t[6],y}function g(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.attachmentItem,i=e.isPressable,l=e.mediaRenderQpl,u=e.showPreview,m,p;t[0]!==l?(m=function(){l==null||l.addPoint("render-xma-private-attachment-private-body")},p=[l],t[0]=l,t[1]=m,t[2]=p):(m=t[1],p=t[2]),d(m,p);var _;t[3]!==n||t[4]!==l||t[5]!==u?(_=u===!0&&c.jsx(f,{attachment:n,mediaRenderQpl:l}),t[3]=n,t[4]=l,t[5]=u,t[6]=_):_=t[6];var g;t[7]!==_?(g=c.jsx(c.Fragment,{children:_}),t[7]=_,t[8]=g):g=t[8];var h,y;t[9]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x78zum5 x1q0g3np x1iyjqo2 x2fvf9"},y={className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xbmvrgn xod5an3 x1diwwjn x193iq5w xisnujt x1jzhcrs xh8yej3"},t[9]=h,t[10]=y):(h=t[9],y=t[10]);var C;t[11]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx("div",babelHelpers.extends({},h,{children:c.jsx("div",babelHelpers.extends({},y,{children:c.jsx(r("MWXText.react"),{type:"meta4",children:s._(/*BTDS*/"Facebook")})}))})),t[11]=C):C=t[11];var b;return t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==g?(b=c.jsxs(r("MWXMAAttachmentActionTrigger.react"),{attachment:n,attachmentItem:a,isPressable:i,children:[g,C]}),t[12]=n,t[13]=a,t[14]=i,t[15]=g,t[16]=b):b=t[16],b}l.default=p}),226);
__d("MWXMAAttachmentItem.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MAWXMAUtils","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","react-compiler-runtime","stylex","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderInlineEndColor:"xpv9jar",borderBottomColor:"x1nb4dca",borderInlineStartColor:"x1nmn18",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0}},h=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),y=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function C(t){var n,a=o("react-compiler-runtime").c(58),l=t.attachment,d=t.attachmentItem,p=t.bodyLineLimit,_=t.cardWidth,C=t.ctaPopoverMenu,S=t.facepiles,R=t.getFaviconUrlXMA,L=t.getHeaderUrlXMA,E=t.getPreviewUrlXMA,k=t.headlineLineLimit,I=t.isHscroll,T=t.isStandalone,D=t.mediaRenderQpl,x=t.message,$=t.onPollOptionFacepilePress,P=t.outgoing,N=t.xmaLayout,M=p===void 0?3:p,w=_===void 0?300:_,A=L===void 0?o("LSMediaUrlAttachment").headerImageUrl:L,F=k===void 0?3:k,O=P===void 0?!1:P,B=N===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:N,W=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),q=W.rtcVideoCallEnabled,U=W.rtcVoiceCallEnabled,V=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",H;a[0]!==V?(H=function(t,n,r,a){var e=o("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:t,attachmentItem:n,description:"MWXMAAttachmentItem.getDefaultUrl - "+r,mediaRenderQpl:a,preferLargePreview:V});switch(e.type){case"Video":case"Image":return e.url;case"Unsupported":return}},a[0]=V,a[1]=H):H=a[1];var G=H,z=(e||(e=r("useReStore")))(),j;a[2]!==l.threadKey||a[3]!==z.tables.threads?(j=function(){return o("ReQL").fromTableAscending(z.tables.threads,["threadType"]).getKeyRange(l.threadKey)},a[2]=l.threadKey,a[3]=z.tables.threads,a[4]=j):j=a[4];var K;a[5]!==l.threadKey||a[6]!==z?(K=[z,l.threadKey],a[5]=l.threadKey,a[6]=z,a[7]=K):K=a[7];var Q=o("ReQLSuspense").useFirst(j,K,i.id+":133"),X=l.defaultCtaType,Y;a[8]!==q||a[9]!==U||a[10]!==X?(Y=X!=null?y.has(X)&&!U||h.has(X)&&!q:!1,a[8]=q,a[9]=U,a[10]=X,a[11]=Y):Y=a[11];var J=Y,Z=(n=l.shouldAutoplayVideo)!=null?n:!1,ee=Z&&l.attributionAppIcon!=null&&l.attributionAppName!=null,te=ee?g.withBorder:!1,ne;a[12]!==te?(ne=(c||(c=r("stylex")))(g.root,te),a[12]=te,a[13]=ne):ne=a[13];var re=ne,oe=d.attachmentCta1Id!=null,ae=l.gatingType===o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),ie;a[14]!==Q?(ie=Q?o("MWCMThreadTypes.react").isUnjoinedCMThread(Q.threadType):!1,a[14]=Q,a[15]=ie):ie=a[15];var le=ie,se;if(a[16]!==l.xmaLayoutType){var ue;se=(s||(s=o("I64"))).equal((ue=l.xmaLayoutType)!=null?ue:(s||(s=o("I64"))).zero,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),a[16]=l.xmaLayoutType,a[17]=se}else se=a[17];var ce=se,de=l.cta1Type==="xma_join_community"||l.cta1Type==="xma_join_community_chat",me=le&&ce||J||de,pe=V&&o("MAWXMAUtils").isXMAContactShare(l.xmaContentType)?"horizontal":"vertical",_e,fe;a[18]!==de||a[19]!==ae||a[20]!==J||a[21]!==ce||a[22]!==le||a[23]!==D?(_e=function(){D==null||D.addPoint("render-xma-attachment-item",{bool:{is_join_xma:de,is_private_xma:ae,is_rtc_xma_disabled:J,is_subthread_xma:ce,is_unjoined_cm_thread:le}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(v)},fe=[D,J,ae,le,ce,de],a[18]=de,a[19]=ae,a[20]=J,a[21]=ce,a[22]=le,a[23]=D,a[24]=_e,a[25]=fe):(_e=a[24],fe=a[25]),f(_e,fe);var ge=!oe&&!me,he;a[26]!==l||a[27]!==d||a[28]!==M||a[29]!==pe||a[30]!==w||a[31]!==C||a[32]!==S||a[33]!==G||a[34]!==R||a[35]!==A||a[36]!==E||a[37]!==oe||a[38]!==F||a[39]!==I||a[40]!==ae||a[41]!==T||a[42]!==D||a[43]!==x||a[44]!==$||a[45]!==O||a[46]!==me||a[47]!==(Q==null?void 0:Q.threadType)||a[48]!==B?(he=ae?m.jsx(r("MWXMAPrivateAttachment.react"),{attachment:l,attachmentItem:d,getPreviewUrlXMA:E!=null?E:G,isPressable:oe&&!me,mediaRenderQpl:D}):m.jsx(r("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:l,attachmentItem:d,bodyLineLimit:M,buttonLayout:pe,cardWidth:w,ctaPopoverMenu:C,facepiles:S,getFaviconUrlXMA:R!=null?R:b,getHeaderUrlXMA:A,getPreviewUrlXMA:E!=null?E:G,headlineLineLimit:F,isHscroll:I,isPressable:oe&&!me,isStandalone:T,mediaRenderQpl:D,message:x,onPollOptionFacepilePress:$,outgoing:O,threadType:Q==null?void 0:Q.threadType,xmaLayout:B}),a[26]=l,a[27]=d,a[28]=M,a[29]=pe,a[30]=w,a[31]=C,a[32]=S,a[33]=G,a[34]=R,a[35]=A,a[36]=E,a[37]=oe,a[38]=F,a[39]=I,a[40]=ae,a[41]=T,a[42]=D,a[43]=x,a[44]=$,a[45]=O,a[46]=me,a[47]=Q==null?void 0:Q.threadType,a[48]=B,a[49]=he):he=a[49];var ye;a[50]!==re||a[51]!==he?(ye=m.jsx("div",{className:re,"data-testid":void 0,children:he}),a[50]=re,a[51]=he,a[52]=ye):ye=a[52];var Ce;return a[53]!==l||a[54]!==d||a[55]!==ge||a[56]!==ye?(Ce=m.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:l,attachmentItem:d,isPressable:ge,children:ye}),a[53]=l,a[54]=d,a[55]=ge,a[56]=ye,a[57]=Ce):Ce=a[57],Ce}function b(e,t){var n,r;return(n=(r=o("LSMediaUrlAttachment").faviconUrl(e))!=null?r:o("LSMediaUrlAttachmentItem").faviconUrl(t))!=null?n:""}function v(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item","AppTiming")}l.default=C}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","AdsMessengerContext.react","FDSHScroll.react","I64","MWXMAAttachmentItem.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["attachmentItems","fullWidthContainer","hasText","xstyle","cardWidth"],u,c,d,m=d||(d=o("react")),p=284,_={centerElement:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",$$css:!0},firstElement:{borderEndEndRadius:"x1wcsgtt",borderStartEndRadius:"x1t39747",borderStartStartRadius:"xjwep3j",$$css:!0},hScrollContainerPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0},lastElement:{borderEndStartRadius:"x1pczhz8",borderStartStartRadius:"xjwep3j",$$css:!0},spacer:{marginTop:"xifccgj",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(36),a,i,l,d,f,g;n[0]!==t?(a=t.attachmentItems,d=t.fullWidthContainer,f=t.hasText,g=t.xstyle,i=t.cardWidth,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=d,n[5]=f,n[6]=g):(a=n[1],i=n[2],l=n[3],d=n[4],f=n[5],g=n[6]);var h=d===void 0?!1:d,y=f===void 0?!1:f,C=o("AdsMessengerContext.react").useAdsMessengerContext(),b=C.isMessengerInAds,v,S,R,L,E,k,I;if(n[7]!==a||n[8]!==i||n[9]!==h||n[10]!==y||n[11]!==b||n[12]!==l||n[13]!==g){var T=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();n[21]!==h?(I={0:{},1:{className:"x1bu0bv6 x6vbh5p"}}[!h<<0],n[21]=h,n[22]=I):I=n[22],v=o("FDSHScroll.react").Container,n[23]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Message containing multiple sub messages"),n[23]=S):S=n[23],n[24]!==i?(R=i!=null?{type:"fixed",width:i}:{minWidth:p,type:"responsive"},n[24]=i,n[25]=R):R=n[25],L=b?_.hScrollContainerPadding:void 0,E=8,k=a.map(function(e,t){var n=t===0,s=t===a.length-1,d=!n&&!s;return m.jsx(o("FDSHScroll.react").Child,{expanding:!0,children:m.jsx("div",{className:"xjbqb8w x5yr21d xh8yej3",children:m.jsx("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(T,g,n&&y&&_.firstElement,s&&y&&_.lastElement,d&&y&&_.centerElement,y&&_.spacer),{children:m.jsx(r("MWXMAAttachmentItem.react"),babelHelpers.extends({},l,{attachmentItem:e,cardWidth:i,isStandalone:!1}))}))})},(c||(c=o("I64"))).to_string(e.attachmentIndex))}),n[7]=a,n[8]=i,n[9]=h,n[10]=y,n[11]=b,n[12]=l,n[13]=g,n[14]=v,n[15]=S,n[16]=R,n[17]=L,n[18]=E,n[19]=k,n[20]=I}else v=n[14],S=n[15],R=n[16],L=n[17],E=n[18],k=n[19],I=n[20];var D;n[26]!==v||n[27]!==S||n[28]!==R||n[29]!==L||n[30]!==E||n[31]!==k?(D=m.jsx(v,{accessibilityLabel:S,cardWidth:R,containerXStyle:L,gap:E,children:k}),n[26]=v,n[27]=S,n[28]=R,n[29]=L,n[30]=E,n[31]=k,n[32]=D):D=n[32];var x;return n[33]!==I||n[34]!==D?(x=m.jsx("div",babelHelpers.extends({},I,{children:D})),n[33]=I,n[34]=D,n[35]=x):x=n[35],x}l.default=f}),226);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrlAttachment","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useEffect;function d(t){var n=o("react-compiler-runtime").c(19),a=t.attachment,i=t.attachmentItems,l=t.getHeaderUrlXMA,s=t.mediaRenderQpl,d=t.xstyle,m=l===void 0?o("LSMediaUrlAttachment").headerImageUrl:l,p,_;n[0]!==s?(p=function(){s==null||s.endSuccess()},_=[s],n[0]=s,n[1]=p,n[2]=_):(p=n[1],_=n[2]),c(p,_);var f=i[0],g;n[3]!==d?(g=(e||(e=r("stylex"))).props(d),n[3]=d,n[4]=g):g=n[4];var h;n[5]!==a||n[6]!==m||n[7]!==s?(h=u.jsx(r("MWXMAAttachmentItemHeader.react"),{attachment:a,getHeaderUrlXMA:m,isSecureThread:!1,mediaRenderQpl:s}),n[5]=a,n[6]=m,n[7]=s,n[8]=h):h=n[8];var y;n[9]!==i?(y=u.jsx(r("MWPXMAIgProfile.react"),{attachmentItems:i}),n[9]=i,n[10]=y):y=n[10];var C;n[11]!==g||n[12]!==h||n[13]!==y?(C=u.jsxs("div",babelHelpers.extends({},g,{"data-testid":void 0,children:[h,y]})),n[11]=g,n[12]=h,n[13]=y,n[14]=C):C=n[14];var b;return n[15]!==a||n[16]!==f||n[17]!==C?(b=u.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:a,attachmentItem:f,isPressable:!0,children:C}),n[15]=a,n[16]=f,n[17]=C,n[18]=b):b=n[18],b}l.default=d}),98);
__d("MWXMAAttachmentSharedStackFrontCard.react",["CometContainerPressable.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChannelPromptTimerPill.react","MWChatPollFacepile.react","MWLSThread","MWPAttachmentDataContext","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","react-compiler-runtime","stylex","useCurrentDisplayMode","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useEffect,_={containerPressable:{height:"x5yr21d",$$css:!0},frontCard:{backgroundColor:"x9bbmet",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xh8yej3",$$css:!0},frontCardDarkMode:{boxShadow:"xdxoyvu",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(50),a=t.attachment,l=t.mediaRenderQpl,d=t.xstyle,f=r("getLSMediaAttachmentAvatarViewUrlList")(a),y=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(a),C=y.attachmentCta1,b=(e||(e=r("useReStore")))(),v;n[0]!==a.messageId||n[1]!==b.tables.messages?(v=function(){return o("ReQL").fromTableAscending(b.tables.messages.index("messageId")).getKeyRange(a.messageId)},n[0]=a.messageId,n[1]=b.tables.messages,n[2]=v):v=n[2];var S;n[3]!==a.messageId||n[4]!==b?(S=[b,a.messageId],n[3]=a.messageId,n[4]=b,n[5]=S):S=n[5];var R=o("ReQLSuspense").useFirst(v,S,i.id+":87"),L=o("MWLSThread").useThread(a.threadKey,h),E;n[6]!==a||n[7]!==R||n[8]!==L?(E={attachment:a,clickCategory:1,message:R,threadType:L},n[6]=a,n[7]=R,n[8]=L,n[9]=E):E=n[9];var k=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(E),I=(u||(u=o("LSIntEnum"))).toNumber(a.authorityLevel)===r("LSAuthorityLevel").OPTIMISTIC,T=r("useCurrentDisplayMode")()==="dark",D;n[10]!==L?(D=L===void 0?!1:o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(L),n[10]=L,n[11]=D):D=n[11];var x=D,$=a.countdownTimestampMs,P;n[12]!==a||n[13]!==$||n[14]!==x?(P=$!=null&&!(c||(c=o("I64"))).equal($,(c||(c=o("I64"))).zero)?x?m.jsx(r("MWChannelPromptTimerPill.react"),{countdownTimestampMs:$}):m.jsx(r("MWRollCallTimerPill.react"),{attachment:a}):null,n[12]=a,n[13]=$,n[14]=x,n[15]=P):P=n[15];var N=P,M,w;n[16]!==l?(M=function(){l==null||l.endSuccess()},w=[l],n[16]=l,n[17]=M,n[18]=w):(M=n[17],w=n[18]),p(M,w);var A;n[19]!==T||n[20]!==d?(A=(s||(s=r("stylex"))).props(_.frontCard,T&&_.frontCardDarkMode,d),n[19]=T,n[20]=d,n[21]=A):A=n[21];var F;n[22]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo"},n[22]=F):F=n[22];var O;n[23]!==a.titleText?(O=m.jsx("div",babelHelpers.extends({},F,{children:m.jsx(r("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:a.titleText})})),n[23]=a.titleText,n[24]=O):O=n[24];var B;n[25]===Symbol.for("react.memo_cache_sentinel")?(B={className:"xr1yuqi x11t971q x4ii5y1 xvc5jky"},n[25]=B):B=n[25];var W=I?m.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}):m.jsx(r("MWChatPollFacepile.react"),{contacts:f.map(g),countOverride:x&&a.avatarCount!=null?(c||(c=o("I64"))).to_float(a.avatarCount):void 0,direction:"reversed",gap:"negative",isPrompt:x,limit:x?3:void 0,size:x?"mediumLarge":"large"}),q;n[26]!==B||n[27]!==W?(q=m.jsx("div",babelHelpers.extends({},B,{children:W})),n[26]=B,n[27]=W,n[28]=q):q=n[28];var U;n[29]===Symbol.for("react.memo_cache_sentinel")?(U={className:"x1xmf6yo"},n[29]=U):U=n[29];var V;n[30]!==a.cta1Title||n[31]!==a.cta1Type||n[32]!==a.messageId||n[33]!==a.threadKey||n[34]!==C?(V=C!=null&&a.cta1Title!=null&&a.cta1Type!=null?m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:C,messageId:a.messageId,threadKey:a.threadKey,title:a.cta1Title,type:a.cta1Type}):null,n[30]=a.cta1Title,n[31]=a.cta1Type,n[32]=a.messageId,n[33]=a.threadKey,n[34]=C,n[35]=V):V=n[35];var H;n[36]!==V?(H=m.jsx("div",babelHelpers.extends({},U,{children:V})),n[36]=V,n[37]=H):H=n[37];var G;n[38]!==O||n[39]!==q||n[40]!==H||n[41]!==A||n[42]!==N||n[43]!==k?(G=m.jsxs("div",babelHelpers.extends({},A,{ref:k,children:[N,O,q,H]})),n[38]=O,n[39]=q,n[40]=H,n[41]=A,n[42]=N,n[43]=k,n[44]=G):G=n[44];var z=G,j;n[45]!==L?(j=L===void 0?!1:o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(L),n[45]=L,n[46]=j):j=n[46];var K=j,Q;return n[47]!==z||n[48]!==K?(Q=K?m.jsx(r("CometContainerPressable.react"),{xstyle:_.containerPressable,children:z}):z,n[47]=z,n[48]=K,n[49]=Q):Q=n[49],Q}function g(e){return{name:void 0,profile_picture_url:e}}function h(e){return e.threadType}l.default=f}),98);
__d("MWXMAAttachmentSharedStackItem.react",["Locale","MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={stackItem:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",bottom:"x1ey2m1c",boxShadow:"x28gwc1",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(13),a=t.attachment,i=t.attachmentItem,l=t.index,s=t.mediaRenderQpl,d=t.totalItems,m=t.xstyle,p=l%2===0?-4:4,_=0,f=0;e:switch(l){case 0:{_=0,f=-12;break e}case 1:{_=58,f=-20;break e}case 2:_=34,f=-28}if(o("Locale").isRTL()&&(_=_*-1,p=p*-1),(a.defaultCtaType==="xma_prompt_open_viewer_for_text"||a.defaultCtaType==="xma_roll_call_open_viewer")&&i.previewUrl===void 0&&i.titleText===void 0)return null;var g;n[0]!==m?(g=(e||(e=r("stylex")))(c.stackItem,m),n[0]=m,n[1]=g):g=n[1];var h="rotate("+p+"deg) translateX("+_+"px) translateY("+f+"px)",y=d-l,C;n[2]!==h||n[3]!==y?(C={height:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:h,width:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:y},n[2]=h,n[3]=y,n[4]=C):C=n[4];var b;n[5]!==a||n[6]!==i||n[7]!==s?(b=u.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:i,cardWidth:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1,mediaRenderQpl:s}),n[5]=a,n[6]=i,n[7]=s,n[8]=b):b=n[8];var v;return n[9]!==g||n[10]!==C||n[11]!==b?(v=u.jsx("div",{className:g,style:C,children:b}),n[9]=g,n[10]=C,n[11]=b,n[12]=v):v=n[12],v}l.default=d}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["LSMessagingThreadTypeUtil","MWLSThread","MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo,d={centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0}};function m(t){var n,a=t.attachment,i=t.attachmentItems,l=t.centered,s=l===void 0?!1:l,m=t.children,p=t.xstyle,_=(n=o("MWLSThread").useThread(a.threadKey,function(e){return o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}))!=null?n:!1,f=_?i.slice(1,4):i.slice(0,3),g=c(function(){switch(f.length){case 0:return o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+8;case 1:return o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+20;case 2:return o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+30;default:return o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+40}},[f.length]),h=o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64;return u.jsxs("div",{className:(e||(e=r("stylex")))(d.stackContainer,p,s&&d.centered),style:{height:g,width:h},children:[f.map(function(e,t){return u.jsx(r("MWXMAAttachmentSharedStackItem.react"),{attachment:a,attachmentItem:e,index:t,mediaRenderQpl:null,totalItems:f.length},t)}),u.jsx("div",{className:"x1ey2m1c x10l6tqk xr2ch4k",style:{height:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:f.length+1},children:m})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={background:{backgroundColor:"x1xr0vuk",$$css:!0},centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},outgoingBackground:{backgroundAttachment:"x1nr1p0w",backgroundColor:"x11jlvup",backgroundImage:"xl54vp5",color:"x14ctfv",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(6),a=t.children,i=t.outgoing,l=t.xstyle,s;if(n[0]!==i||n[1]!==l){var d=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();s=(e||(e=r("stylex"))).props(d,l,c.centered,i?c.outgoingBackground:c.background),n[0]=i,n[1]=l,n[2]=s}else s=n[2];var m;return n[3]!==a||n[4]!==s?(m=u.jsx("div",babelHelpers.extends({},s,{children:a})),n[3]=a,n[4]=s,n[5]=m):m=n[5],m}l.default=d}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CometPlaceholder.react","MWLSThreadDisplayContext","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},glimmer:{height:"x1m3v4wt",width:"xdzyupr",$$css:!0},glimmerChatTabWidth:{width:"x1t9vceh",$$css:!0},glimmerMissingPreview:{height:"xqvfhly",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(21),n=e.attachment,a=e.centered,i=e.children,l=e.connectBottom,c=e.connectTop,d=e.hasText,m=e.outgoing,p=e.xmaLayout,_=e.xstyle,f=a===void 0?!1:a,g=d===void 0?!1:d,h=m?"right":"left",y=g,C=p!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&y?"top":"none",b;t[0]!==h||t[1]!==l||t[2]!==c||t[3]!==C?(b=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:h,connectBottom:l,connectTop:c,flatten:C}),t[0]=h,t[1]=l,t[2]=c,t[3]=C,t[4]=b):b=t[4];var v=b,S=f&&u.centered,R;t[5]!==v||t[6]!==S?(R=[v,S],t[5]=v,t[6]=S,t[7]=R):R=t[7];var L=R,E=(n==null?void 0:n.previewHeightLarge)==null&&(n==null?void 0:n.previewHeight)==null,k=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",I=k&&u.glimmerChatTabWidth,T=E&&u.glimmerMissingPreview,D;t[8]!==L||t[9]!==I||t[10]!==T?(D=s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[u.glimmer,I,T].concat(L)}),t[8]=L,t[9]=I,t[10]=T,t[11]=D):D=t[11];var x;t[12]!==L||t[13]!==_?(x=[_,L],t[12]=L,t[13]=_,t[14]=x):x=t[14];var $;t[15]!==i||t[16]!==x?($=s.jsx(o("react-strict-dom").html.div,{style:x,children:i}),t[15]=i,t[16]=x,t[17]=$):$=t[17];var P;return t[18]!==$||t[19]!==D?(P=s.jsx(r("CometPlaceholder.react"),{fallback:D,name:"MWXMAAttachmentVerticalLayout",children:$}),t[18]=$,t[19]=D,t[20]=P):P=t[20],P}l.default=c}),98);
__d("MWXMACardStyles.react",[],(function(t,n,r,o,a,i,l){"use strict";var e={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},liveCardWidth:{marginBottom:"x1e56ztr",width:"xdzyupr",$$css:!0},liveCardWidthChatTab:{marginBottom:"x1e56ztr",width:"x1t9vceh",$$css:!0},outgoing_xma:{marginInlineStart:"xvc5jky",$$css:!0},storyCardWidth:{maxWidth:"x18qnofl",width:"xh8yej3",$$css:!0}};l.xmaCardStyles=e}),98);
__d("MWXMAAttachmentImpl.react",["FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MNLSXMALayoutType","MWLSThreadDisplayContext","MWPAttachmentDataContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","MWXMACardStyles.react","react","react-compiler-runtime","stylex","xmaAttachmentUtils","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react"));function m(e){return{attachmentCta1Id:e.attachmentCta1Id,attachmentCta2Id:e.attachmentCta2Id,attachmentCta3Id:e.attachmentCta3Id,attachmentFbid:e.attachmentFbid,attachmentIndex:e.attachmentIndex,cta1Title:e.cta1Title,cta1Type:e.cta1Type,cta2Title:e.cta2Title,cta2Type:e.cta2Type,cta3Title:e.cta3Title,cta3Type:e.cta3Type,dashManifest:e.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:e.defaultCtaId,defaultCtaTitle:e.defaultCtaTitle,defaultCtaType:e.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:e.faviconUrl,faviconUrlExpirationTimestampMs:e.faviconUrlExpirationTimestampMs,faviconUrlFallback:e.faviconUrlFallback,imageUrl:e.imageUrl,messageId:e.messageId,originalPageSenderId:e.originalPageSenderId,playableUrl:e.playableUrl,playableUrlExpirationTimestampMs:e.playableUrlExpirationTimestampMs,playableUrlFallback:e.playableUrlFallback,playableUrlMimeType:e.playableUrlMimeType,previewHeight:e.previewHeight,previewUrl:e.previewUrl,previewUrlExpirationTimestampMs:e.previewUrlExpirationTimestampMs,previewUrlFallback:e.previewUrlFallback,previewUrlLarge:e.previewUrlLarge,previewUrlMimeType:e.previewUrlMimeType,previewWidth:e.previewWidth,subtitleText:e.subtitleText,threadKey:e.threadKey,titleText:e.titleText}}var p={card:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(153),a=t.attachment,i=t.bodyLineLimit,l=t.cardWidth,s=t.connectBottom,_=t.connectTop,f=t.ctaPopoverMenu,g=t.facepiles,h=t.fullWidthContainer,y=t.getFaviconUrlXMA,C=t.getHeaderUrlXMA,b=t.getPreviewUrlXMA,v=t.hasText,S=t.headlineLineLimit,R=t.mediaRenderQpl,L=t.message,E=t.onPollOptionFacepilePress,k=t.outgoing,I=t.xmaLayout,T=t.xstyle,D=h===void 0?!1:h,x=v===void 0?!1:v,$=I===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:I,P=a.attachmentType,N=a.cta1Type,M=a.defaultCtaType,w=a.isBorderless,A=a.xmaContentType,F=a.xmaLayoutType,O=o("MWPAttachmentDataContext").useMWPGetAttachmentItems(a),B,W;n[0]!==F?(B=function(){return F!=null?[(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").HSCROLL)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").XCENTER)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SHARED_STACK)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},W=[F],n[0]=F,n[1]=B,n[2]=W):(B=n[1],W=n[2]);var q=o("Int64Hooks").useMemoInt64(B,W),U=q[0],V=q[1],H=q[2],G=q[3],z=q[4],j=q[5],K;n[3]!==a?(K=o("xmaAttachmentUtils").isLiveXMA(a),n[3]=a,n[4]=K):K=n[4];var Q=K,X=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),Y=null;if(G){var J;n[5]!==a||n[6]!==R?(J=d.jsx(r("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:a,mediaRenderQpl:R}),n[5]=a,n[6]=R,n[7]=J):J=n[7];var Z;n[8]!==a||n[9]!==O||n[10]!==J?(Z=d.jsx(r("MWXMAAttachmentSharedStackLayout.react"),{attachment:a,attachmentItems:O,children:J}),n[8]=a,n[9]=O,n[10]=J,n[11]=Z):Z=n[11],Y=Z}else if(z){var ee;n[12]!==a||n[13]!==O[0]||n[14]!==i||n[15]!==l||n[16]!==f||n[17]!==g||n[18]!==y||n[19]!==C||n[20]!==b||n[21]!==S||n[22]!==U||n[23]!==R||n[24]!==L||n[25]!==k||n[26]!==$?(ee=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:O[0],bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,outgoing:k,xmaLayout:$}),n[12]=a,n[13]=O[0],n[14]=i,n[15]=l,n[16]=f,n[17]=g,n[18]=y,n[19]=C,n[20]=b,n[21]=S,n[22]=U,n[23]=R,n[24]=L,n[25]=k,n[26]=$,n[27]=ee):ee=n[27];var te;n[28]!==k||n[29]!==ee?(te=d.jsx(r("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:k,xstyle:p.card,children:ee}),n[28]=k,n[29]=ee,n[30]=te):te=n[30],Y=te}else if(U){var ne;n[31]===Symbol.for("react.memo_cache_sentinel")?(ne=[p.card,p.opaqueCard],n[31]=ne):ne=n[31];var re;n[32]!==a||n[33]!==O||n[34]!==i||n[35]!==l||n[36]!==f||n[37]!==g||n[38]!==D||n[39]!==y||n[40]!==C||n[41]!==b||n[42]!==x||n[43]!==S||n[44]!==U||n[45]!==R||n[46]!==$?(re=d.jsx(r("MWXMAAttachmentHorizontalItems.react"),{attachment:a,attachmentItems:O,bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,fullWidthContainer:D,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,hasText:x,headlineLineLimit:S,isHscroll:U,mediaRenderQpl:R,xmaLayout:$,xstyle:ne}),n[32]=a,n[33]=O,n[34]=i,n[35]=l,n[36]=f,n[37]=g,n[38]=D,n[39]=y,n[40]=C,n[41]=b,n[42]=x,n[43]=S,n[44]=U,n[45]=R,n[46]=$,n[47]=re):re=n[47],Y=re}else if(H&&O.length===6){var oe;n[48]===Symbol.for("react.memo_cache_sentinel")?(oe=[p.card,p.opaqueCard],n[48]=oe):oe=n[48];var ae;n[49]!==a||n[50]!==O||n[51]!==C||n[52]!==R?(ae=d.jsx(r("MWXMAAttachmentItemIgProfile.react"),{attachment:a,attachmentItems:O,getHeaderUrlXMA:C,mediaRenderQpl:R}),n[49]=a,n[50]=O,n[51]=C,n[52]=R,n[53]=ae):ae=n[53];var ie;n[54]!==a||n[55]!==s||n[56]!==_||n[57]!==k||n[58]!==ae||n[59]!==$?(ie=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,centered:!0,connectBottom:s,connectTop:_,outgoing:k,xmaLayout:$,xstyle:oe,children:ae}),n[54]=a,n[55]=s,n[56]=_,n[57]=k,n[58]=ae,n[59]=$,n[60]=ie):ie=n[60],Y=ie}else if(V&&O.length===1){var le;n[61]===Symbol.for("react.memo_cache_sentinel")?(le=[p.card,p.opaqueCard],n[61]=le):le=n[61];var se;n[62]!==a||n[63]!==O[0]||n[64]!==i||n[65]!==l||n[66]!==f||n[67]!==g||n[68]!==y||n[69]!==C||n[70]!==b||n[71]!==S||n[72]!==U||n[73]!==R||n[74]!==L||n[75]!==E||n[76]!==$?(se=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:O[0],bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,onPollOptionFacepilePress:E,xmaLayout:$}),n[62]=a,n[63]=O[0],n[64]=i,n[65]=l,n[66]=f,n[67]=g,n[68]=y,n[69]=C,n[70]=b,n[71]=S,n[72]=U,n[73]=R,n[74]=L,n[75]=E,n[76]=$,n[77]=se):se=n[77];var ue;n[78]!==a||n[79]!==s||n[80]!==_||n[81]!==k||n[82]!==se||n[83]!==$?(ue=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,centered:!0,connectBottom:s,connectTop:_,outgoing:k,xmaLayout:$,xstyle:le,children:se}),n[78]=a,n[79]=s,n[80]=_,n[81]=k,n[82]=se,n[83]=$,n[84]=ue):ue=n[84],Y=ue}else if(O.length===0){var ce=w!==!0&&p.opaqueCard,de;n[85]!==ce?(de=[p.card,ce],n[85]=ce,n[86]=de):de=n[86];var me;n[87]!==a?(me=m(a),n[87]=a,n[88]=me):me=n[88];var pe;n[89]!==a||n[90]!==i||n[91]!==l||n[92]!==f||n[93]!==g||n[94]!==y||n[95]!==C||n[96]!==b||n[97]!==S||n[98]!==U||n[99]!==R||n[100]!==L||n[101]!==me||n[102]!==$?(pe=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:me,bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,xmaLayout:$}),n[89]=a,n[90]=i,n[91]=l,n[92]=f,n[93]=g,n[94]=y,n[95]=C,n[96]=b,n[97]=S,n[98]=U,n[99]=R,n[100]=L,n[101]=me,n[102]=$,n[103]=pe):pe=n[103];var _e;n[104]!==a||n[105]!==s||n[106]!==_||n[107]!==x||n[108]!==k||n[109]!==pe||n[110]!==de||n[111]!==$?(_e=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,connectBottom:s,connectTop:_,hasText:x,outgoing:k,xmaLayout:$,xstyle:de,children:pe}),n[104]=a,n[105]=s,n[106]=_,n[107]=x,n[108]=k,n[109]=pe,n[110]=de,n[111]=$,n[112]=_e):_e=n[112],Y=_e}else if(O.length===1){var fe;n[113]===Symbol.for("react.memo_cache_sentinel")?(fe=[p.card,p.opaqueCard],n[113]=fe):fe=n[113];var ge;n[114]!==a||n[115]!==O[0]||n[116]!==i||n[117]!==l||n[118]!==f||n[119]!==g||n[120]!==y||n[121]!==C||n[122]!==b||n[123]!==S||n[124]!==U||n[125]!==R||n[126]!==L||n[127]!==k||n[128]!==$?(ge=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:O[0],bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,outgoing:k,xmaLayout:$}),n[114]=a,n[115]=O[0],n[116]=i,n[117]=l,n[118]=f,n[119]=g,n[120]=y,n[121]=C,n[122]=b,n[123]=S,n[124]=U,n[125]=R,n[126]=L,n[127]=k,n[128]=$,n[129]=ge):ge=n[129];var he;n[130]!==a||n[131]!==s||n[132]!==_||n[133]!==x||n[134]!==k||n[135]!==ge||n[136]!==$?(he=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,connectBottom:s,connectTop:_,hasText:x,outgoing:k,xmaLayout:$,xstyle:fe,children:ge}),n[130]=a,n[131]=s,n[132]=_,n[133]=x,n[134]=k,n[135]=ge,n[136]=$,n[137]=he):he=n[137],Y=he}else R==null||R.endFail("unknown_combination_of_xma_items_and_layout"),r("FBLogger")("messenger_web_sharing").mustfix("Unknown combination of XMA items and layout. n Attachment Items: %s, XMA Layout Type: %s, Attachment Type: %s,  XMA content Type: %s, default CTA type: %s, CTA 1 type: %s",String(O.length),F==null?"na":(u||(u=o("I64"))).to_string(F),(u||(u=o("I64"))).to_string(P),A==null?"na":(u||(u=o("I64"))).to_string(A),M==null?"na":M,N==null?"na":N);var ye;n[138]!==A?(ye=A!=null&&(u||(u=o("I64"))).equal(A,(c||(c=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").FB_STORY_MENTION)),n[138]=A,n[139]=ye):ye=n[139];var Ce=ye,be;if(n[140]!==X||n[141]!==V||n[142]!==j||n[143]!==Ce||n[144]!==U||n[145]!==Q||n[146]!==k||n[147]!==$||n[148]!==T){var ve=$===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[o("MWXMACardStyles.react").xmaCardStyles.cardWidth,k&&o("MWXMACardStyles.react").xmaCardStyles.outgoing_xma]:Ce?o("MWXMACardStyles.react").xmaCardStyles.storyCardWidth:o("MWXMACardStyles.react").xmaCardStyles.cardWidth,Se=X==="ChatTab",Re=j?Se?o("MWXMACardStyles.react").xmaCardStyles.cardWidthChatTab:o("MWXMACardStyles.react").xmaCardStyles.cardWidth:T,Le=Se?o("MWXMACardStyles.react").xmaCardStyles.liveCardWidthChatTab:o("MWXMACardStyles.react").xmaCardStyles.liveCardWidth;be=(e||(e=r("stylex"))).props(U&&Se&&p.rootForHScrollInChatTab,!U&&!V&&!Q&&ve,Q?Le:Re),n[140]=X,n[141]=V,n[142]=j,n[143]=Ce,n[144]=U,n[145]=Q,n[146]=k,n[147]=$,n[148]=T,n[149]=be}else be=n[149];var Ee;return n[150]!==Y||n[151]!==be?(Ee=d.jsx("div",babelHelpers.extends({},be,{children:Y})),n[150]=Y,n[151]=be,n[152]=Ee):Ee=n[152],Ee}l.default=_}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var a=o("react-compiler-runtime").c(20),i=t!=null?t:!1,l,s;a[0]!==e||a[1]!==i?(l=function(){if(i){var t=o("Run").onUnload(function(){return e(!1)});return function(){return t.remove()}}},s=[i,e],a[0]=e,a[1]=i,a[2]=l,a[3]=s):(l=a[2],s=a[3]),u(l,s);var c,d;a[4]===Symbol.for("react.memo_cache_sentinel")?(d={contents:!1},a[4]=d):d=a[4];var m=d,p;a[5]!==e?(p=function(){if(!m.contents)return e(!1)},a[5]=e,a[6]=p):p=a[6];var _=n|0,f;a[7]!==p||a[8]!==_?(f=r("debounce")(p,_),a[7]=p,a[8]=_,a[9]=f):f=a[9];var g=f,h;a[10]!==e?(h=r("CometThrottle")(function(){return e(!0)},3e3,{leading:!0,trailing:!1}),a[10]=e,a[11]=h):h=a[11];var y=h,C;a[12]!==e?(C=function(){e(!1),m.contents=!0},a[12]=e,a[13]=C):C=a[13];var b=C,v;a[14]!==g||a[15]!==y?(v=function(){return y(),g()},a[14]=g,a[15]=y,a[16]=v):v=a[16];var S=v,R;return a[17]!==b||a[18]!==S?(R=[S,b],a[17]=b,a[18]=S,a[19]=R):R=a[19],c=R,c}l.useLatch=d}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case r("MessagingAttachmentType").NONE:return 1;case r("MessagingAttachmentType").STICKER:return 4;case r("MessagingAttachmentType").IMAGE:return 8;case r("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case r("MessagingAttachmentType").VIDEO:return 10;case r("MessagingAttachmentType").AUDIO:return 11;case r("MessagingAttachmentType").FILE:return 9;case r("MessagingAttachmentType").XMA:return 13;case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case r("MessagingAttachmentType").SELFIE_STICKER:return 22;case r("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}l.convertI64ToAttachmentType=s}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3905"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3476"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function s(e,t){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,t)}function u(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function c(e,t,n){var a=e.id,i=e.isOnline,l=e.messageThreadId,s=e.position,u=e.storyIds,c=e.surface,d=e.targetType,m=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)m="one_px_impression";else return;var p={event_type:m,surface:{entry_point:c.entry_point,major_surface:c.major_surface,minor_surface:c.minor_surface},target:{ranking:{absolute_position:s!=null?s.toString():"-1"},type:d,user:{id:a}}};if(i!=null&&(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{presence:{status:i?1:0}})})),(u==null?void 0:u.firstCardId)!=null&&(u==null?void 0:u.bucketId)!=null){var _,f=atob(u.firstCardId),g=null;f!=null&&f.includes("S:_ISC:")&&(g=f.split("S:_ISC:")[1]),p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{story:{bucket_id:(_=u.bucketId)!=null?_:null,first_card_id:g!=null?g:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerInboxTrayEventFalcoEvent").log(function(){return p}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{button:n!=null?{type:n}:void 0,message_thread:l!=null?{consistent_thread_fbid:l}:void 0})}),r("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return p})):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerInboxTrayEventFalcoEvent").log(function(){return p})}l.logClickEvent=e,l.logConversionClickEvent=s,l.logImpressionEvent=u}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("relay-runtime").Observable.create(function(a){var i=n(t),l=function(t){a.closed||a.next(t)},s,u=[],c=i.subscribe(function(e,t){u.push([e,t])}),d=t.subscribeToCommit(function(){if(!a.closed&&s!=null&&u.length>0){var e=s;r("applyChangesToBPlusTree")(e,u)&&l(Array.from(e.entries()))}}),m=i.iterator(o("SortedAsyncIterable").getOrCreateContext(i)),p=[];return r("promiseDone")((async function(){for(;!a.closed;){var t=m.next();if((e||(e=r("isPromise")))(t)&&(t=await t),t.done)break;p.push(t.value)}if(!a.closed){var n=s=r("createBPlusTreeFromSorted")(p,i.direction);l(r("applyChangesToBPlusTree")(n,u)?Array.from(n.entries()):p)}})()),function(){c(),d()}})}l.create=s}),98);
__d("TetraMWChatComposerIcons.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(9),a=t.fill,i=t.size,l=t.xstyle,s=l===void 0?!1:l,d;n[0]!==s?(d=(e||(e=r("stylex"))).props(c.icon,c.fillGrey,s),n[0]=s,n[1]=d):d=n[1];var m=String(i)+"px",p=String(i)+"px",_;n[2]!==a?(_=u.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:a,fillRule:"nonzero"}),n[2]=a,n[3]=_):_=n[3];var f;return n[4]!==d||n[5]!==m||n[6]!==p||n[7]!==_?(f=u.jsx("svg",babelHelpers.extends({},d,{height:m,viewBox:"0 0 16 16",width:p,x:"0px",y:"0px",children:_})),n[4]=d,n[5]=m,n[6]=p,n[7]=_,n[8]=f):f=n[8],f}function m(t){var n=o("react-compiler-runtime").c(12),a=t.fill,i=t.size,l=t.xstyle,s=l===void 0?null:l,d;n[0]!==s?(d=(e||(e=r("stylex"))).props(c.icon,c.fillGrey,s),n[0]=s,n[1]=d):d=n[1];var m=String(i)+"px",p=String(i)+"px",_,f,g;n[2]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),f=u.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),g=u.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),n[2]=_,n[3]=f,n[4]=g):(_=n[2],f=n[3],g=n[4]);var h;n[5]!==a?(h=u.jsxs("g",{fillRule:"evenodd",children:[_,f,g,u.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:a}),u.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:a,fillRule:"nonzero"})]}),n[5]=a,n[6]=h):h=n[6];var y;return n[7]!==d||n[8]!==m||n[9]!==p||n[10]!==h?(y=u.jsx("svg",babelHelpers.extends({},d,{height:m,viewBox:"0 0 17 16",width:p,x:"0px",y:"0px",children:h})),n[7]=d,n[8]=m,n[9]=p,n[10]=h,n[11]=y):y=n[11],y}function p(t){var n=o("react-compiler-runtime").c(24),a=t.fill,i=t.size,l=t.xstyle,s=l===void 0?!1:l,d;n[0]!==a?(d=a==null?"xsrhx6k":void 0,n[0]=a,n[1]=d):d=n[1];var m=d,p;n[2]!==a?(p=a==null?"x1dmfqyo":void 0,n[2]=a,n[3]=p):p=n[3];var _=p,f;n[4]!==s?(f=(e||(e=r("stylex"))).props(c.icon,s),n[4]=s,n[5]=f):f=n[5];var g=String(i)+"px",h=String(i)+"px",y,C,b;n[6]!==a||n[7]!==m?(y=u.jsx("path",{className:m,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:a}),C=u.jsx("circle",{className:m,cx:"8.5",cy:"4.5",fill:a,r:"1.5"}),b=u.jsx("path",{className:m,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:a}),n[6]=a,n[7]=m,n[8]=y,n[9]=C,n[10]=b):(y=n[8],C=n[9],b=n[10]);var v;n[11]!==a||n[12]!==_?(v=u.jsx("path",{className:_,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:a,strokeLinecap:"round",strokeLinejoin:"round"}),n[11]=a,n[12]=_,n[13]=v):v=n[13];var S;n[14]!==v||n[15]!==y||n[16]!==C||n[17]!==b?(S=u.jsxs("g",{fill:"none",fillRule:"evenodd",children:[y,C,b,v]}),n[14]=v,n[15]=y,n[16]=C,n[17]=b,n[18]=S):S=n[18];var R;return n[19]!==S||n[20]!==f||n[21]!==g||n[22]!==h?(R=u.jsx("svg",babelHelpers.extends({},f,{height:g,viewBox:"0 -1 17 17",width:h,children:S})),n[19]=S,n[20]=f,n[21]=g,n[22]=h,n[23]=R):R=n[23],R}function _(e){var t=o("react-compiler-runtime").c(10),n=e.fill,r=e.isRotated,a=e.size,i=r===void 0?!1:r,l;t[0]!==i?(l={0:{className:"x1lliihq x1tzjh5l x1k90msu x11xpdln x1qfuztq xsrhx6k x7p49u4"},1:{className:"x1lliihq x1tzjh5l x1k90msu x11xpdln x1qfuztq xsrhx6k x1158fpu"}}[!!i<<0],t[0]=i,t[1]=l):l=t[1];var s=String(a)+"px",c=String(a)+"px",d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),t[2]=d):d=t[2];var m;t[3]!==n?(m=u.jsxs("g",{fillRule:"evenodd",children:[d,u.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:n})]}),t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==l||t[6]!==s||t[7]!==c||t[8]!==m?(p=u.jsx("svg",babelHelpers.extends({},l,{height:s,viewBox:"0 0 24 24",width:c,children:m})),t[5]=l,t[6]=s,t[7]=c,t[8]=m,t[9]=p):p=t[9],p}function f(t){var n=o("react-compiler-runtime").c(12),a=t.fill,i=t.size,l=t.xstyle,s=l===void 0?!1:l,d;n[0]!==a?(d=a==null?"xsrhx6k":void 0,n[0]=a,n[1]=d):d=n[1];var m=d,p;n[2]!==s?(p=(e||(e=r("stylex"))).props(c.icon,s),n[2]=s,n[3]=p):p=n[3];var _=String(i)+"px",f=String(i)+"px",g;n[4]!==a||n[5]!==m?(g=u.jsx("g",{fill:"none",fillRule:"evenodd",children:u.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:u.jsx("g",{transform:"translate(709.000000, 314.000000)",children:u.jsx("g",{children:u.jsx("path",{className:m,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:a})})})})}),n[4]=a,n[5]=m,n[6]=g):g=n[6];var h;return n[7]!==p||n[8]!==_||n[9]!==f||n[10]!==g?(h=u.jsx("svg",babelHelpers.extends({},p,{height:_,viewBox:"0 0 38 38",width:f,children:g})),n[7]=p,n[8]=_,n[9]=f,n[10]=g,n[11]=h):h=n[11],h}l.Gif=d,l.Sticker=m,l.Photo=p,l.MoreActions=_,l.Emoji=f}),98);
__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({surface:o("MessengerSurfaceType").messenger});l.context=u}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){if(e!=null&&e.startsWith("blob:")){var a={contents:function(){}};a.contents=o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(r).subscribe(function(n,r){if(r.operation==="put"){var o=r.value;if(o.attachmentFbid!==t.toString())return;var i=o.playableUrl;i!=null&&!i.startsWith("blob:")&&(a.contents(),URL.revokeObjectURL(e))}})}}async function u(t,n,a,l,u,c,d,m,p,_,f){await r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:d.attachment_type,inMessageIndex:(e||(e=o("I64"))).zero,isSecure:!1,offlineAttachmentId:u,offlineThreadingId:c,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});var g=function(a,m){if(!(m==null||m.length===0)){var t=async function(){var t=await r("LSDatabaseSingletonLazyWrapper")();return t.runInTransaction(async function(a){var i=r("LSFactory")(a);await r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(m),offlineAttachmentId:u}),await o("MWPOpenComposerUtils").resumeSendJob(i,c,l),s(d.playable_url,m,t,n)},"readwrite",void 0,void 0,i.id+":99")};r("promiseDone")(t(),function(){_==null||_(a)})}},h=function(t,n){var e;f==null||f((e=n.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",t)};await o("MWPComposerMediaUploadUtil").startUpload(p,void 0,g,h,!0,[m.file],[u],void 0,void 0,m.waveformData,void 0,e.to_string(a))}l.default=u}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","gkx","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r,a){n!=null&&await o("MWMediaTraceHandler").logMediaSendStart(t,n,r,(e||(e=o("I64"))).of_int32(a))}async function u(t,n,a){a!=null&&r("gkx")("23995")&&await r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:a,syncChannel:(e||(e=o("I64"))).minus_one,tags:n})}async function c(t,n,a,i,l){var c=r("LSGenerateTraceId")(),d=l[0],m=o("MessagingLoggingUtils").convertI64ToAttachmentType(d.attachmentType);await s(t,c,(e||(e=o("I64"))).of_int32(i.length),m);var p=0,_=i.map(async function(i,s){await r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:i.attachment_type,inMessageIndex:(e||(e=o("I64"))).of_int32(s),isSecure:!1,offlineAttachmentId:i.attachment_fbid,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}),await o("MWPOpenComposerUtils").updateMediaStaging(t,i.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})});var u=l.find(function(e){return e.offlineAttachmentId===i.offline_attachment_id});if(u!=null){var c=u.fbid;c!=null&&(await r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:c,offlineAttachmentId:i.attachment_fbid}),await o("MWPOpenComposerUtils").deleteMediaStaging(t,i.attachment_fbid),await o("MWPOpenComposerUtils").updateAttachment(t,n,a,i.attachment_fbid,function(t){return babelHelpers.extends({},t,{attachmentFbid:(e||(e=o("I64"))).to_string(c)})}),p++)}r("gkx")("24136")&&await o("MWPOpenComposerUtils").updateAttachment(t,n,a,i.attachment_fbid,function(e){return babelHelpers.extends({},e,{previewHeight:void 0,previewWidth:void 0})})});return await Promise.allSettled(_),await o("MWPOpenComposerUtils").resumeSendJob(r("LSFactory")(t),a,c),await u(t,e.to_string(n),c),await r("updateAndFlushLSDataTrace")(t,c),{sentWithAllFilesUploaded:p===i.length}}l.default=c}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){r("promiseDone")(r("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:n}));var a=t.map(async function(t){await o("MWPOpenComposerUtils").updateMediaStaging(e,t.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})})});await Promise.allSettled(a)}l.default=e}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,o("CometLexicalEmojiNode").EmojiNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode],s=babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function u(t){var n,a,i=o("Lexical").createEditor({namespace:"MWPEditor",nodes:(n=t==null?void 0:t.nodes)!=null?n:e.filter(Boolean),onError:function(t){return r("mlcErrorHandler__INTERNAL")(t,i,function(e){r("FBLogger")("messenger_web").catching(t).mustfix("Lexical Error MWP: %s",e)})},theme:(a=t==null?void 0:t.theme)!=null?a:s});return i}l.default=u}),98);
__d("useChatJidFromThreadKey",["Int64Hooks","LSDatabaseSingleton","MAWMiActMappingTableAPI","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useState;function c(e,t){var n=o("react-compiler-runtime").c(4),a=u(null),i=a[0],l=a[1],c,d;return n[0]!==e||n[1]!==t?(c=function(){t!=null&&r("promiseDone")((s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(n){return o("MAWMiActMappingTableAPI").getChatJidForThreadKey(n.tables,e,t)}).then(l))},d=[e,t],n[0]=e,n[1]=t,n[2]=c,n[3]=d):(c=n[2],d=n[3]),o("Int64Hooks").useEffectInt64(c,d),i}l.default=c}),98);
__d("useEnabledForWorkchatOnly",["MessengerSurfaceType","WorkGalahadMWChatTabContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(){var e=u(o("WorkGalahadMWChatTabContext.react").context),t;return t=e.surface===o("MessengerSurfaceType").workQuickchat||e.surface===o("MessengerSurfaceType").workChat||e.surface===o("MessengerSurfaceType").workMeetingsInCall,t}l.default=d}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=o("IGDChatTabsStateContext.react").useIGDChatTabsState();if(r==="ChatTab"){var i,l;n[0]!==(a==null?void 0:a.openedTabs)||n[1]!==t?(l=a==null?void 0:a.openedTabs.get((e||(e=o("I64"))).to_string(t)),n[0]=a==null?void 0:a.openedTabs,n[1]=t,n[2]=l):l=n[2];var s=l;return(i=s==null?void 0:s.source)!=null?i:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}l.default=s}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(5),n=r("useAsyncReStore")(),a;t[0]!==e?(a=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e),t[0]=e,t[1]=a):a=t[1];var l=a,s;return t[2]!==n||t[3]!==l?(s=async function(t){var e=t.draftId;if(l){var o=await n,a=await o.runInTransaction(async function(t){var n=null;return await t.e2ee_composer_draft_link_preview.get(e).then(function(e){var t,r=JSON.parse((t=e==null?void 0:e.data)!=null?t:"{}");n=r.iframeMediaURL}),await t.e2ee_composer_draft_link_preview.delete(e),n},"readwrite",void 0,void 0,i.id+":40");if(a!=null)try{URL.revokeObjectURL(a)}catch(e){var s=e;r("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",s)}}},t[2]=n,t[3]=l,t[4]=s):s=t[4],o("Int64Hooks").useCallbackInt64(s)}l.default=e}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","getRequestConstUri","isFacebookURI","promiseDone","react-compiler-runtime","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){var e=!1;return{abort:function(){e=!0},isAborted:function(){return e}}};function u(e){var t=o("react-compiler-runtime").c(9),n=e.threadKey,a=e.threadType,i=r("useAsyncReStore")(),l;t[0]!==a?(l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),t[0]=a,t[1]=l):l=t[1];var u=l,p=r("useMAWDeleteLinkPreviewXMATableData")(a),_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=r("getRequestConstUri")(),t[2]=_):_=t[2];var f=_,g=r("useXMAPreviewsDisabledSetting")(),h;return t[3]!==i||t[4]!==p||t[5]!==g||t[6]!==u||t[7]!==n?(h=function(t){var e=t.draftId,a=t.urls,l=s(),_=async function(){if(u){var t=o("ConstUriUtils").getUri(a[0].entity.url);if(t!=null){var s=o("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:e,url:t.toString()}),_=r("isFacebookURI")(t),h=r("isFacebookURI")(f),y=_&&h;if(_&&g){c({abortToken:l,dbPromise:i,deleteLinkPreviewXMATableData:p,draftId:e,qplEvent:s,qplSubspanPoint:"write_fb_disabled",status:r("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:n,xmaData:null}),s.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}c({abortToken:l,dbPromise:i,deleteLinkPreviewXMATableData:p,draftId:e,qplEvent:s,qplSubspanPoint:"write_loading_status",status:r("E2EELinkPreviewXMADataStatus").LOADING,threadKey:n,xmaData:{title:t.getDomain(),url:t.toString()}}),s.addAnnotations({bool:{should_fetch_from_og:y},string:{link_type:_?"facebook":"external"}});var C=y?await d(t.toString(),s):await m(a,s),b=C.dataType,v=C.xmaData;c({abortToken:l,dataType:b,dbPromise:i,deleteLinkPreviewXMATableData:p,draftId:e,qplEvent:s,qplSubspanPoint:"write_xma_data",status:r("E2EELinkPreviewXMADataStatus").LOADED,threadKey:n,xmaData:v})}}};return _(),l},t[3]=i,t[4]=p,t[5]=g,t[6]=u,t[7]=n,t[8]=h):h=t[8],o("Int64Hooks").useCallbackInt64(h)}function c(t){var n=t.abortToken,a=t.dataType,l=t.dbPromise,s=t.deleteLinkPreviewXMATableData,u=t.draftId,c=t.qplEvent,d=t.qplSubspanPoint,m=t.status,p=t.xmaData;if(c.addAnnotations({int:{data_type:a}}),n.isAborted()){c.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}c.addPoint(d+"_start"),r("promiseDone")(l,function(t){return t.runInTransaction(function(t){return t.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:a!=null?(e||(e=o("I64"))).of_int32(a):void 0,draftId:u,status:(e||(e=o("I64"))).of_int32(m)})},"readwrite",void 0,void 0,i.id+":213").then(function(e){n.isAborted()&&(c.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),s({draftId:e[0]})),c.addPoint(d+"_success"),d==="write_xma_data"&&c.endSuccess()}).catch(function(e){c.endFail(d+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+e}}),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}async function d(e,t){var n,a;t.addPoint("fetch_fb_og_data_start");var i=(n=(a=o("ConstUriUtils").getUri(e))==null?void 0:a.getDomain())!=null?n:e;try{var l,s,u;t.addPoint("http_request_start");var c=await window.fetch(e,{credentials:"omit",referrerPolicy:"no-referrer"});if(t.addPoint("http_response_end"),!c.ok)return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(c.status),xma_data_returned:"fallback"}}),p(i,e);var d=await c.text(),m=new DOMParser,_=m.parseFromString(d,"text/html");_.querySelector("parsererror")&&t.addPoint("html_parsererror");var f=(l=_.querySelector('meta[property="og:image"]'))==null?void 0:l.getAttribute("content"),g=(s=_.querySelector('meta[name="description"]'))==null?void 0:s.getAttribute("content"),h=(u=_.querySelector('meta[property="og:title"]'))==null?void 0:u.getAttribute("content");return f==null&&g==null&&h==null?(t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}}),p(i,e)):(t.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:g!=null?g:void 0,iframeMediaURL:f,thumbnail_url:f!=null?f:void 0,title:h!=null?h:i,url:e}})}catch(n){return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}}),p(i,e)}}async function m(e,n){var a,i,l;n.addPoint("fetch_external_link_oembed_data_start");var s=o("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(e),u=e[0].entity.url,c=null;if(s!=null){u=s.oEmbedUrl;try{n.addPoint("get_oembed_response_start"),c=await o("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:u,qplEvent:n,request:s.oEmbedRequest}),n.addPoint("get_oembed_response_success")}catch(e){n.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+e}}),n.addPoint("get_oembed_response_end"),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}var d=(a=o("ConstUriUtils").getUri(u))==null?void 0:a.getDomain();if(c==null)return n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}}),p(d!=null?d:u,u);n==null||n.addPoint("get_image_blob_response_start");var m=await o("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:n,xmaData:c}),_=null;if(m!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(m.type)){var f=new File([m],"preview",{type:m.type});_=t.URL.createObjectURL(f)}return n==null||n.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:_==null}}),n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers.extends({iframeMediaURL:_},c,{title:(i=c.title)!=null?i:d,url:(l=c.url)!=null?l:u})}}function p(e,t){return{dataType:r("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:e,url:t}}}l.default=u}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(t){var n=o("react-compiler-runtime").c(12),a=t.threadKey,l=t.threadName,c=(u||(u=r("useReStore")))(),d=o("MWPActor.react").useActor(),m;n[0]!==c.tables.contacts||n[1]!==c.tables.participants||n[2]!==a?(m=function(){return o("ReQL").fromTableAscending(c.tables.participants,["contactId"]).getKeyRange(a).map(function(e){return o("ReQLSuspense").first(o("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId),i.id+":33")})},n[0]=c.tables.contacts,n[1]=c.tables.participants,n[2]=a,n[3]=m):m=n[3];var p;n[4]!==c||n[5]!==a?(p=[c,a],n[4]=c,n[5]=a,n[6]=p):p=n[6];var _=o("ReQLSuspense").useArray(m,p,i.id+":28"),f,g;return n[7]!==d||n[8]!==_||n[9]!==l?(f=function(){if(l!=null)return s._(/*BTDS*/"Write to {name of conversation}",[s._param("name of conversation",l)]);var t=r("intlList")(_.map(function(t){if(t!=null&&!(e||(e=o("I64"))).equal(t.id,d))return t.name}).filter(Boolean),r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA);return s._(/*BTDS*/"Write to {participant list}",[s._param("participant list",t)])},g=[_,l,d],n[7]=d,n[8]=_,n[9]=l,n[10]=f,n[11]=g):(f=n[10],g=n[11]),o("Int64Hooks").useMemoInt64(f,g)}l.default=c}),226);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=o("react-compiler-runtime").c(2),t=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating(),n=c(!r("NetworkStatus").isOnline()&&!t),a=n[0],i=n[1],l,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(l=function(){var e=r("NetworkStatus").onChange(function(e){var t=e.online;i(!t)});return function(){e.remove()}},s=[],e[0]=l,e[1]=s):(l=e[0],s=e[1]),u(l,s),a}l.default=d}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;return n[0]!==a||n[1]!==t?(l=function(){r("promiseDone")(a.runInTransaction(function(e){return r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":25"))},s=[a,t],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]),o("Int64Hooks").useCallbackInt64(l,s)}l.default=s}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","react-compiler-runtime","useLSMessagingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useLSMessagingSource")(),n;return e[0]!==t?(n=function(n){return o("MWGenAIUtils").isMetaAIThread(n)?o("LSThreadAttributionTypeUtil").getSourceWithoutReset(n,t):o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(n,t)},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);
__d("useWriteDraftToPersistedDataServiceAndLSDB",["Promise","gkx","react","react-compiler-runtime","requireDeferred","useChatJidFromThreadKey"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useRef,m=r("requireDeferred")("MAWUIPersistedDataServices").__setRef("useWriteDraftToPersistedDataServiceAndLSDB");function p(t,a){var i=o("react-compiler-runtime").c(2),l=r("useChatJidFromThreadKey")(t,a),s=d(null),u=d(),c;return i[0]!==l?(c=function(o){return u.current==null&&(u.current=r("gkx")("16991")),l!=null&&s.current!==o&&u.current?(s.current=o,m.load().then(function(e){return e.getMAWUIPersistedDataServices().sendUpdateFor("messageComposerDrafts",[{key:l,timestamp:0,value:{draftText:o}}])})):(e||(e=n("Promise"))).resolve()},i[0]=l,i[1]=c):c=i[1],c}l.default=p}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWDraftMessages.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","promiseDone","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData","useWriteDraftToPersistedDataServiceAndLSDB"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("justknobx")._("3119");function c(e){var t=e.editor,n=e.isPreviewThread,a=e.subthreadParentMessageId,i=e.threadKey,l=e.threadType,c=o("MWDraftMessages.react").useMWUpdateDraft(),d=u,m=r("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:i,threadType:l}),p=r("useMAWDeleteLinkPreviewXMATableData")(l),_=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),f=r("useWriteDraftToPersistedDataServiceAndLSDB")(i,l),g=s(function(e){n&&_!=null?_.current=e:(r("promiseDone")(f(e)),c==null||c(i,e,a),o("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:p,fetchAndWriteLinkPreviewXMA:m,message:e,subthreadParentMessageId:a,threadKey:i,threadType:l}))},[f,c,p,m,n,_,i,l,a]);o("Int64Hooks").useEffectInt64(function(){t.registerUpdateListener(r("CometDebounce")(function(e){var t=e.editorState,n=t.read(function(){return o("LexicalText").$rootTextContent()});if(r("isStringNullOrEmpty")(n)){g(n);return}g(n)},{wait:d}))},[d,t,g])}l.default=c}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","cr:268","promiseDone","react-compiler-runtime","useAsyncReStore","useEmptyFunction","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e=n("cr:268"))!=null?e:r("useEmptyFunction");async function d(e,t,n,a){var i=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.tables.messages).getKeyRange(t));if(i==null)return!1;var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t));if(l==null)return!1;var s=a!==void 0&&a==="ChatTab"?n:!0,c=(u||(u=o("I64"))).gt(i.timestampMs,l.lastActivityTimestampMs)?i.timestampMs:l.lastActivityTimestampMs,d=(u||(u=o("I64"))).gt(c,l.lastReadWatermarkTimestampMs);return r("UserActivity").isOnTab()&&r("UserActivity").isActive()&&s&&d}function m(e,t){var n=o("react-compiler-runtime").c(7),a=r("useAsyncReStore")(),i=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s,u;return n[0]!==a||n[1]!==i||n[2]!==t||n[3]!==l||n[4]!==e?(s=function(){r("promiseDone")((async function(){var n=await a;if(await d(n,e,i,l))return t()})())},u=[a,e,i,l,t],n[0]=a,n[1]=i,n[2]=t,n[3]=l,n[4]=e,n[5]=s,n[6]=u):(s=n[5],u=n[6]),o("Int64Hooks").useCallbackInt64(s,u)}function p(e,t,n,a){var i=o("react-compiler-runtime").c(7),l=(s||(s=r("useReStore")))(),u,c;i[0]!==e||i[1]!==t||i[2]!==l||i[3]!==n||i[4]!==a?(u=function(){var r=async function(){var r=e();if(typeof r!="boolean"&&(r=await r),r&&!t())return n()};window.addEventListener("focus",r),document.hasFocus()&&r();var i=o("ReQLObservable").create(l,function(){return o("ReQL").fromTableDescending(l.tables.messages).getKeyRange(a)}).subscribe({next:r});return function(){window.removeEventListener("focus",r),i.unsubscribe()}},c=[n,e,t,a,l],i[0]=e,i[1]=t,i[2]=l,i[3]=n,i[4]=a,i[5]=u,i[6]=c):(u=i[5],c=i[6]),o("Int64Hooks").useEffectInt64(u,c)}function _(e,t,n,r){var o=m(e.threadKey,t);return c(e),p(n,r,o,e.threadKey),o}l.default=_}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){var n=o("react-compiler-runtime").c(11),a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))(),u,c;n[0]!==l||n[1]!==t.threadKey||n[2]!==t.threadName?(u=function(){return t.threadName!=null?o("ReQL").empty():o("ReQL").leftJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(l.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},c=[l,t.threadKey,t.threadName],n[0]=l,n[1]=t.threadKey,n[2]=t.threadName,n[3]=u,n[4]=c):(u=n[3],c=n[4]);var d=o("ReQLSuspense").useArray(u,c,i.id+":32"),m,p;return n[5]!==a||n[6]!==d||n[7]!==t.threadName||n[8]!==t.threadType?(m=function(){var e;if(t.threadName!=null)return s._(/*BTDS*/"Messages in conversation titled {name of conversation}",[s._param("name of conversation",t.threadName)]).toString();var n=(e=o("MWPGetThreadTitle").computeThreadTitle(void 0,t.threadType,d,a))!=null?e:"";return s._(/*BTDS*/"Messages in conversation with {participant list}",[s._param("participant list",n)]).toString()},p=[a,d,t.threadName,t.threadType],n[5]=a,n[6]=d,n[7]=t.threadName,n[8]=t.threadType,n[9]=m,n[10]=p):(m=n[9],p=n[10]),o("Int64Hooks").useMemoInt64(m,p)}l.default=u}),226);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","justknobx","react","react-compiler-runtime","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect;function m(e,t){var n;if(r("justknobx")._("4143")){var o=t.getCurrentState(),a=o.hiddenOrBackgrounded;if(a)return}var i=(n=document.activeElement)==null||(n=n.attributes.getNamedItem("id"))==null?void 0:n.value;if(!(i!=null&&i.includes("prevent-composer-focus-steal")))return e.focus(function(){})}function p(e){var t=o("react-compiler-runtime").c(22),n=e.editor,a=e.focusEditorDelayed,i=e.hasUnsentAttachments,l=e.isPreviewThread,s=e.isQuickchat,u=i===void 0?!1:i,p=l===void 0?!1:l,_=c(r("HiddenSubtreePassiveContext")),f=o("MWChatFocusComposerContext").useMWChatFocusComposer(),g=f.setFocusComposer,h=c(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("usePrevious")(y),b,v;t[0]!==n||t[1]!==a||t[2]!==_||t[3]!==s||t[4]!==C||t[5]!==y?(b=function(){(C==null?y!=null:!r("deepEquals")(C,y))&&(s&&a?a(n):m(n,_))},v=[n,y,C,a,s,_],t[0]=n,t[1]=a,t[2]=_,t[3]=s,t[4]=C,t[5]=y,t[6]=b,t[7]=v):(b=t[6],v=t[7]),d(b,v);var S=r("useMWGetInboxFocusTargetFromRoute")(),R=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),L=S===0&&R&&!p,E,k;t[8]!==n||t[9]!==a||t[10]!==_||t[11]!==s||t[12]!==L?(E=function(){L&&(s&&a?a(n):m(n,_))},k=[n,L,a,s,_],t[8]=n,t[9]=a,t[10]=_,t[11]=s,t[12]=L,t[13]=E,t[14]=k):(E=t[13],k=t[14]),d(E,k);var I,T;t[15]!==n||t[16]!==a||t[17]!==u||t[18]!==_||t[19]!==s?(I=function(){u&&(s&&a?a(n):m(n,_))},T=[n,u,a,s,_],t[15]=n,t[16]=a,t[17]=u,t[18]=_,t[19]=s,t[20]=I,t[21]=T):(I=t[20],T=t[21]),d(I,T),g(function(){s&&a?a(n):m(n,_)})}l.default=p}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t,n){s(function(){t!=null&&e.update(function(){if(t!=null){var e=o("Lexical").$getRoot(),r=e.getFirstChild();o("Lexical").$isParagraphNode(r)||(r=o("Lexical").$createParagraphNode(),e.append(r));var a=o("Lexical").$createTextNode(t);r.clear(),r.append(a),n===!0&&r.selectEnd()}})},[e])}l.default=u}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t,n=e.editor,a=e.isPreviewThread,i=a===void 0?!1:a,l=e.isQuickchat,u=l===void 0?!1:l,c=e.subthreadParentMessageId,d=e.threadKey,m=e.threadType,p=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),_=s(r("MWPreloadedText")),f=_.text!=null?_.text:p!=null?p.current:(t=o("MWPComposerDraftMessages").getDraftMessage(d,c))==null?void 0:t.messageText;return r("useMWLSSaveDrafts")({editor:n,isPreviewThread:i,subthreadParentMessageId:c,threadKey:d,threadType:m}),r("usePrepopulateLexicalEditor")(n,u?void 0:f,!0),f}l.default=u}),98);
__d("useMWPLexicalClearEditor",["Lexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t){var n=o("react-compiler-runtime").c(4),r=t===void 0?!1:t,a,i;n[0]!==r||n[1]!==e?(a=function(){return e.registerCommand(o("Lexical").CLEAR_EDITOR_COMMAND,function(){return e.update(function(){var e=o("Lexical").$getRoot(),t=o("Lexical").$getSelection(),n=o("Lexical").$createParagraphNode();e.clear(),e.append(n),t!==null&&(n.select(),r===!0&&o("Lexical").$isRangeSelection(t)&&(t.format=0))}),!0},o("Lexical").COMMAND_PRIORITY_EDITOR)},i=[r,e],n[0]=r,n[1]=e,n[2]=a,n[3]=i):(a=n[2],i=n[3]),s(a,i)}l.default=u}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef,d=250;function m(e,t){var n=o("react-compiler-runtime").c(4),a=c(null),i,l;n[0]!==e||n[1]!==t?(i=function(){return e.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(n){var i=n;if(o("MLCKeyBindingUtil").hasCommandModifier(i)&&r("gkx")("13931")&&!r("gkx")("23402"))return!1;if(i!=null&&!i.shiftKey&&!i.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(i))){i.preventDefault();var l=a.current;return l!=null&&i.timeStamp-l<=d&&r("gkx")("15485")?(a.current=i.timeStamp,!0):(e.dispatchCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,"create"),t(),a.current=i.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},l=[e,t],n[0]=e,n[1]=t,n[2]=i,n[3]=l):(i=n[2],l=n[3]),u(i,l)}l.default=m}),98);
__d("useMWXLexicalHasText",["LexicalText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){return e.getEditorState().read(o("LexicalText").$isRootTextContentEmptyCurry(e.isComposing()))}function _(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return!p(e)},t[0]=e,t[1]=n):n=t[1];var r=m(n),a=r[0],i=r[1],l,s;return t[2]!==e?(l=function(){return e.registerUpdateListener(function(){i(!p(e))})},s=[e],t[2]=e,t[3]=l,t[4]=s):(l=t[3],s=t[4]),c(l,s),a}function f(e){"use no forget";var t=e.editor,n=e.initialValue,r=d(n);return{useHasText:u(function(){var e,n=d((e=r.current)!=null?e:!1);return c(function(){n.current=!1},[]),_(t)||n.current},[t])}}function g(e){var t,n=e.editor,r=e.initialValue,o=d(r),a=d((t=o.current)!=null?t:!1);return c(function(){a.current=!1},[]),_(n)||a.current}l.useMWXLexicalHasText_DEPRECATED=f,l.useMWXLexicalHasText=g}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(6),n=e.editor,r=e.onTypingStateChanged,a=o("MWXUseLatch").useLatch(r,!0,5e3),i=a[0],l=a[1],s=c(""),d,p;t[0]!==n||t[1]!==i||t[2]!==l?(d=function(){var e=function(t){var e=t.editorState.read(m);if(e!==s.current)return s.current=e,e===""?l():i()};return n.registerUpdateListener(e)},p=[i,l,n],t[0]=n,t[1]=i,t[2]=l,t[3]=d,t[4]=p):(d=t[3],p=t[4]),u(d,p);var _;return t[5]===Symbol.for("react.memo_cache_sentinel")?(_={},t[5]=_):_=t[5],_}function m(){return o("LexicalText").$rootTextContent()}l.default=d}),98);
__d("useMWPComposerEditor",["Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWDraftMessages.react","MWFBLogger","MWLexicalEditorUtils","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","promiseDone","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged","useWriteDraftToPersistedDataServiceAndLSDB"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useMemo,m=s.useRef;function p(e){}var _=n("cr:7101")==null?p:n("cr:7101").useMWComposerKeyCommandFocusRegister,f=[],g=function(t){return t.read(function(){return o("LexicalText").$rootTextContent()})};function h(e){var t=e.customizedRanges,n=e.getTextFromEditorState,a=n===void 0?g:n,i=e.isPreviewThread,l=i===void 0?!1:i,s=e.isSendDisabled,p=s===void 0?!1:s,h=e.mediaStaging,y=h===void 0?f:h,C=e.onSendMessage,b=e.onTypingStateChanged,v=e.threadKey,S=e.clearFormatAfterSend,R=e.isQuickchat,L=R===void 0?!1:R,E=e.focusEditorDelayed,k=e.editorNodes,I=e.editorTheme,T=e.threadType,D=e.composerEntrypointForLogging,x=e.subthreadParentMessageId,$=e.draftMessage,P=m(null),N=d(function(){return r("mwpLexicalCreateEditor")({nodes:k,theme:I})},[k,I]),M=y.length>0;r("useLexicalInitializeEditor__DEPRECATED")(N),r("useMWPLexicalClearEditor")(N,S),r("useMWPComposerAutoFocus")({editor:N,focusEditorDelayed:E,hasUnsentAttachments:M,isPreviewThread:l,isQuickchat:L}),o("MWLexicalEditorUtils").useLoadDraftIntoComposerOnceComplete(N,T,$);var w=r("useMWPComposerEditorDraftText")({editor:N,isPreviewThread:l,isQuickchat:L,subthreadParentMessageId:x,threadKey:v,threadType:T}),A=o("MWDraftMessages.react").useMWUpdateDraft(),F=r("useWriteDraftToPersistedDataServiceAndLSDB")(v,T),O=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:N,initialValue:w!=null&&w!==""}),B=O||M,W=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),q=W.hasContentRef;c(function(){q!=null&&(q.current=O)},[O,q]),r("useMWXLexicalOnTypingChanged")({editor:N,onTypingStateChanged:b});var U=u(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),V=U.onMessageSendAttempt,H=r("useMWIsOffline")(),G=r("useIsMessengerPWA")(),z=H&&G,j=o("Int64Hooks").useCallbackInt64(function(){var e;if(!z){var n=(e=o("MWPComposerDraftMessages").getDraftMessage(v,x))==null?void 0:e.id;if(o("MWPComposerDraftMessages").updateDraftMessage({message:null,subthreadParentMessageId:x,threadKey:v}),A==null||A(v,null,x),r("promiseDone")(F("")),V==null||V(B),!!B){o("MWChatMessagesOnChatTabLoadTracker").trackSendFor(v),o("MWFBLogger").MWLogger().tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var i=t!=null?t(N,o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(v,x)):r("MWV2ChatComposerGetViewContent").getRanges(N),l=N.getEditorState(),s=a(l);N.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND),C(s,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,D),N.focus()}}},[F,A,z,V,B,N,v,t,a,C,D,x]),K=p?r("emptyFunction"):j;return r("useMWPLexicalCommitMessageOnEnter")(N,K),_(P.current),{editor:N,editorElementRef:P,hasStuffToSend:B,sendMessage:K}}l.default=h}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:886","promiseDone","react-compiler-runtime","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,l,u){var c=o("react-compiler-runtime").c(12),d=(s||(s=r("useReStore")))(),m=t.consistentThreadFbid,p=t.threadKey,_=t.threadType,f=r("useMAWMarkThreadAsRead")(t),g;c[0]!==m||c[1]!==u||c[2]!==p||c[3]!==_?(g={consistentThreadFbid:m,entryPoint:u,threadKey:p,threadType:_},c[0]=m,c[1]=u,c[2]=p,c[3]=_,c[4]=g):g=c[4];var h=n("cr:886")(g),y,C;c[5]!==d||c[6]!==h||c[7]!==f||c[8]!==p||c[9]!==_?(y=function(){if(h==null||h(),o("LSMessagingThreadTypeUtil").isArmadilloSecure(_)){f();return}r("promiseDone")(d.runInTransaction(function(t){return r("LSOptimisticMarkThreadReadV2StoredProcedure")(r("LSFactory")(t),{readWatermarkTimestampMs:(e||(e=o("I64"))).of_float(o("ServerTime").getMillis()),threadKey:p})},"readwrite","ui",void 0,i.id+":62"))},C=[d,h,f,p,_],c[5]=d,c[6]=h,c[7]=f,c[8]=p,c[9]=_,c[10]=y,c[11]=C):(y=c[10],C=c[11]);var b=o("Int64Hooks").useCallbackInt64(y,C);return r("useMWMarkThreadAsReadWhenNewMessagesArrive")(t,b,a,l)}l.default=u}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext),n=r("useMWIsHDMediaEnabled")();c(function(){var r={enabled:!0,handler:function(r){return e(r,n)}};return t.current=r,function(){r.enabled=!1,r.handler=null}},[t,e,n])}l.default=d}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","ChatGeminiDisplayContextProvider.react","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWBumpMessage","justknobx","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(s||(s=o("react"))).useContext;async function m(e,t,n){n!=null&&r("gkx")("23995")&&await r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(c||(c=o("I64"))).minus_one,tags:t})}function p(t){var n=t.authorityLevel,a=t.disableMarkRead,l=t.ephemeralDurationInSec,s=t.onOptimisticMessageCreation,p=t.skipUrlPreviewGen,_=t.threadKey,f=t.threadType,g=o("MWPActor.react").useActor(),h=d(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("useLSMessagingInitiatingSource")(),b=(e||(e=r("useReStore")))(),v=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),S=v.sideChatMainMessageId,R=o("ReQLSuspense").useFirst(function(){return(y==null?void 0:y.messageId)==null?o("ReQL").empty():o("ReQL").fromTableAscending(b.tables.messages.index("messageId")).getKeyRange(y.messageId)},[y==null?void 0:y.messageId,b.tables.messages],i.id+":138"),L=r("isMWBumpMessage")(R==null?void 0:R.replyType)?R==null?void 0:R.replySourceId:y==null?void 0:y.messageId;return o("Int64Hooks").useCallbackInt64(function(e,t){var i=t.accessibilityLabel,d=t.afterSend,h=t.attributionAppId,b=t.dataclassParams,v=t.dataTraceId,R=t.externalAttachmentUrl,E=t.hotEmojiSize,k=t.logSendPoint,I=t.mentionData,T=t.messageText,D=t.messageTypeParams,x=t.multitabEnv,$=t.optimisticAttachmentPreview,P=t.platformToken,N=t.pluginType,M=t.profileRanges,w=t.richTextFormatType,A=t.s2sInstanceKey,F=t.setupS2SLogging,O=t.source,B=t.stickerID,W=t.traceSendMessageAPI,q=t.transaction;return U(q);async function U(t){var U=r("LSFactory")(t),V=r("gkx")("24135");await m(t,(c||(c=o("I64"))).to_string(_),v);var H=D.hasAttachment,G=H===void 0?!1:H,z=D.hasGif,j=z===void 0?!1:z,K=D.hasHotEmoji,Q=K===void 0?!1:K,X=D.hasLinks,Y=X===void 0?!1:X,J=D.hasSticker,Z=J===void 0?!1:J,ee=D.hasText,te=ee===void 0?!1:ee,ne=await t.threads.get(_),re=Y?o("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(ne):o("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(ne),oe=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(t,y,function(){return Promise.resolve({openEb:re,pluginType:re?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):N})}),ae=oe.openEb,ie=oe.pluginType,le=await r("LSOptimisticSendMessageV2StoredProcedure")(U,{dataclassParams:b!=null?JSON.stringify(b):void 0,extraSendMessageParams:o("LSShape").ofRecord({attribution_app_id:h,calculate_denormalizations:!1,data_trace_id:v!=null?v:void 0,ephemeral_duration_in_sec:l,external_attachment_url:R,hot_emoji_size:E,initiating_source:C,is_exclusive_to_subthread:S!=null,mark_read:a===!0?!1:(c||(c=o("I64"))).ge(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),mention_data:I,multitab_env:x,openEb:ae,optimistic_attachment_preview:$,platform_token:P,plugin_type:ie,power_up_style:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),qpl_instance_key:A.toString(),reply_source_id:L,reply_source_type:y!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:y!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:w,skip_url_preview_gen:p,source:O,sticker_id:B,subthread_parent_message_id:S!=null?S:void 0,text_has_links:Y&&V}),mailboxType:u.ofNumber(r("LSMailboxType").MESSENGER),metadataDataclass:r("justknobx")._("4710")?JSON.stringify({media_accessibility_metadata:{alt_text:j?i:null}}):null,senderId:g,text:T,threadKey:_,threadType:f});if(k("create_optimistic_message_end"),o("MWPSendMessageLogger").log(e,_,f,g,void 0,[],O,r("MessagingAttachmentType").NONE,y!=null,ie,re,l),!G||j||Z||Q){var se=le[0];F(se),W.addAnnotationBoolean("is_instamadillo_ttlc",re&&ae===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(A,{bool:{is_instamadillo_ttlc:re&&ae===!0}})}return s!=null&&s({TAG:0,hasHotEmoji:Q,hasLink:Y,hasMention:M!=null&&M.length>0,isGIF:j,isReply:!!(y&&y.messageId!==""),isSticker:Z,isText:te,offlineThreadingId:le[0]}),d!=null&&await d(q),le}},[_,y,l,C,S,a,n,L,p,g,f,s])}l.default=p}),98);
__d("useMWV2SendOpenMessageImpl",["react-compiler-runtime","useMWV2SendOpenMessageImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(8),n=e.disableMarkRead,a=e.ephemeralDurationInSec,i=e.onOptimisticMessageCreation,l=e.skipUrlPreviewGen,s=e.thread,u;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s.authorityLevel||t[5]!==s.threadKey||t[6]!==s.threadType?(u={authorityLevel:s.authorityLevel,disableMarkRead:n,ephemeralDurationInSec:a,onOptimisticMessageCreation:i,skipUrlPreviewGen:l,threadKey:s.threadKey,threadType:s.threadType},t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s.authorityLevel,t[5]=s.threadKey,t[6]=s.threadType,t[7]=u):u=t[7],r("useMWV2SendOpenMessageImplShared")(u)}l.default=e}),98);
__d("useMWV2SendOpenStagedMedia",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMsgMediaTypeLogUtils","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","react","react-compiler-runtime","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e,t,n,a){var i=o("react-compiler-runtime").c(13),l=o("MWPActor.react").useActor(),d=c(o("MWPReplyContext.react").MWPReplyContext),_=d.reply,f=r("useLSMessagingInitiatingSource")(),g;i[0]!==n?(g=o("LSThreadBitOffset").has(40,n),i[0]=n,i[1]=g):g=i[1];var h=g,y=r("MessengerWebUXLogger").useInteractionLogger(),C,b;return i[2]!==l||i[3]!==e||i[4]!==f||i[5]!==a||i[6]!==y||i[7]!==t||i[8]!==_||i[9]!==h||i[10]!==n?(C=async function(c,d){var i=d.isFirstMessage,g=d.isFirstMessageText,C=d.mediaStagings,b=d.metadataDataclass,v=d.pluginType,S=d.s2sInstanceKey,R=d.sendFirstMessageSeparately,L=d.setupS2SLogging,E=d.source,k=d.traceSendMessageAPI,I=d.transaction,T=i===void 0?!1:i,D=R===void 0?!1:R;if(C.length!==0){var x=!1;if(C.length===1){var $=C[0];(s||(s=o("I64"))).to_int32($.attachmentType)===r("MessagingAttachmentType").IMAGE?x=o("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(n):(s||(s=o("I64"))).to_int32($.attachmentType)===r("MessagingAttachmentType").VIDEO&&(x=o("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(n))}for(var P=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(I,_,function(){return Promise.resolve({openEb:x,pluginType:x?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):v})}),N=P.openEb,M=P.pluginType,w=C[0],A=o("MessagingLoggingUtils").convertI64ToAttachmentType(w.attachmentType),F=o("MWPComposerMediaUploadUtil").createPartitionedAttachments(C,h,a),O=!0,B=0;B<F.length;B++)if(!T||!D||B===0&&T&&!g){var W=F[B],q=await r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(r("LSFactory")(I),{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray(W.map(o("LSShape").ofRecord)),ephemeral_duration_in_sec:e,external_attachment_url:void 0,initiating_source:f,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:M,reply_source_id:_==null?void 0:_.messageId,reply_source_type:_!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:_!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:E}),senderId:l,threadKey:n.threadKey,threadType:n.threadType}),U=q[0];if(B===0&&(L(U),k.addAnnotationBoolean("is_instamadillo_ttlc",x&&N===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(S,{bool:{is_instamadillo_ttlc:x&&N===!0}})),await I.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:f,markThreadRead:!1,messageId:void 0,metadataDataclass:b,offlineThreadingId:U,openEb:N,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(s||(s=o("I64"))).of_string(U),threadAttributionSource:E,threadKey:n.threadKey}),t==null||t({TAG:2,attachmentType:p(W),numberOfAttachments:W.length,offlineThreadingId:U}),M!=null&&(u||(u=o("LSIntEnum"))).unwrapIntEnum(M)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO)await r("issueSendInstamadilloMediaMessage")(I,W,U);else{var V=await r("issueLSMediaSendJobs")(I,n.threadKey,U,W,C);O=O&&V.sentWithAllFilesUploaded}o("MWPSendMessageLogger").log(c,n.threadKey,n.threadType,l,U,W.map(m),E,A,_!=null,M,x,e)}h===!1&&(y==null||y({eventName:"media_collection_message_sent"}));var H=(s||(s=o("I64"))).to_string(n.threadKey),G=o("LSMessagingThreadTypeUtil").isGroup(n.threadType)?[H,null]:[null,H],z=G[0],j=G[1];r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:O?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:j,thread_fbid:z}})}},b=[_,h,n,e,f,l,t,y,a],i[2]=l,i[3]=e,i[4]=f,i[5]=a,i[6]=y,i[7]=t,i[8]=_,i[9]=h,i[10]=n,i[11]=C,i[12]=b):(C=i[11],b=i[12]),o("Int64Hooks").useCallbackInt64(C,b)}function m(e){return e.attachment_fbid}function p(e){if(e.length===0)return o("MWMsgMediaTypeLogUtils").AttachmentType.None;var t=e[0].playable_url_mime_type;return t==null?o("MWMsgMediaTypeLogUtils").AttachmentType.None:t.indexOf("image")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Image:t.indexOf("video")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Video:t.indexOf("application")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.File:o("MWMsgMediaTypeLogUtils").AttachmentType.None}l.default=d}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","react","react-compiler-runtime","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;async function d(e,t,n,r){t!=null&&await o("MWMediaTraceHandler").logMediaSendStart(e,t,n,(s||(s=o("I64"))).of_int32(r))}function m(e){var t=o("react-compiler-runtime").c(14),n=e.ephemeralDurationInSec,a=e.onOptimisticMessageCreation,i=e.onUploadFailure,l=e.onUploadStart,m=e.onUploadSuccess,p=e.sendMessageLogger,_=e.skipUrlPreviewGen,f=e.threadKey,g=e.threadType,h=o("MWPActor.react").useActor(),y=c(o("MWPReplyContext.react").MWPReplyContext),C=y.reply,b=r("useLSMessagingInitiatingSource")(),v,S;return t[0]!==h||t[1]!==n||t[2]!==b||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==m||t[7]!==C||t[8]!==p||t[9]!==_||t[10]!==f||t[11]!==g?(v=async function(t,c){var e=c.dataTraceId,y=c.pluginType,v=c.s2sInstanceKey,S=c.setupS2SLogging,R=c.source,L=c.traceSendMessageAPI,E=c.transaction,k=c.voiceClip,I=r("LSFactory")(E),T=o("OfflineThreadingId").createOfflineThreadingID(),D=o("MWPComposerMediaUploadUtil").getAudioAttachment(T,k.file,k.duration,k.waveformData);await d(E,e,(s||(s=o("I64"))).one,2);var x=await E.threads.get(f),$=o("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(x),P=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(E,C,function(){return Promise.resolve({openEb:$,pluginType:$?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):y})}),N=P.openEb,M=P.pluginType,w=await r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(I,{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray([o("LSShape").ofRecord(D)]),ephemeral_duration_in_sec:n,external_attachment_url:void 0,initiating_source:b,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:M,reply_source_id:C==null?void 0:C.messageId,reply_source_type:C!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:C!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:R}),senderId:h,threadKey:f,threadType:g}),A=w[0];S(A),L.addAnnotationBoolean("is_instamadillo_ttlc",$&&N===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{bool:{is_instamadillo_ttlc:$&&N===!0}}),await E.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:b,markThreadRead:!1,messageId:void 0,offlineThreadingId:A,openEb:N,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:_,taskId:s.of_string(A),threadAttributionSource:R,threadKey:f}),a!=null&&a({TAG:1,offlineThreadingId:A}),M!=null&&(u||(u=o("LSIntEnum"))).unwrapIntEnum(M)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO?await r("issueSendInstamadilloMediaMessage")(E,[D],A):await r("issueLSAudioMediaSendJob")(E,f,h,e,T,A,D,k,l,m,i),p(t,{actor:h,attachmentFbids:[D.attachment_fbid],attachmentType:o("MessagingLoggingUtils").convertI64ToAttachmentType(D.attachment_type),hasReply:C!=null,isInstamadilloTTLC:N,key:f,offlineThreadingId:A,pluginType:M,source:R,type:g})},S=[f,n,b,C,h,g,_,a,p,l,m,i],t[0]=h,t[1]=n,t[2]=b,t[3]=a,t[4]=i,t[5]=l,t[6]=m,t[7]=C,t[8]=p,t[9]=_,t[10]=f,t[11]=g,t[12]=v,t[13]=S):(v=t[12],S=t[13]),o("Int64Hooks").useCallbackInt64(v,S)}l.default=m}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","react-compiler-runtime","useMWV2SendOpenVoiceClipImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(13),n=e.ephemeralDurationInSec,a=e.onOptimisticMessageCreation,i=e.onUploadFailure,l=e.onUploadStart,s=e.onUploadSuccess,u=e.skipUrlPreviewGen,c=e.thread,d,m;t[0]!==n?(d=function(t,r){var e=r.actor,a=r.attachmentFbids,i=r.attachmentType,l=r.hasReply,s=r.isInstamadilloTTLC,u=r.key,c=r.offlineThreadingId,d=r.pluginType,m=r.source,p=r.type;e!=null&&o("MWPSendMessageLogger").log(t,u,p,e,c,a,m,i,l,d,s,n)},m=[n],t[0]=n,t[1]=d,t[2]=m):(d=t[1],m=t[2]);var p=o("Int64Hooks").useCallbackInt64(d,m),_;return t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==s||t[8]!==p||t[9]!==u||t[10]!==c.threadKey||t[11]!==c.threadType?(_={ephemeralDurationInSec:n,onOptimisticMessageCreation:a,onUploadFailure:i,onUploadStart:l,onUploadSuccess:s,sendMessageLogger:p,skipUrlPreviewGen:u,threadKey:c.threadKey,threadType:c.threadType},t[3]=n,t[4]=a,t[5]=i,t[6]=l,t[7]=s,t[8]=p,t[9]=u,t[10]=c.threadKey,t[11]=c.threadType,t[12]=_):_=t[12],r("useMWV2SendOpenVoiceClipImplShared")(_)}l.default=e}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useEnabledForWorkchatOnly","useIsMessengerPWA","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e){var t=o("react-compiler-runtime").c(30),n=e.disableMarkRead,a=e.ephemeralDurationInSec,l=e.isIGDW,d=e.onOptimisticMessageCreation,g=e.onUploadFailure,h=e.onUploadStart,y=e.onUploadSuccess,C=e.pluginType,b=e.skipUrlPreviewGen,v=e.thread,S=r("useAsyncReStore")(),R=r("useIsMessengerPWA")(),L=c(o("MWPReplyContext.react").MWPReplyContext),E=L.reply,k=r("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),I;t[0]!==a||t[1]!==d||t[2]!==g||t[3]!==h||t[4]!==y||t[5]!==b||t[6]!==v?(I={ephemeralDurationInSec:a,onOptimisticMessageCreation:d,onUploadFailure:g,onUploadStart:h,onUploadSuccess:y,skipUrlPreviewGen:b,thread:v},t[0]=a,t[1]=d,t[2]=g,t[3]=h,t[4]=y,t[5]=b,t[6]=v,t[7]=I):I=t[7];var T=r("useMWV2SendOpenVoiceClip")(I),D=r("useMWV2SendOpenStagedMedia")(a,d,v,l),x=n!=null?n:!1,$;t[8]!==a||t[9]!==d||t[10]!==b||t[11]!==x||t[12]!==v?($={disableMarkRead:x,ephemeralDurationInSec:a,onOptimisticMessageCreation:d,skipUrlPreviewGen:b,thread:v},t[8]=a,t[9]=d,t[10]=b,t[11]=x,t[12]=v,t[13]=$):$=t[13];var P=r("useMWV2SendOpenMessageImpl")($),N;t[14]!==v?(N=o("LSMessagingThreadTypeUtil").isMessageRequest(v),t[14]=v,t[15]=N):N=t[15];var M=N,w=r("useEnabledForWorkchatOnly")(),A=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),F=A.onMessageSendAttempt,O,B;return t[16]!==S||t[17]!==k||t[18]!==M||t[19]!==R||t[20]!==w||t[21]!==F||t[22]!==C||t[23]!==E||t[24]!==P||t[25]!==D||t[26]!==T||t[27]!==v?(O=async function(t,n,a,l,c,d,g,h,y,b,L,I,x,$,N,A,O,B,W,q){var e=L===void 0?!1:L,U=I===void 0?!1:I,V=!1;F==null||F(!0);var H=function(t){x.addMarkerPoint(t,"AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint($,t)},G=k(v.threadKey),z=r("LSGenerateTraceId")(),j={contents:1},K=v.eventStartTimestampMs!=null,Q=v.threadType,X=await S,Y=r("MWV2SetupS2SLoggingShared")({db:X,isCommunityEvent:K,isFirstMessage:U,isMessageRequest:M,isWorkChat:w,s2sInstanceKey:$,sendFirstMessageSeparately:e,source:(s||(s=o("LSIntEnum"))).unwrapIntEnum(G),threadType:Q,traceSendMessageAPI:x}),J=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(X.tables.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,v.threadKey)})),Z=o("MWSharedS2SBaseAnnotations").getMessageTypeParams({externalAttachmentUrl:d,hotEmojiSize:l,mediaStagings:J,messageText:t,reply:E,stickerId:a,threadType:v.threadType,voiceClip:h}),ee=await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:Z,isPwa:R,source:s.unwrapIntEnum(G),thread:v}),te=await o("MultipleTabsLogger").hasMultipleTabs();return X.runInTransaction(async function(r){if(o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(x,Z,v),o("sendToSentQPLLogger").addSendToSentAnnotations($,ee),h!=null){(e===!1||U===!0)&&await T(X,{dataTraceId:z,pluginType:C,s2sInstanceKey:$,setupS2SLogging:Y,source:G,traceSendMessageAPI:x,transaction:r,voiceClip:h});return}var i=Z.hasGif,s=Z.hasHotEmoji,S=Z.hasSticker,R=Z.hasText,L=i===void 0?!1:i,E=s===void 0?!1:s,k=S===void 0?!1:S,I=R===void 0?!1:R;k||E?j.contents=4:L&&(j.contents=6);var N=n!=null?o("LSShape").ofRecord({mention_ids:n.map(f).join(","),mention_lengths:n.map(_).join(","),mention_offsets:n.map(p).join(","),mention_types:n.length!==0?n.map(m).join(","):void 0}):void 0;if(H("create_optimistic_message_start"),I||k||E||L){if(V=!0,(e===!1||U===!0)&&(H("send_message_impl"),await P(X,{accessibilityLabel:q,afterSend:b,attributionAppId:c,dataclassParams:W,dataTraceId:z,externalAttachmentUrl:d,hotEmojiSize:l,logSendPoint:H,mentionData:N,messageText:t,messageTypeParams:Z,multitabEnv:te,optimisticAttachmentPreview:g,platformToken:y,pluginType:C,profileRanges:n,richTextFormatType:A,s2sInstanceKey:$,setupS2SLogging:Y,source:G,stickerID:a,traceSendMessageAPI:x,transaction:r}),e===!0)){H("send_first_message_separately_return");return}}else b!=null&&await b(r);!k&&!L&&!E&&await D(X,{isFirstMessage:U,isFirstMessageText:V,mediaStagings:await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(r.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,v.threadKey)})),pluginType:C,s2sInstanceKey:$,sendFirstMessageSeparately:e,setupS2SLogging:Y,source:G,traceSendMessageAPI:x,transaction:r})},"readwrite","ui",void 0,i.id+":245")},B=[F,k,v,S,M,w,E,R,T,C,P,D],t[16]=S,t[17]=k,t[18]=M,t[19]=R,t[20]=w,t[21]=F,t[22]=C,t[23]=E,t[24]=P,t[25]=D,t[26]=T,t[27]=v,t[28]=O,t[29]=B):(O=t[28],B=t[29]),o("Int64Hooks").useCallbackInt64(O,B)}function m(e){return e.type}function p(e){return String(e.offset)}function _(e){return String(e.length)}function f(e){return e.id}l.default=d}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useCometInteractionTracing","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useContext,m=c.useMemo;function p(e){var t=o("react-compiler-runtime").c(44),n=e.afterSendMessage,a=e.checkWAStorageForLogging,i=e.disableMarkRead,l=e.ephemeralDurationInSec,c=e.isIGDW,m=e.onOptimisticMessageCreation,p=e.onUploadFailure,_=e.onUploadStart,f=e.onUploadSuccess,g=e.pluginType,h=e.skipUrlPreviewGen,y=e.thread,C=o("MWPActor.react").useActor(),b=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(y.threadKey,y.threadType),v=d(o("MWPReplyContext.react").MWPReplyContext),S=v.clearReply,R=y.threadSubtype,L,E=y.eventStartTimestampMs!=null,k;t[0]!==E?(k=E.toString(),t[0]=E,t[1]=k):k=t[1];var I;t[2]===Symbol.for("react.memo_cache_sentinel")?(I="false",t[2]=I):I=t[2];var T;t[3]===Symbol.for("react.memo_cache_sentinel")?(T="false",t[3]=T):T=t[3];var D;t[4]!==y.threadKey?(D=(s||(s=o("I64"))).to_string(y.threadKey),t[4]=y.threadKey,t[5]=D):D=t[5];var x;t[6]!==R?(x=R!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(R)?(s||(s=o("I64"))).to_string(R):"",t[6]=R,t[7]=x):x=t[7];var $;t[8]!==y.threadType?($=(s||(s=o("I64"))).to_string(y.threadType),t[8]=y.threadType,t[9]=$):$=t[9];var P;t[10]!==k||t[11]!==D||t[12]!==x||t[13]!==$?(P={is_community_event:k,is_cutover:I,is_secure:T,thread_id:D,thread_subtype:x,thread_type:$},t[10]=k,t[11]=D,t[12]=x,t[13]=$,t[14]=P):P=t[14],L=P;var N=L,M=r("useMWLSAcceptMessageRequest")(y.threadKey),w;t[15]===Symbol.for("react.memo_cache_sentinel")?(w=r("qpl")._(30605384,"573"),t[15]=w):w=t[15];var A=r("useCometInteractionTracing")(w,"fast","INTERACTION",void 0,N),F;t[16]!==i||t[17]!==l||t[18]!==c||t[19]!==m||t[20]!==p||t[21]!==_||t[22]!==f||t[23]!==g||t[24]!==h||t[25]!==y?(F={disableMarkRead:i,ephemeralDurationInSec:l,isIGDW:c,onOptimisticMessageCreation:m,onUploadFailure:p,onUploadStart:_,onUploadSuccess:f,pluginType:g,skipUrlPreviewGen:h,thread:y},t[16]=i,t[17]=l,t[18]=c,t[19]=m,t[20]=p,t[21]=_,t[22]=f,t[23]=g,t[24]=h,t[25]=y,t[26]=F):F=t[26];var O=r("useMWV2SendOpenMessage")(F),B=r("MessengerWebUXLogger").useInteractionLogger(),W=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),q=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),U=r("useIGDChatTabsMessagingSource.react")(y.threadKey),V,H;return t[27]!==M||t[28]!==C||t[29]!==n||t[30]!==U||t[31]!==a||t[32]!==S||t[33]!==N||t[34]!==q||t[35]!==W||t[36]!==c||t[37]!==B||t[38]!==O||t[39]!==y||t[40]!==b||t[41]!==A?(V=function(t,i,l,d,m,p,_,f,g,h,v,R,L,E,k,I,T,D){var e=v===void 0?!1:v,x=R===void 0?!1:R;if(c===!0){var $=q==="ChatTab"&&U!=null?{messaging_source:String(U)}:{};B==null||B({eventName:"send_message",extraData:$,flowInstanceId:W})}var P=o("LSMessagingThreadTypeUtil").isMessageRequest(y);A(function(c){var v=o("sendToSentQPLLogger").markSendToSentStart(a);o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:N}),r("promiseDone")(O(t,i,l,d,m,p,_,f,g,async function(e){var t;if(h==null||h(),!!o("LSMessagingThreadTypeUtil").isOneToOne(y.threadType)){var n=(t=await o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.participants,[]).getKeyRange(y.threadKey),o("ReQL").fromTableAscending(e.contacts)).filter(function(e){var t=e[1];return!(s||(s=o("I64"))).equal(t.id,C)})))==null?void 0:t[1];n!=null&&!(s||(s=o("I64"))).to_float(n.contactViewerRelationship)!==r("LSContactViewerRelationship").CONTACT_OF_VIEWER&&await e.contacts.put(babelHelpers.extends({},n,{contactViewerRelationship:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)}))}},e,x,c,v,void 0,E,k,I,T,D),function(){var e=o("LSContactListConversionAttributionStore").getAttribution(b);e!=null&&(e.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(e):e.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(e),o("LSContactListConversionAttributionStore").resetAttribution(b)),n(),S(y.threadKey,!1),P&&(M(),o("MessageRequestsLog").logActionConfirmed(y,1))})})},H=[M,c,y,A,q,U,B,W,a,N,O,C,n,S,b],t[27]=M,t[28]=C,t[29]=n,t[30]=U,t[31]=a,t[32]=S,t[33]=N,t[34]=q,t[35]=W,t[36]=c,t[37]=B,t[38]=O,t[39]=y,t[40]=b,t[41]=A,t[42]=V,t[43]=H):(V=t[42],H=t[43]),o("Int64Hooks").useCallbackInt64(V,H)}l.default=p}),98);
__d("useShowPersistentGenAIFeedbackButtons",["ReQL","ReQLSuspense","react-compiler-runtime","useGenAIFeedbackSubmissionStatus","useIsGenAiFeedbackEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=o("react-compiler-runtime").c(6),s=(e||(e=r("useReStore")))(),u=r("useIsGenAiFeedbackEnabled")(n,a),c;l[0]!==s.tables.messages||l[1]!==t?(c=function(){return o("ReQL").fromTableDescending(s.tables.messages.index("threadKeyPrimarySortKeySecondarySortKeyBotResponseId"),["botResponseId"]).getKeyRange(t)},l[0]=s.tables.messages,l[1]=t,l[2]=c):c=l[2];var d;l[3]!==s||l[4]!==t?(d=[s,t],l[3]=s,l[4]=t,l[5]=d):d=l[5];var m=o("ReQLSuspense").useFirst(c,d,i.id+":43"),p=r("useGenAIFeedbackSubmissionStatus")(n);return u&&(m==null?void 0:m.botResponseId)===n&&p==null}l.default=s}),98);