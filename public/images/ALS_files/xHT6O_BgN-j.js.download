;/*FB_PKG_DELIM*/

__d("InstreamAdsConfig",["PMVInterruptionsWWWSitevarConfig","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=1e4,s=15e3,u=5e3,c=200,d=200,m=3e3,p=5e3,_=6e4,f=300,g=6e4,h=6e4,y=3e3,C=16,b=15,v=5,S=200,R=96,L=93,E=92,k=97,I="unified_scheduler",T="is_live_preroll";function D(){return 4e3}function x(){return y}function $(){return 1e3}function P(){return 2e3}function N(){return r("gkx")("24371")?_:3e5}function M(){return s}function w(){return u}function A(){return c}function F(){return e}function O(){return f}function B(){return d}function W(){return r("gkx")("24372")?p:m}function q(){return r("PMVInterruptionsWWWSitevarConfig").pmv_pre_roll_fetch_timeout_ms}function U(){return g}function V(){return h}l.DEFAULT_LONGER_AD_DURATION=C,l.DEFAULT_AD_COMPLETION_DURATION=b,l.DEFAULT_SKIPPABLE_TIME_THRESHOLD=v,l.DEFAULT_FETCH_TIME_INTERVAL_MS=S,l.UNIFIED_SCHEDULER_AD_INDEX=R,l.FULLSCREEN_AD_INDEX=L,l.CLICK_TO_PLAY_AD_INDEX=E,l.IS_LIVE_PREROLL_INDEX=k,l.UNIFIED_SCHEDULER_TIGGER_SOURCE=I,l.IS_LIVE_PREROLL_TRIGGER_SOURCE=T,l.getNonPmvMaxFetchTimeMS=D,l.getIsLivePrerollMaxFetchTimeMS=x,l.getHaloStartFetchTimeMS=$,l.getNonLiveBeginningTransitionTimeMS=P,l.getNonLiveMidrollGapRuleMS=N,l.getPostRollPreFetchTimeMs=M,l.getPostRollPreFetchEndTimeMs=w,l.getPreFetchTimeDeltaMs=A,l.getPreFetchTimeMs=F,l.getRecheckStartMs=O,l.getStartDeltaMs=B,l.getStartingIndicatorMs=W,l.getPMVInterruptionsPreRollFetchTimeMs=q,l.getUnifiedSchedulerStartDelayMs=U,l.getUnifiedSchedulerFrequencyMs=V}),98);
__d("InstreamAdsExtraFieldsContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null);function d(){return u(c)}l.InstreamAdsExtraFieldsContext=c,l.useInstreamAdsExtraFieldsContext=d}),98);
__d("InstreamAdsPalmStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext("INIT");function d(){return u(c)}l.InstreamAdsPalmStateContext=c,l.useInstreamAdsPalmStateContext=d}),98);
__d("InstreamPalmStateManagerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={setCurrentInsertion:function(){},setExtraFields:function(){},setHideAdBehavior:function(){},setIsEmpty:function(){},setState:function(){}},d=s.createContext(c);function m(){return u(d)}l.InstreamPalmStateManagerContext=d,l.useInstreamPalmStateManager=m}),98);
__d("useInstreamAdsStoryPlaybackControl",["InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=e.freezeTokenRef,n=e.organicController,r=e.previousPlaceDescription,a=o("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),i=o("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),l=(s||(s=o("VideoPlayerHooks"))).useEnded(),c=s.useController(),m=o("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext();u(function(){switch(a){case"START":{n.pause("commercial_break"),d(t,n);break}case"START_AD":{var e=n.getCurrentState(),o=e.muted,i=e.volume;c.setMuted(o,"commercial_break"),c.setVolume(i),n.pause("commercial_break"),d(t,n);break}case"PLAY_NI_VIDEO":{n.pause("commercial_break");var l=n.getCurrentState(),s=l.muted,u=l.volume;c.setMuted(s,"commercial_break"),c.setVolume(u),d(t,n);break}case"PLAY_LONGER_AD":{n.pause("commercial_break");var m=n.getCurrentState(),p=m.muted,_=m.volume;c.setMuted(p,"commercial_break"),c.setVolume(_),d(t,n);break}}switch(r){case"tahoe":d(t,n,function(){n.setMuted(!0,"tahoe_transition_phase_initiated")}),c.setMuted(!0,"tahoe_transition_phase_initiated");return;case"watch_and_scroll":d(t,n,function(){n.setMuted(!0,"watch_and_scroll_transition_phase_initiated")}),c.setMuted(!0,"watch_and_scroll_transition_phase_initiated");return}},[a,n,c,t,r]),u(function(){if(l){var e;(e=m==null?void 0:m.isAdPod)!=null&&e&&(m==null?void 0:m.adPodIndex)===0?(i.setExtraFields(Object.assign(m||{},{adPodIndex:1})),i.setState("START")):i.setState("END"),i.setExtraFields(Object.assign(m||{},{adPlaytime:0,watchTillEnd:l}))}},[l,m,i]),u(function(){var e=function(){c.pause("user_initiated")},t=function(){i.setState("END")};i.setHideAdBehavior({onClose:t,onOpen:e})},[c,i])}function d(e,t,n){if(n)e.current&&(t.unfreeze(e.current),e.current=null),n(),d(e,t);else{var r;e.current=(r=e.current)!=null?r:t.freeze()}}l.default=c}),98);