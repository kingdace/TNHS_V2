;/*FB_PKG_DELIM*/

__d("FDSFriendNeutralFilled24Icon",["cr:13877"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13877")}),98);
__d("FDSFriendNeutralFilled24PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("481920"),24),u=e;l.default=u}),98);
__d("MWChatHeadPicture.react",["FDSFriendNeutralFilled24Icon","MDSGlimmer.react","MWChatFacepile.react","MWChatProfile.react","MWXIcon_DEPRECATED.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={chatHeadIntroAnim:{animationDirection:"xpz12be",animationDuration:"x4b6v7d",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xxjl4ni",animationTimingFunction:"x84okpw",$$css:!0},dropShadow:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},withOverflowBackground:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(21),a=t.children,i=t.images,l=t.noDropShadow,s=t.noFacepile,d=l===void 0?!1:l,m=s===void 0?!1:s,p=i.length;if(p!==1){if(p!==0){if(m){var _;n[0]!==d?(_=(e||(e=r("stylex"))).props(d?!1:c.dropShadow,c.withOverflowBackground),n[0]=d,n[1]=_):_=n[1];var f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx(r("MWXIcon_DEPRECATED.react"),{icon:r("FDSFriendNeutralFilled24Icon")}),n[2]=f):f=n[2];var g;return n[3]!==a||n[4]!==_?(g=u.jsxs("div",babelHelpers.extends({},_,{children:[f,a]})),n[3]=a,n[4]=_,n[5]=g):g=n[5],g}var h;return n[6]!==a||n[7]!==i[0]||n[8]!==i[1]?(h=u.jsx(r("MWChatFacepile.react"),{borderBetweenImages:!1,firstParticipantURI:i[0],secondParticipantURI:i[1],shadow:!0,size:48,children:a}),n[6]=a,n[7]=i[0],n[8]=i[1],n[9]=h):h=n[9],h}var y;n[10]===Symbol.for("react.memo_cache_sentinel")?(y={className:"xcrg951 x1c9tyrk xeusxvb x1pahc9y x1ertn4p xsdox4t x1n2onr6 x1useyqa"},n[10]=y):y=n[10];var C;return n[11]!==a?(C=u.jsx("div",babelHelpers.extends({},y,{children:u.jsx(r("MDSGlimmer.react"),{index:1,children:a})})),n[11]=a,n[12]=C):C=n[12],C}var b;n[13]!==d?(b=(e||(e=r("stylex"))).props(c.withOverflowBackground,d?!1:c.dropShadow,c.chatHeadIntroAnim),n[13]=d,n[14]=b):b=n[14];var v;n[15]!==a||n[16]!==i[0]?(v=u.jsx(r("MWChatProfile.react"),{size:48,src:i[0],children:a}),n[15]=a,n[16]=i[0],n[17]=v):v=n[17];var S;return n[18]!==b||n[19]!==v?(S=u.jsx("div",babelHelpers.extends({},b,{children:v})),n[18]=b,n[19]=v,n[20]=S):S=n[20],S}l.default=d}),98);
__d("MWChatStateV2IsFlyoutOpen",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.openFlyoutWatermark!==0}i.isFlyoutOpen=e}),66);
__d("MWV2ChatHeadButton.react",["MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xsdox4t",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"x9lcvmn",width:"x1useyqa",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(4),n=e.children,r=e.style,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a="x6s0dn4 x78zum5 xsdox4t xl56j7k xyorhqc x10l6tqk x1useyqa",t[0]=a):a=t[0];var i;return t[1]!==n||t[2]!==r?(i=s.jsx("div",{className:a,style:r,children:n}),t[1]=n,t[2]=r,t[3]=i):i=t[3],i}function d(e){var t=o("react-compiler-runtime").c(12),n=e.ariaDescribedBy,a=e.ariaLabel,i=e.children,l=e.onFocusChange,c=e.onHoverChange,d=e.onHoverIn,m=e.onHoverOut,p=e.onPress,_=e.onPressIn,f=e.ref,g=e.testid,h;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==c||t[5]!==d||t[6]!==m||t[7]!==p||t[8]!==_||t[9]!==f||t[10]!==g?(h=s.jsx(r("MWXPressable.react"),{"aria-describedby":n,"aria-label":a,onFocusChange:l,onHoverChange:c,onHoverIn:d,onHoverOut:m,onPress:p,onPressIn:_,overlayDisabled:!0,ref:f,testid:void 0,xstyle:u.button,children:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=c,t[5]=d,t[6]=m,t[7]=p,t[8]=_,t[9]=f,t[10]=g,t[11]=h):h=t[11],h}var m=d;l.MWV2ChatHeadButtonContainer=c,l.MWV2ChatHeadButton=m}),98);
__d("MWV2ChatHeadCloseButton.react",["fbt","FDSCrossFilled12Icon","MWXIcon_DEPRECATED.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={closeButton:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"x1qx5ct2",insetInlineEnd:"xqwxbl3",left:null,right:null,justifyContent:"xl56j7k",opacity:"xg01cxk",position:"x10l6tqk",top:"x1fo6t33",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"xw4jnvo",$$css:!0},visible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.isVisible,a=e.onFocusChange,i=e.onHoverChange,l=e.onPress,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Close chat"),t[0]=d):d=t[0];var m;t[1]!==n?(m=function(t){return[c.closeButton,n||t.focused?c.visible:!1]},t[1]=n,t[2]=m):m=t[2];var p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx(r("MWXIcon_DEPRECATED.react"),{icon:r("FDSCrossFilled12Icon")}),t[3]=p):p=t[3];var _;return t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==m?(_=u.jsx(r("MWXPressable.react"),{"aria-label":d,onFocusChange:a,onHoverChange:i,onPress:l,xstyle:m,children:p}),t[4]=a,t[5]=i,t[6]=l,t[7]=m,t[8]=_):_=t[8],_}l.default=d}),226);
__d("MWV2ChatHeadFlyout.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSBadge.react","LSThreadTitle.react","Locale","MAWUIMessageComposerDraftsPersistedDataService","MWPIsThreadUnread","MWThreadSnippetForDisplay.react","MWXGlimmer.react","MWXText.react","react","react-compiler-runtime","react-strict-dom","stylex","useMWThreadSnippetForDisplay"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={container:{backgroundColor:"xcrg951",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",bottom:"x1ey2m1c",boxShadow:"x1ot33o7",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"xnnlda6",insetInlineEnd:"xdg88n9",maxWidth:"x256u9z",minWidth:"xktpd3l",paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",position:"x10l6tqk",$$css:!0},containerWithSubtitle:{height:"xwzfr38",$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xktia5q",$$css:!0}},m=o("Locale").isRTL(),p=m?-45:45;function _(t){var n=o("react-compiler-runtime").c(26),a=t.id,i=t.subtitle,l=t.thread,u=i!=null,_=o("MWPIsThreadUnread").useIsThreadUnread(l.threadKey),g;n[0]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx("div",{className:"x1502et5 x1doy451 xlup9mm x11dcrhx x10l6tqk x1kky2od x1ot33o7",style:{transform:"rotate("+p+"deg)"}}),n[0]=g):g=n[0];var h;n[1]!==u?(h=(e||(e=r("stylex"))).props(d.container,u?d.containerWithSubtitle:!1),n[1]=u,n[2]=h):h=n[2];var y;n[3]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsx("div",{className:"x1iyjqo2"}),n[3]=y):y=n[3];var C;n[4]!==l?(C=c.jsx("div",{"aria-hidden":!0,children:c.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:c.jsx(r("LSThreadTitle.react"),{thread:l})})}),n[4]=l,n[5]=C):C=n[5];var b;n[6]!==i?(b=i!=null?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"x1iyjqo2"}),c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"headline4",children:i})]}):null,n[6]=i,n[7]=b):b=n[7];var v;n[8]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx("div",{className:"x1iyjqo2"}),n[8]=v):v=n[8];var S;n[9]!==_?(S=_?c.jsx(r("FDSBadge.react"),{accessibilityText:s._(/*BTDS*/"Unread"),color:"blue"}):null,n[9]=_,n[10]=S):S=n[10];var R;n[11]!==l?(R=c.jsx(f,{thread:l}),n[11]=l,n[12]=R):R=n[12];var L;n[13]!==S||n[14]!==R?(L=c.jsxs(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:[S,R]}),n[13]=S,n[14]=R,n[15]=L):L=n[15];var E;n[16]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx("div",{className:"x1iyjqo2"}),n[16]=E):E=n[16];var k;n[17]!==h||n[18]!==C||n[19]!==b||n[20]!==L?(k=c.jsxs("div",babelHelpers.extends({},h,{children:[y,C,b,v,L,E]})),n[17]=h,n[18]=C,n[19]=b,n[20]=L,n[21]=k):k=n[21];var I;n[22]===Symbol.for("react.memo_cache_sentinel")?(I=c.jsx("div",{className:{0:"x1502et5 x1doy451 xlup9mm x11dcrhx x10l6tqk x1kky2od x1ov1ned",1:"x1502et5 x1doy451 xlup9mm x11dcrhx x10l6tqk x1kky2od xwntvv8"}[!!m<<0],style:{transform:"rotate("+p+"deg)"}}),n[22]=I):I=n[22];var T;return n[23]!==a||n[24]!==k?(T=c.jsxs("div",{"data-testid":void 0,id:a,children:[g,k,I]}),n[23]=a,n[24]=k,n[25]=T):T=n[25],T}function f(e){var t=o("react-compiler-runtime").c(5),n=e.thread,a=o("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().isThreadLoading(n.threadKey,n.threadType),l=r("useMWThreadSnippetForDisplay")(n,!1),s=l.isDraft,u=l.snippet;if(a){var m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsxs(o("react-strict-dom").html.div,{style:d.threadBodyGlimmer,children:[c.jsx(r("MWXGlimmer.react"),{index:2,xstyle:d.threadSnippetGlimmer}),c.jsx(r("CometHeroHoldTrigger.react"),{description:"MWV2ChatHeadFlyout.MWV2ChatHeadFlyoutSnippet",hold:!0})]}),t[0]=m):m=t[0],m}var p;return t[1]!==s||t[2]!==u||t[3]!==n?(p=c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(r("MWThreadSnippetForDisplay.react"),{isDraftMessage:s,snippetRaw:u,thread:n})}),t[1]=s,t[2]=u,t[3]=n,t[4]=p):p=t[4],p}l.default=_}),226);
__d("MWV2ChatHeadTypingIndicator.react",["I64","MWChatTypingIndicator.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","react","react-compiler-runtime","setTimeout","useReStore","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useState;function _(t){var n=o("react-compiler-runtime").c(12),a=t.threadKey,l=t.threadType,s=p(!1),u=s[0],d=s[1],_=(e||(e=r("useReStore")))(),h;n[0]!==_.tables.typing_indicator||n[1]!==a?(h=function(){return o("ReQL").fromTableAscending(_.tables.typing_indicator).getKeyRange(a).filter(g)},n[0]=_.tables.typing_indicator,n[1]=a,n[2]=h):h=n[2];var y;n[3]!==_||n[4]!==a?(y=[_,a],n[3]=_,n[4]=a,n[5]=y):y=n[5];var C=o("ReQLSuspense").useArray(h,y,i.id+":48"),b,v;if(n[6]!==C?(b=function(){d(C.length>0);var e=C.map(f),t=Math.max.apply(Math,e),n=t-o("ServerTime").getMillis(),a=r("setTimeout")(function(){return d(!1)},n);return function(){r("clearTimeout")(a)}},v=[d,C],n[6]=C,n[7]=b,n[8]=v):(b=n[7],v=n[8]),m(b,v),!u)return null;var S;n[9]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x6s0dn4 xcrg951 x16qb05n xi7iut8 x1dm3dyd x1pv694p x1ey2m1c x78zum5 x1qx5ct2 xtijo5x xl56j7k x10l6tqk x1td3qas"},n[9]=S):S=n[9];var R;return n[10]!==l?(R=c.jsx("div",babelHelpers.extends({},S,{children:c.jsx(r("MWChatTypingIndicator.react"),{threadType:l})})),n[10]=l,n[11]=R):R=n[11],R}function f(e){return(s||(s=o("I64"))).to_float(e.expirationTimestampMs)}function g(e){var t=e.expirationTimestampMs;return o("ServerTime").getMillis()<(s||(s=o("I64"))).to_float(t)}var h=o("withCometPlaceholder").withCometPlaceholder(_,null,"MWV2ChatHeadTypingIndicator");l.default=h}),98);
__d("MWV2ChatHeadUnreadMessageCountBadge.react",["fbt","CometPlaceholder.react","FDSNumberedBadge.react","I64","MWPActor.react","ReQL","ReQLSuspense","react","react-compiler-runtime","stylex","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p={badgeHidden:{opacity:"xg01cxk",$$css:!0},unreadBadge:{insetInlineEnd:"xqwxbl3",position:"x10l6tqk",top:"x1fo6t33",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",$$css:!0},unreadBadgeIndeterminate:{marginInlineEnd:"x1w5wx5t",$$css:!0}};function _(t,n){var a,l,s=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor();return(a=(l=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(s.tables.messages).getKeyRange(t).bounds({gt:[n]}).filter(function(e){return!(c||(c=o("I64"))).equal(e.senderId,u)}).take(10)},[u,s,n,t],i.id+":57"))==null?void 0:l.length)!=null?a:0}function f(e){var t=o("react-compiler-runtime").c(12),n=e.isUnread,a=e.isVisible,i=e.unreadMessageCount;if(i===0&&!n){var l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=m.jsx("div",{"aria-hidden":!0,className:"xg01cxk x1f85oc2"}),t[0]=l):l=t[0],l}var c;t[1]!==i?(c=i===0?s._(/*BTDS*/"_j[\"Unread messages\",\"2b2898b200686215c54616553499fddf\",1]"):s._(/*BTDS*/"_j{\"*\":\"{number} unread messages\",\"_1\":\"1 unread message\"}",[s._plural(i,"number")]),t[1]=i,t[2]=c):c=t[2];var d=c,_;t[3]!==i?(_=i===0?null:m.jsx(r("FDSNumberedBadge.react"),{accessibilityText:s._(/*BTDS*/"_j{\"*\":\"{number} unread messages\",\"_1\":\"1 unread message\"}",[s._plural(i,"number")]),overflow:9,value:i}),t[3]=i,t[4]=_):_=t[4];var f=_,g;t[5]!==a||t[6]!==i?(g=(u||(u=r("stylex"))).props(p.unreadBadge,a?!1:p.badgeHidden,i===0?p.unreadBadgeIndeterminate:!1),t[5]=a,t[6]=i,t[7]=g):g=t[7];var h;return t[8]!==d||t[9]!==f||t[10]!==g?(h=m.jsx("div",babelHelpers.extends({"aria-label":d},g,{children:f})),t[8]=d,t[9]=f,t[10]=g,t[11]=h):h=t[11],h}function g(e){var t=o("react-compiler-runtime").c(4),n=e.isUnread,r=e.isVisible,a=e.lastReadWatermarkTimestampMs,i=e.threadKey,l=_(i,a),s;return t[0]!==n||t[1]!==r||t[2]!==l?(s=m.jsx(f,{isUnread:n,isVisible:r,unreadMessageCount:l}),t[0]=n,t[1]=r,t[2]=l,t[3]=s):s=t[3],s}var h=function(t){return m.jsx(r("CometPlaceholder.react"),{fallback:m.jsx(f,{isUnread:t.isUnread,isVisible:t.isVisible,unreadMessageCount:0}),name:"MWV2ChatHeadUnreadMessageCountBadge",children:m.jsx(g,babelHelpers.extends({},t))})};l.MWV2ChatHeadUnreadMessageCountBadge=h}),226);
__d("MWV2ChatHead.react",["fbt","CometContextualLayer.react","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","LSContactBitOffset","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSReportThreadViewOpenStoredProcedure","LSSLogger","LSThreadAttributionStore","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeadPicture.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2IsFlyoutOpen","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","MWPIsThreadUnread","MWV2ChatHeadButton.react","MWV2ChatHeadCloseButton.react","MWV2ChatHeadFlyout.react","MWV2ChatHeadTypingIndicator.react","MWV2ChatHeadUnreadMessageCountBadge.react","MWV2EnsureThatChatTabExists","ReQL","ReQLSuspense","getBadgePosition","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","justknobx","profilePhotoUtils","promiseDone","react","react-compiler-runtime","useCommunityFolder","useGetContactsToShow","useMWChatOpenTabTraceProvider","useMWPreloadThread","useMWReportThreadOpenOnMountAndFocusWithLogger","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useId,f=p.useRef,g=p.useState,h=r("justknobx")._("2202");function y(e,t){var n=o("react-compiler-runtime").c(6),r=o("MWPActor.react").useActor(),a=e.threadName;if(a!=null){var i;return n[0]!==a?(i=s._(/*BTDS*/"Open chat titled {name of conversation}",[s._param("name of conversation",a)]),n[0]=a,n[1]=i):i=n[1],i}var l;if(n[2]!==r||n[3]!==t||n[4]!==e.threadType){var u,c=(u=o("MWPGetThreadTitle").computeThreadTitle(void 0,e.threadType,t,r))!=null?u:"";l=s._(/*BTDS*/"Open chat with {chat participants}",[s._param("chat participants",c)]),n[2]=r,n[3]=t,n[4]=e.threadType,n[5]=l}else l=n[5];return l}function C(e,t){var n=o("react-compiler-runtime").c(6),a=o("MWPActor.react").useActor(),i;n[0]!==e?(i=r("getLSMediaThreadPictureUrl")(e),n[0]=e,n[1]=i):i=n[1];var l=i,s=r("useGetContactsToShow")(e,t,a);if(l!=null){var u;return n[2]!==l?(u=[l],n[2]=l,n[3]=u):u=n[3],u}var c;return n[4]!==s?(c=s.map(r("getLSMediaContactProfilePictureUrl")),n[4]=s,n[5]=c):c=n[5],c}function b(t){var n=o("react-compiler-runtime").c(84),a=t.onFocusChange,l=t.onHoverChange,s=t.style,d=t.tab,p=t.thread,b=(e||(e=r("useReStore")))(),S=r("useCommunityFolder")(p),R=o("MWChatStateV2.react").useDispatch(),L=r("useMWChatOpenTabTraceProvider")(),E;n[0]!==p.threadType?(E=o("MWCMThreadTypes.react").isJoinedCMThread(p.threadType),n[0]=p.threadType,n[1]=E):E=n[1];var k=E,I=o("LSMessagingThreadTypeUtil").isChannelPreview(p.threadType),T;n[2]!==p.threadType?(T=o("LSMessagingThreadTypeUtil").isArmadilloSecure(p.threadType),n[2]=p.threadType,n[3]=T):T=n[3];var D=T,x=r("useMWPreloadThread")(p,D),$=x.onHoverInPreloader,P=x.onHoverOutPreloader,N=x.onPressInPreloader,M;n[4]!==R||n[5]!==k||n[6]!==S||n[7]!==b||n[8]!==d.tabId||n[9]!==p.parentThreadKey||n[10]!==p.threadKey||n[11]!==p.threadType||n[12]!==L?(M=function(){k&&(o("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:S?(u||(u=o("I64"))).to_string(S.folderId):(u||(u=o("I64"))).to_string(p.parentThreadKey),event:"thread_open",group_id:S?(u||(u=o("I64"))).to_string(S.fbGroupId):null,source:"chat_bubble",surface:"chat_bubbles_container",thread_id:(u||(u=o("I64"))).to_string(p.threadKey)}),r("promiseDone")(b.runInTransaction(function(e){return r("LSReportThreadViewOpenStoredProcedure")(r("LSFactory")(e),{threadKey:p.threadKey})},"readwrite",void 0,void 0,i.id+":185"))),L({entrypoint:"chatheads",threadKey:p.threadKey,threadType:(c||(c=o("LSIntEnum"))).unwrapIntEnum(p.threadType)},function(e){o("MWChatInteraction").set((u||(u=o("I64"))).to_string(p.threadKey),e),R(o("MWChatStateActions").maximizeTab(Date.now(),d.tabId))}),o("LSThreadAttributionStore").setSource((u||(u=o("I64"))).to_string(p.threadKey),"chatheads")},n[4]=R,n[5]=k,n[6]=S,n[7]=b,n[8]=d.tabId,n[9]=p.parentThreadKey,n[10]=p.threadKey,n[11]=p.threadType,n[12]=L,n[13]=M):M=n[13];var w=M;o("LSSLogger").useCancelLSSForChatHead(b,p);var A=p.threadKey,F=g(!1),O=F[0],B=F[1],W=g(!1),q=W[0],U=W[1],V;n[14]!==R||n[15]!==d.tabId?(V=function(){return R(o("MWChatStateActions").closeTab(Date.now(),d.tabId))},n[14]=R,n[15]=d.tabId,n[16]=V):V=n[16];var H=V,G;n[17]!==b.tables.contacts||n[18]!==b.tables.participants||n[19]!==A?(G=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(b.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(A),o("ReQL").fromTableAscending(b.tables.contacts,["name","rank","contactType","firstName"].concat(o("LSContactBitOffset").contactCapabilityFields,["id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id"]))).take(8)},n[17]=b.tables.contacts,n[18]=b.tables.participants,n[19]=A,n[20]=G):G=n[20];var z;n[21]!==b||n[22]!==A?(z=[b,A],n[21]=b,n[22]=A,n[23]=z):z=n[23];var j=o("ReQLSuspense").useArray(G,z,i.id+":221"),K=f(null),Q;n[24]!==d?(Q=o("MWChatStateV2IsFlyoutOpen").isFlyoutOpen(d),n[24]=d,n[25]=Q):Q=n[25];var X=Q,Y=_(),J=y(p,j),Z;n[26]!==j?(Z=j.map(v),n[26]=j,n[27]=Z):Z=n[27];var ee=Z,te=C(p,ee),ne;n[28]===Symbol.for("react.memo_cache_sentinel")?(ne=o("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),n[28]=ne):ne=n[28];var re=ne,oe=re[0],ae;n[29]===Symbol.for("react.memo_cache_sentinel")?(ae=o("getBadgePosition").getBadgePosition(24),n[29]=ae):ae=n[29];var ie=ae,le;n[30]!==k||n[31]!==p?(le=k?m.jsx(r("MWCMInboxHeaderCommunityGroupName.react"),{thread:p}):null,n[30]=k,n[31]=p,n[32]=le):le=n[32];var se=le,ue=o("MWPIsThreadUnread").useIsThreadUnread(p.threadKey),ce=r("useMWReportThreadOpenOnMountAndFocusWithLogger")(p,h),de;n[33]!==J?(de=J.toString(),n[33]=J,n[34]=de):de=n[34];var me;n[35]!==a?(me=function(t){U(t),a(t)},n[35]=a,n[36]=me):me=n[36];var pe;n[37]!==l?(pe=function(t){B(t),l(t)},n[37]=l,n[38]=pe):pe=n[38];var _e=!I&&!O&&!q,fe;n[39]!==ue||n[40]!==_e||n[41]!==p.lastReadWatermarkTimestampMs||n[42]!==A?(fe=m.jsx(o("MWV2ChatHeadUnreadMessageCountBadge.react").MWV2ChatHeadUnreadMessageCountBadge,{isUnread:ue,isVisible:_e,lastReadWatermarkTimestampMs:p.lastReadWatermarkTimestampMs,threadKey:A}),n[39]=ue,n[40]=_e,n[41]=p.lastReadWatermarkTimestampMs,n[42]=A,n[43]=fe):fe=n[43];var ge,he;n[44]===Symbol.for("react.memo_cache_sentinel")?(ge="x10l6tqk",he={bottom:ie.bottom,left:ie.left,right:ie.right,transform:ie.transform},n[44]=ge,n[45]=he):(ge=n[44],he=n[45]);var ye;n[46]!==p.threadKey?(ye=m.jsx("div",{className:ge,style:he,children:m.jsx(r("MWFacepileBadge.react"),{size:oe,threadKey:p.threadKey})}),n[46]=p.threadKey,n[47]=ye):ye=n[47];var Ce;n[48]!==te||n[49]!==fe||n[50]!==ye?(Ce=m.jsx("div",{ref:K,children:m.jsxs(r("MWChatHeadPicture.react"),{images:te,children:[fe,ye]})}),n[48]=te,n[49]=fe,n[50]=ye,n[51]=Ce):Ce=n[51];var be;n[52]!==Y||n[53]!==X||n[54]!==q||n[55]!==O||n[56]!==se||n[57]!==p?(be=O||q||X?m.jsx(r("CometContextualLayer.react"),{contextRef:K,children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:m.jsx(r("MWV2ChatHeadFlyout.react"),{id:Y,subtitle:se,thread:p})})}):null,n[52]=Y,n[53]=X,n[54]=q,n[55]=O,n[56]=se,n[57]=p,n[58]=be):be=n[58];var ve;n[59]!==p.threadType||n[60]!==A?(ve=m.jsx(r("MWV2ChatHeadTypingIndicator.react"),{threadKey:A,threadType:p.threadType}),n[59]=p.threadType,n[60]=A,n[61]=ve):ve=n[61];var Se;n[62]!==Y||n[63]!==$||n[64]!==P||n[65]!==w||n[66]!==N||n[67]!==de||n[68]!==me||n[69]!==pe||n[70]!==Ce||n[71]!==be||n[72]!==ve?(Se=m.jsxs(o("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaDescribedBy:Y,ariaLabel:de,onFocusChange:me,onHoverChange:pe,onHoverIn:$,onHoverOut:P,onPress:w,onPressIn:N,children:[Ce,be,ve]}),n[62]=Y,n[63]=$,n[64]=P,n[65]=w,n[66]=N,n[67]=de,n[68]=me,n[69]=pe,n[70]=Ce,n[71]=be,n[72]=ve,n[73]=Se):Se=n[73];var Re=O||q,Le;n[74]!==H||n[75]!==Re?(Le=m.jsx(r("MWV2ChatHeadCloseButton.react"),{isVisible:Re,onFocusChange:U,onHoverChange:B,onPress:H}),n[74]=H,n[75]=Re,n[76]=Le):Le=n[76];var Ee;n[77]!==s||n[78]!==Se||n[79]!==Le?(Ee=m.jsxs(o("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:s,children:[Se,Le]}),n[77]=s,n[78]=Se,n[79]=Le,n[80]=Ee):Ee=n[80];var ke;return n[81]!==ce||n[82]!==Ee?(ke=m.jsxs(m.Fragment,{children:[ce,Ee]}),n[81]=ce,n[82]=Ee,n[83]=ke):ke=n[83],ke}function v(e){var t=e[1];return t}function S(t){var n,a=o("react-compiler-runtime").c(18),l=t.onFocusChange,s=t.onHoverChange,u=t.style,c=t.tab,d=t.threadKeyDescriptor,p=(e||(e=r("useReStore")))(),_=d.clientThreadKey,f=d.threadKey;o("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(f,d.threadType,d.clientThreadKey,"MWV2ChatHead");var g;a[0]!==p.tables.threads||a[1]!==f?(g=function(){return o("ReQL").fromTableAscending(p.tables.threads).getKeyRange(f)},a[0]=p.tables.threads,a[1]=f,a[2]=g):g=a[2];var h;a[3]!==p||a[4]!==f?(h=[p,f],a[3]=p,a[4]=f,a[5]=h):h=a[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":349"),C;a[6]!==_||a[7]!==p.tables.threads?(C=function(){return _!=null?o("ReQL").fromTableAscending(p.tables.threads.index("clientThreadKey")).getKeyRange(_):o("ReQL").empty()},a[6]=_,a[7]=p.tables.threads,a[8]=C):C=a[8];var v;a[9]!==_||a[10]!==p?(v=[p,_],a[9]=_,a[10]=p,a[11]=v):v=a[11];var S=o("ReQLSuspense").useFirst(C,v,i.id+":353"),R=(n=y!=null?y:S)!=null?n:null,L;return a[12]!==l||a[13]!==s||a[14]!==u||a[15]!==c||a[16]!==R?(L=R&&m.jsx(b,{onFocusChange:l,onHoverChange:s,style:u,tab:c,thread:R}),a[12]=l,a[13]=s,a[14]=u,a[15]=c,a[16]=R,a[17]=L):L=a[17],L}l.default=S}),226);