;/*FB_PKG_DELIM*/

__d("ChannelShareDialogLoggingContext",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["BROADCAST_CHANNEL_CREATION","THREAD_DETAILS_SHARE_ITEM","THREAD_DETAILS_QUICK_ACTION","CONTEXT_BANNER_QUICK_ACTION"]),l=e;i.default=l}),66);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25076508161988035"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u={getPreloadProps:function(t){return{queries:{reference:{parameters:r("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers.extends({},t,{nt_context:null,trigger_session_id:r("uuidv4")()}),scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")},c=u;l.default=c}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null};a.exports=e}),null);
__d("SafetyInterventionEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2113"),s=o("FalcoLoggerInternal").create("safety_intervention_engagement",e),u=s;l.default=u}),98);
__d("SafetyInterventionErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2114"),s=o("FalcoLoggerInternal").create("safety_intervention_error",e),u=s;l.default=u}),98);
__d("SafetyInterventionImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2115"),s=o("FalcoLoggerInternal").create("safety_intervention_impression",e),u=s;l.default=u}),98);
__d("SafetyInterventionPlatformTriggeredFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2118"),s=o("FalcoLoggerInternal").create("safety_intervention_platform_triggered",e),u=s;l.default=u}),98);
__d("SafetyInterventionPlatformAnalyticsLogger",["SafetyInterventionEngagementFalcoEvent","SafetyInterventionErrorFalcoEvent","SafetyInterventionImpressionFalcoEvent","SafetyInterventionPlatformTriggeredFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i,l,s,u){r("SafetyInterventionImpressionFalcoEvent").log(function(){return{client_session_id:e,expiration_ts:t,other_user_id:l,safety_intervention_impression_trigger_action:s,safety_intervention_type:u,server_evaluation_id:n,thread_id:o,thread_type:a,user_id:i}})}function s(e,t,n,o,a,i,l,s,u,c){r("SafetyInterventionEngagementFalcoEvent").log(function(){return{client_session_id:e,expiration_ts:t,intervention_engagement_action_type:c,intervention_engagement_type:u,other_user_id:l,safety_intervention_type:s,server_evaluation_id:n,thread_id:o,thread_type:a,user_id:i}})}function u(e,t,n,o,a,i,l){r("SafetyInterventionErrorFalcoEvent").log(function(){return{client_session_id:e,extra_field:l,other_user_id:i,server_evaluation_id:t,thread_id:n,thread_type:o,user_id:a}})}function c(e,t,n,o,a,i,l){r("SafetyInterventionPlatformTriggeredFalcoEvent").log(function(){return{client_session_id:e,other_user_id:i,safety_intervention_platform_trigger_source:l,server_evaluation_id:t,thread_id:n,thread_type:o,user_id:a}})}l.logSafetyInterventionImpression=e,l.logSafetyInterventionEngagement=s,l.logSafetyInterventionError=u,l.logSafetyInterventionTriggered=c}),98);
__d("SafetyNoticeThreadType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["AI_BOT","ARMADILLO_GROUP","ARMADILLO_ONE_TO_ONE","CARRIER_MESSAGING_GROUP","CARRIER_MESSAGING_ONE_TO_ONE","COMMUNITY_ANNOUNCEMENT_JOINED_THREAD","COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD","COMMUNITY_BROADCAST_JOINED_THREAD","COMMUNITY_BROADCAST_UNJOINED_THREAD","COMMUNITY_CHANNEL_CATEGORY","COMMUNITY_FOLDER","COMMUNITY_GROUP","COMMUNITY_GROUP_INVITED_UNJOINED","COMMUNITY_GROUP_UNJOINED","COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD","COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD","COMMUNITY_SUB_THREAD","DISCOVERABLE_PUBLIC_BROADCAST_CHAT","DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED","DISCOVERABLE_PUBLIC_CHAT","DISCOVERABLE_PUBLIC_CHAT_UNJOINED","DISCOVERABLE_PUBLIC_CHAT_V2","DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED","FOLDER","GEMSTONE","GROUP","LWG","MARKETPLACE","MONTAGE","ONE_TO_ONE","PAGE_FOLLOW_UP","PHONE_NUMBER","PINNED","ROOM","SECURE_MESSAGE_OVER_WA_GROUP","SECURE_MESSAGE_OVER_WA_ONE_TO_ONE","SELF_THREAD","TINCAN_GROUP_DISAPPEARING","TINCAN_ONE_TO_ONE","TINCAN_ONE_TO_ONE_DISAPPEARING","UNKNOWN","XAC_GROUP"]),l=e;i.default=l}),66);
__d("SafetyNoticeEnumConverter",[],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case 201:return"AI_BOT";case-2:return"ARMADILLO_GROUP";case-1:return"ARMADILLO_ONE_TO_ONE";case 11:return"CARRIER_MESSAGING_GROUP";case 10:return"CARRIER_MESSAGING_ONE_TO_ONE";case 17:return"COMMUNITY_FOLDER";case 18:return"COMMUNITY_GROUP";case 152:return"DISCOVERABLE_PUBLIC_BROADCAST_CHAT";case 150:return"DISCOVERABLE_PUBLIC_CHAT";case 6:return"FOLDER";case 2:return"GROUP";case 102:return"LWG";case 5:return"MARKETPLACE";case 4:return"MONTAGE";case 1:return"ONE_TO_ONE";case 14:return"PAGE_FOLLOW_UP";case 101:return"PINNED";case 3:return"ROOM";case 12:return"SELF_THREAD";case 0:return"UNKNOWN";case 200:return"XAC_GROUP";case 23:return"COMMUNITY_BROADCAST_JOINED_THREAD";case 24:return"COMMUNITY_BROADCAST_UNJOINED_THREAD";case 20:return"COMMUNITY_CHANNEL_CATEGORY";case 25:return"COMMUNITY_GROUP_INVITED_UNJOINED";case 19:return"COMMUNITY_GROUP_UNJOINED";case 21:return"COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD";case 22:return"COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD";case 26:return"COMMUNITY_SUB_THREAD";case 153:return"DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED";case 151:return"DISCOVERABLE_PUBLIC_CHAT_UNJOINED";case 154:return"DISCOVERABLE_PUBLIC_CHAT_V2";case 155:return"DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED";case 16:return"SECURE_MESSAGE_OVER_WA_GROUP";case 15:return"SECURE_MESSAGE_OVER_WA_ONE_TO_ONE";case 8:return"TINCAN_GROUP_DISAPPEARING";case 7:return"TINCAN_ONE_TO_ONE";case 13:return"TINCAN_ONE_TO_ONE_DISAPPEARING";case 202:return"AI_BOT";case 27:return"COMMUNITY_ANNOUNCEMENT_JOINED_THREAD";case 28:return"COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD";case 203:return"AI_BOT";default:return"UNKNOWN"}}l.convertLSThreadTypeToSafetyNoticeThreadType=e}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBanner.react",["fbt","Actor","CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql","I64","LsThreadType","MWXCircleButton.react","MWXIconCross","MWXImage.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useEffect,_=m.useState,f={boxShadow:"0px 1px 6px rgba(0, 0, 0, 0.1), 0px -4px 6px rgba(0, 0, 0, 0.1)",display:"block",marginTop:"10px"};e!==void 0||(e=n("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql"));function g(e){var t=o("react-compiler-runtime").c(29),n=e.client_session_id,a=e.expiration_ts,i=e.header,l=e.image,u=e.is_dismissable,m=e.other_user_id,g=e.safety_intervention_type,h=e.server_evaluation_id,C=e.text,b=e.thread,v=o("Actor").useActor(),S=v[0],R=_(!1),L=R[0],E=R[1],k;if(t[0]!==b.threadType){var I;k=o("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(r("castToEnum")((c||(c=o("I64"))).to_int32((I=b.threadType)!=null?I:(c||(c=o("I64"))).zero),r("LsThreadType"),0)),t[0]=b.threadType,t[1]=k}else k=t[1];var T=k,D;t[2]!==S||t[3]!==n||t[4]!==T||t[5]!==a||t[6]!==m||t[7]!==g||t[8]!==h||t[9]!==b.threadKey?(D=function(){E(!0),o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionEngagement(n,a,h,(c||(c=o("I64"))).to_string(b.threadKey),T,S,m,g,"dismissal","DISMISS")},t[2]=S,t[3]=n,t[4]=T,t[5]=a,t[6]=m,t[7]=g,t[8]=h,t[9]=b.threadKey,t[10]=D):D=t[10];var x=D,$,P;t[11]!==S||t[12]!==n||t[13]!==T||t[14]!==a||t[15]!==m||t[16]!==g||t[17]!==h||t[18]!==b.threadKey?($=function(){return o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionImpression(n,a,h,(c||(c=o("I64"))).to_string(b.threadKey),T,S,m,"thread_open",g)},P=[S,n,T,a,m,g,h,b.threadKey],t[11]=S,t[12]=n,t[13]=T,t[14]=a,t[15]=m,t[16]=g,t[17]=h,t[18]=b.threadKey,t[19]=$,t[20]=P):($=t[19],P=t[20]),p($,P);var N;return t[21]!==x||t[22]!==i||t[23]!==(l==null?void 0:l.image_type)||t[24]!==(l==null?void 0:l.stock_image_type_v2)||t[25]!==L||t[26]!==u||t[27]!==C?(N=!L&&d.jsx("div",{style:f,children:d.jsx(r("MWXListCellPressable.react"),{addOnEnd:u===!0?d.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconCross"),label:s._(/*BTDS*/"Dismiss"),onPress:x,size:24}):d.jsx(d.Fragment,{}),addOnStart:(l==null?void 0:l.image_type)==="STOCK_IMAGE"?d.jsx(r("MWXImage.react"),{src:y(l==null?void 0:l.stock_image_type_v2)}):d.jsx(d.Fragment,{}),content:d.jsx(r("MWXTextPairing.react"),{body:d.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:C}),headline:i,level:4})})}),t[21]=x,t[22]=i,t[23]=l==null?void 0:l.image_type,t[24]=l==null?void 0:l.stock_image_type_v2,t[25]=L,t[26]=u,t[27]=C,t[28]=N):N=t[28],N}function h(e){var t=o("react-compiler-runtime").c(11),n=e.client_session_id,a=e.expiration_ts,i=e.fragment$key,l=e.other_user_id,s=e.safety_intervention_type,u=e.server_evaluation_id,c=e.thread,m=o("RelayHooks").useFragment(r("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql"),i);if((m==null?void 0:m.header)==null||m.body==null||m.is_dismissable==null||m.body.text==null)return null;var p=m==null?void 0:m.is_dismissable,_;return t[0]!==n||t[1]!==m.body.text||t[2]!==m.header||t[3]!==m.image||t[4]!==a||t[5]!==l||t[6]!==s||t[7]!==u||t[8]!==p||t[9]!==c?(_=d.jsx(g,{client_session_id:n,expiration_ts:a,header:m.header,image:m.image,is_dismissable:p,other_user_id:l,safety_intervention_type:s,server_evaluation_id:u,text:m.body.text,thread:c}),t[0]=n,t[1]=m.body.text,t[2]=m.header,t[3]=m.image,t[4]=a,t[5]=l,t[6]=s,t[7]=u,t[8]=p,t[9]=c,t[10]=_):_=t[10],_}function y(e){return e==="exclamation_mark_warning_filled"?"/images/messenger_web/msip/messenger_warning_alpha_light.png":""}l.default=h}),226);
__d("CometMsgrSafetyInterventionsUIEngineFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsUIEngineFragment",selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligibleClientInstructions",kind:"LinkedField",name:"client_instructions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_ts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment"}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"intervention_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"evaluation_id",storageKey:null}],type:"XFBMsgrSafetyInterventionsOneToOneThreadResult",abstractKey:null};a.exports=e}),null);
__d("CometMsgrSafetyInterventionsUIEngine.react",["Actor","CometMsgrSafetyInterventionsAboveComposerBanner.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","I64","LsThreadType","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=r("react"));e!==void 0||(e=n("CometMsgrSafetyInterventionsUIEngineFragment.graphql"));var d=["ABOVE_COMPOSER_BANNER"];function m(e){var t,n,a=e.client_session_id,i=e.fragment$key,l=e.other_user_id,u=e.thread,m=o("RelayHooks").useFragment(r("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),i),p=o("Actor").useActor(),_=p[0],f=p[1];if(m==null)return null;var g=m.eligible_interventions;if(g==null||g[0]==null)return null;var h=m.eligible_interventions[0];if(!d.includes((t=h.component)==null?void 0:t.component_type))return null;try{var y;switch((y=h.component)==null?void 0:y.component_type){case"ABOVE_COMPOSER_BANNER":return c.jsx(r("CometMsgrSafetyInterventionsAboveComposerBanner.react"),{client_session_id:a,expiration_ts:String((n=h.client_instructions)==null?void 0:n.expiration_ts),fragment$key:h.component,other_user_id:l,safety_intervention_type:h.intervention_type,server_evaluation_id:m.evaluation_id,thread:u});default:return null}}catch(e){var C,b=o("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(r("castToEnum")((s||(s=o("I64"))).to_int32((C=u.threadType)!=null?C:(s||(s=o("I64"))).zero),r("LsThreadType"),0));o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionError(a,m.evaluation_id,s.to_string(u.threadKey),b,_,l,String(e))}return null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect;function m(t){var n=o("react-compiler-runtime").c(4),a=t.description,i=c(o("hero-tracing-placeholder").HeroInteractionIDContext),l,s;n[0]!==a||n[1]!==i?(l=function(){var t=(e||(e=r("performanceNow")))();return function(){if(i!=null){var n=(e||(e=r("performanceNow")))();r("InteractionTracingMetrics").addSubspan(i,a,"AppTiming",t,n,{})}}},s=[a,i],n[0]=a,n[1]=i,n[2]=l,n[3]=s):(l=n[2],s=n[3]),d(l,s)}l.default=m}),98);
__d("E2EELinkPreviewXMASendStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({SENDING:1});i.default=e}),66);
__d("FBIconAppFacebookReelsFilled20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -350)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M454.59 355h4.18l-2.4-4h-3.28c-.22 0-.423.008-.624.017L454.59 355zm6.514 0h3.695c-.226-1.031-.65-1.79-1.326-2.489-1.061-1.025-2.248-1.488-4.392-1.511h-.379l2.401 4zm-8.78 0-1.942-3.64c-.73.247-1.315.63-1.868 1.165-.668.69-1.09 1.445-1.315 2.475h5.125zm7.043 7.989a.711.711 0 0 1-.22.202l-4.573 2.671-.05.027a.713.713 0 0 1-1.024-.643v-5.343l.002-.056a.714.714 0 0 1 1.072-.56l4.572 2.67.054.036a.714.714 0 0 1 .167.996zm-12.366-5.99V363.083l.001.03v.112l.005.048h.001c.05 2.02.513 3.176 1.506 4.203 1.102 1.066 2.324 1.525 4.577 1.525h5.99c2.144-.023 3.331-.486 4.392-1.511 1.005-1.04 1.467-2.198 1.517-4.217h.003c.003-.1.005-.1.006-.204l.001-.156V357h-18z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconArrowDownOutline20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsxs(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-90 -248)",children:[s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M95.322 258.928a.75.75 0 0 0-1.06 1.06l5.208 5.209a.75.75 0 0 0 1.06 0l5.209-5.208a.75.75 0 0 0-1.06-1.06L100 263.605l-4.678-4.678z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M99.25 251.333v12.813a.75.75 0 1 0 1.5 0v-12.813a.75.75 0 1 0-1.5 0z"})]})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconCamcorderCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M461.583 1076.078a.732.732 0 0 0-.774.073l-.612.466a.498.498 0 0 0-.197.398v4.97c0 .157.072.304.197.398l.612.466a.736.736 0 0 0 .774.073.749.749 0 0 0 .417-.677v-5.49a.75.75 0 0 0-.417-.677m-4.553 4.892a.75.75 0 1 1-1.06 1.06l-1.47-1.47-1.47 1.47a.748.748 0 0 1-1.06 0 .75.75 0 0 1 0-1.06l1.47-1.47-1.47-1.47a.75.75 0 1 1 1.06-1.06l1.47 1.47 1.47-1.47a.75.75 0 1 1 1.06 1.06l-1.47 1.47 1.47 1.47zm-.009-6.448h-5.043c-1.09 0-1.978.887-1.978 1.978v6.022c0 1.09.888 1.978 1.978 1.978h5.043a1.981 1.981 0 0 0 1.979-1.978v-6.022a1.98 1.98 0 0 0-1.979-1.978z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconCamcorderIncomingFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M461.583 1076.078a.732.732 0 0 0-.774.073l-.612.466a.498.498 0 0 0-.197.398v4.97c0 .156.072.304.197.398l.612.466a.736.736 0 0 0 .774.073.749.749 0 0 0 .417-.677v-5.49a.75.75 0 0 0-.417-.677m-4.303 1.702-3.22 3.22h1.19a.75.75 0 1 1 0 1.5h-3a.75.75 0 0 1-.273-.053l-.012-.004a.752.752 0 0 1-.408-.408l-.004-.012a.742.742 0 0 1-.053-.273v-3a.75.75 0 0 1 1.5 0v1.19l3.22-3.22a.75.75 0 1 1 1.06 1.06m-.259-3.28h-5.043a1.979 1.979 0 0 0-1.978 1.978v6.043c0 1.093.886 1.979 1.978 1.979h5.043a1.978 1.978 0 0 0 1.979-1.979V1076.478a1.978 1.978 0 0 0-1.979-1.978"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconCamcorderOutgoingFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M461.583 1076.078a.732.732 0 0 0-.774.073l-.612.466a.498.498 0 0 0-.197.398v4.97c0 .156.072.304.197.398l.612.466a.736.736 0 0 0 .774.073.749.749 0 0 0 .417-.677v-5.49a.75.75 0 0 0-.417-.677m-9.863 5.142 3.22-3.22h-1.19a.75.75 0 1 1 0-1.5h3a.75.75 0 0 1 .273.053l.012.004a.752.752 0 0 1 .408.408l.004.012a.742.742 0 0 1 .053.273v3a.75.75 0 0 1-1.5 0v-1.19l-3.22 3.22a.75.75 0 1 1-1.06-1.06m.259 3.28h5.043a1.979 1.979 0 0 0 1.978-1.978v-6.043a1.978 1.978 0 0 0-1.978-1.979h-5.043a1.978 1.978 0 0 0-1.979 1.979V1082.522c0 1.092.886 1.978 1.979 1.978"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconCrossCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M458.78 1081.22a.75.75 0 1 1-1.06 1.06l-1.72-1.72-1.72 1.72a.747.747 0 0 1-1.06 0 .75.75 0 0 1 0-1.06l1.72-1.72-1.72-1.72a.75.75 0 1 1 1.06-1.06l1.72 1.72 1.72-1.72a.75.75 0 1 1 1.06 1.06l-1.72 1.72 1.72 1.72zm-2.78-7.72c-3.309 0-6 2.691-6 6s2.691 6 6 6 6-2.691 6-6-2.691-6-6-6z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconEmojiFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M458.25 1079.25a1.001 1.001 0 0 1 0-2 1.001 1.001 0 0 1 0 2m.512 2.067c-.617.752-1.623 1.183-2.762 1.183s-2.145-.431-2.762-1.183a.5.5 0 1 1 .774-.634c.418.512 1.162.817 1.988.817.826 0 1.57-.305 1.988-.817a.499.499 0 1 1 .774.634m-5.012-4.067a1.001 1.001 0 0 1 0 2 1.001 1.001 0 0 1 0-2M456 1074a5.506 5.506 0 0 0-5.5 5.5c0 3.033 2.467 5.5 5.5 5.5s5.5-2.467 5.5-5.5-2.467-5.5-5.5-5.5"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconFriendAddFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"M105 920.25c0 1.242-.895 2.25-2 2.25s-2-1.008-2-2.25.572-2.25 2-2.25 2 1.008 2 2.25",transform:"translate(351.5 156) translate(.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 920.25c0 1.506-1.105 2.75-2.5 2.75s-2.5-1.244-2.5-2.75c0-1.638.878-2.75 2.5-2.75 1.622 0 2.5 1.112 2.5 2.75zm-1 0c0-1.13-.489-1.75-1.5-1.75-1.011 0-1.5.62-1.5 1.75 0 .979.686 1.75 1.5 1.75s1.5-.771 1.5-1.75z",transform:"translate(351.5 156) translate(.5)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M106.564 929h-7.129a.938.938 0 0 1-.935-.936v-.515a3.058 3.058 0 0 1 3.049-3.049h2.902a3.058 3.058 0 0 1 3.049 3.049v.515a.938.938 0 0 1-.936.936",transform:"translate(351.5 156) translate(.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M106.564 929.5h-7.129c-.79 0-1.435-.645-1.435-1.436v-.515a3.558 3.558 0 0 1 3.549-3.549h2.902a3.558 3.558 0 0 1 3.549 3.549v.515c0 .791-.645 1.436-1.436 1.436zm0-1a.438.438 0 0 0 .436-.436v-.515c0-1.4-1.148-2.549-2.549-2.549h-2.902a2.558 2.558 0 0 0-2.55 2.549l.001.515c0 .239.197.436.435.436h7.13z",transform:"translate(351.5 156) translate(.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M107 922h3a.5.5 0 0 0 0-1h-3a.5.5 0 0 0 0 1z",transform:"translate(351.5 156)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 920v3a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-1 0z",transform:"translate(351.5 156)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconGifFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M460.25 1079a.75.75 0 0 1 0 1.5h-.75v1.25a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 0 1.5h-.75v1h.75zm-2.75 2.75a.75.75 0 0 1-1.5 0v-4.5a.75.75 0 0 1 1.5 0v4.5zm-2-.623a.747.747 0 0 1-.166.471c-.47.582-1.104.902-1.785.902-1.405 0-2.627-1.345-2.627-3s1.221-3 2.627-3a2.2 2.2 0 0 1 1.415.526.75.75 0 0 1-.957 1.155.713.713 0 0 0-.458-.181c-.495 0-1.049.641-1.049 1.5s.553 1.5 1.049 1.5a.716.716 0 0 0 .451-.177v-1.19a.75.75 0 0 1 1.5 0v1.494zm6.44-3.272c-.067-.835-.145-1.332-.416-1.916a3.458 3.458 0 0 0-1.58-1.505l-.026-.008c-.475-.213-.917-.276-1.792-.345a28.09 28.09 0 0 0-4.253 0c-.769.06-1.279.116-1.883.381a3.465 3.465 0 0 0-1.542 1.537l-.012.034c-.235.499-.309.985-.376 1.825a25.389 25.389 0 0 0 0 3.287c.067.836.146 1.334.416 1.916.326.629.884 1.17 1.532 1.486a.597.597 0 0 0 .049.02l.024.007c.476.213.918.276 1.793.345a28.103 28.103 0 0 0 4.253 0c.768-.06 1.278-.116 1.883-.381a3.469 3.469 0 0 0 1.542-1.538l.012-.034c.235-.497.308-.983.376-1.824.072-.936.072-2.349 0-3.285v-.002z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconHdOutline20.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 20 20",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-446 -398)",children:s.jsxs(o("XPlatReactSVG").G,{fillRule:"nonzero",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M108.543 206.226c-.731-.337-1.401-.458-2.968-.585a45.475 45.475 0 0 0-7.15 0l-.536.047-.366.038c-.984.11-1.54.253-2.218.562a5.845 5.845 0 0 0-2.542 2.578l-.028.064-.041.109c-.343.75-.48 1.504-.603 3.096-.121 1.64-.121 4.09 0 5.727l.748-.055h-.75l.002.06.031.384c.119 1.35.271 2.054.64 2.884a5.854 5.854 0 0 0 2.548 2.579l.073.032.074.027c.73.337 1.397.457 2.967.586a45.474 45.474 0 0 0 7.151 0l.366-.031.364-.036c1.094-.113 1.672-.254 2.389-.58a5.853 5.853 0 0 0 2.543-2.577l.029-.067.041-.109c.342-.748.479-1.504.602-3.094.113-1.538.12-3.787.022-5.412l-.022-.32-.031-.384c-.12-1.35-.272-2.056-.641-2.885a5.854 5.854 0 0 0-2.546-2.578l-.074-.032-.074-.028zm1.87 11.526-.041.498c-.1 1.08-.214 1.617-.449 2.132l-.044.114c-.4.791-1.085 1.486-1.834 1.865l-.15.065-.15.059c-.525.195-1.085.28-2.29.379a44.018 44.018 0 0 1-6.91 0l-.325-.028-.305-.028c-.963-.096-1.404-.198-1.85-.406l-.053-.022-.06-.023a4.342 4.342 0 0 1-1.833-1.861l-.072-.17c-.228-.565-.337-1.132-.432-2.227l-.028-.347a43.831 43.831 0 0 1 0-5.504l.027-.34.031-.338c.096-.962.21-1.466.432-1.952l.044-.114c.4-.791 1.084-1.486 1.833-1.864.636-.289 1.159-.387 2.591-.504a43.964 43.964 0 0 1 6.91 0l.324.027.304.029c.962.095 1.406.197 1.853.406l.053.022.06.022a4.342 4.342 0 0 1 1.831 1.861c.279.627.4 1.19.505 2.392l.029.353c.114 1.565.114 3.94 0 5.504z",transform:"translate(354 193)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M103.25 219.5a.75.75 0 0 1-.75-.75v-7.5a.75.75 0 0 1 .75-.75h2.303c1.958 0 3.447 1.98 3.447 4.337v.326c0 2.356-1.49 4.337-3.447 4.337h-2.303zm2.303-1.5c1.021 0 1.947-1.231 1.947-2.837v-.326c0-1.606-.926-2.837-1.947-2.837H104v6h1.553zM95 211.25v7.5a.75.75 0 1 0 1.5 0v-7.5a.75.75 0 1 0-1.5 0zm4.5 0v7.5a.75.75 0 1 0 1.5 0v-7.5a.75.75 0 1 0-1.5 0z",transform:"translate(354 193)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M100.25 214.5h-4.5a.75.75 0 1 0 0 1.5h4.5a.75.75 0 1 0 0-1.5z",transform:"translate(354 193)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconLinkFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"m101.888 922.704-.336.336-.058.42a3.218 3.218 0 0 0 2.745 1.527 3.22 3.22 0 0 0 2.284-.943l1.952-1.952c1.16-1.16 1.363-3.026.361-4.325a3.233 3.233 0 0 0-4.848-.321l-1.842 1.843c.204-.032.41-.052.62-.052.46 0 .904.081 1.324.228l.923-.923c.584-.584 1.51-.72 2.198-.266a1.731 1.731 0 0 1 .283 2.676l-1.997 1.997c-.416.415-1.012.636-1.587.516a1.765 1.765 0 0 1-1.172-.846.956.956 0 0 0-.85.085",transform:"translate(352.5 157)"}),s.jsx(o("XPlatReactSVG").Path,{d:"m105.09 922.294.346-.346.058-.433a3.257 3.257 0 0 0-.45-.56 3.23 3.23 0 0 0-2.59-.939c-.792.07-1.522.462-2.084 1.024l-1.82 1.819c-1.293 1.292-1.367 3.482-.044 4.744a3.235 3.235 0 0 0 2.24.895c.831 0 1.662-.316 2.295-.949l1.848-1.848c-.223.038-.448.06-.673.06a4 4 0 0 1-1.29-.218l-.91.91c-.589.589-1.523.727-2.218.269a1.75 1.75 0 0 1-.287-2.703l2.002-2.002a1.754 1.754 0 0 1 2.466-.007c.12.12.17.18.25.323.245.146.57.147.862-.039",transform:"translate(352.5 157)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconMicrophoneFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{transform:"translate(353.5 156)",children:[s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102 926.75 102 929 103 929 103 926.75z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M100.5 929.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M102.5 925a1.5 1.5 0 0 1-1.5-1.5v-4a1.5 1.5 0 1 1 3 0v4a1.5 1.5 0 0 1-1.5 1.5"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.5 925.5a2 2 0 0 1-2-2v-4a2 2 0 1 1 4 0v4a2 2 0 0 1-2 2zm0-1a1 1 0 0 0 1-1v-4a1 1 0 1 0-2 0v4a1 1 0 0 0 1 1z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 923v.5a3 3 0 1 1-6 0v-.5a.5.5 0 0 0-1 0v.5a4 4 0 1 0 8 0v-.5a.5.5 0 0 0-1 0z"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconMinusFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.25 1080.5h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconNaviconFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.75 1077.5h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPencilFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M461.985 1075.58a.938.938 0 0 0-.272-.492l-1.325-1.325a.902.902 0 0 0-1.272 0l-1.003 1.003a.385.385 0 0 0 0 .545l2.075 2.076c.15.15.395.15.545 0l1.003-1.003a.9.9 0 0 0 .249-.805m-11.142 6.423a1.164 1.164 0 0 0-.343.828v1.78c0 .215.175.39.391.39h1.778c.313 0 .608-.122.83-.343l5.887-5.889a.39.39 0 0 0 0-.551l-2.103-2.103a.391.391 0 0 0-.553 0l-5.887 5.888z"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPhoneCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"m102.113 925.604.141.08c.27.15.612.041.748-.236.062-.126.144-.27.254-.42.131-.183.355-.444.586-.497.22-.05.442-.068.593-.071.28-.007.683.262 1.203.567.53.311.898.578 1.103.738a.652.652 0 0 1 .253.458c.026.318-.022.85-.486 1.377-.73.83-1.841 1.14-3.182.7a11.24 11.24 0 0 1-4.414-2.712 11.246 11.246 0 0 1-2.712-4.413c-.44-1.342-.13-2.453.7-3.183.528-.464 1.059-.512 1.376-.486a.648.648 0 0 1 .458.253c.16.206.428.573.739 1.103.305.52.588.924.567 1.204-.014.198-.016.416-.07.592-.072.226-.315.455-.497.586-.152.11-.295.192-.421.254a.542.542 0 0 0-.237.747l.08.141a9.023 9.023 0 0 0 3.218 3.218",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.497 925.247c.019.01.045.002.056-.02.082-.165.18-.33.297-.492.256-.355.53-.61.88-.691.227-.053.471-.08.694-.084.236-.005.463.072.753.223.1.052.206.112.347.195l.54.321c.392.239.722.467.985.672.254.199.416.49.444.812.048.584-.123 1.195-.61 1.747-.894 1.017-2.231 1.331-3.713.845a11.687 11.687 0 0 1-4.611-2.834 11.694 11.694 0 0 1-2.834-4.61c-.486-1.483-.172-2.82.845-3.715.553-.486 1.164-.657 1.747-.608.322.026.614.19.811.443.208.266.436.595.674.987l.426.716.093.166c.141.267.218.481.22.7l-.002.082-.019.288a1.829 1.829 0 0 1-.074.419c-.102.322-.369.616-.68.84a3.388 3.388 0 0 1-.493.298.043.043 0 0 0-.024.042l.005.016.192.325a8.526 8.526 0 0 0 2.712 2.717l.208.125.131.075zm-.637.788a9.526 9.526 0 0 1-3.277-3.199l-.182-.307-.058-.11a1.042 1.042 0 0 1 .418-1.332l.186-.099c.077-.043.155-.093.234-.15.153-.11.29-.26.311-.33.017-.055.028-.138.038-.286l.012-.212c-.001-.025-.016-.06-.1-.207l-.494-.845a9.262 9.262 0 0 0-.609-.893.149.149 0 0 0-.104-.06c-.327-.028-.67.068-1.004.362-.706.62-.922 1.537-.556 2.652a10.698 10.698 0 0 0 2.59 4.215 10.691 10.691 0 0 0 4.217 2.59c1.114.366 2.03.15 2.651-.555.294-.334.39-.676.363-1.003a.153.153 0 0 0-.062-.106 9.308 9.308 0 0 0-.892-.607l-.643-.378c-.313-.18-.388-.213-.442-.216l-.133.006a2.457 2.457 0 0 0-.37.053c-.038.009-.171.134-.293.303a2.424 2.424 0 0 0-.15.232l-.097.183c-.269.46-.846.644-1.329.423l-.071-.036-.154-.088z",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m103.354 921.854 4-4a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 1 0 .708.708z",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m102.646 917.854 4 4a.5.5 0 1 0 .708-.708l-4-4a.5.5 0 1 0-.708.708z",transform:"translate(354.5 156.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPhoneIncomingFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"m102.113 925.604.141.08c.27.15.612.041.748-.236.062-.126.144-.27.254-.42.131-.183.355-.444.586-.497.22-.05.442-.068.593-.071.28-.007.683.262 1.203.567.53.311.898.578 1.103.738a.652.652 0 0 1 .253.458c.026.318-.022.85-.486 1.377-.73.83-1.841 1.14-3.182.7a11.24 11.24 0 0 1-4.414-2.712 11.246 11.246 0 0 1-2.712-4.413c-.44-1.342-.13-2.453.7-3.183.528-.464 1.059-.512 1.376-.486a.648.648 0 0 1 .458.253c.16.206.428.573.739 1.103.305.52.588.924.567 1.204-.014.198-.016.416-.07.592-.072.226-.315.455-.497.586-.152.11-.295.192-.421.254a.542.542 0 0 0-.237.747l.08.141a9.023 9.023 0 0 0 3.218 3.218",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.497 925.247c.019.01.045.002.056-.02.082-.165.18-.33.297-.492.256-.355.53-.61.88-.691.227-.053.471-.08.694-.084.236-.005.463.072.753.223.1.052.206.112.347.195l.54.321c.392.239.722.467.985.672.254.199.416.49.444.812.048.584-.123 1.195-.61 1.747-.894 1.017-2.231 1.331-3.713.845a11.687 11.687 0 0 1-4.611-2.834 11.694 11.694 0 0 1-2.834-4.61c-.486-1.483-.172-2.82.845-3.715.553-.486 1.164-.657 1.747-.608.322.026.614.19.811.443.208.266.436.595.674.987l.426.716.093.166c.141.267.218.481.22.7l-.002.082-.019.288a1.829 1.829 0 0 1-.074.419c-.102.322-.369.616-.68.84a3.388 3.388 0 0 1-.493.298.043.043 0 0 0-.024.042l.005.016.192.325a8.526 8.526 0 0 0 2.712 2.717l.208.125.131.075zm-.637.788a9.526 9.526 0 0 1-3.277-3.199l-.182-.307-.058-.11a1.042 1.042 0 0 1 .418-1.332l.186-.099c.077-.043.155-.093.234-.15.153-.11.29-.26.311-.33.017-.055.028-.138.038-.286l.012-.212c-.001-.025-.016-.06-.1-.207l-.494-.845a9.262 9.262 0 0 0-.609-.893.149.149 0 0 0-.104-.06c-.327-.028-.67.068-1.004.362-.706.62-.922 1.537-.556 2.652a10.698 10.698 0 0 0 2.59 4.215 10.691 10.691 0 0 0 4.217 2.59c1.114.366 2.03.15 2.651-.555.294-.334.39-.676.363-1.003a.153.153 0 0 0-.062-.106 9.308 9.308 0 0 0-.892-.607l-.643-.378c-.313-.18-.388-.213-.442-.216l-.133.006a2.457 2.457 0 0 0-.37.053c-.038.009-.171.134-.293.303a2.424 2.424 0 0 0-.15.232l-.097.183c-.269.46-.846.644-1.329.423l-.071-.036-.154-.088z",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M103.5 921v-2.5a.5.5 0 0 0-1 0v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 0-1h-2.5z",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m106.646 917.146-4 4a.5.5 0 1 0 .708.708l4-4a.5.5 0 1 0-.708-.708z",transform:"translate(354.5 156.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPhoneOutgoingFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"m102.113 925.604.141.08c.27.15.612.041.748-.236.062-.126.144-.27.254-.42.131-.183.355-.444.586-.497.22-.05.442-.068.593-.071.28-.007.683.262 1.203.567.53.311.898.578 1.103.738a.652.652 0 0 1 .253.458c.026.318-.022.85-.486 1.377-.73.83-1.841 1.14-3.182.7a11.24 11.24 0 0 1-4.414-2.712 11.246 11.246 0 0 1-2.712-4.413c-.44-1.342-.13-2.453.7-3.183.528-.464 1.059-.512 1.376-.486a.648.648 0 0 1 .458.253c.16.206.428.573.739 1.103.305.52.588.924.567 1.204-.014.198-.016.416-.07.592-.072.226-.315.455-.497.586-.152.11-.295.192-.421.254a.542.542 0 0 0-.237.747l.08.141a9.023 9.023 0 0 0 3.218 3.218",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M102.497 925.247c.019.01.045.002.056-.02.082-.165.18-.33.297-.492.256-.355.53-.61.88-.691.227-.053.471-.08.694-.084.236-.005.463.072.753.223.1.052.206.112.347.195l.54.321c.392.239.722.467.985.672.254.199.416.49.444.812.048.584-.123 1.195-.61 1.747-.894 1.017-2.231 1.331-3.713.845a11.687 11.687 0 0 1-4.611-2.834 11.694 11.694 0 0 1-2.834-4.61c-.486-1.483-.172-2.82.845-3.715.553-.486 1.164-.657 1.747-.608.322.026.614.19.811.443.208.266.436.595.674.987l.426.716.093.166c.141.267.218.481.22.7l-.002.082-.019.288a1.829 1.829 0 0 1-.074.419c-.102.322-.369.616-.68.84a3.388 3.388 0 0 1-.493.298.043.043 0 0 0-.024.042l.005.016.192.325a8.526 8.526 0 0 0 2.712 2.717l.208.125.131.075zm-.637.788a9.526 9.526 0 0 1-3.277-3.199l-.182-.307-.058-.11a1.042 1.042 0 0 1 .418-1.332l.186-.099c.077-.043.155-.093.234-.15.153-.11.29-.26.311-.33.017-.055.028-.138.038-.286l.012-.212c-.001-.025-.016-.06-.1-.207l-.494-.845a9.262 9.262 0 0 0-.609-.893.149.149 0 0 0-.104-.06c-.327-.028-.67.068-1.004.362-.706.62-.922 1.537-.556 2.652a10.698 10.698 0 0 0 2.59 4.215 10.691 10.691 0 0 0 4.217 2.59c1.114.366 2.03.15 2.651-.555.294-.334.39-.676.363-1.003a.153.153 0 0 0-.062-.106 9.308 9.308 0 0 0-.892-.607l-.643-.378c-.313-.18-.388-.213-.442-.216l-.133.006a2.457 2.457 0 0 0-.37.053c-.038.009-.171.134-.293.303a2.424 2.424 0 0 0-.15.232l-.097.183c-.269.46-.846.644-1.329.423l-.071-.036-.154-.088zM106.5 918v2.5a.5.5 0 0 0 1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0 0 1h2.5z",transform:"translate(354.5 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m103.354 921.854 4-4a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 1 0 .708.708z",transform:"translate(354.5 156.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPhotoAddFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"M107.5 923.64a.682.682 0 0 1-.07-.003l-1.567-.146-.148 1.579a.75.75 0 0 1-1.493-.14l.148-1.579-1.43-.134a.75.75 0 0 1-.677-.816.744.744 0 0 1 .816-.677l1.431.134.133-1.428a.749.749 0 1 1 1.493.14l-.133 1.428 1.567.146a.75.75 0 0 1-.07 1.497m1.126-6.13-5.797-.51a1.512 1.512 0 0 0-1.63 1.377l-.693 7.966c-.035.402.088.794.347 1.104.26.31.622.501 1.022.537l5.795.51a1.485 1.485 0 0 0 1.098-.35c.308-.26.498-.625.533-1.027l.693-7.967a1.506 1.506 0 0 0-.347-1.104 1.494 1.494 0 0 0-1.022-.537",transform:"translate(352 157)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M100.27 927.842a2.528 2.528 0 0 1-.565-1.83l.165-1.926-.403-4.71a.183.183 0 0 1 .042-.132.178.178 0 0 1 .12-.065l.665-.06.09-1.037c.013-.167.046-.329.09-.484l-.973.087c-.437.038-.833.25-1.116.595a1.696 1.696 0 0 0-.379 1.227l.638 7.46c.038.448.245.853.582 1.142a1.61 1.61 0 0 0 1.2.389l.574-.052a2.456 2.456 0 0 1-.73-.604",transform:"translate(352 157)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPhotoFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"M99.825 918.322a2.55 2.55 0 0 1 .18-.712l-.489.043a1.601 1.601 0 0 0-.892.345 1.535 1.535 0 0 0-.557 1.321l.636 7.275c.01.12.186.123.199.003l.923-8.275zm4.67 1.591a1 1 0 1 1-1.991.175 1 1 0 0 1 1.991-.175m3.099 1.9a.422.422 0 0 0-.597-.05l-1.975 1.69a.288.288 0 0 0-.032.404l.442.526a.397.397 0 0 1-.606.51l-1.323-1.576a.421.421 0 0 0-.58-.063l-1.856 1.41-.265 2.246c-.031.357.173 1.16.53 1.19l6.345.397c.171.014.395-.02.529-.132.132-.111.38-.49.396-.661l.405-4.239-1.413-1.652z",transform:"translate(352 156.5)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m107.589 928.97-6.092-.532a1.56 1.56 0 0 1-1.415-1.687l.728-8.328a1.56 1.56 0 0 1 1.687-1.416l6.091.533a1.56 1.56 0 0 1 1.416 1.687l-.728 8.328a1.56 1.56 0 0 1-1.687 1.415zm.087-.996.06.002a.561.561 0 0 0 .544-.508l.728-8.328a.56.56 0 0 0-.507-.604l-6.09-.533a.56.56 0 0 0-.605.507l-.728 8.328a.56.56 0 0 0 .506.604l6.092.532z",transform:"translate(352 156.5)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPlusCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M459 1080.25h-2.25v2.25c0 .412-.337.75-.75.75a.752.752 0 0 1-.75-.75v-2.25H453a.752.752 0 0 1-.75-.75c0-.412.337-.75.75-.75h2.25v-2.25c0-.412.337-.75.75-.75s.75.338.75.75v2.25H459c.413 0 .75.338.75.75s-.337.75-.75.75m-3-6.75c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconPollsFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsx(o("XPlatReactSVG").Path,{d:"M452 1077.096v7.808a.596.596 0 0 1-.596.596h-.808a.596.596 0 0 1-.596-.596v-7.808c0-.33.267-.596.596-.596h.808c.33 0 .596.267.596.596m5-3.017v10.843a.578.578 0 0 1-.578.578h-.844a.578.578 0 0 1-.578-.578v-10.843c0-.32.259-.579.579-.579h.843c.319 0 .578.259.578.579m5 6.97v3.903a.548.548 0 0 1-.548.548h-.904a.548.548 0 0 1-.548-.548v-3.904c0-.302.245-.548.548-.548h.904c.303 0 .548.246.548.548"})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconScreenDualPlusFilled24.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsxs(o("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M95.5 8a1.001 1.001 0 0 0 0-2 1.001 1.001 0 0 0 0 2",transform:"translate(-444 -156) translate(354.5 156)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M108.5 15.75h-2.25V18a.75.75 0 0 1-1.5 0v-2.25h-2.25a.75.75 0 0 1 0-1.5h2.25V12a.75.75 0 0 1 1.5 0v2.25h2.25a.75.75 0 0 1 0 1.5zm-15.75.75a.75.75 0 0 1-.75-.75V2.25a.75.75 0 0 1 .75-.75h9.5a.75.75 0 0 1 .75.75V6h-2.25c-1.24 0-2.25 1.01-2.25 2.25v3.117a2.261 2.261 0 0 1-.75.133h-.001c-1.058 0-2.002-.777-2.302-1.528a.75.75 0 0 0-1.394.556C94.546 11.758 95.972 13 97.75 13h.002c.257 0 .507-.03.749-.08v3.58h-5.75zM110.25 6h-5.75V2.25c0-1.24-1.01-2.25-2.25-2.25h-9.5c-1.24 0-2.25 1.01-2.25 2.25v13.5c0 1.24 1.01 2.25 2.25 2.25h5.75v3.75c0 1.24 1.01 2.25 2.25 2.25h9.5c1.24 0 2.25-1.01 2.25-2.25V8.25c0-1.24-1.01-2.25-2.25-2.25z",transform:"translate(-444 -156) translate(354.5 156)"})]})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconShareFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"M102 936.5c-1.903 0-3.847.017-5.811 3.326-.053.09-.192.048-.189-.057.213-8.03 6-7.769 6-7.769v-2.75c0-.112.17-.112.25-.034l4.712 4.978c.05.05.05.132 0 .182l-4.712 4.879c-.08.078-.25.022-.25-.091V936.5z",transform:"translate(354.5 145)"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m101.352 937.011-.293.015c-1.954.125-3 .734-4.258 2.755l-.182.299c-.318.539-1.136.291-1.119-.324.096-3.613 1.284-5.962 3.22-7.246a6.126 6.126 0 0 1 2.136-.888c.235-.05.452-.082.644-.1v-2.272c0-.673.751-.733 1.113-.377l4.7 4.966a.625.625 0 0 1 .009.884l-4.722 4.888c-.385.378-1.1.127-1.1-.447v-2.157l-.148.004zm-4.637 1.151c1.39-1.738 2.83-2.162 5.285-2.162h.5v2.276l3.857-3.993-3.857-4.075v2.315l-.521-.023-.08-.001a5.134 5.134 0 0 0-2.627.845c-1.345.891-2.28 2.412-2.628 4.728l-.03.22.1-.13z",transform:"translate(354.5 145)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FBIconStickersFilled12.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:s.jsxs(o("XPlatReactSVG").G,{children:[s.jsx(o("XPlatReactSVG").Path,{d:"M106.617 923.049c-1.583.777-2.986 2.756-3.063 4.32a2.962 2.962 0 0 1-.554 1.6 6.977 6.977 0 0 0 3.76-2.66 6.62 6.62 0 0 0 1.224-4.31c-.335.414-.792.768-1.367 1.05",transform:"translate(354 156)"}),s.jsx(o("XPlatReactSVG").Path,{d:"M101.685 926.713a.513.513 0 0 1-.454.287.495.495 0 0 1-.25-.07 3.42 3.42 0 0 1-1.44-1.657c-.112-.282.011-.609.275-.729.263-.12.567.012.68.294.179.45.529.848.987 1.12.25.149.34.487.202.755M99 922.5c0-.551.449-1 1-1 .551 0 1 .449 1 1a1.001 1.001 0 0 1-2 0m5.5-2c.551 0 1 .449 1 1a1.001 1.001 0 1 1-1-1m-1.908 6.813c.094-1.923 1.704-4.25 3.59-5.188 1.14-.568 1.605-1.391 1.423-2.512l-.015-.084c-.24-1.332-1.533-2.228-2.889-1.992l-6.137 1.062a2.479 2.479 0 0 0-1.622 1.025 2.413 2.413 0 0 0-.403 1.824l1.082 6.023c.214 1.19 1.269 2.029 2.455 2.029.08 0 .161-.013.242-.021 1.37-.267 2.221-1.07 2.274-2.166",transform:"translate(354 156)"})]})})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("FDSCode.react",["CometTextTypography","react","react-compiler-runtime","stylex","testID"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0},start:{textAlign:"x1yc453h",$$css:!0}},d={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},linkOnMedia:{color:"x9kptjx",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},placeholder:{color:"x12scifz",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},primaryButtonTextOnMedia:{color:"x1yeb1j6",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},primaryOnColor:{color:"x1ko2xvj",$$css:!0},primaryOnMedia:{color:"x17z8epw",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryOnColor:{color:"xj0d7sl",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},selectedOption:{color:"x1qoxp87",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},tooltip:{color:"xzsf02u",$$css:!0},white:{color:"x14ctfv",$$css:!0}},m={12:{fontSize:"x1pg5gke",lineHeight:"xvq8zen",$$css:!0},13:{fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",$$css:!0},14:{fontSize:"x1f6kntn",lineHeight:"x1ruc54x",$$css:!0},15:{fontSize:"x6prxxf",lineHeight:"xvq8zen",$$css:!0},16:{fontSize:"x1jchvi3",lineHeight:"x132q4wb",$$css:!0},17:{fontSize:"x1lkfr7t",lineHeight:"x1lbecb7",$$css:!0},20:{fontSize:"x1603h9y",lineHeight:"x1u7k74",$$css:!0},24:{fontSize:"xngnso2",lineHeight:"x1qb5hxa",$$css:!0},28:{fontSize:"x1q74xe4",lineHeight:"xyesn5m",$$css:!0},32:{fontSize:"x579bpy",lineHeight:"xjkpybl",$$css:!0}},p={bold:{fontWeight:"x1xlr1w8",$$css:!0},medium:{fontWeight:"xk50ysn",$$css:!0},normal:{fontWeight:"xo1l8bm",$$css:!0},semibold:{fontWeight:"x1s688f",$$css:!0}},_={root:{boxSizing:"x9f619",fontFamily:"x9m5x89",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(12),a=t.align,i=t.children,l=t.color,s=t.testid,f=t.type,g=t.xstyle,h=a===void 0?"auto":a,y=l===void 0?"primary":l,C=r("CometTextTypography")[f],b=C.fontSize,v=C.fontWeight,S=v===void 0?"normal":v,R=h!=="auto"&&c[h],L=m[b],E=p[S],k=d[y],I;n[0]!==R||n[1]!==L||n[2]!==E||n[3]!==k||n[4]!==g?(I=(e||(e=r("stylex")))(_.root,R,L,E,k,g),n[0]=R,n[1]=L,n[2]=E,n[3]=k,n[4]=g,n[5]=I):I=n[5];var T;n[6]!==s?(T=r("testID")(s),n[6]=s,n[7]=T):T=n[7];var D;return n[8]!==i||n[9]!==I||n[10]!==T?(D=u.jsx("code",babelHelpers.extends({className:I},T,{children:i})),n[8]=i,n[9]=I,n[10]=T,n[11]=D):D=n[11],D}l.default=f}),98);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9627401294020921"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:r("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:e}}}}},root:r("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};l.default=e}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,r){return n("cr:3116")(n("cr:2998"),e,void 0,void 0,{baseModalProps:t,carryOverRelayEnvironment_EXPERIMENTAL:r})}l.default=e}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["FDSButton.react","react","react-compiler-runtime","useIXTProactiveWarningFlowTriggerDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12),n=e.context,a=e.label,i=e.onClose,l=e.onPress,u=e.setPWDismissTime,c;t[0]!==n?(c={proactive_warning_request_context:n,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"},t[0]=n,t[1]=c):c=t[1];var d=r("useIXTProactiveWarningFlowTriggerDialog")(c),m=d[0],p;t[2]!==i?(p=function(){i()},t[2]=i,t[3]=p):p=t[3];var _=p,f;t[4]!==l||t[5]!==u||t[6]!==m||t[7]!==_?(f=function(){u(),l(),m({flowCallbacks:{onClose:_}})},t[4]=l,t[5]=u,t[6]=m,t[7]=_,t[8]=f):f=t[8];var g;return t[9]!==a||t[10]!==f?(g=s.jsx(r("FDSButton.react"),{label:a,onPress:f,reduceEmphasis:!1,type:"secondary"}),t[9]=a,t[10]=f,t[11]=g):g=t[11],g}l.default=u}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(e){return t.sequence([function(e){return t.forEach(t.db.table(239).fetch(),function(e){return e.delete()})},function(e){return t.forEach(t.db.table(243).fetch(),function(e){return e.delete()})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearReactionsV2DetailsAndRangeStoredProcedure",e.__tables__=["reactions_v2_details","reactions_v2_details_ranges_v2__generated"],a.exports=e}),null);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t){var a=t.storedProcedure(r("LSClearReactionsV2DetailsAndRange"));return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}l.default=s}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});i.default=e}),66);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),["fetch_additional_thread_data","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,733]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxFetchAdditionalThreadDataStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchAdditionalThreadData"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[5]=n.syncGroup,t.i64.neq(r[5],void 0)?r[4]=r[5]:r[4]=t.i64.cast([0,1]),r[0]=r[4])})},function(o){return t.db.table(183).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(183).put({threadKey:e[0],suspectId:e[0]})},function(o){return r[4]=new t.Map,r[4].set("thread_key",e[0]),r[4].set("sync_group",r[0]),r[5]=t.toJSON(r[4]),t.storedProcedure(n("LSIssueNewTask"),"proactive_warnings_fetch_queue",t.i64.cast([0,192]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[2]=t.i64.cast([0,1])}]):(a=l.item,t.sequence([function(o){return r[5]=a.nextCheckTimestampMs,r[4]=t.i64.of_float(Date.now()),t.i64.neq(r[5],void 0)&&t.i64.ge(r[4],r[5])?t.sequence([function(n){return t.db.table(183).put({threadKey:e[0],suspectId:e[0]})},function(o){return r[7]=new t.Map,r[7].set("thread_key",e[0]),r[7].set("sync_group",r[0]),r[8]=t.toJSON(r[7]),t.storedProcedure(n("LSIssueNewTask"),"proactive_warnings_fetch_queue",t.i64.cast([0,192]),r[8],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[6]=t.i64.cast([0,1])}]):t.resolve((t.i64.neq(r[5],void 0)&&a.tag!==void 0?r[7]=t.i64.cast([0,2]):r[7]=t.i64.cast([0,3]),r[6]=r[7]))},function(e){return r[2]=r[6]}]))})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSProactiveWarningsFetchProactiveWarningsIfNeededStoredProcedure",e.__tables__=["threads","thread_proactive_warning_settings"],a.exports=e}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchProactiveWarningsIfNeeded"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("roll_call_id",e[1]),r[0].set("thread_key",e[0]),r[0].set("query_purpose",t.i64.cast([0,2])),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"roll_call_point_query",t.i64.cast([0,611]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssuePointQueryForRollCallConversionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssuePointQueryForRollCallConversion"),a.threadKey,a.rollCallId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssuePollCreationForThreadTask",["LSGetViewerFBID","LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[8]=n.syncGroup,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,1]),r[0]=r[7])})},function(o){return r[2]=new t.Map,r[2].set("question_text",e[0]),r[2].set("thread_key",e[1]),r[2].set("options",e[2]),r[2].set("sync_group",r[0]),t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[3]=t[0],t})},function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[4]=!1:(n=a.item,t.sequence([function(e){return t.filter(t.db.table(14).fetch([[[n.threadKey,r[3]]]]),function(e){return t.i64.eq(e.threadKey,n.threadKey)&&t.i64.eq(t.i64.cast([0,0]),n.mailboxType)&&t.i64.eq(e.contactId,r[3])}).next().then(function(e,o){var a=e.done,i=e.value;return a?r[7]=!1:(o=i.item,t.i64.eq(n.threadType,t.i64.cast([0,152]))?(r[10]=o.threadRoles,t.i64.lt(t.i64.cast([0,7]),t.i64.cast([0,0]))||t.i64.gt(t.i64.cast([0,7]),t.i64.cast([0,9]))?r[11]=!1:r[11]=!t.i64.eq(t.i64.and_(t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,7]))),r[10]),t.i64.cast([0,0])),r[12]=n.capabilities,r[13]=n.capabilities2,r[14]=n.capabilities3,r[15]=n.capabilities4,r[16]=n.capabilities5,r[18]=t.i64.div(t.i64.cast([0,223]),t.i64.cast([0,64])),r[19]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.sub(t.i64.cast([0,223]),t.i64.mul(r[18],t.i64.cast([0,64]))))),t.i64.lt(t.i64.cast([0,223]),t.i64.cast([0,0]))||t.i64.gt(t.i64.cast([0,223]),t.i64.cast([0,297]))?r[17]=!1:(t.i64.eq(r[18],t.i64.cast([0,0]))?r[20]=!t.i64.eq(t.i64.and_(r[19],r[12]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,1]))?r[21]=!t.i64.eq(t.i64.and_(r[19],r[13]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,2]))?r[22]=!t.i64.eq(t.i64.and_(r[19],r[14]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,3]))?r[23]=!t.i64.eq(t.i64.and_(r[19],r[15]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,4]))?r[24]=!t.i64.eq(t.i64.and_(r[19],r[16]),t.i64.cast([0,0])):r[24]=!1,r[23]=r[24]),r[22]=r[23]),r[21]=r[22]),r[20]=r[21]),r[17]=r[20]),r[11]!==r[17]&&((function(e){t.logger(e).mustfix(e)})("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),t.throw("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),r[9]=r[11]):r[9]=!1,r[7]=r[9])})},function(e){return r[4]=r[7]}]))})},function(e){return r[4]&&r[2].set("perform_action_as_page",!0),r[6]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"poll_creation",t.i64.cast([0,163]),r[6],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssuePollCreationForThreadTaskStoredProcedure",e.__tables__=["threads","participants"],a.exports=e}),null);
__d("LSIssuePollCreationForThreadTaskStoredProcedure",["LSIssuePollCreationForThreadTask","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssuePollCreationForThreadTask"),a.questionText,a.threadKey,a.options);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMessageTakedownState",[],(function(t,n,r,o,a,i){var e=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3,MESSENGER_KIDS_PARENT_UNSENT:4,TAKEN_DOWN_BY_FMAILY_CENTER:5});i.default=e}),66);
__d("LSNullstateCTAType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});i.default=e}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[2]=a.editCount,r[1]=t.i64.of_float(Date.now()),t.i64.lt(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,5]))&&t.i64.le(r[1],t.i64.add(a.timestampMs,t.i64.cast([0,9e5])))?t.sequence([function(o){return t.storedProcedure(n("LSEditMessage"),a.messageId,t.i64.cast([0,20]),e[1],t.i64.add(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,1])))},function(o){return r[3]=new t.Map,r[3].set("message_id",e[0]),r[3].set("text",e[1]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[7]=t.i64.of_float(Date.now()),r[4]=t.i64.add(r[7],t.i64.cast([0,0]))):r[4]=t.i64.cast([0,0]),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"edit_message",t.i64.cast([0,742]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[4],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(e){return t.resolve()}]):t.resolve(0))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure",e.__tables__=["messages","pending_tasks"],a.exports=e}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticEditMessage"),a.messageId,a.text);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=["typing","_",t.i64.to_string(e[0])].join(""),t.sequence([function(e){return t.forEach(t.filter(t.db.table(5).fetch(),function(e){return r[0]===e.queueName}),function(e){return e.delete()})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[7]=n.syncGroup,t.i64.neq(r[7],void 0)?r[6]=r[7]:r[6]=t.i64.cast([0,1]),r[1]=r[6])})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[3]=void 0:(t=o.item,r[3]=t.threadType)})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("is_group_thread",e[1]),r[5].set("is_typing",e[2]),r[5].set("attribution",t.i64.cast([0,0])),r[5].set("sync_group",r[1]),r[5].set("thread_type",r[3]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),r[0],t.i64.cast([0,3]),r[6])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure",e.__tables__=["threads","pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSendTypingIndicator"),a.threadKey,a.isGroupThread,a.isTyping);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[8]=n.syncGroup,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,1]),r[0]=r[7])})},function(o){return r[2]=t.i64.of_float(Date.now()),r[6]=t.i64.div(r[2],t.i64.cast([0,1e3])),r[3]=new t.Map,r[3].set("thread_key",e[0]),r[3].set("timestamp",r[6]),r[3].set("sync_group",r[0]),r[4]=r[3].get("thread_key"),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTask"),t.i64.to_string(r[4]),t.i64.cast([0,438]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(n){return t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({proactiveWarningDismissTime:r[6]})})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxSetProactiveWarningDismissTimeStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSSetProactiveWarningDismissTimeStoredProcedure",["LSSetProactiveWarningDismissTime","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSetProactiveWarningDismissTime"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSTypingIndicatorSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("LSUpdateE2eeHdMediaSettings",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(n){return t.forEach(t.db.table(288).fetch([[[r[0]]]]),function(t){var n=t.update,r=t.item;return n({e2eeHdMediaEnabled:e[0]})})},function(o){return r[1]=new t.Map,r[1].set("hd_media_enabled",e[0]),r[2]=t.toJSON(r[1]),t.storedProcedure(n("LSIssueNewTask"),"toggle_e2ee_hd_media_settings",t.i64.cast([0,1030]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSOmnistoreSettingsUpdateE2eeHdMediaSettingsStoredProcedure",e.__tables__=["messaging_privacy_settings"],a.exports=e}),null);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2898"),s=o("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",e),u=s;l.default=u}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2899"),s=o("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",e),u=s;l.default=u}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2900"),s=o("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",e),u=s;l.default=u}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743878"),s=o("FalcoLoggerInternal").create("ls_reply_rendered",e),u=s;l.default=u}),98);
__d("MAWChatLiveLocationDialogQuery$Parameters",["MAWChatLiveLocationDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MAWChatLiveLocationDialogQuery_facebookRelayOperation"),metadata:{},name:"MAWChatLiveLocationDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MAWChatLiveLocationDialog.entrypoint",["JSResourceForInteraction","MAWChatLiveLocationDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryReference:{parameters:r("MAWChatLiveLocationDialogQuery$Parameters"),variables:{data:{client_subscription_id:t.clientSubscriptionId,thread_key:t.threadKey}}}}}},root:r("JSResourceForInteraction")("MAWChatLiveLocationDialog.react").__setRef("MAWChatLiveLocationDialog.entrypoint")};l.default=e}),98);
__d("MAWCreateOptimisticSecureMessageWithAttachment",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a,i,l,s,c,d,m,p,_,f,g){m(_);var h=o("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),y=(e||(e=o("I64"))).of_float(h),C=await o("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(t,n,a,i,"",l,void 0,d,void 0,_,y,u(c.type)),b=f==null?void 0:f.get(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(s));b!=null&&(C=babelHelpers.extends({},C,{groupId:b.groupId,groupIndex:(e||(e=o("I64"))).of_float(b.groupIndex),groupSize:e.of_float(b.groupSize)})),await n.messages.add(C);var v=o("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:p,isHd:g,messageExternalId:_,offlineAttachmentId:s,optimisticMediaAttachment:c,senderId:a,threadKey:l,timestampMsI64:y});return await n.attachments.add(v),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:d}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:d}),await o("MAWOptimisticMessageUtils").optimisticBumpThreadMedia(n,{optimisticMediaAttachment:c,senderId:a,threadKey:l}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:d}),{messageExternalId:_,offlineAttachmentId:o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(s),offlineMsgTimestamp:h}}function u(e){switch(e){case"animated_image":return 16384;case"image":return 2;case"video":return 2;case"audio":return 4;case"document":return 64;case"sticker":return 4096;default:return 1}}l.createOptimisticMessageWithAttachment=s}),98);
__d("MAWDumbRangeDataSource",["I64","ReplayLastSubject","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){this.getOrCreateMessageRangeCoveringCursor=function(t,n,r){var a;return o("relay-runtime").Observable.from(new(o("ReplayLastSubject")).ReplayLastSubject({range:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(e||(e=o("I64"))).max_int,minMessageId:(a=t.messageId)!=null?a:"",minTimestampMs:e.min_int,threadKey:t.threadKey},rangeExternalIds:{maxExternalId:null,minExternalId:null}}))},this.extendRange=async function(e,t,n,r,o){}},u;function c(){return u==null&&(u=new s),u}l.default=c}),98);
__d("MAWFetchExternalAttachmentBlob",["sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){var n=await window.fetch(e,{}).then(function(e){return e.blob()}).catch(function(e){throw o("sendToSentQPLLogger").markSendToSentPoint(t,"fetch_external_attachment_failed"),e});return n}l.fetchExternalAttachmentBlob=e}),98);
__d("MAWIssueReceiverFetchTaskDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWIssueReceiverFetchTask").__setRef("MAWIssueReceiverFetchTaskDeferred");function s(t,n,r,o){return e.load().then(function(e){return e.issueReceiverFetchTask(t,n,r,o)})}l.issueReceiverFetchTask=s}),98);
__d("MAWLinkPreviewDataStatusUtils",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(n))}l.linkPreviewDataStatusIsOfType=u}),98);
__d("MAWLinkPreviewDataTypeUtils",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(n))}l.linkPreviewDataTypeIsOfType=u}),98);
__d("MWMediaComposerLinkPreviewXMARenderQpl",["I64","LSIntEnum","MAWLoggerUtils","MWMediaRenderQplUtils","MessagingAttachmentType","QPLUserFlow","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useEffect,m=c.useMemo,p=c.useRef;function _(e,t,n,a){e===void 0&&(e=""),t===void 0&&(t="");var i=o("MAWLoggerUtils").getInstanceKeyFromId(e.concat(t)),l=p(!1),c=m(function(){if(e==null||t==null)return null;var c=(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA);return r("QPLUserFlow").start(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{attachment_type:o("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(c),content_type:o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(c),entry_point:"composer_view",linkPreviewDataType:o("MWMediaRenderQplUtils").getE2EELinkPreviewXMADataTypeStringFromEnum(n!=null?n:(u||(u=o("I64"))).zero),thread_type:o("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(a!=null?a:(u||(u=o("I64"))).zero)}},cancelOnUnload:!0,instanceKey:i,timeoutInMs:o("MWMediaRenderQplUtils").QPL_TIMEOUT}),l.current=!1,babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,i,l))},[i]);return d(function(){return function(){l.current===!1&&(c==null?void 0:c.getInstanceKey())!=null&&(c==null||c.endCancel(706))}},[c]),c}l.useMediaComposerLinkPreviewXMARenderQpl=_}),98);
__d("MWXIconLink",["MWXSvgIcon","SVGIcon","cr:22385","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22385")),r("gkx")("23219"));l.default=e}),98);
__d("MWXLinkPreviewLoadingIndicator.react",["MWXGlimmer.react","MWXIconLink","MWXIconStrict.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xng8ra",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.title;if(n==null)return null;var a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x5yr21d x1xnnf8n x106a9eq"},i=s.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconLink"),size:16}),l={className:"x1iyjqo2"},t[0]=a,t[1]=i,t[2]=l):(a=t[0],i=t[1],l=t[2]);var c;return t[3]!==n?(c=s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmer,children:s.jsxs("div",babelHelpers.extends({},a,{children:[i,s.jsx("div",babelHelpers.extends({},l,{children:s.jsx(r("MWXText.react"),{type:"body4",children:n})}))]}))}),t[3]=n,t[4]=c):c=t[4],c}l.default=c}),98);
__d("MWXLinkPreviewTruncateText",[],(function(t,n,r,o,a,i){"use strict";var e={body:100,headline:80,subtext:100},l={body:30,headline:20,subtext:30};function s(t){var n=t.isChatTab,r=t.position,o=t.text,a=n?l:e,i=a[r];if(o!=null){var s=o.replace(/\r?\n|\r/g,"").trim();return s.length<=i?s:Array.from(s).slice(0,i).join("").trim()+"..."}}i.truncateText=s}),66);
__d("MAWLinkPreviewCard.react",["fbt","BaseView.react","ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FDSCrossFilled12Icon","I64","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MWLSThreadDisplayContext","MWMediaComposerLinkPreviewXMARenderQpl","MWXIcon_DEPRECATED.react","MWXImage.react","MWXLinkPreviewLoadingIndicator.react","MWXLinkPreviewTruncateText","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useEffect,f={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xlqzeqv",width:"xh8yej3",$$css:!0},image:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"xng8ra",marginInlineEnd:"x1sa5p1d",objectFit:"xl1xv1r",width:"x1247r65",$$css:!0},isReplying:{borderTopWidth:"x972fbf",$$css:!0},outerContainer:{backgroundColor:"x57kliw",borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",paddingInlineStart:"x1gx403c",paddingInlineEnd:"x1q3ajuy",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},textSection:{flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(60),a=t.draftID,l=t.isReplying,c=t.linkPreview,m=t.threadType,p=t.xmaData,g=o("MWMediaComposerLinkPreviewXMARenderQpl").useMediaComposerLinkPreviewXMARenderQpl(a,p.url,c.dataType,m),h=(e||(e=r("useReStore")))(),y=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",C;n[0]!==c.dataType?(C=o("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(c.dataType,r("E2EELinkPreviewXMADataType").FALLBACK),n[0]=c.dataType,n[1]=C):C=n[1];var b=C,v=p.author_name,S=p.iframeMediaURL,R=p.title,L=p.url,E;if(n[2]!==y||n[3]!==b||n[4]!==L){var k,I=L!=null?(k=o("ConstUriUtils").getUri(L))==null?void 0:k.getDomain():"";E=o("MWXLinkPreviewTruncateText").truncateText({isChatTab:y,position:"subtext",text:b?L:I}),n[2]=y,n[3]=b,n[4]=L,n[5]=E}else E=n[5];var T=E,D=b?void 0:R,x;n[6]!==y||n[7]!==D?(x=o("MWXLinkPreviewTruncateText").truncateText({isChatTab:y,position:"headline",text:D}),n[6]=y,n[7]=D,n[8]=x):x=n[8];var $=x,P=b?R:v,N;n[9]!==y||n[10]!==P?(N=o("MWXLinkPreviewTruncateText").truncateText({isChatTab:y,position:"body",text:P}),n[9]=y,n[10]=P,n[11]=N):N=n[11];var M=N,w=c==null?void 0:c.status,A;n[12]!==w?(A=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(w,r("E2EELinkPreviewXMADataStatus").LOADING),n[12]=w,n[13]=A):A=n[13];var F=A,O,B;n[14]!==S||n[15]!==F||n[16]!==g?(B=function(){!S&&!F?g==null||g.endSuccess({bool:{has_media_preview_url:!1}}):g==null||g.addPoint("link-preview-card-render")},O=[S,F,g],n[14]=S,n[15]=F,n[16]=g,n[17]=O,n[18]=B):(O=n[17],B=n[18]),_(B,O);var W;n[19]!==g?(W=function(){g==null||g.endFail("load-image-error")},n[19]=g,n[20]=W):W=n[20];var q=W,U;n[21]!==g?(U=function(){g==null||g.endSuccess({bool:{has_media_preview_url:!0}})},n[21]=g,n[22]=U):U=n[22];var V=U;if(F){g==null||g.addPoint("render_preview_loading_indicator");var H=l&&f.isReplying,G;n[23]!==H?(G=[f.outerContainer,H],n[23]=H,n[24]=G):G=n[24];var z;n[25]!==p.title?(z=d.jsx(r("BaseView.react"),{xstyle:f.container,children:d.jsx(r("MWXLinkPreviewLoadingIndicator.react"),{title:p.title})}),n[25]=p.title,n[26]=z):z=n[26];var j;return n[27]!==G||n[28]!==z?(j=d.jsx(r("BaseView.react"),{xstyle:G,children:z}),n[27]=G,n[28]=z,n[29]=j):j=n[29],j}var K=l&&f.isReplying,Q;n[30]!==K?(Q=[f.outerContainer,K],n[30]=K,n[31]=Q):Q=n[31];var X;n[32]!==S||n[33]!==q||n[34]!==V?(X=S!=null&&d.jsx(r("MWXImage.react"),{onError:q,onLoad:V,src:S,xstyle:f.image}),n[32]=S,n[33]=q,n[34]=V,n[35]=X):X=n[35];var Y;n[36]!==$?(Y=d.jsx(r("MWXText.react"),{type:"headline4",children:$}),n[36]=$,n[37]=Y):Y=n[37];var J;n[38]!==M||n[39]!==T||n[40]!==Y?(J=d.jsx(r("BaseView.react"),{xstyle:f.textSection,children:d.jsx(r("MWXTextPairing.react"),{body:M,bodyLineLimit:1,headline:Y,level:4,meta:T})}),n[38]=M,n[39]=T,n[40]=Y,n[41]=J):J=n[41];var Z;n[42]!==X||n[43]!==J?(Z=d.jsxs(r("BaseView.react"),{xstyle:f.content,children:[X,J]}),n[42]=X,n[43]=J,n[44]=Z):Z=n[44];var ee;n[45]===Symbol.for("react.memo_cache_sentinel")?(ee=s._(/*BTDS*/"Remove link preview from message"),n[45]=ee):ee=n[45];var te;n[46]!==h||n[47]!==c.data||n[48]!==c.dataType||n[49]!==c.draftId?(te=function(){h.runInTransaction(async function(e){var t,n;await e.e2ee_composer_draft_link_preview.put({data:(t=c.data)!=null?t:void 0,dataType:(n=c.dataType)!=null?n:void 0,draftId:c.draftId,status:(u||(u=o("I64"))).of_int32(r("E2EELinkPreviewXMADataStatus").DISABLED)})},"readwrite",void 0,void 0,i.id+":189")},n[46]=h,n[47]=c.data,n[48]=c.dataType,n[49]=c.draftId,n[50]=te):te=n[50];var ne;n[51]!==ee||n[52]!==te?(ne=d.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":ee,color:"primary",icon:r("FDSCrossFilled12Icon"),onPress:te}),n[51]=ee,n[52]=te,n[53]=ne):ne=n[53];var re;n[54]!==Z||n[55]!==ne?(re=d.jsxs(r("BaseView.react"),{xstyle:f.container,children:[Z,ne]}),n[54]=Z,n[55]=ne,n[56]=re):re=n[56];var oe;return n[57]!==Q||n[58]!==re?(oe=d.jsx(r("BaseView.react"),{xstyle:Q,children:re}),n[57]=Q,n[58]=re,n[59]=oe):oe=n[59],oe}l.default=g}),226);
__d("MAWParseLinkPreviewXMAData",["E2EELinkPreviewXMADataStatus","I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t==null?void 0:t.status,a=t==null?void 0:t.data;if(t==null||n==null||a==null)return null;var i=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("E2EELinkPreviewXMADataStatus").DISABLED)),l=JSON.parse(a);return Object.keys(l).length===0||l.url==null||i?null:l}l.parseLinkPreviewXMAData=u}),98);
__d("MAWLinkPreview.react",["MAWLinkPreviewCard.react","MAWParseLinkPreviewXMAData","MWPComposerDraftMessages","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a=t.isReplying,l=t.threadKey,s=t.threadType,c=(e||(e=r("useReStore")))(),d,m;n[0]!==c.tables.e2ee_composer_draft_link_preview||n[1]!==l?(d=function(){return o("ReQL").fromTableAscending(c.tables.e2ee_composer_draft_link_preview).filter(function(e){var t;return e.draftId===((t=o("MWPComposerDraftMessages").getDraftMessage(l))==null?void 0:t.id)})},m=[c.tables.e2ee_composer_draft_link_preview,l],n[0]=c.tables.e2ee_composer_draft_link_preview,n[1]=l,n[2]=d,n[3]=m):(d=n[2],m=n[3]);var p=o("ReQLSuspense").useArray(d,m,i.id+":32"),_=p.length>0?p[0]:void 0,f;n[4]!==_?(f=o("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(_),n[4]=_,n[5]=f):f=n[5];var g=f;if((_==null?void 0:_.draftId)==null||g==null)return null;var h=_==null?void 0:_.draftId,y;return n[6]!==a||n[7]!==_||n[8]!==h||n[9]!==s||n[10]!==g?(y=u.jsx(r("MAWLinkPreviewCard.react"),{draftID:h,isReplying:a,linkPreview:_,threadType:s,xmaData:g}),n[6]=a,n[7]=_,n[8]=h,n[9]=s,n[10]=g,n[11]=y):y=n[11],y}l.default=c}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return(function(e){var n=e.offlineQueueCount,r=e.offlineQueueSyncState,a=e.offlineQueueThreadStatus;return t!=null&&Object.keys(a).length>0?a[t]!=null&&a[t].chatStatus!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:n>0&&r!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete})};l.outstandingUIReadyOfflineQueueSelector=e}),98);
__d("MAWMediaIncreaseCount",["FBLogger","I64","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){r("promiseDone")(t.then(function(t){return t.runInTransaction(async function(t){var a,i=await t.client_media_status.get(n);if(i==null){r("FBLogger")("messenger_web_media").mustfix("Trying to increase download retry count without pre-existing media status %s",n);return}return t.client_media_status.put(babelHelpers.extends({},i,{downloadRetryCount:(e||(e=o("I64"))).add((a=i.downloadRetryCount)!=null?a:(e||(e=o("I64"))).zero,e.one)}))},"readwrite",void 0,void 0,i.id+":21")}))}l.call=s}),98);
__d("MAWMediaSetRetryingAndIncreaseCount",["FBLogger","I64","LSIntEnum","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){r("promiseDone")(t.then(function(t){return t.runInTransaction(async function(t){var a,i=await t.client_media_status.get(n);if(i==null){r("FBLogger")("messenger_web_media").mustfix("Trying to increase download retry count without pre-existing media status %s",n);return}return t.client_media_status.put({downloadRetryCount:(e||(e=o("I64"))).add((a=i.downloadRetryCount)!=null?a:(e||(e=o("I64"))).zero,e.one),id:n,mainMediaStatus:(s||(s=o("LSIntEnum"))).ofNumber(5),mainMediaStatusDetails:"manual_retry"})},"readwrite",void 0,void 0,i.id+":23")}))}l.call=u}),98);
__d("MAWObservableUtils",["Random","ReStoreKeyComparer","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{id:r("Random").uint32()}}function u(t,n){if(Array.isArray(t)||Array.isArray(n)){if(Array.isArray(t)&&Array.isArray(n))return(e||(e=o("ReStoreKeyComparer"))).compareKey(t,n)}else return(e||(e=o("ReStoreKeyComparer"))).compareKey([t],[n]);throw r("err")("[Separate Read Chunked Observable] Cannot compare array and non-array")}function c(e,t,n,o){for(var a=[],i=0;i<e.length;i+=t){for(var l=i+t;l>i&&l<e.length-1&&n(o(e[l-1]),o(e[l]))===0;)l--;if(l===i)throw r("err")("Entire pagination window sorts identically: this should never happen.");a.push(e.slice(i,l)),i-=i+t-l}return a}l.getUniqueRef=s,l.wrappedCompareKey=u,l.chunkArray=c}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&r("promiseDone")(n.runInTransaction(async function(i){var l,s=(l=await o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(n.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(n.tables.contacts)).filter(function(t){var n=t[0],r=t[1];return!(e||(e=o("I64"))).equal(r.id,a)})))!=null?l:[void 0,void 0],u=s[0],c=s[1];if(c!=null){var d=babelHelpers.extends({},c,{contactViewerRelationship:(e||(e=o("I64"))).of_string("2")});await i.contacts.upsert([c.id],d),o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType)&&await r("LSAddMessengerContactStoredProcedure")(r("LSFactory")(i),{contactId:c.id})}},"readwrite",void 0,void 0,i.id+":39"))}l.call=s}),98);
__d("MAWPrepareAttachmentsFromMediaManager",["MAWExternalId","MAWSendFileMsgTypes","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a){o("sendToSentQPLLogger").addSendToSentAnnotations(a,{int:{media_staging_count:e.length}});var i=t.hasFile,l=i===void 0?!1:i,s=t.hasImage,u=s===void 0?!1:s,c=t.hasVideo,d=c===void 0?!1:c,m=null;if(d||u||l){var p=e[e.length-1];m=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(p.offlineAttachmentId)}else m=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId());n(m);var _=e.reduce(function(e,t){var n=r.get(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(t.offlineAttachmentId));return n!=null?e.push([n,o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(t.offlineAttachmentId)]):o("sendToSentQPLLogger").markSendToSentPoint(a,"prepare_attachments_from_media_manager_missing_attachment"),e},[]);return{attachmentOfflineId:m,attachments:_}}l.prepareAttachmentsFromMediaManagerImpl=e}),98);
__d("MAWRetryReceiverFetchSticker",["FBLogger","MAWBridgeUpdateClientMediaStatusHandler","MAWIssueReceiverFetchTaskDeferred","MAWMediaDownloadStatus","MAWMediaIncreaseCount","WAHashUtils","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(n==null||n.addPoint("receiver_fetch_retry_attempt"),t==null){n==null||n.endFail("receiver_fetch_retry_no_attachment");return}var a=r("nullthrows")(t.receiverFetchId),i=t.messageId,l=t.threadKey,s=o("WAHashUtils").stringToPlaintextHash(i);o("MAWMediaIncreaseCount").call(e,s.toString()),r("promiseDone")(e,function(e){return o("MAWIssueReceiverFetchTaskDeferred").issueReceiverFetchTask(e,i,a,l)},function(t){n==null||n.endFail("receiver_fetch_task_fail"),r("promiseDone")(e,function(e){return o("MAWBridgeUpdateClientMediaStatusHandler").call(e,{details:"receiver_fetch_task_fail_"+t,key:s,status:r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"})}),r("FBLogger")("messenger_web_media").catching(t).warn("Failed to issue media receiver fetch task for manual retry")})}l.retryReceiverFetchSticker=e}),98);
__d("getMAWNonAddressableContactBannerStrings",["fbt","IntlVariations"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t){var n,o,a;if(e)return{details:s._(/*BTDS*/"You invited them. They will only see messages sent after they join."),headline:s._(/*BTDS*/"Some people can't see this chat yet")};var i=((n=t.firstName)!=null?n:"")===""?null:t.firstName,l=((o=t.name)!=null?o:"")===""?null:t.name,u=(a=i!=null?i:l)!=null?a:"recipient",c=r("IntlVariations").GENDER_UNKNOWN;return{details:s._(/*BTDS*/"_j{\"*\":\"You'll be able to send messages when {message recipient name} next logs into Messenger.\"}",[s._name("message recipient name",u,c)]),headline:s._(/*BTDS*/"_j{\"*\":\"{message recipient name} can't access this chat yet\"}",[s._name("message recipient name",u,c)])}}l.default=e}),226);
__d("useMAWNonAddressableParticipant",["I64","LSAuthorityLevel","LSIntEnum","LSWhatsAppConnectStatus","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(9),a=(u||(u=r("useReStore")))(),l=o("MWPActor.react").useActor(),c;n[0]!==l||n[1]!==a.tables.contacts||n[2]!==a.tables.participants||n[3]!==t?(c=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants,[]).getKeyRange(t),o("ReQL").fromTableAscending(a.tables.contacts,["waConnectStatus","authorityLevel","id","name","firstName"])).filter(function(t){var n=t[1];return(e||(e=o("I64"))).equal(n.waConnectStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))&&(e||(e=o("I64"))).ge(n.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))?!(e||(e=o("I64"))).equal(n.id,l):!1}).map(d)},n[0]=l,n[1]=a.tables.contacts,n[2]=a.tables.participants,n[3]=t,n[4]=c):c=n[4];var m;n[5]!==l||n[6]!==a||n[7]!==t?(m=[a,t,l],n[5]=l,n[6]=a,n[7]=t,n[8]=m):m=n[8];var p=o("ReQLSuspense").useFirst(c,m,i.id+":36");return p}function d(e){var t=e[1];return t}l.default=c}),98);
__d("useHasNonAddressableParticipantWAI",["CurrentMessengerUser","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWPActor.react","ODS","ReQL","ReQLSuspense","WAJids","WALogger","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=(p||(p=o("react"))).useState;function f(e){var t=o("react-compiler-runtime").c(22),n=e.isComposerBlocked,a=e.isGroup,l=e.isSecure,s=e.threadKey,m=(u||(u=r("useReStore")))(),p=o("MWPActor.react").useActor(),f=_(null),y=f[0],C=f[1],b,v;t[0]!==p||t[1]!==m.tables.contacts||t[2]!==m.tables.participants||t[3]!==l||t[4]!==s?(b=function(){return l?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(s),o("ReQL").fromTableAscending(m.tables.contacts,["authorityLevel","firstName","name"])).map(function(e){var t=e[0],n=e[1],a=t.contactId;return(c||(c=o("I64"))).ge(n.authorityLevel,(d||(d=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&!(c||(c=o("I64"))).equal(a,p)?[o("WAJids").toMsgrUserJid((c||(c=o("I64"))).to_string(a)),n]:null}).filter(Boolean):o("ReQL").empty()},v=[p,m.tables.contacts,m.tables.participants,l,s],t[0]=p,t[1]=m.tables.contacts,t[2]=m.tables.participants,t[3]=l,t[4]=s,t[5]=b,t[6]=v):(b=t[5],v=t[6]);var S=o("ReQLSuspense").useArray(b,v,i.id+":62"),R;t[7]!==n||t[8]!==a||t[9]!==l||t[10]!==s||t[11]!==S?(R=function(){if(!l){C(null);return}var e=S.map(g);r("promiseDone")(o("MAWBridgeSendAndReceive").sendAndReceive("backend","getWAIDevices",{users:e}).then(function(e){var t=S.find(function(t){var n,r=t[0];return!e.has(r)||((n=e.get(r))==null?void 0:n.length)===0});h(s,a,n,t!=null),C(t!=null?{hasNonAddressableParticipant:!0,nonAddressableParticipantName:t[1]}:{hasNonAddressableParticipant:!1})}))},t[7]=n,t[8]=a,t[9]=l,t[10]=s,t[11]=S,t[12]=R):R=t[12];var L;return t[13]!==m.tables.contacts||t[14]!==m.tables.participants||t[15]!==m.tables.threads||t[16]!==n||t[17]!==a||t[18]!==l||t[19]!==s||t[20]!==S?(L=[m.tables.contacts,m.tables.participants,m.tables.threads,n,a,l,s,S],t[13]=m.tables.contacts,t[14]=m.tables.participants,t[15]=m.tables.threads,t[16]=n,t[17]=a,t[18]=l,t[19]=s,t[20]=S,t[21]=L):L=t[21],o("Int64Hooks").useEffectInt64(R,L),y}function g(e){var t=e[0];return t}function h(t,n,a,i){var l=n?"group":"1:1",u=o("CurrentMessengerUser").isTestUser()?"test user":"prod user",d=function(t){t.addAnnotationBoolean("hasNonAddressableParticipantOccam",a),t.addAnnotationBoolean("hasNonAddressableParticipantWAI",i)};r("MWGetChatTabOpenQPLEventTrace")(t,d),r("MWGetInboxNavigateQPLEventTrace")(t,d),a&&!i?((m||(m=o("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_not_reachable_with_wai_devices in "+l+" ("+u+")"),o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["occam_not_reachable_with_wai_devices in "," (",")"])),l,u),r("FBLogger")("messenger_e2ee_web","occam_not_reachable").mustfix("occam returned not reachable but WA devices available. Thread: %s, Thread Type: %s, User Type: %s",(c||(c=o("I64"))).to_string(t),l,u)):!a&&i&&((m||(m=o("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_reachable_with_no_wai_devices in "+l+" ("+u+")"),o("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["occam_reachable_with_no_wai_devices in "," (",")"])),l,u))}l.useHasNonAddressableParticipantWAI=f}),98);
__d("useMAWOverrideNonAddressableParticipantWithWAI",["getMAWNonAddressableContactBannerStrings","gkx","react-compiler-runtime","useHasNonAddressableParticipantWAI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(8),n=e.bannerFromOccam,a=e.isGroup,i=e.isSecure,l=e.threadKey,s=n!=null,u;t[0]!==s||t[1]!==a||t[2]!==i||t[3]!==l?(u={isComposerBlocked:s,isGroup:a,isSecure:i,threadKey:l},t[0]=s,t[1]=a,t[2]=i,t[3]=l,t[4]=u):u=t[4];var c=o("useHasNonAddressableParticipantWAI").useHasNonAddressableParticipantWAI(u);if(!i||c==null)return n;if(!c.hasNonAddressableParticipant&&s)return null;if(c.hasNonAddressableParticipant&&!s&&!(a&&r("gkx")("10382"))){var d;return t[5]!==c.nonAddressableParticipantName||t[6]!==a?(d=r("getMAWNonAddressableContactBannerStrings")(a,c.nonAddressableParticipantName),t[5]=c.nonAddressableParticipantName,t[6]=a,t[7]=d):d=t[7],d}return n}l.default=e}),98);
__d("MAWSecureThreadNonAddressableContactBanner.react",["fbt","Int64Hooks","LSMessagingThreadTypeUtil","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","MWXText.react","MessengerWebUXLogger","getMAWNonAddressableContactBannerStrings","gkx","react","react-compiler-runtime","useMAWNonAddressableParticipant","useMAWOverrideNonAddressableParticipantWithWAI"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useState;function d(e){var t=o("react-compiler-runtime").c(30),n=e.setHideComposerEditor,a=e.thread,i=r("useMAWNonAddressableParticipant")(a.threadKey),l,d;t[0]!==i||t[1]!==a.threadType?(l=o("LSMessagingThreadTypeUtil").isGroup(a.threadType),d=i!=null&&!(l&&r("gkx")("10382"))?r("getMAWNonAddressableContactBannerStrings")(l,i):null,t[0]=i,t[1]=a.threadType,t[2]=l,t[3]=d):(l=t[2],d=t[3]);var m=d,p;t[4]!==m||t[5]!==l||t[6]!==a.threadKey?(p={bannerFromOccam:m,isGroup:l,isSecure:!0,threadKey:a.threadKey},t[4]=m,t[5]=l,t[6]=a.threadKey,t[7]=p):p=t[7];var _=r("useMAWOverrideNonAddressableParticipantWithWAI")(p),f=c(!1),g=f[0],h=f[1],y=r("MessengerWebUXLogger").useInteractionLogger(),C,b;t[8]!==y||t[9]!==a.threadKey||t[10]!==a.threadType?(C=function(){h(!0),y==null||y({eventName:"non_addressable_contact_banner_dismissed",threadKey:a.threadKey,threadType:a.threadType})},b=[y,a.threadKey,a.threadType],t[8]=y,t[9]=a.threadKey,t[10]=a.threadType,t[11]=C,t[12]=b):(C=t[11],b=t[12]);var v=o("Int64Hooks").useCallbackInt64(C,b),S=l,R=S?!g:!0,L=_!=null&&R,E;t[13]!==a.threadKey||t[14]!==a.threadType?(E={eventName:"non_addressable_contact_banner_rendered",threadKey:a.threadKey,threadType:a.threadType},t[13]=a.threadKey,t[14]=a.threadType,t[15]=E):E=t[15];var k=r("MessengerWebUXLogger").useImpressionLoggerRef(E);if(n(function(){return L?!S:!1}),L){var I;t[16]===Symbol.for("react.memo_cache_sentinel")?(I={className:"x13fuv20 x178xt8z x1n2onr6 x1ja2u2z x57kliw x1epquy7"},t[16]=I):I=t[16];var T;t[17]!==S||t[18]!==v?(T=S?u.jsx("div",{className:"x11dcrhx x10l6tqk xfr5jun x1vjfegm",children:u.jsx(r("MWXCircleButton.react"),{color:"primary",icon:r("MWXIconCross"),label:s._(/*BTDS*/"Close"),onPress:v,size:24})}):null,t[17]=S,t[18]=v,t[19]=T):T=t[19];var D=_==null?void 0:_.headline,x;t[20]!==D?(x=u.jsx(r("MWXRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,testid:void 0,children:u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!0,type:"headlineEmphasized4",children:D})})}),t[20]=D,t[21]=x):x=t[21];var $=_==null?void 0:_.details,P;t[22]!==$?(P=u.jsx(r("MWXRow.react"),{align:"center",expanding:!0,paddingTop:4,paddingVertical:16,spacingVertical:4,testid:void 0,children:u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:$})})}),t[22]=$,t[23]=P):P=t[23];var N;return t[24]!==k||t[25]!==P||t[26]!==I||t[27]!==T||t[28]!==x?(N=u.jsxs("div",babelHelpers.extends({ref:k},I,{children:[T,x,P]})),t[24]=k,t[25]=P,t[26]=I,t[27]=T,t[28]=x,t[29]=N):N=t[29],N}else return null}l.default=d}),226);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","WAChatState","WAJids","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;async function c(e,t,n,a){if(!(s||(s=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(15)))return Promise.resolve(!0);var i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,a)}));if(i==null)return!1;var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(i.contactId));return l==null?!1:(s||(s=o("I64"))).equal(l.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))}function d(t,n,a){var l=o("react-compiler-runtime").c(24),d=(e||(e=r("useReStore")))(),p=o("MWPActor.react").useActor(),_;l[0]!==n?(_=(s||(s=o("I64"))).to_string(n),l[0]=n,l[1]=_):_=l[1];var f=_,g=r("MessengerWebUXLogger").useInteractionLogger(),h;l[2]!==d.tables.participants||l[3]!==n?(h=function(){return o("ReQL").fromTableAscending(d.tables.participants,["contactId"]).getKeyRange(n).map(m)},l[2]=d.tables.participants,l[3]=n,l[4]=h):h=l[4];var y;l[5]!==d||l[6]!==n?(y=[d,n],l[5]=d,l[6]=n,l[7]=y):y=l[7];var C=o("ReQLSuspense").useArray(h,y,i.id+":83"),b;l[8]!==p||l[9]!==t||l[10]!==d||l[11]!==g||l[12]!==n||l[13]!==a?(b=function(i){(s||(s=o("I64"))).ge(t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a)&&r("promiseDone")(c(d,n,a,p).then(function(e){return e?o("MAWMiActOnActThreadReady").onActThreadReady(d.tables,n,"MAWSecureTypingState",function(e,t){return g==null||g({eventName:"send_typing_indicators",threadKey:n,threadType:a}),o("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{chatJid:t,state:i?o("WAChatState").TYPING:o("WAChatState").IDLE}),Promise.resolve()}):Promise.resolve()}))},l[8]=p,l[9]=t,l[10]=d,l[11]=g,l[12]=n,l[13]=a,l[14]=b):b=l[14];var v;return l[15]!==p||l[16]!==t||l[17]!==d||l[18]!==g||l[19]!==n||l[20]!==f||l[21]!==a||l[22]!==C?(v=[d,C,t,n,a,p,f,g],l[15]=p,l[16]=t,l[17]=d,l[18]=g,l[19]=n,l[20]=f,l[21]=a,l[22]=C,l[23]=v):v=l[23],o("Int64Hooks").useCallbackInt64(b,v)}function m(e){return o("WAJids").toMsgrUserJid((s||(s=o("I64"))).to_string(e.contactId))}l.useOnTypingStateChanged=d}),98);
__d("MAWSupportedFileTypes",[],(function(t,n,r,o,a,i){"use strict";var e=["*/*"];i.supportedFileTypes=e}),66);
__d("MAWVoiceClipLimit",[],(function(t,n,r,o,a,i){"use strict";var e=60,l=180;function s(t){return t?l:e}i.getMAWMaxVoiceClipDurationInSeconds=s}),66);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22434")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(13),n=e.hasError,r=e.progress,a=n===void 0?!1:n;if(r===1||r==null)return null;var i=a?"var(--negative)":"var(--chat-composer-button-color, var(--accent))",l=Math.ceil(r*100),s="2",c="M 0,"+s+" L 100,"+s,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d="x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",t[0]=d):d=t[0];var m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={height:"4"},t[1]=m):m=t[1];var p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx("path",{d:c,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:"4"}),t[2]=p):p=t[2];var _=l===0?0:4,f;t[3]!==_?(f=_.toString(),t[3]=_,t[4]=f):f=t[4];var g=100-l,h;t[5]!==g?(h=g.toString(),t[5]=g,t[6]=h):h=t[6];var y;t[7]!==h?(y={strokeDasharray:"100",strokeDashoffset:h,transition:"stroke-dashoffset .5s, stroke .5s"},t[7]=h,t[8]=y):y=t[8];var C;return t[9]!==i||t[10]!==f||t[11]!==y?(C=u.jsxs("svg",{"aria-hidden":!0,className:d,preserveAspectRatio:"none",style:m,viewBox:"0 0 100 4",children:[p,u.jsx("path",{d:c,stroke:i,strokeLinecap:"round",strokeWidth:f,style:y})]}),t[9]=i,t[10]=f,t[11]=y,t[12]=C):C=t[12],C}function f(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.hasError,i=e.onCancel,l=e.progress,c=e.testid,d=a===void 0?!1:a,m;t[0]!==d||t[1]!==l?(m=u.jsx(_,{hasError:d,progress:l}),t[0]=d,t[1]=l,t[2]=m):m=t[2];var f;t[3]!==n||t[4]!==m?(f=u.jsxs(o("react-strict-dom").html.div,{style:p.contentWrapper,children:[n,m]}),t[3]=n,t[4]=m,t[5]=f):f=t[5];var g;t[6]!==i?(g=i!=null&&u.jsx(o("react-strict-dom").html.div,{style:p.cancelButton,children:u.jsx(r("MWXCircleButton.react"),{icon:r("MWXIconCross"),label:s._(/*BTDS*/"Cancel"),onPress:i,size:24,type:"overlay"})}),t[6]=i,t[7]=g):g=t[7];var h;return t[8]!==f||t[9]!==g||t[10]!==c?(h=u.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:p.card,children:[f,g]}),t[8]=f,t[9]=g,t[10]=c,t[11]=h):h=t[11],h}function g(e){var t=o("react-compiler-runtime").c(9),n=e.hasError,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=n===void 0?!1:n,m;t[0]!==i||t[1]!==l||t[2]!==c?(m=u.jsx(r("MWXImage.react"),{objectFit:"contain",onError:i,onLoad:l,src:c,xstyle:p.imagePreview}),t[0]=i,t[1]=l,t[2]=c,t[3]=m):m=t[3];var _;return t[4]!==d||t[5]!==a||t[6]!==s||t[7]!==m?(_=u.jsx(f,{hasError:d,onCancel:a,progress:s,testid:void 0,children:m}),t[4]=d,t[5]=a,t[6]=s,t[7]=m,t[8]=_):_=t[8],_}function h(e){var t=o("react-compiler-runtime").c(13),n=e.hasError,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=n===void 0?!1:n,_=m(null),g;t[0]!==i||t[1]!==l?(g=u.jsx(r("MWXVideoStatusListener.react"),{onError:i,onLoad:l,videoRef:_}),t[0]=i,t[1]=l,t[2]=g):g=t[2];var h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h={className:"xl1xv1r"},t[3]=h):h=t[3];var y;t[4]!==c?(y=u.jsx("video",babelHelpers.extends({},h,{height:"48",ref:_,src:c,width:"48"})),t[4]=c,t[5]=y):y=t[5];var C;t[6]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(o("react-strict-dom").html.div,{style:p.playIcon,children:u.jsx(r("MWXImage.react"),{src:"/images/video/play_24dp.png"})}),t[6]=C):C=t[6];var b;return t[7]!==d||t[8]!==a||t[9]!==s||t[10]!==g||t[11]!==y?(b=u.jsxs(f,{hasError:d,onCancel:a,progress:s,testid:void 0,children:[g,y,C]}),t[7]=d,t[8]=a,t[9]=s,t[10]=g,t[11]=y,t[12]=b):b=t[12],b}function y(e){var t=o("react-compiler-runtime").c(14),n=e.hasError,a=e.onCancel,i=e.onLoad,l=e.progress,s=e.title,c=n===void 0?!1:n,m,_;t[0]!==i?(m=function(){i==null||i()},_=[i],t[0]=i,t[1]=m,t[2]=_):(m=t[1],_=t[2]),d(m,_);var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconDocument"),isDecorative:!0,size:20}),t[3]=g):g=t[3];var h;t[4]!==s?(h=u.jsxs(o("react-strict-dom").html.div,{style:p.filePreview,children:[g,u.jsx(r("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:s})]}),t[4]=s,t[5]=h):h=t[5];var y;t[6]!==h||t[7]!==s?(y=u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:s,children:h}),t[6]=h,t[7]=s,t[8]=y):y=t[8];var C;return t[9]!==c||t[10]!==a||t[11]!==l||t[12]!==y?(C=u.jsx(f,{hasError:c,onCancel:a,progress:l,testid:void 0,children:y}),t[9]=c,t[10]=a,t[11]=l,t[12]=y,t[13]=C):C=t[13],C}function C(e){var t=o("react-compiler-runtime").c(7),n=e.isDisabled,a=e.onPress,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Upload another file"),t[0]=i):i=t[0];var l=i,c=n?"disabled":"primary",d;t[1]!==c?(d=u.jsx(r("MWXIconStrict.react"),{color:c,icon:r("MWXIconPhotoPlus"),size:24}),t[1]=c,t[2]=d):d=t[2];var m;return t[3]!==n||t[4]!==a||t[5]!==d?(m=u.jsx(f,{children:u.jsx(r("MWXPressable.react"),{"aria-label":l,disabled:n,onPress:a,testid:void 0,xstyle:p.imagePreview,children:d})}),t[3]=n,t[4]=a,t[5]=d,t[6]=m):m=t[6],m}l.MWXComposerImageAttachmentPreview=g,l.MWXComposerVideoAttachmentPreview=h,l.MWXComposerFileAttachmentPreview=y,l.MWXComposerAddAttachmentButton=C}),226);
__d("MWXComposerButtonContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({});l.default=u}),98);
__d("MWXComposerRow.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(10),n=e.children,r=e["data-testid"],a=e.padding,i=e.scrollable,l=e.xStyle,c=a===void 0?0:a,d=c===12&&u.padding12,m=c===4&&u.padding4,p=c===6&&u.padding6,_=i===!0&&u.scrollable,f;t[0]!==d||t[1]!==m||t[2]!==p||t[3]!==_||t[4]!==l?(f=[u.row,d,m,p,_,l],t[0]=d,t[1]=m,t[2]=p,t[3]=_,t[4]=l,t[5]=f):f=t[5];var g;return t[6]!==n||t[7]!==f||t[8]!==r?(g=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:f,children:n}),t[6]=n,t[7]=f,t[8]=r,t[9]=g):g=t[9],g}l.default=c}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},c={color:"secondary",size:24};function d(e){var t=o("react-compiler-runtime").c(23),n=e.bodyText,a=e.bodyTextColor,i=e.bodyTextType,l=e["data-testid"],d=e.hasTopBorder,m=e.headlineText,p=e.headlineTextType,_=e.leftAddon,f=e.level,g=e.loadingIndicator,h=e.rightAddon,y=e.subtext,C=e.xstyle,b=d===void 0?!1:d,v=f===void 0?3:f;if(g!=null){var S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S=[u.body],t[0]=S):S=t[0];var R;return t[1]!==g||t[2]!==l?(R=s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:S,children:g}),t[1]=g,t[2]=l,t[3]=R):R=t[3],R}var L=b&&u.border,E;t[4]!==L||t[5]!==C?(E=[u.body,L,C],t[4]=L,t[5]=C,t[6]=E):E=t[6];var k=_!=null&&_,I;t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==m||t[11]!==p||t[12]!==v||t[13]!==y?(I=(n!=null||y!=null||m!=null)&&s.jsx(r("MWXTextPairing.react"),{body:n!=null&&i!=null?s.jsx(r("MWXText.react"),{color:a,type:i,children:n}):n!=null?s.jsx(r("MWXText.react"),{color:a,type:"body4",children:n}):void 0,headline:m!=null&&p!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:p,children:m}):m!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:v,meta:y}),t[7]=n,t[8]=a,t[9]=i,t[10]=m,t[11]=p,t[12]=v,t[13]=y,t[14]=I):I=t[14];var T;t[15]!==h?(T=h!=null&&s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsx(o("react-strict-dom").html.div,{style:u.rightAddon,children:h})}),t[15]=h,t[16]=T):T=t[16];var D;return t[17]!==E||t[18]!==k||t[19]!==I||t[20]!==T||t[21]!==l?(D=s.jsxs(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:E,children:[k,I,T]}),t[17]=E,t[18]=k,t[19]=I,t[20]=T,t[21]=l,t[22]=D):D=t[22],D}l.default=d}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","disableTooltip","isShown","size","type","wrapperStyle","wrapperXStyle"],u,c=u||(u=o("react")),d=u.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(36),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u,p,f,g,h,y,C;if(n[3]!==a){var b=a;l=b.color,u=b.disableTooltip,p=b.isShown,g=b.size,h=b.type,y=b.wrapperStyle,C=b.wrapperXStyle,f=babelHelpers.objectWithoutPropertiesLoose(b,s),n[3]=a,n[4]=l,n[5]=u,n[6]=p,n[7]=f,n[8]=g,n[9]=h,n[10]=y,n[11]=C}else l=n[4],u=n[5],p=n[6],f=n[7],g=n[8],h=n[9],y=n[10],C=n[11];var v=h===void 0?"deemphasized":h,S=d(r("MWXComposerButtonContext.react")),R=S.color,L=S.iconRatio,E=S.paddingHorizontal,k=S.size,I=L===void 0?"medium":L,T=E===void 0?"none":E,D=k===void 0?36:k,x=T==="small"&&m.horizontalPaddingSmall,$;n[12]!==y||n[13]!==C?($=[C,y],n[12]=y,n[13]=C,n[14]=$):$=n[14];var P=p===!0&&m.shown,N;n[15]!==x||n[16]!==$||n[17]!==P?(N=[x,m.layoutWrapper,$,P],n[15]=x,n[16]=$,n[17]=P,n[18]=N):N=n[18];var M;if(n[19]!==l||n[20]!==R){var w;M=(w=l!=null?l:R)!=null?w:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),n[19]=l,n[20]=R,n[21]=M}else M=n[21];var A=g!=null?g:D,F;n[22]!==I||n[23]!==f||n[24]!==i||n[25]!==A||n[26]!==M||n[27]!==v?(F=c.jsx(r("MWXCircleButton.react"),babelHelpers.extends({},f,{color:M,iconRatio:I,ref:i,size:A,type:v})),n[22]=I,n[23]=f,n[24]=i,n[25]=A,n[26]=M,n[27]=v,n[28]=F):F=n[28];var O;n[29]!==u||n[30]!==a.label||n[31]!==F?(O=c.jsx(_,{disableTooltip:u,label:a.label,children:F}),n[29]=u,n[30]=a.label,n[31]=F,n[32]=O):O=n[32];var B;return n[33]!==O||n[34]!==N?(B=c.jsx(o("react-strict-dom").html.div,{style:N,children:O}),n[33]=O,n[34]=N,n[35]=B):B=n[35],B}function _(e){var t=o("react-compiler-runtime").c(4),n=e.children,a=e.disableTooltip,i=e.label,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=a===!0?n:c.jsx(r("MWXTooltip.react"),{position:"above",tooltip:i,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}l.default=p}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},c={iconRatio:"large",paddingHorizontal:"none",size:28};function d(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.composerRowXStyle,i=e.header,l=e.xstyle,d;t[0]!==l?(d=[u.colors,u.flexLayout,l],t[0]=l,t[1]=d):d=t[1];var m;t[2]!==n||t[3]!==a?(m=s.jsx(r("MWXComposerRow.react"),{padding:4,xStyle:a,children:n}),t[2]=n,t[3]=a,t[4]=m):m=t[4];var p;return t[5]!==i||t[6]!==d||t[7]!==m?(p=s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsxs(o("react-strict-dom").html.div,{style:d,children:[i,m]})}),t[5]=i,t[6]=d,t[7]=m,t[8]=p):p=t[8],p}l.default=d}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],s,u=s||(s=o("react")),c=s.useContext,d={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(27),a,i,l,s,m,p,_;n[0]!==t?(s=t.color,a=t.label,i=t.size,m=t.spinnerSize,p=t.wrapperStyle,_=t.wrapperXStyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=m,n[6]=p,n[7]=_):(a=n[1],i=n[2],l=n[3],s=n[4],m=n[5],p=n[6],_=n[7]);var f=s===void 0?"blue":s,g=m===void 0?20:m;r("vulture")("KlrXhW9hvp38Mnhm0K63c87LFnQ=");var h=c(r("MWXComposerButtonContext.react")),y=h.paddingHorizontal,C=h.size,b=y===void 0?"none":y,v=C===void 0?36:C,S=(i!=null?i:v)+"px",R=b==="small"&&d.horizontalPaddingSmall,L;n[8]!==p||n[9]!==_?(L=[_,p],n[8]=p,n[9]=_,n[10]=L):L=n[10];var E;n[11]!==S?(E=[{height:S,width:S}],n[11]=S,n[12]=E):E=n[12];var k;n[13]!==R||n[14]!==L||n[15]!==E?(k=[R,d.layoutWrapper,L,E],n[13]=R,n[14]=L,n[15]=E,n[16]=k):k=n[16];var I;n[17]!==f||n[18]!==l||n[19]!==g?(I=u.jsx(r("MWXSpinner.react"),babelHelpers.extends({color:f,size:g},l)),n[17]=f,n[18]=l,n[19]=g,n[20]=I):I=n[20];var T;n[21]!==a||n[22]!==I?(T=u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:a,children:I}),n[21]=a,n[22]=I,n[23]=T):T=n[23];var D;return n[24]!==T||n[25]!==k?(D=u.jsx(o("react-strict-dom").html.div,{style:k,children:T}),n[24]=T,n[25]=k,n[26]=D):D=n[26],D}l.default=m}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.contentEditableProps,i=e.placeholderText,l=e.testid,c;t[0]!==i?(c=i==null?{}:{"aria-placeholder":i,placeholder:s.jsx(r("CometLexicalPlaceholder.react"),{children:i})},t[0]=i,t[1]=c):c=t[1];var d=c,m;t[2]!==a||t[3]!==d||t[4]!==l?(m=s.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({tabIndex:0,webDriverTestID:l},d,a)),t[2]=a,t[3]=d,t[4]=l,t[5]=m):m=t[5];var p=m,_;t[6]!==p?(_=s.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:p}),t[6]=p,t[7]=_):_=t[7];var f;return t[8]!==n||t[9]!==_?(f=s.jsxs(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:u.padding,children:[_,n]}),t[8]=n,t[9]=_,t[10]=f):f=t[10],f}l.default=c}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(17),n=e.children,a=e.editor,i=e.header,l=e.testid,u=e.xstyle,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=o("LexicalComposerContext").createLexicalComposerContext(),t[0]=d):d=t[0];var m=d,p,_;t[1]!==a?(_=[a,m],t[1]=a,t[2]=_):_=t[2],p=_;var f=p,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=[c.composer,c.flexLayout],t[3]=g):g=t[3];var h;t[4]!==u?(h=[c.padding,u],t[4]=u,t[5]=h):h=t[5];var y;t[6]!==n||t[7]!==h||t[8]!==l?(y=s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:h,children:n}),t[6]=n,t[7]=h,t[8]=l,t[9]=y):y=t[9];var C;t[10]!==i||t[11]!==y?(C=s.jsxs(o("react-strict-dom").html.div,{style:g,children:[i,y]}),t[10]=i,t[11]=y,t[12]=C):C=t[12];var b;t[13]===Symbol.for("react.memo_cache_sentinel")?(b=s.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{}),t[13]=b):b=t[13];var v;return t[14]!==f||t[15]!==C?(v=s.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:f,children:[C,b]}),t[14]=f,t[15]=C,t[16]=v):v=t[16],v}var m={Add:o("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:o("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:o("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:o("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};l.Composer=d,l.Button=r("MWXComposerIconButton.react"),l.TextEditor=r("MWXComposerTextEditor.react"),l.InputArea=r("MWXComposerInputArea.react"),l.Header=r("MWXComposerHeader.react"),l.Row=r("MWXComposerRow.react"),l.Spinner=r("MWXComposerSpinner.react"),l.Attachments=m}),98);
__d("MWXComposerButtonGroupContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isMenu:!1});l.default=u}),98);
__d("MWXComposerButtonGroupButton.react",["MWXComposerButtonGroupContext.react","MWXComposerIconButton.react","MWXMenuItem.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","icon","label","onPress","preventClosingMenuOnSelect","testid"],u,c=u||(u=o("react")),d=u.useContext;function m(t){var n=o("react-compiler-runtime").c(36),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u,m,p,_,f,g;if(n[3]!==a){var h=a;l=h.color,u=h.icon,m=h.label,p=h.onPress,f=h.preventClosingMenuOnSelect,g=h.testid,_=babelHelpers.objectWithoutPropertiesLoose(h,s),n[3]=a,n[4]=l,n[5]=u,n[6]=m,n[7]=p,n[8]=_,n[9]=f,n[10]=g}else l=n[4],u=n[5],m=n[6],p=n[7],_=n[8],f=n[9],g=n[10];var y=d(r("MWXComposerButtonGroupContext.react")),C=y.isMenu,b=y.styleForButton,v=y.xstyleForButton;if(C){var S;n[11]!==u?(S=u.asMenuItemIcon_ESCAPE_HATCH(),n[11]=u,n[12]=S):S=n[12];var R;n[13]!==l?(R=l!=null?l:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),n[13]=l,n[14]=R):R=n[14];var L;return n[15]!==m||n[16]!==p||n[17]!==_||n[18]!==f||n[19]!==i||n[20]!==S||n[21]!==R||n[22]!==g?(L=c.jsx(r("MWXMenuItem.react"),babelHelpers.extends({"aria-label":m,icon:S,iconColor:R,onClick:p,preventClosingMenuOnSelect:f,primaryText:m,ref:i,testid:void 0},_)),n[15]=m,n[16]=p,n[17]=_,n[18]=f,n[19]=i,n[20]=S,n[21]=R,n[22]=g,n[23]=L):L=n[23],L}var E;n[24]!==l?(E=l!=null?{color:l}:{},n[24]=l,n[25]=E):E=n[25];var k;return n[26]!==u||n[27]!==m||n[28]!==p||n[29]!==_||n[30]!==i||n[31]!==b||n[32]!==E||n[33]!==g||n[34]!==v?(k=c.jsx(r("MWXComposerIconButton.react"),babelHelpers.extends({icon:u,label:m,onPress:p,ref:i,testid:void 0,wrapperStyle:b,wrapperXStyle:v},E,_)),n[26]=u,n[27]=m,n[28]=p,n[29]=_,n[30]=i,n[31]=b,n[32]=E,n[33]=g,n[34]=v,n[35]=k):k=n[35],k}l.default=m}),98);
__d("withMWXPopover",["BaseMenuContext","BaseMultiPageViewContext","BasePopoverTrigger.react","MWXPopover.react","MWXPopoverLoadingState.react","lazyLoadComponent","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e=["onHoverIn","onHoverOut","popover","popoverPresentationProps","popoverProps","preloadTrigger"],s=["align","position"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo;function _(t,n){function a(a){var i,l,u=o("react-compiler-runtime").c(42),d,p,_,f,g,h,y;u[0]!==a?(d=a.onHoverIn,p=a.onHoverOut,_=a.popover,f=a.popoverPresentationProps,g=a.popoverProps,h=a.preloadTrigger,y=babelHelpers.objectWithoutPropertiesLoose(a,e),u[0]=a,u[1]=d,u[2]=p,u[3]=_,u[4]=f,u[5]=g,u[6]=h,u[7]=y):(d=u[1],p=u[2],_=u[3],f=u[4],g=u[5],h=u[6],y=u[7]);var C=(i=m(r("BaseMenuContext")))!=null?i:{},b=C.onClose,v=(l=m(r("BaseMultiPageViewContext")))!=null?l:{},S=v.pushPage,R,L;if(u[8]!==_){var E;u[10]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!1}),u[10]=E):E=u[10],L=o("withCometPlaceholder").withCometPlaceholder(r("lazyLoadComponent")(_),E,n),u[8]=_,u[9]=L}else L=u[9];R=L;var k=R,I;u[11]!==_?(I=r("tracePolicyFromResource")("comet.popover",_),u[11]=_,u[12]=I):I=u[12];var T=r("useCometPopoverInteractionTracing")(I,"lazy"),D;u[13]!==f?(D=f!=null?f:{},u[13]=f,u[14]=D):D=u[14];var x,$,P;if(u[15]!==D){var N=D;$=N.align,P=N.position,x=babelHelpers.objectWithoutPropertiesLoose(N,s),u[15]=D,u[16]=x,u[17]=$,u[18]=P}else x=u[16],$=u[17],P=u[18];var M=$===void 0?"middle":$,w=P===void 0?"above":P,A,F;u[19]!==k?(F=function(t){return c.jsx(r("MWXPopover.react"),{withArrow:!0,children:c.jsx(k,babelHelpers.extends({},t))})},u[19]=k,u[20]=F):F=u[20],A=F;var O=A,B,W;u[21]!==k||u[22]!==b?(W=function(t){return function(e){var n=e.onReturn;return c.jsx(k,babelHelpers.extends({},t,{onClose:b!=null?b:n}))}},u[21]=k,u[22]=b,u[23]=W):W=u[23],B=W;var q=B,U;u[24]!==q||u[25]!==b||u[26]!==d||u[27]!==p||u[28]!==g||u[29]!==S||u[30]!==y?(U=function(n,r,o,a,i){return c.jsx(t,babelHelpers.extends({onHoverIn:function(t){a(t),d==null||d(t)},onHoverOut:function(t){i(),p==null||p(t)}},y,{onPress:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n;S!=null&&b!=null?S(q(g)):r(),y.onPress==null||(e=y).onPress.apply(e,a)},preventClosingMenuOnSelect:!0,ref:n}))},u[24]=q,u[25]=b,u[26]=d,u[27]=p,u[28]=g,u[29]=S,u[30]=y,u[31]=U):U=u[31];var V;return u[32]!==O||u[33]!==M||u[34]!==x||u[35]!==_||u[36]!==g||u[37]!==w||u[38]!==h||u[39]!==U||u[40]!==T?(V=c.jsx(r("BasePopoverTrigger.react"),babelHelpers.extends({align:M,position:w},x,{interactionTracker:T,popover:O,popoverPreloadResource:_,popoverProps:g,preloadTrigger:h,children:U})),u[32]=O,u[33]=M,u[34]=x,u[35]=_,u[36]=g,u[37]=w,u[38]=h,u[39]=U,u[40]=T,u[41]=V):V=u[41],V}return a}l.default=_}),98);
__d("MWXComposerButtonGroupPopoverButton.react",["MWXComposerButtonGroupButton.react","react","withMWXPopover"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("withMWXPopover")(r("MWXComposerButtonGroupButton.react")),c=u;l.default=c}),98);
__d("MWXIconFaceHappy",["MWXSvgIcon","SVGIcon","cr:22315","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22315")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerEmojiButton.react",["fbt","JSResourceForInteraction","LexicalComposerContext","MWXComposerButtonGroupPopoverButton.react","MWXIconFaceHappy","MessengerWebUXLogger","Promise","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWXComposerEmojiButton.react");function m(){var t=o("react-compiler-runtime").c(9),a=o("LexicalComposerContext").useLexicalComposerContext(),i=a[0],l=r("MessengerWebUXLogger").useInteractionLogger(),u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"Choose an emoji"),t[0]=u):u=t[0];var m;t[1]!==l?(m=function(){d.preload(),l==null||l({eventName:"composer_open_emoji_picker"})},t[1]=l,t[2]=m):m=t[2];var p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=r("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWXComposerEmojiButton.react"),t[3]=p):p=t[3];var _;t[4]!==i?(_={onSelect:function(o){return r("promiseDone")(d.load(),function(t){return t(o,i,16),(e||(e=n("Promise"))).resolve()})},withArrow:!1},t[4]=i,t[5]=_):_=t[5];var f;return t[6]!==m||t[7]!==_?(f=c.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{icon:r("MWXIconFaceHappy"),label:u,onPress:m,popover:p,popoverProps:_,preloadTrigger:"button",testid:void 0}),t[6]=m,t[7]=_,t[8]=f):f=t[8],f}l.default=m}),226);
__d("useMAWGetSendEditActionForSecure",["FBLogger","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWGetProtocolMsgIdByMsgIdInUI","MAWLoggerUtils","MAWMessageSendReporter","MAWMiActOnActThreadReady","QPLUserFlow","ReQL","ReQLSuspense","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useLSMessagingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var n=o("react-compiler-runtime").c(9),a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("MAWLoggerUtils").getInstanceKey(),n[0]=a):a=n[0];var l=a,s=(e||(e=r("useReStore")))(),u,c;n[1]!==s||n[2]!==t?(u=function(){return t!=null?o("ReQL").fromTableAscending(s.tables.threads).getKeyRange(t):o("ReQL").empty()},c=[s,t],n[1]=s,n[2]=t,n[3]=u,n[4]=c):(u=n[3],c=n[4]);var d=o("ReQLSuspense").useFirst(u,c,i.id+":41"),m=r("useLSMessagingSource")(),p;return n[5]!==s||n[6]!==d||n[7]!==t?(p=function(n,a){if(!(t==null||n==null)){var e=o("MAWDbMsg").toMsgId(n);e!=null&&(r("QPLUserFlow").start(r("qpl")._(1056849558,"2236"),{instanceKey:l}),r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(s.tables,t,"MWV2ComposerEditContainer.react",function(t,n){return o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(e).then(function(e){if(e!=null){var t=o("MAWExternalId").generateExternalId(),n=e.chat,i=function(l){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendEditMsg",{args:{editMsgContent:{content:a,mentionedJids:[]},originalProtocolMsgId:e},chatJid:n,externalId:t,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:l})},l=o("sendToSentQPLLogger").markSendToSentStartWithAnnotation(d,{isEdit:!0},r("LSMessagingThreadAttributionType").UNKNOWN,void 0,void 0,t);return o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:n,externalId:t},i(l),{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:l},s)}}).then(function(e){r("QPLUserFlow").endSuccess(r("qpl")._(1056849558,"2236"),{instanceKey:l})}).catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("Failed to edit message: %s.",e),r("QPLUserFlow").endFailure(r("qpl")._(1056849558,"2236"),"failure",{instanceKey:l})})})))}},n[5]=s,n[6]=d,n[7]=t,n[8]=p):p=n[8],p}l.default=c}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,o){return r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticEditMessageStoredProcedure")(r("LSFactory")(e),{messageId:t,text:o})},"readwrite",void 0,void 0,i.id+":27"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWComposerEmojiTransform",["react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=r("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("useMWComposerEmojiTransform");function c(e){var t=o("react-compiler-runtime").c(4),n=r("useDeferredModuleOnReady")(u),a,i;t[0]!==n||t[1]!==e?(a=function(){return n==null?void 0:n(e,16)},i=[e,n],t[0]=n,t[1]=e,t[2]=a,t[3]=i):(a=t[2],i=t[3]),s(a,i)}l.default=c}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useInsertionEffect,d=s.useLayoutEffect,m=s.useRef,p=250;function _(e,t){var n=o("react-compiler-runtime").c(13),a=e.clearReplyState,i=e.editor,l=e.onSend,s=m(null),u=m(t),_,f;n[0]!==t?(_=function(){u.current=t},f=[t],n[0]=t,n[1]=_,n[2]=f):(_=n[1],f=n[2]),c(_,f);var g;n[3]!==a||n[4]!==i||n[5]!==l?(g=function(){var e=l(u.current);a==null||a(),e&&i.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND)},n[3]=a,n[4]=i,n[5]=l,n[6]=g):g=n[6];var h=g,y,C;n[7]!==i||n[8]!==h?(y=function(){return i.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(e!=null&&!e.shiftKey&&!e.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();var t=s.current;return t!=null&&e.timeStamp-t<=p&&r("gkx")("15485")?(s.current=e.timeStamp,!0):(h(),s.current=e.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},C=[i,h],n[7]=i,n[8]=h,n[9]=y,n[10]=C):(y=n[9],C=n[10]),d(y,C);var b;return n[11]!==h?(b={onSend:h},n[11]=h,n[12]=b):b=n[12],b}l.default=_}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","react-compiler-runtime","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode,o("CometLexicalEmojiNode").EmojiNode];function s(){var e=o("react-compiler-runtime").c(2),t=r("useStable")(u);r("useMWPLexicalClearEditor")(t),r("useLexicalInitializeEditor__DEPRECATED")(t);var n;return e[0]!==t?(n={editor:t},e[0]=t,e[1]=n):n=e[1],n}function u(){return o("Lexical").createEditor({namespace:"MWPEditor",nodes:e.filter(Boolean),onError:c,theme:babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})}function c(){}l.useMWXLexicalEditor=s}),98);
__d("MWV2ComposerEditContainer.react",["fbt","LSMessagingThreadTypeUtil","Lexical","LexicalText","MAWEditMessageContext.react","MAWVault","MWLSThreadDisplayContext","MWPActor.react","MWXComposer.react","MWXComposerEmojiButton.react","MWXIconCheckmarkCircle","MWXIconCross","ReQL","ReQLSuspense","isStringNullOrEmpty","react","react-compiler-runtime","useLogMAWEditMessage","useMAWGetSendEditActionForSecure","useMAWGetSendEditActionforOpen","useMWComposerEmojiTransform","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useEffect,_=d.useMemo,f=d.useState,g="x122imku-B",h={editMessageContainer:{animationDuration:"x4afe7t",animationName:"x1axgj95",animationTimingFunction:"x1debuo4",boxSizing:"x9f619",height:"x1dqyrwa",$$css:!0}};function y(t){var n,a=o("react-compiler-runtime").c(62),l=t.confirmationText,u=t.contentEditableProps,d=t.editMessageData,_=t.headerText,g=t.onEditCancelCallback,y=t.onEditTriggerCallback,b=l===void 0?null:l,v=_===void 0?null:_,S=g===void 0?null:g,R=y===void 0?null:y,L=(e||(e=r("useReStore")))(),E=m(o("MAWEditMessageContext.react").Context),k=E.setEditMessageData,I=o("MWPActor.react").useActor(),T;a[0]!==L.tables.messages||a[1]!==(d==null?void 0:d.messageId)||a[2]!==(d==null?void 0:d.threadKey)||a[3]!==(d==null?void 0:d.timestampMs)?(T=function(){return o("ReQL").fromTableAscending(L.tables.messages).getKeyRange(d==null?void 0:d.threadKey,d==null?void 0:d.timestampMs,d==null?void 0:d.messageId)},a[0]=L.tables.messages,a[1]=d==null?void 0:d.messageId,a[2]=d==null?void 0:d.threadKey,a[3]=d==null?void 0:d.timestampMs,a[4]=T):T=a[4];var D=d==null?void 0:d.messageId,x=d==null?void 0:d.threadKey,$=d==null?void 0:d.timestampMs,P;a[5]!==L||a[6]!==D||a[7]!==x||a[8]!==$?(P=[L,D,x,$],a[5]=L,a[6]=D,a[7]=x,a[8]=$,a[9]=P):P=a[9];var N=o("ReQLSuspense").useFirst(T,P,i.id+":71"),M=r("useMAWGetSendEditActionforOpen")(),w=r("useMAWGetSendEditActionForSecure")(N==null?void 0:N.threadKey);N==null||N.text;var A,F=(n=N==null?void 0:N.text)!=null?n:"",O;a[10]!==F?(O=o("MAWVault").unvault(F).trim(),a[10]=F,a[11]=O):O=a[11],A=O;var B=A,W=r("useLogMAWEditMessage")(),q=o("useMWXLexicalEditor").useMWXLexicalEditor(),U=q.editor,V;a[12]!==I||a[13]!==d||a[14]!==U||a[15]!==W||a[16]!==(N==null?void 0:N.messageId)||a[17]!==R||a[18]!==M||a[19]!==w||a[20]!==B||a[21]!==k?(V=function(){var e=U.getEditorState().read(o("LexicalText").$rootTextContent).trim();return r("isStringNullOrEmpty")(e)||e===B?!1:(o("LSMessagingThreadTypeUtil").isArmadilloSecure(d.threadType)?w(N==null?void 0:N.messageId,e):M(d.messageId,e),W(d.threadType,d.threadKey,d.messageId,I,"EDIT_MESSAGE"),k(null),R&&R(),!0)},a[12]=I,a[13]=d,a[14]=U,a[15]=W,a[16]=N==null?void 0:N.messageId,a[17]=R,a[18]=M,a[19]=w,a[20]=B,a[21]=k,a[22]=V):V=a[22];var H=V;C(U,k,S);var G;a[23]!==U||a[24]!==H?(G={clearReplyState:null,editor:U,onSend:H},a[23]=U,a[24]=H,a[25]=G):G=a[25],r("useMWXComposerClearAndSendOnEnter")(G);var z=f(!1),j=z[0],K=z[1],Q,X;a[26]!==U||a[27]!==B?(Q=function(){return U.registerTextContentListener(function(e){var t=e.trim();K(!r("isStringNullOrEmpty")(t)&&t!==B)})},X=[U,B],a[26]=U,a[27]=B,a[28]=Q,a[29]=X):(Q=a[28],X=a[29]),p(Q,X),r("usePrepopulateLexicalEditor")(U,B,!0),r("useMWComposerEmojiTransform")(U);var Y=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),J=Y==="Inbox"?32:24,Z;a[30]!==v?(Z=v!=null?v:s._(/*BTDS*/"Edit message"),a[30]=v,a[31]=Z):Z=a[31];var ee;a[32]===Symbol.for("react.memo_cache_sentinel")?(ee=s._(/*BTDS*/"Cancel edit"),a[32]=ee):ee=a[32];var te;a[33]!==S||a[34]!==k?(te=function(){k(null),S&&S()},a[33]=S,a[34]=k,a[35]=te):te=a[35];var ne;a[36]!==J||a[37]!==te?(ne=c.jsx(o("MWXComposer.react").Button,{color:"primary",icon:r("MWXIconCross"),label:ee,onPress:te,size:J}),a[36]=J,a[37]=te,a[38]=ne):ne=a[38];var re;a[39]!==Z||a[40]!==ne?(re=c.jsx(o("MWXComposer.react").Header,{hasTopBorder:!0,headlineText:Z,rightAddon:ne,xstyle:h.editMessageContainer},0),a[39]=Z,a[40]=ne,a[41]=re):re=a[41];var oe;a[42]!==u?(oe=c.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:u,testid:void 0}),a[42]=u,a[43]=oe):oe=a[43];var ae;a[44]===Symbol.for("react.memo_cache_sentinel")?(ae=c.jsx(r("MWXComposerEmojiButton.react"),{}),a[44]=ae):ae=a[44];var ie;a[45]!==oe?(ie=c.jsxs(o("MWXComposer.react").InputArea,{children:[oe,ae]}),a[45]=oe,a[46]=ie):ie=a[46];var le=!j,se;a[47]!==b?(se=b!=null?b:s._(/*BTDS*/"Edit"),a[47]=b,a[48]=se):se=a[48];var ue;a[49]!==H?(ue=function(){H()},a[49]=H,a[50]=ue):ue=a[50];var ce;a[51]!==le||a[52]!==se||a[53]!==ue?(ce=c.jsx(o("MWXComposer.react").Button,{disabled:le,icon:r("MWXIconCheckmarkCircle"),label:se,onPress:ue,testid:void 0}),a[51]=le,a[52]=se,a[53]=ue,a[54]=ce):ce=a[54];var de;a[55]!==ie||a[56]!==ce?(de=c.jsxs(o("MWXComposer.react").Row,{children:[ie,ce]}),a[55]=ie,a[56]=ce,a[57]=de):de=a[57];var me;return a[58]!==U||a[59]!==re||a[60]!==de?(me=c.jsx(o("MWXComposer.react").Composer,{editor:U,header:re,children:de}),a[58]=U,a[59]=re,a[60]=de,a[61]=me):me=a[61],me}function C(e,t,n){var r=o("react-compiler-runtime").c(5),a=n===void 0?null:n,i,l;r[0]!==e||r[1]!==a||r[2]!==t?(i=function(){return e.registerCommand(o("Lexical").KEY_ESCAPE_COMMAND,function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t(null),a&&a(),!0},o("Lexical").COMMAND_PRIORITY_CRITICAL)},l=[e,t,a],r[0]=e,r[1]=a,r[2]=t,r[3]=i,r[4]=l):(i=r[3],l=r[4]),p(i,l)}l.default=y}),226);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t,a,i,l=o("react-compiler-runtime").c(13),c=e.isBumpMessage,d=e.isHotLike,m=e.mentionIds,p=e.ranges,_=e.text,f=e.threadKey,g=e.transformEmoticons,h=c===void 0?!1:c,y=d===void 0?!1:d,C=g===void 0?!0:g,b,v;if(l[0]!==m){var S;v=new Set((S=m==null||m.split==null?void 0:m.split(","))!=null?S:[]),l[0]=m,l[1]=v}else v=l[1];b=v;var R=b,L;l[2]!==_?(L=n("cr:2472")==null?_:n("cr:2472").unvault(_),l[2]=_,l[3]=L):L=l[3];var E=L,k=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(E,[],R,f))==null?void 0:a.textWithSubstitutions)!=null?t:E,I=(i=o("useStringWithSubstitutions").useStringWithSubstitutions(E,f))!=null?i:E,T;l[4]===Symbol.for("react.memo_cache_sentinel")?(T=s._(/*BTDS*/"Sticker").toString(),l[4]=T):T=l[4];var D=T,x=y?D:h?I:k,$;l[5]===Symbol.for("react.memo_cache_sentinel")?($={className:"xi81zsa"},l[5]=$):$=l[5];var P;l[6]===Symbol.for("react.memo_cache_sentinel")?(P={MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},l[6]=P):P=l[6];var N;l[7]!==C?(N=C?o("MWChatTextTransform").textTransformsNoVault:[],l[7]=C,l[8]=N):N=l[8];var M;return l[9]!==p||l[10]!==N||l[11]!==x?(M=u.jsx("div",babelHelpers.extends({},$,{dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:p,renderers:P,text:x,transforms:N,truncationStyle:"ellipsis-only",withParagraphs:!1})})),l[9]=p,l[10]=N,l[11]=x,l[12]=M):M=l[12],M}l.default=d}),226);
__d("MWV2ComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","FDSCrossFilled12Icon","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon_DEPRECATED.react","MWXText.react","MWXTextPairing.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","getFBTSafeGenderFromGenderConst","isMWBumpMessage","mwCMIsAnyCMThread","react","react-compiler-runtime","shouldDisableAnimations","useGetOriginalMsgFromBumpMsg","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useContext,f=p.useEffect,g="xv6qlei-B";function h(e,t,a,i,l){var u,p,_;if(i===!0)return s._(/*BTDS*/"This message was sent before the chat was end-to-end encrypted.");var f=e.text,g=f!=null?n("cr:2472")==null?f:n("cr:2472").unvault(f):"",h=g==="\uD83D\uDC4D"&&((c||(c=o("I64"))).equal((u=e.hotEmojiSize)!=null?u:(c||(c=o("I64"))).neg_one,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(c||(c=o("I64"))).equal((p=e.hotEmojiSize)!=null?p:(c||(c=o("I64"))).neg_one,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(c||(c=o("I64"))).equal((_=e.hotEmojiSize)!=null?_:(c||(c=o("I64"))).neg_one,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))&&t;if(e.isUnsent)return s._(/*BTDS*/"Removed message");var y=r("isMWBumpMessage")(e.replyType);if(l!=null)return l;if(e.text!=null&&e.text!==""){var C;return m.jsx(r("MWChatReplyText.react"),{isBumpMessage:y,isHotLike:h,mentionIds:t?e.mentionIds:null,text:(C=e.text)!=null?C:s._(/*BTDS*/"Message"),threadKey:e.threadKey})}return a!=null?(c||(c=o("I64"))).equal(a==null?void 0:a.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?s._(/*BTDS*/"Image"):(c||(c=o("I64"))).equal(a==null?void 0:a.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(a==null?void 0:a.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?s._(/*BTDS*/"Video"):(c||(c=o("I64"))).equal(a==null?void 0:a.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF"):(c||(c=o("I64"))).equal(a==null?void 0:a.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?s._(/*BTDS*/"Audio"):s._(/*BTDS*/"Attachment"):s._(/*BTDS*/"Message")}function y(e,t,n,o,a){if(a===!0)return s._(/*BTDS*/"You can't reply to this message");if(e)return s._(/*BTDS*/"Replying to yourself");if(t!=null){var i;return s._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[s._param("name",m.jsx(r("MWXText.react"),{type:"headlineEmphasized5",children:o?t.name:(i=n!=null?n:t.firstName)!=null?i:t.name}),[1,r("getFBTSafeGenderFromGenderConst")(r("LSContactGenderToGenderConst")(t.gender))])])}return s._(/*BTDS*/"Replying to Facebook User")}function C(t){var n=o("react-compiler-runtime").c(24),a=t.customReplyBodyView,l=t.isSecureThread,s=t.message,u=t.threadType,d=t.useContactFullname,p=(e||(e=r("useReStore")))(),_=o("MWPActor.react").useActor(),g=(c||(c=o("I64"))).equal(s.senderId,_),C;n[0]!==p.tables.contacts||n[1]!==s.senderId?(C=function(){return o("ReQL").fromTableAscending(p.tables.contacts).getKeyRange(s.senderId)},n[0]=p.tables.contacts,n[1]=s.senderId,n[2]=C):C=n[2];var v;n[3]!==p||n[4]!==s.senderId?(v=[p,s.senderId],n[3]=p,n[4]=s.senderId,n[5]=v):v=n[5];var R=o("ReQLSuspense").useFirst(C,v,i.id+":268"),L=r("useGetOriginalMsgFromBumpMsg")(s.replyType,s.replySourceId,s.threadKey),E=L!=null?L:s,k,I;n[6]!==p.tables.attachments||n[7]!==E.messageId||n[8]!==E.threadKey?(k=function(){return o("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(E.threadKey,E.messageId)},I=[p.tables.attachments,E.messageId,E.threadKey],n[6]=p.tables.attachments,n[7]=E.messageId,n[8]=E.threadKey,n[9]=k,n[10]=I):(k=n[9],I=n[10]);var T=o("ReQLSuspense").useFirst(k,I,i.id+":280"),D=o("ReQLSuspense").useFirst(function(){return R!=null&&!g?o("ReQL").fromTableAscending(p.tables.threads).getKeyRange(s.threadKey).map(function(e){var t=e.parentThreadKey,n=e.threadType;if(r("mwCMIsAnyCMThread")(n))return o("ReQLSuspense").first(o("ReQL").fromTableAscending(p.tables.community_folders).getKeyRange(t).map(function(e){var t=e.folderId;return o("ReQLSuspense").first(o("ReQL").fromTableAscending(p.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(t,R.id).map(S),i.id+":303")}),i.id+":299");var a,l=o("ReQLSuspense").first(o("ReQL").fromTableAscending(p.tables.participants).getKeyRange(s.threadKey,R.id),i.id+":317");return(a=l==null?void 0:l.nickname)!=null?a:null}):o("ReQL").empty()},[p,s.threadKey,R,g],i.id+":293"),x;n[11]===Symbol.for("react.memo_cache_sentinel")?(x=[],n[11]=x):x=n[11],f(b,x);var $;n[12]!==u?($={fallbackThreadType:u},n[12]=u,n[13]=$):$=n[13];var P=r("useIsSecureMessage")(p,s,$),N=l&&!P,M;n[14]!==T||n[15]!==a||n[16]!==N||n[17]!==l||n[18]!==E?(M=h(E,l,T,N,a),n[14]=T,n[15]=a,n[16]=N,n[17]=l,n[18]=E,n[19]=M):M=n[19];var w=M,A=y(g,R,D,d,N),F;n[20]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x1sa5p1d"},n[20]=F):F=n[20];var O;return n[21]!==w||n[22]!==A?(O=m.jsx("div",babelHelpers.extends({},F,{children:m.jsx(r("MWXTextPairing.react"),{body:w,headline:A,isSemanticHeading:!0,level:4})})),n[21]=w,n[22]=A,n[23]=O):O=n[23],O}function b(){r("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:o("LsFalcoEventEntryPoint").messageActions}}}function S(e){return e.profileName}function R(e){var t=o("react-compiler-runtime").c(16),n=e.customReplyBodyView,a=e.isSecureThread,i=e.message,l=e.threadType,u=e.useContactFullname,c=a===void 0?!1:a,d=_(o("MWPReplyContext.react").MWPReplyContext),p=d.clearReply,f=_(r("CometTriggerAccessibilityAlertContext")),g,h;t[0]===Symbol.for("react.memo_cache_sentinel")?(g={className:"xrdv0aw"},h={0:{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},1:{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno x4afe7t x150e7gq x1debuo4"}}[!r("shouldDisableAnimations")()<<0],t[0]=g,t[1]=h):(g=t[0],h=t[1]);var y;t[2]!==n||t[3]!==c||t[4]!==i||t[5]!==l||t[6]!==u?(y=m.jsx(r("CometErrorBoundary.react"),{fallback:L,children:m.jsx(C,{customReplyBodyView:n,isSecureThread:c,message:i,threadType:l,useContactFullname:u})}),t[2]=n,t[3]=c,t[4]=i,t[5]=l,t[6]=u,t[7]=y):y=t[7];var b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Cancel reply"),t[8]=b):b=t[8];var v;t[9]!==p||t[10]!==i.threadKey||t[11]!==f?(v=m.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":b,color:"primary",icon:r("FDSCrossFilled12Icon"),onPress:function(){p(i.threadKey,!0),f(s._(/*BTDS*/"Replying to message has been canceled.").toString(),{assertive:!1})}}),t[9]=p,t[10]=i.threadKey,t[11]=f,t[12]=v):v=t[12];var S;return t[13]!==y||t[14]!==v?(S=m.jsx("div",babelHelpers.extends({},g,{children:m.jsxs("div",babelHelpers.extends({},h,{"data-testid":void 0,children:[y,v]}))})),t[13]=y,t[14]=v,t[15]=S):S=t[15],S}function L(){return m.jsx(r("MWXText.react"),{type:"headlineEmphasized4",children:s._(/*BTDS*/"Replying to message")})}L.displayName=L.name+" [from "+i.id+"]";function E(t){var n=o("react-compiler-runtime").c(18),a=t.customReplyBodyView,l=t.messageId,s=t.messageThreadKey,u=t.messageTimestamp,c=t.thread,d=t.useContactFullname,p=d===void 0?!1:d,_=(e||(e=r("useReStore")))(),f;n[0]!==c.threadType?(f=o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),n[0]=c.threadType,n[1]=f):f=n[1];var g=f,h;n[2]!==_.tables.messages||n[3]!==l||n[4]!==s||n[5]!==u?(h=function(){return o("ReQL").fromTableAscending(_.tables.messages).getKeyRange(s,u,l)},n[2]=_.tables.messages,n[3]=l,n[4]=s,n[5]=u,n[6]=h):h=n[6];var y;n[7]!==_||n[8]!==l||n[9]!==s||n[10]!==u?(y=[_,s,u,l],n[7]=_,n[8]=l,n[9]=s,n[10]=u,n[11]=y):y=n[11];var C=o("ReQLSuspense").useFirst(h,y,i.id+":448");if(C!=null){var b;return n[12]!==a||n[13]!==g||n[14]!==C||n[15]!==c.threadType||n[16]!==p?(b=m.jsx(R,{customReplyBodyView:a,isSecureThread:g,message:C,threadType:c.threadType,useContactFullname:p}),n[12]=a,n[13]=g,n[14]=C,n[15]=c.threadType,n[16]=p,n[17]=b):b=n[17],b}else return null}l.MWV2ComposerReplyViewContainer=R,l.MWV2ComposerReplyView=E}),226);
__d("MWAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXTooltip.react","cr:2673","react","react-compiler-runtime","requireDeferred","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useRef,d=r("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function m(t){var a=o("react-compiler-runtime").c(54),i=t.voiceRecorder,l=i.audioEl,s=i.state,m=i.toggle,_=c(),f=o("MWPAudioPlayerUtils").useResetHighlightProgress(_),g;a[0]!==s?(g=n("cr:2673").hasScrubber(s),a[0]=s,a[1]=g):g=a[1];var h=g,y;a[2]!==s.currentTime||a[3]!==s.duration||a[4]!==s.stage||a[5]!==m?(y=function(){switch(m(),s.stage){case"Unopen":return;case"Recording":{d.onReady(p);return}case"Recorded":{var e=s.currentTime,t=s.duration;e===0?d.onReady(function(e){return e.logPlaybackStart(t)}):d.onReady(function(n){return n.logPlaybackResume(t,e)});return}case"Playing":{var n=s.currentTime,r=s.duration;d.onReady(function(e){return e.logPlaybackPause(r,n)});return}}},a[2]=s.currentTime,a[3]=s.duration,a[4]=s.stage,a[5]=m,a[6]=y):y=a[6];var C=y,b;a[7]!==s?(b=n("cr:2673").getDuration(s),a[7]=s,a[8]=b):b=a[8];var v;a[9]!==s?(v=n("cr:2673").getCurrentTime(s),a[9]=s,a[10]=v):v=a[10];var S;a[11]!==s?(S=n("cr:2673").isProgressing(s),a[11]=s,a[12]=S):S=a[12];var R;a[13]!==s?(R=n("cr:2673").isCompleted(s),a[13]=s,a[14]=R):R=a[14];var L=o("MWPAudioPlayerUtils").useProgressLiveUpdate(b,l,v,S,!1,R),E=o("MWPAudioHighlightStylesHooks").useHighlightStyles(!0),k;a[15]!==s?(k=n("cr:2673").getPlaybackLabel(s),a[15]=s,a[16]=k):k=a[16];var I=k,T;e:{switch(s.stage){case"Unopen":case"Recording":{T=null;break e}case"Recorded":case"Playing":{var D;a[17]!==s.currentTime||a[18]!==s.duration?(D=u.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:s.currentTime,duration:s.duration}),a[17]=s.currentTime,a[18]=s.duration,a[19]=D):D=a[19],T=D;break e}}T=void 0}var x=T,$;a[20]===Symbol.for("react.memo_cache_sentinel")?($={backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},a[20]=$):$=a[20];var P;a[21]!==E||a[22]!==L?(P=u.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:L,xstyle:E}),a[21]=E,a[22]=L,a[23]=P):P=a[23];var N;a[24]!==E?(N=u.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:_,xstyle:E}),a[24]=E,a[25]=N):N=a[25];var M;a[26]===Symbol.for("react.memo_cache_sentinel")?(M=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),a[26]=M):M=a[26];var w=h?f:void 0,A;a[27]!==s?(A=n("cr:2673").getPlaybackIcon(s,"var(--chat-composer-button-color, var(--accent))"),a[27]=s,a[28]=A):A=a[28];var F;a[29]!==C||a[30]!==I||a[31]!==A?(F=u.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:A,label:I,onPress:C}),a[29]=C,a[30]=I,a[31]=A,a[32]=F):F=a[32];var O;a[33]!==I||a[34]!==F?(O=u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:I,children:F}),a[33]=I,a[34]=F,a[35]=O):O=a[35];var B;a[36]!==w||a[37]!==O?(B=u.jsx("div",babelHelpers.extends({},M,{onMouseMove:w,children:O})),a[36]=w,a[37]=O,a[38]=B):B=a[38];var W;a[39]!==s?(W=n("cr:2673").getTimerTime(s),a[39]=s,a[40]=W):W=a[40];var q;a[41]!==W?(q=u.jsx(r("MWPAudioPlayerTimer.react"),{time:W}),a[41]=W,a[42]=q):q=a[42];var U;a[43]!==l||a[44]!==x||a[45]!==P||a[46]!==N||a[47]!==B||a[48]!==q?(U=u.jsxs(r("MWPAudioPlayerKeyCommands.react"),{audioEl:l,children:[P,x,N,B,q]}),a[43]=l,a[44]=x,a[45]=P,a[46]=N,a[47]=B,a[48]=q,a[49]=U):U=a[49];var V;return a[50]!==l||a[51]!==h||a[52]!==U?(V=u.jsx(r("MWPAudioPlayerContainer.react"),{audioEl:l,hasScrubber:h,mediaRenderQpl:null,scrubberRef:_,style:$,testid:void 0,useCase:o("MWPAudioPlayerUtils").UseCase.RECORDER,children:U}),a[50]=l,a[51]=h,a[52]=U,a[53]=V):V=a[53],V}function p(e){return e.logClickStopRecording(0)}l.default=m}),98);
__d("MWV2ChatHotlikeButtonAnimation.react",["BaseView.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=150,c=2500,d=150,m=u+c,p={medium:.7,small:.35},_=1.2,f=1.5,g=1.8,h="xj58s1g-B",y="x16e58t8-B",C="xn7wtp8-B",b={almostPoppingShakeAnimationHotlike:{animationDelay:"x1uhpyvt",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1kol0s",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},animationBox:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",pointerEvents:"x47corl",width:"xw4jnvo",$$css:!0},growAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"x1h5mrz9",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1kvv0nh",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},shakeAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1dogid2",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(12),n=e.animationsContainerRef,a=e.children,i=e.shouldShowGrowAnimation,l=i&&b.growAnimationHotlike,u=i&&b.shakeAnimationHotlike,c=i&&b.almostPoppingShakeAnimationHotlike,d;t[0]!==c?(d=[b.animationBox,c],t[0]=c,t[1]=d):d=t[1];var m;t[2]!==a||t[3]!==d?(m=s.jsx(r("BaseView.react"),{xstyle:d,children:a}),t[2]=a,t[3]=d,t[4]=m):m=t[4];var p;t[5]!==u||t[6]!==m?(p=s.jsx(r("BaseView.react"),{xstyle:u,children:m}),t[5]=u,t[6]=m,t[7]=p):p=t[7];var _;return t[8]!==n||t[9]!==l||t[10]!==p?(_=s.jsx(r("BaseView.react"),{ref:n,xstyle:l,children:p}),t[8]=n,t[9]=l,t[10]=p,t[11]=_):_=t[11],_}l.TOTAL_GROW_ANIMATION_TIME_MS=m,l.EMOJI_SIZE_PERCENTAGE_THRESHOLDS=p,l.MWV2ChatHotlikeButtonAnimation=v}),98);
__d("useMWV2ChatHotlikeButton",["I64","LSHotEmojiSize","LSIntEnum","MWV2ChatHotlikeButtonAnimation.react","MessengerWebUXLogger","QPLUserFlow","StickerConstants","clearTimeout","gkx","isStringNullOrEmpty","qpl","react","react-compiler-runtime","requireDeferred","setTimeout","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g=r("requireDeferred")("MWV2ChatHotlikeSounds").__setRef("useMWV2ChatHotlikeButton"),h=500,y=50,C=(e={},e[r("LSHotEmojiSize").NONE]=(u||(u=o("I64"))).of_string(r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[r("LSHotEmojiSize").SMALL]=u.of_string(r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[r("LSHotEmojiSize").MEDIUM]=u.of_string(r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID),e[r("LSHotEmojiSize").LARGE]=u.of_string(r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID),e);function b(e){return e<=o("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.small?r("LSHotEmojiSize").SMALL:e<=o("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.medium?r("LSHotEmojiSize").MEDIUM:r("LSHotEmojiSize").LARGE}function v(){g.onReadyImmediately(function(e){return e.start()})}function S(){g.onReadyImmediately(function(e){return e.pop()})}function R(e){g.onReadyImmediately(function(t){return t.snap(e)})}function L(e,t,n,a){var i=o("react-compiler-runtime").c(28),l;i[0]!==e?(l=r("isStringNullOrEmpty")(e),i[0]=e,i[1]=l):l=i[1];var s=l,u=f(!1),d=u[0],m=u[1],g=_(null),L=_(null),E=_(!1),k=r("MessengerWebUXLogger").useInteractionLogger(),I;i[2]!==s||i[3]!==k||i[4]!==n?(I=function(t){k==null||k({eventName:s?"send_hot_like":"send_hot_emoji",extraData:{size:t.toString()},threadType:n})},i[2]=s,i[3]=k,i[4]=n,i[5]=I):I=i[5];var T=I,D;i[6]!==a||i[7]!==e||i[8]!==s||i[9]!==T||i[10]!==t?(D=function(r){s?t(void 0,void 0,C[r],(c||(c=o("LSIntEnum"))).ofNumber(r),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a):t(e,void 0,void 0,(c||(c=o("LSIntEnum"))).ofNumber(r),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a),T(r)},i[6]=a,i[7]=e,i[8]=s,i[9]=T,i[10]=t,i[11]=D):D=i[11];var x=D,$;i[12]===Symbol.for("react.memo_cache_sentinel")?($={leading:!0,wait:y},i[12]=$):$=i[12];var P=r("useDebouncedComet")(x,$),N;i[13]===Symbol.for("react.memo_cache_sentinel")?(N=function(){r("clearTimeout")(g.current),g.current=null},i[13]=N):N=i[13];var M=N,w,A;i[14]===Symbol.for("react.memo_cache_sentinel")?(w=function(){return function(){M()}},A=[],i[14]=w,i[15]=A):(w=i[14],A=i[15]),p(w,A);var F;i[16]!==d?(F=function(){return E.current===!0&&(!d||g.current==null)},i[16]=d,i[17]=F):F=i[17];var O=F,B;i[18]===Symbol.for("react.memo_cache_sentinel")?(B=function(){E.current===!0&&(r("QPLUserFlow").endCancel(r("qpl")._(25311430,"2261"),{annotations:{string:{reason:"hover-out"}}}),S()),E.current=!1,m(!1),M()},i[18]=B):B=i[18];var W=B,q;i[19]===Symbol.for("react.memo_cache_sentinel")?(q=function(){r("gkx")("23249")||(r("QPLUserFlow").start(r("qpl")._(25311430,"2261")),E.current=!0,m(!0),v(),g.current=r("setTimeout")(function(){S(),m(!1),g.current=null,r("QPLUserFlow").endCancel(r("qpl")._(25311430,"2261"),{annotations:{string:{reason:"long-press-pop"}}})},o("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS+h))},i[19]=q):q=i[19];var U=q,V;i[20]===Symbol.for("react.memo_cache_sentinel")?(V=function(){var e,t=(e=L.current)==null?void 0:e.getAnimations()[0],n=t==null?void 0:t.currentTime;return n!=null?n/o("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS:0},i[20]=V):V=i[20];var H=V,G;i[21]!==P||i[22]!==s||i[23]!==O?(G=function(){if(r("gkx")("23249")){P(r("LSHotEmojiSize").SMALL);return}if(O()){E.current=!1;return}M(),m(!1),E.current=!1;var e=H(),t=b(e);R(t),P(t),r("QPLUserFlow").endSuccess(r("qpl")._(25311430,"2261"),{annotations:{bool:{isDefaultLike:s},int:{size:t}}})},i[21]=P,i[22]=s,i[23]=O,i[24]=G):G=i[24];var z=G,j;return i[25]!==z||i[26]!==d?(j={animationsContainerRef:L,handleHoverOut:W,handleOnPress:z,handlePressIn:U,shouldShowGrowAnimation:d},i[25]=z,i[26]=d,i[27]=j):j=i[27],j}l.default=L}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","BaseView.react","CometEmoji.react","EmojiRenderer","MWLikeSvgIcon.react","MWV2ChatHotlikeButtonAnimation.react","MWXPressable.react","MWXTooltip.react","gkx","isStringNullOrEmpty","react","react-compiler-runtime","useMWV2ChatHotlikeButton"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=20,m=56,p=d/m,_={adjustEmojiSize:{transform:"xtzsbya",$$css:!0},customEmojiButtonFDS:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1pixwil",paddingInlineEnd:"x1bjonze",paddingLeft:null,paddingRight:null,$$css:!0},customEmojiButtonMDS:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1pixwil",paddingInlineEnd:"x1bjonze",paddingLeft:null,paddingRight:null,$$css:!0},hotlikeButtonFDS:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},hotlikeButtonMDS:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},f=s._(/*BTDS*/"_j[\"Send a like\",\"c94482ebd9b72b746183c50a4d4208d6\",1]");function g(e){var t=o("react-compiler-runtime").c(42),n=e.customEmoji,a=e.disabled,i=e.onSendMessage,l=e.shouldHideTooltip,c=e.threadType,d=a===void 0?!1:a,p=l===void 0?!1:l,g=r("useMWV2ChatHotlikeButton")(n,i,c,"MWV2ChatHotlikeButton"),b=g.animationsContainerRef,v=g.handleHoverOut,S=g.handleOnPress,R=g.handlePressIn,L=g.shouldShowGrowAnimation,E;t[0]!==n?(E=function(t){if(!r("isStringNullOrEmpty")(n)){var e=o("EmojiRenderer").parse(n).map(C);if(e.length!==1)return u.jsx("span",{children:n});var a=e[0];return t===m?u.jsx(r("BaseView.react"),{xstyle:_.adjustEmojiSize,children:u.jsx(r("CometEmoji.react"),{emoji:a,size:t})}):u.jsx(r("CometEmoji.react"),{emoji:a,size:t})}},t[0]=n,t[1]=E):E=t[1];var k=E;if(!r("isStringNullOrEmpty")(n)){var I;t[2]!==n?(I=s._(/*BTDS*/"Send a {emoji}",[s._param("emoji",n)]),t[2]=n,t[3]=I):I=t[3];var T=I,D=d||L,x;t[4]!==k?(x=k(m),t[4]=k,t[5]=x):x=t[5];var $;t[6]!==b||t[7]!==L||t[8]!==x?($=u.jsx(o("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:b,shouldShowGrowAnimation:L,children:x}),t[6]=b,t[7]=L,t[8]=x,t[9]=$):$=t[9];var P;t[10]!==d||t[11]!==v||t[12]!==S||t[13]!==R||t[14]!==L||t[15]!==D||t[16]!==$||t[17]!==T?(P=u.jsx(r("MWXPressable.react"),{"aria-label":T,disabled:d,hideFocusOverlay:L,hideHoverOverlay:L,onHoverOut:v,onPress:S,onPressIn:R,overlayDisabled:D,overlayRadius:"50%",testid:void 0,xstyle:y,children:$}),t[10]=d,t[11]=v,t[12]=S,t[13]=R,t[14]=L,t[15]=D,t[16]=$,t[17]=T,t[18]=P):P=t[18];var N=P;if(p)return N;var M;t[19]!==k?(M=s._(/*BTDS*/"Send a {emoji}",[s._param("emoji",k(16))]),t[19]=k,t[20]=M):M=t[20];var w=M,A=L?null:w,F;return t[21]!==N||t[22]!==A?(F=u.jsx(r("MWXTooltip.react"),{align:"middle",label:f,position:"above",tooltip:A,children:N}),t[21]=N,t[22]=A,t[23]=F):F=t[23],F}var O=d||L,B;t[24]===Symbol.for("react.memo_cache_sentinel")?(B="xsrhx6k",t[24]=B):B=t[24];var W=d?void 0:"var(--chat-composer-button-color)",q;t[25]!==W?(q=u.jsx(r("MWLikeSvgIcon.react"),{className:B,color:W,size:20}),t[25]=W,t[26]=q):q=t[26];var U;t[27]!==b||t[28]!==L||t[29]!==q?(U=u.jsx(o("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:b,shouldShowGrowAnimation:L,children:q}),t[27]=b,t[28]=L,t[29]=q,t[30]=U):U=t[30];var V;t[31]!==d||t[32]!==v||t[33]!==S||t[34]!==R||t[35]!==L||t[36]!==O||t[37]!==U?(V=u.jsx(r("MWXPressable.react"),{"aria-label":f,disabled:d,hideFocusOverlay:L,hideHoverOverlay:L,onHoverOut:v,onPress:S,onPressIn:R,overlayDisabled:O,overlayRadius:"50%",testid:void 0,xstyle:h,children:U}),t[31]=d,t[32]=v,t[33]=S,t[34]=R,t[35]=L,t[36]=O,t[37]=U,t[38]=V):V=t[38];var H=V;if(p)return H;var G=L?null:f,z;return t[39]!==H||t[40]!==G?(z=u.jsx(r("MWXTooltip.react"),{align:"middle",label:f,position:"above",tooltip:G,children:H}),t[39]=H,t[40]=G,t[41]=z):z=t[41],z}function h(){return[r("gkx")("23219")?_.hotlikeButtonMDS:_.hotlikeButtonFDS]}function y(){return[r("gkx")("23219")?_.customEmojiButtonMDS:_.customEmojiButtonFDS]}function C(e){return e.emoji}l.default=g}),226);
__d("MWV2ComposerMenuButtonTrigger.react",["fbt","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"View menu options"),m={buttonFDS:{flexShrink:"x2lah0s",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(11),a=t.color,i=t.contextRef,l=t.disabled,s=t.onShow,u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u=(e||(e=r("stylex"))).props(o("MWChatChatButtonColorConstants").styles.strokeGrey),n[0]=u):u=n[0];var m,p,f;n[1]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx("path",{d:"M1.5,1.5 H22.5"}),p=c.jsx("path",{d:"M1.5,9 H22.5"}),f=c.jsx("path",{d:"M1.5,16.5 H22.5"}),n[1]=m,n[2]=p,n[3]=f):(m=n[1],p=n[2],f=n[3]);var g;n[4]!==a?(g=c.jsx("svg",babelHelpers.extends({"aria-hidden":"true"},u,{height:"20",viewBox:"0 0 24 18",width:"20",children:c.jsxs("g",{stroke:a,strokeLinecap:"round",strokeWidth:"2.5",children:[m,p,f]})})),n[4]=a,n[5]=g):g=n[5];var h;return n[6]!==i||n[7]!==l||n[8]!==s||n[9]!==g?(h=c.jsx(r("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:d,children:c.jsx(r("MWXPressable.react"),{disabled:l,label:d,onPress:s,overlayDisabled:l,overlayRadius:"50%",ref:i,xstyle:_,children:g})}),n[6]=i,n[7]=l,n[8]=s,n[9]=g,n[10]=h):h=n[10],h}function _(){return[r("gkx")("23219")?m.buttonMDS:m.buttonFDS]}l.default=p}),226);
__d("MWV2ComposerMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12),n=e.color,a=e.disabled,i=e.editor,l=e.hasPersistentMenu,u=e.onSendMessage,c=e.threadKey,d=a===void 0?!1:a,m;t[0]!==i||t[1]!==l||t[2]!==u||t[3]!==c?(m={editor:i,hasPersistentMenu:l,onClose:r("emptyFunction"),onSendMessage:u,threadKey:c},t[0]=i,t[1]=l,t[2]=u,t[3]=c,t[4]=m):m=t[4];var p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=r("JSResourceForInteraction")("MWComposerCommandsMenu.react").__setRef("MWV2ComposerMenuButton.react"),t[5]=p):p=t[5];var _;t[6]!==n||t[7]!==d?(_=function(t,o){return s.jsx(r("MWV2ComposerMenuButtonTrigger.react"),{color:n,contextRef:t,disabled:d,onShow:o})},t[6]=n,t[7]=d,t[8]=_):_=t[8];var f;return t[9]!==m||t[10]!==_?(f=s.jsx(r("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:m,popoverResource:p,children:_}),t[9]=m,t[10]=_,t[11]=f):f=t[11],f}l.default=u}),98);
__d("useMWComposerPersistentMenuItemSelect",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=e.composerEntrypointForLogging,r=e.onSendMessage,a;return t[0]!==n||t[1]!==r?(a=function(t){var e=t.id,o=t.title;return r(o,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,n)},t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("MWV2ComposerPersistentMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime","useMWComposerPersistentMenuItemSelect"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.color,a=e.disabled,i=e.onSendMessage,l=a===void 0?!1:a,u;t[0]!==i?(u={composerEntrypointForLogging:"MWV2ComposerPersistentMenuButton",onSendMessage:i},t[0]=i,t[1]=u):u=t[1];var c=r("useMWComposerPersistentMenuItemSelect")(u),d;t[2]!==c?(d={onClose:r("emptyFunction"),onSelect:c},t[2]=c,t[3]=d):d=t[3];var m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=r("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),t[4]=m):m=t[4];var p;t[5]!==n||t[6]!==l?(p=function(t,o){return s.jsx(r("MWV2ComposerMenuButtonTrigger.react"),{color:n,contextRef:t,disabled:l,onShow:o})},t[5]=n,t[6]=l,t[7]=p):p=t[7];var _;return t[8]!==d||t[9]!==p?(_=s.jsx(r("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:d,popoverResource:m,children:p}),t[8]=d,t[9]=p,t[10]=_):_=t[10],_}l.default=u}),98);
__d("MWComposerEndButtonsGroup.react",["MWV2ChatHotlikeButton.react","MWV2ComposerMenuButton.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="var(--chat-composer-button-color)";function c(e){var t=o("react-compiler-runtime").c(15),n=e.alwaysShowSend,a=e.customEmoji,i=e.disabled,l=e.editor,c=e.hasPersistentMenu,d=e.hasStuffToSend,m=e.isVoiceRecorderOpen,p=e.onSendMessage,_=e.sendMessage,f=e.shouldHideHotLike,g=e.shouldHideTooltip,h=e.showCommands,y=e.threadKey,C=e.threadType,b=n===void 0?!1:n,v=g===void 0?!1:g,S;return t[0]!==b||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==c||t[5]!==d||t[6]!==m||t[7]!==p||t[8]!==_||t[9]!==f||t[10]!==v||t[11]!==h||t[12]!==y||t[13]!==C?(S=m?null:d||b?s.jsx(r("MWV2ComposerSendButton.react"),{disabled:i,hasStuffToSend:d,onPress:_,shouldHideTooltip:v}):h?s.jsx(r("MWV2ComposerMenuButton.react"),{color:u,disabled:i,editor:l,hasPersistentMenu:c,onSendMessage:p,threadKey:y}):c?s.jsx(r("MWV2ComposerPersistentMenuButton.react"),{color:u,disabled:i,onSendMessage:p}):f?s.jsx("span",{className:"x135b78x x11lfxj5"}):s.jsx(r("MWV2ChatHotlikeButton.react"),{customEmoji:a,disabled:i,onSendMessage:p,shouldHideTooltip:v,threadType:C}),t[0]=b,t[1]=a,t[2]=i,t[3]=l,t[4]=c,t[5]=d,t[6]=m,t[7]=p,t[8]=_,t[9]=f,t[10]=v,t[11]=h,t[12]=y,t[13]=C,t[14]=S):S=t[14],S}l.default=c}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react","react-compiler-runtime","useMatchViewport"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"Choose an emoji"),m={buttonFDS:{marginTop:"x1rdy4ex",marginInlineEnd:"x1lxpwgx",marginBottom:"x4vbgl9",marginInlineStart:"x165d6jo",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},p=r("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function _(t){var a=o("react-compiler-runtime").c(17),i=t.editor,l=t.iconColor,s=t.iconSize,u=t.position,_=t.xstyle,f=l===void 0?"var(--chat-composer-button-color)":l,g=s===void 0?20:s,h=r("useMatchViewport")("max","width",320),y;a[0]!==i||a[1]!==h?(y=function(o){r("promiseDone")(p.load().then(function(t){return t(o,i,16,!h),(e||(e=n("Promise"))).resolve()}))},a[0]=i,a[1]=h,a[2]=y):y=a[2];var C=y,b=r("MessengerWebUXLogger").useInteractionLogger(),v=!h,S;a[3]!==C||a[4]!==v?(S={onSelect:C,withArrow:v},a[3]=C,a[4]=v,a[5]=S):S=a[5];var R;a[6]===Symbol.for("react.memo_cache_sentinel")?(R=r("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),a[6]=R):R=a[6];var L;a[7]!==f||a[8]!==g||a[9]!==b||a[10]!==_?(L=function(t,n,a,i,l,s,u){return c.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:d,children:c.jsx(r("MWXPressable.react"),{"aria-label":d,onHoverIn:i,onHoverOut:l,onPress:function(t){n(),p.preload(),b==null||b({eventName:"composer_open_emoji_picker"})},onPressIn:s,overlayRadius:"50%",ref:t,testid:void 0,xstyle:function(){return[r("gkx")("23219")?m.buttonMDS:m.buttonFDS,_]},children:c.jsx(o("MWChatComposerIcons").MWChatComposerIconsEmoji,{fill:f,size:g})})})},a[7]=f,a[8]=g,a[9]=b,a[10]=_,a[11]=L):L=a[11];var E;return a[12]!==h||a[13]!==u||a[14]!==S||a[15]!==L?(E=c.jsx(r("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:S,popoverResource:R,position:u,preloadTrigger:"button",reflowToPosition:h,children:L}),a[12]=h,a[13]=u,a[14]=S,a[15]=L,a[16]=E):E=a[16],E}l.default=_}),226);
__d("MWXIconHdOutline",["MWXSvgIcon","SVGIcon","cr:22361","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22361")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerHdMediaButton.react",["fbt","MWXComposer.react","MWXIconHd","MWXIconHdOutline","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.isHdEnabled,a=e.onToggle,i=e.visible,l=e.wrapperXStyle;if(!i)return null;var c=r(n?"MWXIconHd":"MWXIconHdOutline"),d;t[0]!==n?(d=n?s._(/*BTDS*/"Disable HD photos"):s._(/*BTDS*/"Enable HD photos"),t[0]=n,t[1]=d):d=t[1];var m;t[2]!==a?(m=function(){a()},t[2]=a,t[3]=m):m=t[3];var p;return t[4]!==c||t[5]!==d||t[6]!==m||t[7]!==l?(p=u.jsx(o("MWXComposer.react").Button,{disableTooltip:!0,icon:c,label:d,onPress:m,testid:void 0,wrapperXStyle:l}),t[4]=c,t[5]=d,t[6]=m,t[7]=l,t[8]=p):p=t[8],p}l.default=c}),226);
__d("useMWToggleHDMedia",["LSFactory","LSUpdateE2eeHdMediaSettings","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedComet","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=1e3;function c(e){var t=o("react-compiler-runtime").c(5),n=r("useMWIsHDMediaEnabled")(),a=!n,l=r("useAsyncReStore")(),s;t[0]!==l||t[1]!==a||t[2]!==e?(s=function(){r("promiseDone")(l,function(e){return e.runInTransaction(function(e){return r("LSUpdateE2eeHdMediaSettings")(a,r("LSFactory")(e))},"readwrite",void 0,void 0,i.id+":33")}),e(a)},t[0]=l,t[1]=a,t[2]=e,t[3]=s):s=t[3];var c=s,d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={leading:!0,wait:u},t[4]=d):d=t[4];var m=r("useDebouncedComet")(c,d);return m}l.default=c}),98);
__d("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9580085508750272"}),null);
__d("useMWXComposerMaybeShowHDMediaNuxQuery.graphql",["useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_INTERSTITIAL"}],t=[{kind:"Literal",name:"supported",value:"4BtD9E"}],r={kind:"InlineFragment",selections:[{args:null,documentName:"useMWXComposerMaybeShowHDMediaNuxQuery",fragmentName:"CometQuickPromotionMessengerWebHDImageRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebHDImageRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[r],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}]},params:{id:n("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation"),metadata:{},name:"useMWXComposerMaybeShowHDMediaNuxQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useMWXComposerMaybeShowHDMediaNux",["CometRelay","JSResourceForInteraction","promiseDone","react","react-compiler-runtime","useMWXComposerMaybeShowHDMediaNuxQuery.graphql","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState,m=r("JSResourceForInteraction")("MAWThreadComposerNUXQuickPromotion.react").__setRef("useMWXComposerMaybeShowHDMediaNux"),p=e!==void 0?e:e=n("useMWXComposerMaybeShowHDMediaNuxQuery.graphql");function _(e,t,n){var a=o("react-compiler-runtime").c(10),i=o("CometRelay").useRelayEnvironment(),l=d(!1),s=l[0],u=l[1],_=d(null),g=_[0],h=_[1],y=r("useMWXLazyDialog")(m),C=y[0],b,v;a[0]!==s||a[1]!==i||a[2]!==t||a[3]!==e?(b=function(){e&&!t&&!s&&(u(!0),r("promiseDone")(o("CometRelay").fetchQuery(i,p,{},{fetchPolicy:"network-only"}).toPromise().then(function(e){var t;h(e==null||(t=e.viewer)==null||(t=t.eligible_promotions)==null||(t=t.nodes)==null||(t=t.find(f))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy)})))},v=[s,i,t,e],a[0]=s,a[1]=i,a[2]=t,a[3]=e,a[4]=b,a[5]=v):(b=a[4],v=a[5]),c(b,v);var S;return a[6]!==n||a[7]!==g||a[8]!==C?(S=function(){return g!=null?(C({onClosed:n,rendererStrategy:g},function(){h(null)}),!0):!1},a[6]=n,a[7]=g,a[8]=C,a[9]=S):S=a[9],S}function f(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=_}),98);
__d("useMWXComposerHdMediaButton",["I64","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime","useMWIsHDMediaEnabled","useMWToggleHDMedia","useMWXComposerMaybeShowHDMediaNux"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useCallback;function d(e,t,n){var a=o("react-compiler-runtime").c(11),i;a[0]!==e?(i=e.some(m),a[0]=e,a[1]=i):i=a[1];var l=i,s=t&&l,u=r("useMWIsHDMediaEnabled")(),c=r("useMWToggleHDMedia")(n),d;a[2]!==c?(d=function(t){t||c()},a[2]=c,a[3]=d):d=a[3];var p=d,_=r("useMWXComposerMaybeShowHDMediaNux")(s,u,p),f;a[4]!==_||a[5]!==c?(f=function(){var e=_();e||c()},a[4]=_,a[5]=c,a[6]=f):f=a[6];var g=f,h;return a[7]!==u||a[8]!==s||a[9]!==g?(h={isHdEnabled:u,isVisible:s,onToggled:g},a[7]=u,a[8]=s,a[9]=g,a[10]=h):h=a[10],h}function m(e){return(s||(s=o("I64"))).equal(e.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}l.default=d}),98);
__d("MWComposerInnerButtonsGroup.react",["MWV2ComposerEmojiButton.react","MWXComposerHdMediaButton.react","react","react-compiler-runtime","useMWXComposerHdMediaButton"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={hdMediaButton:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(16),n=e.editor,a=e.isSecureThread,i=e.mediaStaging,l=e.onHdMediaToggled,c=e.renderExtraButtons,d=e.shouldUseMDS,m=c===void 0?null:c,p=r("useMWXComposerHdMediaButton")(i,a,l),_=p.isHdEnabled,f=p.isVisible,g=p.onToggled,h;t[0]!==d?(h={0:{className:"x6s0dn4 xpvyfi4 x78zum5 xl56j7k x18xomjl xjkvuk6 x11lfxj5"},1:{className:"x6s0dn4 xpvyfi4 x78zum5 xl56j7k x162z183"}}[!!d<<0],t[0]=d,t[1]=h):h=t[1];var y;t[2]!==n||t[3]!==m?(y=m!=null&&m(n),t[2]=n,t[3]=m,t[4]=y):y=t[4];var C;t[5]!==_||t[6]!==f||t[7]!==g?(C=s.jsx(r("MWXComposerHdMediaButton.react"),{isHdEnabled:_,onToggle:g,visible:f,wrapperXStyle:u.hdMediaButton}),t[5]=_,t[6]=f,t[7]=g,t[8]=C):C=t[8];var b;t[9]!==n?(b=s.jsx(r("MWV2ComposerEmojiButton.react"),{editor:n}),t[9]=n,t[10]=b):b=t[10];var v;return t[11]!==h||t[12]!==y||t[13]!==C||t[14]!==b?(v=s.jsxs("div",babelHelpers.extends({},h,{children:[y,C,b]})),t[11]=h,t[12]=y,t[13]=C,t[14]=b,t[15]=v):v=t[15],v}l.default=c}),98);
__d("useMWV2ComposerOnGifSelect",["fbt","FBLogger","I64","LSShape","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e,t,n){return o("LSShape").ofRecord({preview_height:t,preview_url:e,preview_width:n})}function m(e,t){var n=o("react-compiler-runtime").c(3),a;return n[0]!==t||n[1]!==e?(a=function(a){var n=a.media,i=a.platformFBID,l=a.source,c=n.preview,m=c.label,p=l.height,_=l.url,f=l.width,g=(u||(u=o("I64"))).of_string(i),h=_;if(!h)throw r("FBLogger")("messenger_web_media").mustfixThrow("Sticker URI is null when trying to send sticker message. (composer entrypoint = %s)",t);var y=m!=null?m:s._(/*BTDS*/"GIF Image"),C=y!=null?y:void 0;return e(void 0,void 0,void 0,void 0,g,h,d(h,u.of_int32(p),u.of_int32(f)),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,C)},n[0]=t,n[1]=e,n[2]=a):a=n[2],a}l.default=m}),226);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),d={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},m=s._(/*BTDS*/"Choose a GIF");function p(e){var t=o("react-compiler-runtime").c(10),n=e.disabled,a=e.hidden,i=e.isSecureThread,l=e.onSendMessage,s=r("useMWV2ComposerOnGifSelect")(l,"MWV2ComposerGifButton"),d=r("MessengerWebUXLogger").useInteractionLogger(),p;t[0]!==i||t[1]!==s?(p={isSecureThread:i,onSelect:s,testid:"mw_gif_picker"},t[0]=i,t[1]=s,t[2]=p):p=t[2];var f;t[3]!==n||t[4]!==a||t[5]!==d?(f=function(t,i,l,s,c,p,f){return u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:u.jsx(r("MWXPressable.react"),{"aria-hidden":a,"aria-label":m,disabled:n,onHoverIn:s,onHoverOut:c,onPress:function(){i(),d==null||d({eventName:"composer_open_gif_picker"})},onPressIn:p,overlayRadius:"50%",ref:t,xstyle:_,children:u.jsx(o("MWChatComposerIcons").MWChatComposerIconsGif,{fill:n?void 0:"var(--chat-composer-button-color)",size:20})})})},t[3]=n,t[4]=a,t[5]=d,t[6]=f):f=t[6];var g;return t[7]!==p||t[8]!==f?(g=u.jsx(r("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:p,popoverResource:c,position:"above",children:f}),t[7]=p,t[8]=f,t[9]=g):g=t[9],g}function _(){return[r("gkx")("23219")?d.buttonMDS:d.buttonFDS]}l.default=p}),226);
__d("MWChatComposerOverflowIcons",["cr:3237"],(function(t,n,r,o,a,i,l){"use strict";l.MWChatComposerOverflowIconsPollsSVG=n("cr:3237").PollsSVG,l.MWChatComposerOverflowIconsDollarSignSVG=n("cr:3237").DollarSignSVG,l.MWChatComposerOverflowIconsMicrophoneSVG=n("cr:3237").MicrophoneSVG}),98);
__d("useMWGroupNewPollSubmitErrorLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r,a){await o("MWGroupPollLoggerDeferred").log("new_poll_submit_error",{poll:{entry_point:r,exception_message:a,poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("useMWGroupNewPollSubmitSuccessLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r){await o("MWGroupPollLoggerDeferred").log("existing_poll_submit_success",{poll:{entry_point:r,poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("MWChatPollFlyout.react",["BaseTextInput.react","CometScrollableArea.react","I64","LSGroupPollEventType","MWChatPollStrings","MWGroupPollQPL","MWXButton.react","MWXPopover.react","MWXRow.react","MWXRowItem.react","MessengerWebPollConstants","ReQL","ReQLSuspense","clearTimeout","emptyFunction","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","stylex","useLayoutEffect_SAFE_FOR_SSR","useMWGroupNewPollSubmitErrorLogger","useMWGroupNewPollSubmitSuccessLogger","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useEffect,f=m.useRef,g=m.useState,h={button:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",zIndex:"x1vjfegm",$$css:!0},buttonOverflow:{boxShadow:"x8t3t8w",$$css:!0},optionText:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1s688f",width:"xh8yej3",$$css:!0},pollOptions:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0},title:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",display:"x1lliihq",fontSize:"x6prxxf",fontWeight:"xk50ysn",marginBottom:"x1hq5gj4",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0}};function y(t){var n=o("react-compiler-runtime").c(57),a=t.onClose,l=t.onPollCreate,c=t.threadKey,m=t.withArrow,p=t.withPopover,y=m===void 0?!0:m,S=p===void 0?!0:p,R=g(""),I=R[0],T=R[1],D=g(k),x=D[0],$=D[1],P=g(!1),N=P[0],M=P[1],w=g(!1),A=w[0],F=w[1],O=g(!1),B=O[0],W=O[1],q=B?r("emptyFunction"):o("MWGroupPollQPL").logCreatePollCancel,U;n[0]!==q?(U={onImpressionEnd:q},n[0]=q,n[1]=U):U=n[1];var V=r("useSinglePartialViewImpression")(U),H=r("useMWGroupNewPollSubmitSuccessLogger")(c),G=r("useMWGroupNewPollSubmitErrorLogger")(c),z=f(null),j=f(r("emptyFunction")),K=(e||(e=r("useReStore")))(),Q,X;n[2]===Symbol.for("react.memo_cache_sentinel")?(Q=function(){return function(){j.current(),z.current!==null&&r("clearTimeout")(z.current)}},X=[],n[2]=Q,n[3]=X):(Q=n[2],X=n[3]),_(Q,X);var Y;n[4]!==K.tables.polls||n[5]!==G||n[6]!==H||n[7]!==a||n[8]!==c?(Y=function(){z.current=r("setTimeout")(function(){o("MWGroupPollQPL").logCreatePollFail(),r("promiseDone")(G(4)),j.current(),j.current=r("emptyFunction"),z.current=null,W(!1)},r("justknobx")._("1647")),j.current=K.tables.polls.subscribe(function(e){var t=e[0],n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(K.tables.polls).getKeyRange(t),i.id+":169"),l=n!=null&&(u||(u=o("I64"))).equal(n.threadKey,c)&&(u||(u=o("I64"))).to_int32(n.lastUpdateMessageEventType)===r("LSGroupPollEventType").QUESTION_CREATION;l&&(o("MWGroupPollQPL").logCreatePollSuccess(),r("promiseDone")(H(4)),j.current(),z.current!==null&&r("clearTimeout")(z.current),a())})},n[4]=K.tables.polls,n[5]=G,n[6]=H,n[7]=a,n[8]=c,n[9]=Y):Y=n[9];var J=Y,Z=f(null),ee;n[10]===Symbol.for("react.memo_cache_sentinel")?(ee=function(){if(Z.current!=null){var e=Z.current.getDOMNode();e!=null&&(e.scrollTop=e.scrollHeight)}M(!1)},n[10]=ee):ee=n[10];var te=ee,ne;n[11]!==N?(ne=function(){N&&te()},n[11]=N,n[12]=ne):ne=n[12];var re;n[13]!==N||n[14]!==x?(re=[N,x,te],n[13]=N,n[14]=x,n[15]=re):re=n[15],_(ne,re);var oe;n[16]!==x?(oe=new Set(x.map(E).filter(L)),n[16]=x,n[17]=oe):oe=n[17];var ae=oe,ie,le;n[18]===Symbol.for("react.memo_cache_sentinel")?(ie=function(){if(Z.current!=null){var e=Z.current.getDOMNode();F(function(){return e!=null&&e.scrollHeight>e.clientHeight})}},le=[Z],n[18]=ie,n[19]=le):(ie=n[18],le=n[19]),r("useLayoutEffect_SAFE_FOR_SSR")(ie,le);var se;n[20]===Symbol.for("react.memo_cache_sentinel")?(se={className:"x78zum5 xdt5ytf x1phlbz0 x168biu4"},n[20]=se):se=n[20];var ue;n[21]===Symbol.for("react.memo_cache_sentinel")?(ue=function(t){var e=t.target.value;return T(function(){return e})},n[21]=ue):ue=n[21];var ce;n[22]!==I?(ce=d.jsx(r("BaseTextInput.react"),{"aria-label":r("MWChatPollStrings").pollTitleLabel,maxLength:r("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH,onChange:ue,placeholder:r("MWChatPollStrings").pollTitleLabel,value:I,xstyle:h.title}),n[22]=I,n[23]=ce):ce=n[23];var de;if(n[24]!==ae.size||n[25]!==x){var me;n[27]!==ae.size?(me=function(t,n){return d.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l xod5an3 x1i2zvha",children:d.jsx(r("BaseTextInput.react"),{"aria-label":r("MWChatPollStrings").addPollOptionLabel,maxLength:r("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH,onBlur:function(){ae.size<r("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS&&$(v)},onChange:function(t){var e=t.target.value;$(function(t){return t.map(function(o,a){var i=n===t.length-1&&e!==""&&t.length<r("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS;return i&&M(!0),n===a?e:o}).concat(n===t.length-1&&e!==""&&t.length<r("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS?[""]:[])})},placeholder:r("MWChatPollStrings").addPollOptionLabel,value:t,xstyle:h.optionText})},String(n))},n[27]=ae.size,n[28]=me):me=n[28],de=x.map(me),n[24]=ae.size,n[25]=x,n[26]=de}else de=n[26];var pe;n[29]!==de?(pe=d.jsx(r("CometScrollableArea.react"),{ref:Z,vertical:!0,xstyle:h.pollOptions,children:de}),n[29]=de,n[30]=pe):pe=n[30];var _e;n[31]!==A?(_e=(s||(s=r("stylex"))).props(h.button,A?h.buttonOverflow:!1),n[31]=A,n[32]=_e):_e=n[32];var fe;n[33]!==B||n[34]!==ae.size||n[35]!==I?(fe=ae.size<r("MessengerWebPollConstants").POLL_MIN_OPTIONS||I.trim()===""||B,n[33]=B,n[34]=ae.size,n[35]=I,n[36]=fe):fe=n[36];var ge;n[37]!==l||n[38]!==x||n[39]!==I||n[40]!==J?(ge=function(){o("MWGroupPollQPL").logCreatePollConfirmClick(),W(!0),J(),l(I,x.map(b).filter(C),function(){return W(!1)})},n[37]=l,n[38]=x,n[39]=I,n[40]=J,n[41]=ge):ge=n[41];var he;n[42]!==B||n[43]!==fe||n[44]!==ge?(he=d.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:12,children:d.jsx(r("MWXRowItem.react"),{expanding:!0,children:d.jsx(r("MWXButton.react"),{disabled:fe,label:r("MWChatPollStrings").createPollLabel,loading:B,onPress:ge,reduceEmphasis:!0,type:"primary"})})}),n[42]=B,n[43]=fe,n[44]=ge,n[45]=he):he=n[45];var ye;n[46]!==_e||n[47]!==he?(ye=d.jsx("div",babelHelpers.extends({},_e,{children:he})),n[46]=_e,n[47]=he,n[48]=ye):ye=n[48];var Ce;n[49]!==ce||n[50]!==pe||n[51]!==ye||n[52]!==V?(Ce=d.jsxs("div",babelHelpers.extends({},se,{ref:V,children:[ce,pe,ye]})),n[49]=ce,n[50]=pe,n[51]=ye,n[52]=V,n[53]=Ce):Ce=n[53];var be=Ce;if(S){var ve;return n[54]!==be||n[55]!==y?(ve=d.jsx(r("MWXPopover.react"),{withArrow:y,children:be}),n[54]=be,n[55]=y,n[56]=ve):ve=n[56],ve}else return be}function C(e){return e!==""}function b(e){return e.trim()}function v(e){return e.map(R).filter(S).concat([""])}function S(e){return e!==""}function R(e){return e.trim()}function L(e){return e!==""}function E(e){return e.toUpperCase()}function k(){return[""]}l.default=y}),98);
__d("MWXIconPoll",["MWXSvgIcon","SVGIcon","cr:22440","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22440")),r("gkx")("23219"));l.default=e}),98);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1891340"),s=o("FalcoLoggerInternal").create("message_send_click",e),u=s;l.default=u}),98);
__d("useMWCreatePoll",["I64","LSFactory","LSIssuePollCreationForThreadTaskStoredProcedure","LSPlatformWaitForTaskCompletion","LSVec","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,a,i,l,u){r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(n,function(e){return r("LSIssuePollCreationForThreadTaskStoredProcedure")(r("LSFactory")(e),{options:r("LSVec").ofArray(i),questionText:a,threadKey:t})},"addPollToThread-"+(s||(s=o("I64"))).to_string(t)),l!=null?l:r("emptyFunction"),u!=null?u:r("emptyFunction"))},t[0]=n,t[1]=a):a=t[1],a}l.default=d}),98);
__d("useMWGroupStartNewPollLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r){await o("MWGroupPollLoggerDeferred").log("start_new_poll",{poll:{entry_point:r,poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("useMWGroupSubmitNewPollLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r,a){await o("MWGroupPollLoggerDeferred").log("submit_new_poll",{poll:{entry_point:r,options_added:a.toString(),poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("MWV2ComposerPollButton.react",["fbt","I64","JSResourceForInteraction","LsFalcoEventEntryPoint","MWChatComposerOverflowIcons","MWChatPollFlyout.react","MWGroupPollQPL","MWXIconForListCell.react","MWXIconPoll","MWXLazyPopoverTrigger.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessageSendClickFalcoEvent","MessengerWebUXLoggerImpl","emptyFunction","gkx","promiseDone","react","react-compiler-runtime","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=r("JSResourceForInteraction")("MWChatPollFlyoutForPopover.react").__setRef("MWV2ComposerPollButton.react"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},p=s._(/*BTDS*/"Create a poll");function _(e){var t=o("react-compiler-runtime").c(32),n=e.color,a=e.entryPoint,i=e.hidden,l=e.onClose,s=e.pushPage,m=e.threadKey,_=e.threadType,h=o("MessengerWebUXLoggerImpl").useInteractionLogger(),y=r("useMWGroupStartNewPollLogger")(m),C=r("useMWGroupSubmitNewPollLogger")(m),b=r("useMWGroupNewPollSubmitErrorLogger")(m),v=r("useMWCreatePoll")(),S;t[0]!==v||t[1]!==b||t[2]!==C||t[3]!==m?(S=function(t,n,a){v(m,t,n,r("emptyFunction"),function(e){a&&a(),o("MWGroupPollQPL").logCreatePollFail(),r("promiseDone")(b(4,e))}),r("promiseDone")(C(4,n.length)),r("MessageSendClickFalcoEvent").log(g)},t[0]=v,t[1]=b,t[2]=C,t[3]=m,t[4]=S):S=t[4];var R=S,L;t[5]!==y||t[6]!==l||t[7]!==R||t[8]!==s||t[9]!==m||t[10]!==_?(L=function(){o("MWGroupPollQPL").logCreatePollStart(_),r("promiseDone")(y(4)),s==null||s(function(){return c.jsx(r("MWChatPollFlyout.react"),{onClose:l,onPollCreate:R,threadKey:m,withPopover:!1})})},t[5]=y,t[6]=l,t[7]=R,t[8]=s,t[9]=m,t[10]=_,t[11]=L):L=t[11];var E=L;if(a==="composer"){var k;t[12]!==R||t[13]!==m?(k={onPollCreate:R,threadKey:m},t[12]=R,t[13]=m,t[14]=k):k=t[14];var I;t[15]!==n||t[16]!==i||t[17]!==h||t[18]!==m||t[19]!==_?(I=function(t,a,l,s,d,g,y){return c.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:p,children:c.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":p,id:"mw-poll-composer-button-"+(u||(u=o("I64"))).to_string(m),onHoverIn:s,onHoverOut:d,onPress:function(){a(),h==null||h({eventName:"composer_open_create_poll_flyout",threadType:_})},onPressIn:g,overlayRadius:"50%",ref:t,xstyle:f,children:c.jsx(o("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsPollsSVG,{fill:n,size:20})})})},t[15]=n,t[16]=i,t[17]=h,t[18]=m,t[19]=_,t[20]=I):I=t[20];var T;return t[21]!==k||t[22]!==I?(T=c.jsx(r("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:k,popoverResource:d,position:"above",children:I}),t[21]=k,t[22]=I,t[23]=T):T=t[23],T}var D;t[24]!==n?(D=o("MWXThreadThemeColor").mwxThreadThemeColor(n),t[24]=n,t[25]=D):D=t[25];var x;t[26]!==D?(x=c.jsx(r("MWXIconForListCell.react"),{color:D,hasBackground:!1,icon:r("MWXIconPoll"),size:r("gkx")("23219")?"large":"medium"}),t[26]=D,t[27]=x):x=t[27];var $;t[28]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(r("MWXTextPairing.react"),{headline:p,level:4}),t[28]=$):$=t[28];var P;return t[29]!==E||t[30]!==x?(P=c.jsx(r("MWXListCellPressable.react"),{addOnStart:x,addOnStartVerticalAlign:"center",content:$,loggingEvent:"composer_open_create_poll_flyout",onPress:E,role:"menuitem"}),t[29]=E,t[30]=x,t[31]=P):P=t[31],P}function f(){return[r("gkx")("23219")?m.buttonMDS:m.buttonFDS]}function g(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").composer}}}l.default=_}),226);
__d("MWChatPromptFlyoutBackCard.react",["BaseImage.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=150,c=200,d=16,m={media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",objectFit:"xl1xv1r",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(8),n=e.isVideo,a=e.previewUrl;r("vulture")("kwH80zN7Ru4ZTTw_BdTdpJyZC4Y=");var i;t[0]!==a?(i={0:{className:"xbjudin xnlwouz xpp8er5 xs9wviy x1ey2m1c xumrakr x1b51vyi x1o0tod xg01cxk x10l6tqk xv8dq09 xcuylb0 x6o7n8i x1bckuxf xrostsh x1ja2u2z"},1:{className:"xbjudin xnlwouz xpp8er5 xs9wviy x1ey2m1c xumrakr x1b51vyi x1o0tod x10l6tqk xcuylb0 x6o7n8i x1bckuxf xrostsh x1ja2u2z x1hc1fzr xwot3bk"}}[(a!==null)<<0],t[0]=a,t[1]=i):i=t[1];var l;t[2]!==n||t[3]!==a?(l=a!==null?n?s.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xbjudin xnlwouz xpp8er5 xs9wviy xl1xv1r",height:c,muted:!0,src:a,width:u}):s.jsx(r("BaseImage.react"),{height:c,src:a,width:u,xstyle:m.media}):null,t[2]=n,t[3]=a,t[4]=l):l=t[4];var d;return t[5]!==i||t[6]!==l?(d=s.jsx("div",babelHelpers.extends({},i,{children:l})),t[5]=i,t[6]=l,t[7]=d):d=t[7],d}l.default=p}),98);
__d("MWChatPromptFlyoutCTAButton.react",["fbt","BaseFileSelector.react","MWXButton.react","fileInputAcceptValues","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.isSendDisabled,a=e.onFilesSelected,i=e.onPressSend,l=e.showFileSelector,c;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(c=l?u.jsx(r("BaseFileSelector.react"),{accept:o("fileInputAcceptValues").PHOTO_AND_VIDEO,onFilesSelected:a,children:d}):u.jsx(r("MWXButton.react"),{disabled:n,label:s._(/*BTDS*/"Send"),onPress:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=c):c=t[4],c}function d(e){return u.jsx(r("MWXButton.react"),{label:s._(/*BTDS*/"Next"),onPress:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWChatPromptFlyoutDisclaimer.react",["fbt","MWXText.react","RollCallPromptType","gkx","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.promptType;r("vulture")("7cGhD2JkP0z2ap6KI0INoqazihg=");var a=r("gkx")("7782"),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"xyamay9 x1l90r2v x2b8uid"},t[0]=i):i=t[0];var l;t[1]!==n?(l=a?n===r("RollCallPromptType").TEXT?s._(/*BTDS*/"Collect text and link responses"):s._(/*BTDS*/"Collect photos and videos"):s._(/*BTDS*/"Members can respond to prompts with a photo or video. All members can see others' responses."),t[1]=n,t[2]=l):l=t[2];var c;return t[3]!==l?(c=u.jsx("div",babelHelpers.extends({},i,{children:u.jsx(r("MWXText.react"),{type:"meta4",children:l})})),t[3]=l,t[4]=c):c=t[4],c}l.default=c}),226);
__d("MWChatPromptFlyoutErrorMessage.react",["fbt","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x1l90r2v x2b8uid"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("MWXText.react"),{color:"negative",type:"meta4",children:s._(/*BTDS*/"The file you have selected is too large. The maximum size is 25MB.")})})),e[1]=n):n=e[1],n}l.default=c}),226);
__d("MWChatPromptFlyoutPromptTypeSelector.react",["fbt","MWXCircleButton.react","MWXIconMessage","MWXIconPhoto","RollCallPromptType","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.icon,a=e.isSelected,i=e.label,l=e.onPress;r("vulture")("YOH0hbx8juH86tFHW1yZq93vQFs=");var s=a?"primary":"disabled",c=a?"overlay-floating":"deemphasized",d;return t[0]!==n||t[1]!==i||t[2]!==l||t[3]!==s||t[4]!==c?(d=u.jsx(r("MWXCircleButton.react"),{color:s,icon:n,label:i,onPress:l,size:36,type:c}),t[0]=n,t[1]=i,t[2]=l,t[3]=s,t[4]=c,t[5]=d):d=t[5],d}function d(e){var t=o("react-compiler-runtime").c(16),n=e.promptType,a=e.setPromptType;r("vulture")("C0dixqG2E_kzhQmxwrE0YJJdgOo=");var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 x1qughib x1l90r2v x29ncy0"},t[0]=i):i=t[0];var l=n===r("RollCallPromptType").TEXT,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Text"),t[1]=d):d=t[1];var m;t[2]!==a?(m=function(){return a(r("RollCallPromptType").TEXT)},t[2]=a,t[3]=m):m=t[3];var p;t[4]!==l||t[5]!==m?(p=u.jsx(c,{icon:r("MWXIconMessage"),isSelected:l,label:d,onPress:m}),t[4]=l,t[5]=m,t[6]=p):p=t[6];var _=n===r("RollCallPromptType").MEDIA,f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Media"),t[7]=f):f=t[7];var g;t[8]!==a?(g=function(){return a(r("RollCallPromptType").MEDIA)},t[8]=a,t[9]=g):g=t[9];var h;t[10]!==_||t[11]!==g?(h=u.jsx(c,{icon:r("MWXIconPhoto"),isSelected:_,label:f,onPress:g}),t[10]=_,t[11]=g,t[12]=h):h=t[12];var y;return t[13]!==p||t[14]!==h?(y=u.jsxs("div",babelHelpers.extends({},i,{children:[p,h]})),t[13]=p,t[14]=h,t[15]=y):y=t[15],y}l.default=d}),226);
__d("MWChatPromptFlyout.react",["fbt","FBLogger","FocusRegion.react","I64","LsFalcoEventEntryPoint","MWChatPromptFlyoutBackCard.react","MWChatPromptFlyoutCTAButton.react","MWChatPromptFlyoutDisclaimer.react","MWChatPromptFlyoutErrorMessage.react","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutPromptTypeSelector.react","MWPActor.react","MWPromptCreationUtils","MWXText.react","MessageSendClickFalcoEvent","MessengerWebUXLogger","RollCallPromptType","cometPushToast","gkx","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useState,f=26214400;function g(){var e=o("react-compiler-runtime").c(2),t=r("MessengerWebUXLogger").useInteractionLogger(),n;return e[0]!==t?(n=function(){t==null||t("composer_send_prompt"),r("MessageSendClickFalcoEvent").log(h)},e[0]=t,e[1]=n):n=e[1],n}function h(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").composer}}}function y(t){var n=o("react-compiler-runtime").c(55),a=t.initialFile,i=t.initialText,l=t.onClose,c=t.threadKey,m=t.threadType,p=(e||(e=r("useReStore")))(),h=o("MWPActor.react").useActor(),y;n[0]!==h||n[1]!==p||n[2]!==c||n[3]!==m?(y=function(t,n,r){(async function(){var e=r?URL.createObjectURL(r):void 0,a=await o("MWPromptCreationUtils").createAuthoritiativeRollCall(p,c,t,n),i=await o("MWPromptCreationUtils").createOptimisticRollCallMessage(p,h,c,m,a,t,n,e,r==null?void 0:r.type);r&&i!=null&&o("MWPromptCreationUtils").startRollCallMediaUpload(r,a,i,(u||(u=o("I64"))).to_string(c))})().catch(b)},n[0]=h,n[1]=p,n[2]=c,n[3]=m,n[4]=y):y=n[4];var v=y,S;n[5]!==l||n[6]!==v?(S=function(t,n,r){v(t,n,r),l==null||l()},n[5]=l,n[6]=v,n[7]=S):S=n[7];var R=S,L=r("gkx")("7782"),E=_(i!=null?i:""),k=E[0],I=E[1],T=_(i!=null?r("RollCallPromptType").TEXT:r("RollCallPromptType").MEDIA),D=T[0],x=T[1],$;n[8]!==a?($=a!=null?URL.createObjectURL(a):null,n[8]=a,n[9]=$):$=n[9];var P=_($),N=P[0],M=P[1],w=_(a!=null?a:void 0),A=w[0],F=w[1],O=_(!1),B=O[0],W=O[1],q;n[10]===Symbol.for("react.memo_cache_sentinel")?(q=function(t){var e=t[0];e&&(e.size>=f?W(!0):(M(URL.createObjectURL(e)),W(!1),F(e)))},n[10]=q):q=n[10];var U=q,V=g(),H;n[11]!==V||n[12]!==R||n[13]!==k||n[14]!==A||n[15]!==N?(H=function(){V(),A&&N!==null?R(k,r("RollCallPromptType").MEDIA,A):r("FBLogger")("messenger_web_messaging").mustfix("Missing File")},n[11]=V,n[12]=R,n[13]=k,n[14]=A,n[15]=N,n[16]=H):H=n[16];var G=H,z;n[17]!==V||n[18]!==R||n[19]!==D||n[20]!==k||n[21]!==A?(z=function(){V(),R(k,D,D===r("RollCallPromptType").MEDIA?A:void 0)},n[17]=V,n[18]=R,n[19]=D,n[20]=k,n[21]=A,n[22]=z):z=n[22];var j=z,K=C,Q,X;n[23]===Symbol.for("react.memo_cache_sentinel")?(Q={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x13hwc6b xyamay9 xv54qhq x1l90r2v xf7dkkf x1m258z3"},X={className:"xbaz6xv"},n[23]=Q,n[24]=X):(Q=n[23],X=n[24]);var Y,J;n[25]===Symbol.for("react.memo_cache_sentinel")?(J=d.jsx("div",babelHelpers.extends({},X,{children:d.jsx(r("MWXText.react"),{type:"headlineEmphasized4",children:s._(/*BTDS*/"New prompt")})})),Y={className:"x1n2onr6"},n[25]=Y,n[26]=J):(Y=n[25],J=n[26]);var Z;if(n[27]!==D||n[28]!==(A==null?void 0:A.type)||n[29]!==N){var ee,te;Z=D===r("RollCallPromptType").MEDIA?d.jsx(r("MWChatPromptFlyoutBackCard.react"),{isVideo:(ee=A==null||(te=A.type)==null?void 0:te.startsWith("video/"))!=null?ee:!1,previewUrl:N}):null,n[27]=D,n[28]=A==null?void 0:A.type,n[29]=N,n[30]=Z}else Z=n[30];var ne;n[31]===Symbol.for("react.memo_cache_sentinel")?(ne=function(t){I(t.target.value)},n[31]=ne):ne=n[31];var re;n[32]!==k?(re=d.jsx(r("MWChatPromptFlyoutFrontCard.react"),{maxLength:50,onChange:ne,value:k}),n[32]=k,n[33]=re):re=n[33];var oe;n[34]!==Z||n[35]!==re?(oe=d.jsxs("div",babelHelpers.extends({},Y,{children:[Z,re]})),n[34]=Z,n[35]=re,n[36]=oe):oe=n[36];var ae;n[37]!==D?(ae=d.jsx(r("MWChatPromptFlyoutDisclaimer.react"),{promptType:D}),n[37]=D,n[38]=ae):ae=n[38];var ie;n[39]!==B?(ie=B?d.jsx(r("MWChatPromptFlyoutErrorMessage.react"),{}):null,n[39]=B,n[40]=ie):ie=n[40];var le;n[41]!==a||n[42]!==i||n[43]!==D?(le=L&&a===void 0&&i===void 0?d.jsx(r("MWChatPromptFlyoutPromptTypeSelector.react"),{promptType:D,setPromptType:x}):null,n[41]=a,n[42]=i,n[43]=D,n[44]=le):le=n[44];var se=k.trim()==="",ue=L?j:G,ce=D===r("RollCallPromptType").MEDIA&&N===null,de;n[45]!==se||n[46]!==ue||n[47]!==ce?(de=d.jsx(r("MWChatPromptFlyoutCTAButton.react"),{isSendDisabled:se,onFilesSelected:U,onPressSend:ue,showFileSelector:ce}),n[45]=se,n[46]=ue,n[47]=ce,n[48]=de):de=n[48];var me;return n[49]!==oe||n[50]!==ae||n[51]!==ie||n[52]!==le||n[53]!==de?(me=d.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:K,children:d.jsxs("div",babelHelpers.extends({},Q,{children:[J,oe,ae,ie,le,de]}))}),n[49]=oe,n[50]=ae,n[51]=ie,n[52]=le,n[53]=de,n[54]=me):me=n[54],me}function C(e){return e==="textarea"}function b(e){r("FBLogger")("messenger_web").catching(e).mustfix("Creating prompt"),o("cometPushToast").cometPushErrorToast({message:s._(/*BTDS*/"Could not create prompt")})}l.default=y}),226);
__d("MWV2ComposerPromptButtonQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24223493300634699"}),null);
__d("MWV2ComposerPromptButtonQuery.graphql",["MWV2ComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],t={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:n("MWV2ComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWV2ComposerPromptButtonQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWXIconRollCall",["MWXSvgIcon","SVGIcon","cr:22469","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22469")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2ComposerPromptButton.react",["fbt","CometRelay","FBLogger","I64","LSMessagingThreadTypeUtil","MWChatPromptFlyout.react","MWDidQueryPromptsNux","MWV2ComposerPromptButtonQuery.graphql","MWXIconForListCell.react","MWXIconRollCall","MWXIconStrict.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=r("requireDeferred")("MWChatPromptDialog.react").__setRef("MWV2ComposerPromptButton.react"),p={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function _(){var t=o("react-compiler-runtime").c(2),r=o("CometRelay").useRelayEnvironment(),a;return t[0]!==r?(a=function(){return o("CometRelay").fetchQuery(r,e!==void 0?e:e=n("MWV2ComposerPromptButtonQuery.graphql"),{}).toPromise()},t[0]=r,t[1]=a):a=t[1],a}var f=s._(/*BTDS*/"Create prompt");function g(e){var t=o("react-compiler-runtime").c(23),n=e.color,a=e.entryPoint,i=e.hidden,l=e.onClose,s=e.pushPage,u=e.threadKey,p=e.threadType,g=_(),C=r("useMWXLazyDialog")(m),b=C[0],v;t[0]!==l||t[1]!==s||t[2]!==g||t[3]!==b||t[4]!==u||t[5]!==p?(v=function(){var e=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(p);e?(r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(c||(c=o("I64"))).to_string(u)}}),l(),b({threadKey:u})):(s(function(){return d.jsx(r("MWChatPromptFlyout.react"),{onClose:l,threadKey:u,threadType:p})}),o("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(o("MWDidQueryPromptsNux").markDidQueryPromptsNux(),r("promiseDone")(g(),y)))},t[0]=l,t[1]=s,t[2]=g,t[3]=b,t[4]=u,t[5]=p,t[6]=v):v=t[6];var S=v;if(a==="composer"){var R;t[7]!==n?(R=n!==void 0?o("MWXThreadThemeColor").mwxThreadThemeColor(n):void 0,t[7]=n,t[8]=R):R=t[8];var L;t[9]!==R?(L=d.jsx(r("MWXIconStrict.react"),{color:R,icon:r("MWXIconRollCall"),size:20}),t[9]=R,t[10]=L):L=t[10];var E;return t[11]!==i||t[12]!==S||t[13]!==L?(E=d.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:f,children:d.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":f,onPress:S,overlayRadius:"50%",xstyle:h,children:L})}),t[11]=i,t[12]=S,t[13]=L,t[14]=E):E=t[14],E}var k;t[15]!==n?(k=o("MWXThreadThemeColor").mwxThreadThemeColor(n),t[15]=n,t[16]=k):k=t[16];var I;t[17]!==k?(I=d.jsx(r("MWXIconForListCell.react"),{color:k,hasBackground:!1,icon:r("MWXIconRollCall"),size:r("gkx")("23219")?"large":"medium"}),t[17]=k,t[18]=I):I=t[18];var T;t[19]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx(r("MWXTextPairing.react"),{headline:f,level:4}),t[19]=T):T=t[19];var D;return t[20]!==S||t[21]!==I?(D=d.jsx(r("MWXListCellPressable.react"),{addOnStart:I,addOnStartVerticalAlign:"center",content:T,loggingEvent:"composer_open_create_prompt_flyout",onPress:S,role:"menuitem"}),t[20]=S,t[21]=I,t[22]=D):D=t[22],D}function h(){return[r("gkx")("23219")?p.buttonMDS:p.buttonFDS]}function y(e){var t,n=e==null||(t=e.viewer)==null||(t=t.eligible_promotions)==null||(t=t.nodes)==null||(t=t.find(C))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy;n&&r("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function C(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=g}),226);
__d("MWCometStickersFlyout.entrypoint",["CometStickerPickerCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var s=r("JSResourceForInteraction")("MWCometStickersFlyout.react").__setRef("MWCometStickersFlyout.entrypoint"),u={getPreloadProps:function(n){var t=babelHelpers.extends({},(e(n),n));return{entryPoints:{stickerPickerCardEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerCard.entrypoint"),entryPointParams:t})}}},root:s};l.default=u}),98);
__d("MWV2ComposerStickerCommon",["fbt","qex"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Choose a sticker"),u=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK"],c=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","RECENTLY_USED","SEARCH"],d=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","RECENTLY_USED","GENERATED_STICKERS","SEARCH"],m=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","GENERATED_STICKERS","SEARCH"];function p(e){return!e&&r("qex")._("4762")?d:e&&r("qex")._("4762")?m:e?[].concat(u,["SEARCH"]):c}l.LABEL=e,l.getTabListOverrideForMessengerSticker=p}),226);
__d("useMWV2ComposerOnStickerSelect",["FBLogger","I64","LSShape","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=(s||(s=o("I64"))).of_string("128");function d(e){return o("LSShape").ofRecord({preview_height:c,preview_url:e,preview_width:c})}function m(e,t,n){var a=o("react-compiler-runtime").c(4),i;return a[0]!==n||a[1]!==t||a[2]!==e?(i=function(i,l,u){var a,c=(a=l.animated_uri)!=null?a:l.uri,m=(s||(s=o("I64"))).of_string(i);if(!c)throw r("FBLogger")("messenger_web_media").mustfixThrow("Sticker URI is null when trying to send sticker message. (isSecure = %s, composer entrypoint = %s)",t.toString(),n);return e(void 0,void 0,m,void 0,void 0,t?r("nullthrows")(c):void 0,t?void 0:d(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,void 0,u!=null?u:void 0)},a[0]=n,a[1]=t,a[2]=e,a[3]=i):i=a[3],i}l.default=m}),98);
__d("MWV2ComposerStickerButtonModern.react",["FDSEntryPointPopoverTrigger.react","JSResourceForInteraction","MWChatComposerIcons","MWCometStickersFlyout.entrypoint","MWV2ComposerStickerCommon","MWXPopoverLoadingState.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","promiseDone","react","react-compiler-runtime","useMWV2ComposerOnStickerSelect"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWV2ComposerStickerButtonModern.react"),d={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},flyoutRoot:{height:"x1hie0zf",maxHeight:"x1n3te05",width:"x1fepime",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(18),n=e.color,a=e.disabled,i=e.hidden,l=e.isSecureThread,u=e.onSendMessage,c=r("useMWV2ComposerOnStickerSelect")(u,l,"MWV2ComposerStickerButtonModern"),m=r("MessengerWebUXLogger").useInteractionLogger(),f;t[0]!==c?(f=function(t,n,r){var e=t.stickerID;c(e,n,r)},t[0]=c,t[1]=f):f=t[1];var g=f,h,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(h={feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},y=s.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0}),t[2]=h,t[3]=y):(h=t[2],y=t[3]);var C;t[4]!==l?(C=o("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(l),t[4]=l,t[5]=C):C=t[5];var b;t[6]!==g||t[7]!==l||t[8]!==C?(b={isSecureThread:l,onSelect:g,prioritisedTabList:C,stickerHeight:128,stickerWidth:128,xstyle:d.flyoutRoot},t[6]=g,t[7]=l,t[8]=C,t[9]=b):b=t[9];var v;t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==m?(v=function(t,l,u,c,d,_,f){return s.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:o("MWV2ComposerStickerCommon").LABEL,children:s.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":o("MWV2ComposerStickerCommon").LABEL,disabled:a,onHoverIn:c,onHoverOut:d,onPress:function(){l(),m==null||m({eventName:"composer_open_sticker_picker"})},onPressIn:_,overlayRadius:"50%",ref:t,testid:void 0,xstyle:p,children:s.jsx(o("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:a?void 0:n,size:20})})})},t[10]=n,t[11]=a,t[12]=i,t[13]=m,t[14]=v):v=t[14];var S;return t[15]!==b||t[16]!==v?(S=s.jsx(r("FDSEntryPointPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,entryPointParams:h,fallback:y,onVisibilityChange:_,otherProps:b,popoverEntryPoint:r("MWCometStickersFlyout.entrypoint"),position:"above",children:v}),t[15]=b,t[16]=v,t[17]=S):S=t[17],S}function p(){return[r("gkx")("23219")?d.buttonMDS:d.buttonFDS]}function _(e){e===!0&&r("promiseDone")(c.load().then(f))}function f(e){e()}l.default=m}),98);
__d("MWV2ComposerStickerButton.react",["MWV2ComposerStickerButtonModern.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MWV2ComposerStickerButtonModern.react")}),98);
__d("MWXIconMicrophone",["MWXSvgIcon","SVGIcon","cr:22400","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22400")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2ComposerVoiceClipButton.react",["fbt","MWChatComposerOverflowIcons","MWXIconForListCell.react","MWXIconMicrophone","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},d=s._(/*BTDS*/"Send a voice clip");function m(e){var t=o("react-compiler-runtime").c(17),n=e.color,a=e.disabled,i=e.entryPoint,l=e.hidden,s=e.onPress,c=a===void 0?!1:a;if(i==="composer"){var m;t[0]!==n?(m=u.jsx(o("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsMicrophoneSVG,{fill:n,size:20}),t[0]=n,t[1]=m):m=t[1];var _;return t[2]!==c||t[3]!==l||t[4]!==s||t[5]!==m?(_=u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d,children:u.jsx(r("MWXPressable.react"),{"aria-hidden":l,"aria-label":d,disabled:c,onPress:s,overlayRadius:"50%",xstyle:p,children:m})}),t[2]=c,t[3]=l,t[4]=s,t[5]=m,t[6]=_):_=t[6],_}var f;t[7]!==n?(f=o("MWXThreadThemeColor").mwxThreadThemeColor(n),t[7]=n,t[8]=f):f=t[8];var g;t[9]!==f?(g=u.jsx(r("MWXIconForListCell.react"),{color:f,hasBackground:!1,icon:r("MWXIconMicrophone"),size:r("gkx")("23219")?"large":"medium"}),t[9]=f,t[10]=g):g=t[10];var h;t[11]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("MWXTextPairing.react"),{headline:d,level:4}),t[11]=h):h=t[11];var y;t[12]!==s?(y=function(){s()},t[12]=s,t[13]=y):y=t[13];var C;return t[14]!==g||t[15]!==y?(C=u.jsx(r("MWXListCellPressable.react"),{addOnStart:g,addOnStartVerticalAlign:"center",content:h,loggingEvent:"composer_record_voice_clip",onPress:y,role:"menuitem"}),t[14]=g,t[15]=y,t[16]=C):C=t[16],C}function p(){return[r("gkx")("23219")?c.buttonMDS:c.buttonFDS]}l.default=m}),226);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){try{var t,n=(t=navigator.mediaDevices)==null?void 0:t.getSupportedConstraints();return n}catch(t){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""])),t),null}}l.getMediaDevicesSupportedConstraints=s}),98);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","WAGetMediaDevicesSupportedConstraints","emptyFunction","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState,u=r("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),c=n("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function d(e){var t=o("react-compiler-runtime").c(15),n=s(c.AWAITING),a=n[0],i=n[1],l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"),t[0]=l):l=t[0];var d=r("useMWXLazyDialog")(l),_=d[0],f;if(t[1]===Symbol.for("react.memo_cache_sentinel")){var g;f={channelCount:1};var h=((g=o("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:g.sampleRate)===!0;h&&(f.sampleRate=44100),t[1]=f}else f=t[1];var y;t[2]!==_?(y=function(){return _({contentType:"accessDenied",onAllow:r("emptyFunction")},r("emptyFunction"))},t[2]=_,t[3]=y):y=t[3];var C=y,b;t[4]!==C||t[5]!==e?(b=function(){var t;(t=navigator)==null||(t=t.mediaDevices)==null||t.getUserMedia({audio:f,video:!1}).then(function(t){i(c.GRANTED),e.start(t)}).catch(function(e){e.name==="NotAllowedError"?(i(c.DENIED),C()):i(c.FAILED),u.onReady(p)})},t[4]=C,t[5]=e,t[6]=b):b=t[6];var v=b,S;t[7]!==_||t[8]!==v?(S=function(){return _({contentType:"askForAccess",onAllow:function(){return v()}},r("emptyFunction"))},t[7]=_,t[8]=v,t[9]=S):S=t[9];var R=S,L;return t[10]!==a||t[11]!==C||t[12]!==R||t[13]!==v?(L=function(){var e;switch(a){case c.AWAITING:{var t;e=(t=navigator.permissions)==null?void 0:t.query({name:"microphone"}),e!=null?e.then(function(e){var t=e.state;e:switch(t){case"denied":{i(c.DENIED),C();break e}case"granted":{v();break e}case"prompt":{R();break e}default:R()}}).catch(function(){R()}):(v(),u.onReady(m));return}case c.DENIED:return C();case c.GRANTED:case c.FAILED:return v()}},t[10]=a,t[11]=C,t[12]=R,t[13]=v,t[14]=L):L=t[14],L}function m(e){return e.logMicAccessCheckFailed()}function p(e){return e.logBrowserDenyAccess()}l.default=d}),98);
__d("MWComposerStartButtonsGroup.react",["CometPlaceholder.react","LSMessagingThreadTypeUtil","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerPollButton.react","MWV2ComposerPromptButton.react","MWV2ComposerStickerButton.react","MWV2ComposerVoiceClipButton.react","MWXTooltipGroup.react","emptyFunction","gkx","react","react-compiler-runtime","stylex","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWV2ComposerOnPressVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},firstButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},firstButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},secondButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},secondButtonShown:{transitionDelay:"x5h36tt",$$css:!0},thirdButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},thirdButtonShown:{transitionDelay:"x5w5eug",$$css:!0}},d="var(--chat-composer-button-color)";function m(t){var n=o("react-compiler-runtime").c(77),a=t.canSendAudioClipFinal,i=t.canSendFileFinal,l=t.canSendGifFinal,s=t.canSendRollcall,m=t.canSendSticker,p=t.composerLinkPreview,_=t.getMaxAttachmentSizeInMBFunc,f=t.gifButtonPosition,g=t.isInputExpanded,h=t.isRTL,y=t.isSecureThread,C=t.localTimezoneInformation,b=t.onAttachmentsAdded,v=t.onSendMessage,S=t.shouldUseMDS,R=t.stickerButtonPosition,L=t.supportedFileTypes,E=t.threadKey,k=t.threadType,I=t.voiceRecorder,T=r("useMWEntrypoint")(),D=r("useMWFalcoFeatureEventLogger")(E,k),x;n[0]!==T||n[1]!==D?(x=function(t,n){var e="select_sticker_book";t?e="sticker_search":n&&(e="recent_stickers"),D(T,e)},n[0]=T,n[1]=D,n[2]=x):x=n[2];var $=x,P=r("useMWV2ComposerOnPressVoiceClip")(I),N;n[3]!==k?(N=o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(k),n[3]=k,n[4]=N):N=n[4];var M=N,w;n[5]!==h?(w=h?{right:"0px"}:{left:"0px"},n[5]=h,n[6]=w):w=n[6];var A=w,F;n[7]!==h||n[8]!==R?(F=h?{right:R.toString()+"px"}:{left:R.toString()+"px"},n[7]=h,n[8]=R,n[9]=F):F=n[9];var O=F,B;n[10]!==f||n[11]!==h?(B=h?{right:f.toString()+"px"}:{left:f.toString()+"px"},n[10]=f,n[11]=h,n[12]=B):B=n[12];var W=B,q=M&&s&&r("gkx")("18099"),U=S?c.buttonMDS:c.buttonFDS,V=g?c.buttonHidden:c.buttonShown,H=g?c.firstButtonHidden:c.firstButtonShown,G;n[13]!==U||n[14]!==V||n[15]!==H?(G=(e||(e=r("stylex")))(c.button,U,V,H),n[13]=U,n[14]=V,n[15]=H,n[16]=G):G=n[16];var z=!i,j;n[17]!==_||n[18]!==g||n[19]!==y||n[20]!==b||n[21]!==L||n[22]!==z||n[23]!==E?(j=u.jsx(r("MWV2ComposerFileButton.react"),{disabled:z,getMaxAttachmentSizeInMBFunc:_,hidden:g,isSecureThread:y,onAttachmentsAdded:b,supportedFileTypes:L,threadKey:E}),n[17]=_,n[18]=g,n[19]=y,n[20]=b,n[21]=L,n[22]=z,n[23]=E,n[24]=j):j=n[24];var K;n[25]!==A||n[26]!==j||n[27]!==G?(K=u.jsx("div",{className:G,style:A,children:j}),n[25]=A,n[26]=j,n[27]=G,n[28]=K):K=n[28];var Q=S?c.buttonMDS:c.buttonFDS,X=g?c.buttonHidden:c.buttonShown,Y=g?c.secondButtonHidden:c.secondButtonShown,J;n[29]!==Q||n[30]!==X||n[31]!==Y?(J=(e||(e=r("stylex")))(c.button,Q,X,Y),n[29]=Q,n[30]=X,n[31]=Y,n[32]=J):J=n[32];var Z;n[33]!==m||n[34]!==M||n[35]!==g||n[36]!==y||n[37]!==$||n[38]!==v||n[39]!==E||n[40]!==k?(Z=M?u.jsx(r("MWV2ComposerPollButton.react"),{color:d,entryPoint:"composer",hidden:g,onClose:r("emptyFunction"),threadKey:E,threadType:k}):u.jsx(r("MWV2ComposerStickerButton.react"),{color:d,disabled:!m,hidden:g,isSecureThread:y,onSelectStickerPack:$,onSendMessage:v}),n[33]=m,n[34]=M,n[35]=g,n[36]=y,n[37]=$,n[38]=v,n[39]=E,n[40]=k,n[41]=Z):Z=n[41];var ee;n[42]!==O||n[43]!==J||n[44]!==Z?(ee=u.jsx("div",{className:J,style:O,children:Z}),n[42]=O,n[43]=J,n[44]=Z,n[45]=ee):ee=n[45];var te=S?c.buttonMDS:c.buttonFDS,ne=g?c.buttonHidden:c.buttonShown,re=g?c.thirdButtonHidden:c.thirdButtonShown,oe;n[46]!==te||n[47]!==ne||n[48]!==re?(oe=(e||(e=r("stylex")))(c.button,te,ne,re),n[46]=te,n[47]=ne,n[48]=re,n[49]=oe):oe=n[49];var ae;n[50]!==q||n[51]!==a||n[52]!==l||n[53]!==M||n[54]!==g||n[55]!==y||n[56]!==P||n[57]!==v||n[58]!==E||n[59]!==k?(ae=M?q?u.jsx(r("MWV2ComposerPromptButton.react"),{color:d,entryPoint:"composer",hidden:g,onClose:r("emptyFunction"),pushPage:r("emptyFunction"),threadKey:E,threadType:k}):u.jsx(r("MWV2ComposerVoiceClipButton.react"),{color:d,disabled:!a,entryPoint:"composer",hidden:g,onPress:P}):u.jsx(r("MWV2ComposerGifButton.react"),{disabled:!l,hidden:g,isSecureThread:y,onSendMessage:v}),n[50]=q,n[51]=a,n[52]=l,n[53]=M,n[54]=g,n[55]=y,n[56]=P,n[57]=v,n[58]=E,n[59]=k,n[60]=ae):ae=n[60];var ie;n[61]!==oe||n[62]!==ae||n[63]!==W?(ie=u.jsx("div",{className:oe,style:W,children:ae}),n[61]=oe,n[62]=ae,n[63]=W,n[64]=ie):ie=n[64];var le;n[65]!==K||n[66]!==ee||n[67]!==ie?(le=u.jsxs(r("MWXTooltipGroup.react"),{children:[K,ee,ie]}),n[65]=K,n[66]=ee,n[67]=ie,n[68]=le):le=n[68];var se;n[69]!==C?(se=C!=null?u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.LocalTimezoneInformation",children:C}):null,n[69]=C,n[70]=se):se=n[70];var ue;n[71]!==p?(ue=p!=null?u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.ComposerLinkPreview",children:p}):null,n[71]=p,n[72]=ue):ue=n[72];var ce;return n[73]!==le||n[74]!==se||n[75]!==ue?(ce=u.jsxs(u.Fragment,{children:[le,se,ue]}),n[73]=le,n[74]=se,n[75]=ue,n[76]=ce):ce=n[76],ce}l.default=m}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","emptyFunction","gkx","qex","react","react-compiler-runtime","requireDeferred","useMWV2ComposerOnPressVoiceClip"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useMemo,m=c.useState,p=r("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),_={plusButtonFDS:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},plusButtonMDS:{marginInlineStart:"x13fj5qh",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(40),n=e.canSendAudioClip,a=e.canSendFile,i=e.canSendPayment,l=e.editor,c=e.hasAudioClipsCapability,d=e.hasGIFCapability,_=e.hasPaymentCapability,f=e.hasPollCreationCapability,y=e.hasRollcallCapability,C=e.hasStickerCapability,b=e.isInputExpanded,v=e.onAttachmentsAdded,S=e.onSendMessage,R=e.renderExtraOverflowMenuItems,L=e.supportedFileTypes,E=e.threadKey,k=e.threadType,I=e.voiceRecorder,T=r("emptyFunction"),D=m(!1),x=D[0],$=D[1],P;t[0]===Symbol.for("react.memo_cache_sentinel")?(P=function(t){return $(t)},t[0]=P):P=t[0];var N=P,M;t[1]!==k?(M=o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(k),t[1]=k,t[2]=M):M=t[2];var w=M,A=_&&!r("gkx")("24133")&&i,F;t[3]!==f||t[4]!==w||t[5]!==b?(F=f&&(!w||r("gkx")("23422")||o("MWPActor.react").isPromode())&&(!w||b),t[3]=f,t[4]=w,t[5]=b,t[6]=F):F=t[6];var O=F,B=y&&(!w||b),W=c&&n&&(!w||b),q=d&&(b||w),U=a&&b,V=w||C&&b,H=r("gkx")("23423"),G=r("qex")._("4300")===!0,z=r("gkx")("14080")&&G,j=r("gkx")("23159"),K=r("gkx")("6257"),Q;if(R!=null){var X;t[7]!==v||t[8]!==R?(X=R("var(--chat-composer-button-color)",r("emptyFunction"),v),t[7]=v,t[8]=R,t[9]=X):X=t[9],Q=X}else{var Y;t[10]===Symbol.for("react.memo_cache_sentinel")?(Y=[],t[10]=Y):Y=t[10],Q=Y}var J=Q,Z=r("useMWV2ComposerOnPressVoiceClip")(I),ee=I.state.stage!=="Unopen",te;t[11]!==x||t[12]!==ee?(te=ee?s._(/*BTDS*/"Close"):x?s._(/*BTDS*/"Close more actions"):s._(/*BTDS*/"Open more actions"),t[11]=x,t[12]=ee,t[13]=te):te=t[13];var ne=te,re=r("MessengerWebUXLogger").useInteractionLogger(),oe=A||O||W||q||U||V||H||j||B||z||K||J.length>0,ae=!oe,ie;t[14]!==l||t[15]!==J||t[16]!==v||t[17]!==Z||t[18]!==S||t[19]!==O||t[20]!==B||t[21]!==U||t[22]!==q||t[23]!==A||t[24]!==W||t[25]!==V||t[26]!==L||t[27]!==E?(ie={color:"var(--chat-composer-button-color)",editor:l,extraItems:J,onAttachmentsAdded:v,onClose:r("emptyFunction"),onPressVoiceClip:Z,onSendMessage:S,showChatLens:K,showCreatePoll:O,showCreatePrompt:B,showFile:U,showGenAICreate:H,showGenAICreateVideo:j,showGif:q,showMetamateWritingTool:z,showPayment:A,showSendVoiceClip:W,showSticker:V,supportedFileTypes:L,threadKey:E},t[14]=l,t[15]=J,t[16]=v,t[17]=Z,t[18]=S,t[19]=O,t[20]=B,t[21]=U,t[22]=q,t[23]=A,t[24]=W,t[25]=V,t[26]=L,t[27]=E,t[28]=ie):ie=t[28];var le;t[29]===Symbol.for("react.memo_cache_sentinel")?(le=r("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),t[29]=le):le=t[29];var se;t[30]!==ae||t[31]!==ee||t[32]!==ne||t[33]!==re||t[34]!==k||t[35]!==I?(se=function(t,n,a,i,l,s){return u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:ne,children:u.jsx(r("MWXPressable.react"),{"aria-label":ne,disabled:ae,onHoverIn:i,onHoverOut:l,onPress:function(){if(ee){I.reset(),p.onReady(h),re==null||re({eventName:"composer_close_audio_recorder"});return}else re==null||re({eventName:"composer_open_overflow_menu",threadType:k}),n()},onPressIn:s,overlayDisabled:ae,overlayRadius:"50%",ref:t,testid:void 0,xstyle:g,children:u.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:ae?void 0:"var(--chat-composer-button-color)",isRotated:ee,size:20})})})},t[30]=ae,t[31]=ee,t[32]=ne,t[33]=re,t[34]=k,t[35]=I,t[36]=se):se=t[36];var ue;return t[37]!==ie||t[38]!==se?(ue=u.jsx(r("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:N,popoverProps:ie,popoverResource:le,position:"above",preloadTrigger:"button",children:se}),t[37]=ie,t[38]=se,t[39]=ue):ue=t[39],ue}function g(){return[r("gkx")("23219")?_.plusButtonMDS:_.plusButtonFDS]}function h(e){return e.logDeleteRecording()}l.default=f}),226);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,s))!=null?t:!1;return n}function s(e){return o("LSThreadBitOffset").has(36,e)}l.default=e}),98);
__d("MWReQLComposerPlusButton.react",["LSThreadBitOffset","MWV2ComposerPlusButton.react","react","react-compiler-runtime","useMWHasPollsCreationEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(32),n=e.canSendAudioClip,a=e.canSendFile,i=e.canSendPayment,l=e.editor,u=e.isInputExpanded,c=e.onAttachmentsAdded,d=e.onSendMessage,m=e.renderExtraOverflowMenuItems,p=e.supportedFileTypes,_=e.thread,f=e.voiceRecorder,g=r("useMWHasPollsCreationEnabled")(_.threadKey),h;t[0]!==_?(h=o("LSThreadBitOffset").has(14,_),t[0]=_,t[1]=h):h=t[1];var y;t[2]!==_?(y=o("LSThreadBitOffset").has(4,_),t[2]=_,t[3]=y):y=t[3];var C;t[4]!==_?(C=o("LSThreadBitOffset").has(0,_),t[4]=_,t[5]=C):C=t[5];var b;t[6]!==_?(b=o("LSThreadBitOffset").has(152,_),t[6]=_,t[7]=b):b=t[7];var v;t[8]!==_?(v=o("LSThreadBitOffset").has(3,_),t[8]=_,t[9]=v):v=t[9];var S;t[10]!==g||t[11]!==h||t[12]!==y||t[13]!==C||t[14]!==b||t[15]!==v?(S={hasAudioClipsCapability:h,hasGIFCapability:y,hasPaymentCapability:C,hasPollCreationCapability:g,hasRollcallCapability:b,hasStickerCapability:v},t[10]=g,t[11]=h,t[12]=y,t[13]=C,t[14]=b,t[15]=v,t[16]=S):S=t[16];var R=S,L;return t[17]!==n||t[18]!==a||t[19]!==i||t[20]!==R||t[21]!==l||t[22]!==g||t[23]!==u||t[24]!==c||t[25]!==d||t[26]!==m||t[27]!==p||t[28]!==_.threadKey||t[29]!==_.threadType||t[30]!==f?(L=s.jsx(r("MWV2ComposerPlusButton.react"),babelHelpers.extends({canSendAudioClip:n,canSendFile:a,canSendPayment:i,editor:l,hasPollCreationCapability:g,isInputExpanded:u,onAttachmentsAdded:c,onSendMessage:d,renderExtraOverflowMenuItems:m,supportedFileTypes:p,threadKey:_.threadKey,threadType:_.threadType,voiceRecorder:f},R)),t[17]=n,t[18]=a,t[19]=i,t[20]=R,t[21]=l,t[22]=g,t[23]=u,t[24]=c,t[25]=d,t[26]=m,t[27]=p,t[28]=_.threadKey,t[29]=_.threadType,t[30]=f,t[31]=L):L=t[31],L}l.default=u}),98);
__d("MWXComposerButtonGroupMenu.react",["MWXComposerButtonGroupContext.react","MWXMenu.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["children"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n=o("react-compiler-runtime").c(7),a,i;n[0]!==t?(a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,s;n[3]===Symbol.for("react.memo_cache_sentinel")?(s={isMenu:!0},n[3]=s):s=n[3],l=s;var c;return n[4]!==a||n[5]!==i?(c=u.jsx(r("MWXComposerButtonGroupContext.react").Provider,{value:l,children:u.jsx(r("MWXMenu.react"),babelHelpers.extends({},i,{withArrow:!0,children:a}))}),n[4]=a,n[5]=i,n[6]=c):c=n[6],c}l.default=d}),98);
__d("MWXComposerButtonGroup.react",["fbt","BasePopoverTrigger.react","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","MWXComposerButtonContext.react","MWXComposerButtonGroupButton.react","MWXComposerButtonGroupContext.react","MWXComposerButtonGroupMenu.react","MWXComposerIconButton.react","MWXIconPlusCircle","react","react-compiler-runtime","useStyleXTransition"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useMemo,m=c.useRef,p=2.3,_=250;function f(e,t){var n=Math.max(Math.abs(e-t)+2*(p-1),1);return Math.floor(_/n)}function g(e,t,n,r){var o=e?t-r-1:r-t,a=f(t,n)*(o+(o>0?p-1:0))+"ms",i="linear",l=f(t,n);return o===0?(i="ease-in",l*=p):o===Math.abs(t-n)-1&&(i="ease-out",l*=p),{transitionDelay:a,transitionDuration:l+"ms",transitionProperty:"width, transform, margin",transitionTimingFunction:i}}var h={base:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",overflowX:"x1plvlek",overflowY:"xryxfnj",transform:"x1oh8ob4",transformOrigin:"x1g0ag68",transitionTimingFunction:"xcj1dhv",width:"xnalus7",$$css:!0},enter:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",transform:"x2xth8r",width:"x14qfxbe",$$css:!0},leave:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",transform:"x1oh8ob4",width:"xnalus7",$$css:!0}};function y(e){var t=e.children,n=e.maxCount,o=e.paddingHorizontal,a=e.testid,i=m(n),l=u.Children.toArray(t),c=l.length>n?l.slice(0,l.length-n+1):null,p=d(function(){return{paddingHorizontal:o}},[o]),f=u.jsx(r("BasePopoverTrigger.react"),{align:"start",popover:r("MWXComposerButtonGroupMenu.react"),popoverProps:{"aria-label":s._(/*BTDS*/"More actions menu"),children:c,testid:"mwx-composer-button-group-menu"},popoverType:"menu",position:"above",children:function(t,n,o,a,i,l,c,d){return u.jsx(r("MWXComposerIconButton.react"),{icon:r("MWXIconPlusCircle"),isShown:d,label:d?s._(/*BTDS*/"Close more actions"):s._(/*BTDS*/"Open more actions"),onPress:n,ref:t,testid:void 0,wrapperXStyle:h.enter},"Overflow")}}),y=c!=null?[f].concat(l.slice(l.length-n+1)):l,b=r("useStyleXTransition")(y,function(e){var t;return e===l[0]||e===f?"Overflow":(t=r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).key)!=null?t:0},{base:h.base,duration:_,enter:h.enter,leave:h.leave,onEnterComplete:function(){i.current=n},onLeaveComplete:function(){i.current=n}}),v=b.map(function(e,t){return u.jsx(C,{isMenu:!1,style:babelHelpers.extends({},e.style,g(e.status==="leaving",i.current,n,t)),xstyle:e.xstyle,children:e.item},e.key)});return u.jsx(r("MWXComposerButtonContext.react").Provider,{value:p,children:v})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.isMenu,i=e.style,l=e.xstyle,s,c;t[0]!==a||t[1]!==i||t[2]!==l?(c={isMenu:a,styleForButton:i,xstyleForButton:l},t[0]=a,t[1]=i,t[2]=l,t[3]=c):c=t[3],s=c;var d;return t[4]!==n||t[5]!==s?(d=u.jsx(r("MWXComposerButtonGroupContext.react").Provider,{value:s,children:n}),t[4]=n,t[5]=s,t[6]=d):d=t[6],d}l.MWXComposerButtonGroup=y,l.Button=r("MWXComposerButtonGroupButton.react")}),226);
__d("MWXComposerAddFileButton.react",["fbt","BaseFileSelector.react","BaseMenuContext","MWMediaManagerFileSizeLimit","MWXComposerButtonGroup.react","MWXIconPhoto","MessengerWebUXLogger","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext;function d(e){var t=o("react-compiler-runtime").c(13),n=e.disabled,a=e.isSecureThread,i=e.onAttachmentsAdded,l=e.supportedFileTypes,d=r("useMWV2ComposerOnFilesSelected")(i),m=c(r("BaseMenuContext")),p=r("MessengerWebUXLogger").useInteractionLogger(),_;t[0]!==a?(_=s._(/*BTDS*/"Attach a file up to {fileSizeLimit} MB",[s._param("fileSizeLimit",String(o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(a)))]),t[0]=a,t[1]=_):_=t[1];var f=_,g;t[2]!==m||t[3]!==d?(g=function(t){d(t),m==null||m.onClose()},t[2]=m,t[3]=d,t[4]=g):g=t[4];var h;t[5]!==n||t[6]!==f||t[7]!==p?(h=function(t){return u.jsx(o("MWXComposerButtonGroup.react").Button,{disabled:n,icon:r("MWXIconPhoto"),label:f,onPress:function(){t(),p==null||p({eventName:"composer_open_file_picker"})},preventClosingMenuOnSelect:!0,testid:void 0})},t[5]=n,t[6]=f,t[7]=p,t[8]=h):h=t[8];var y;return t[9]!==l||t[10]!==g||t[11]!==h?(y=u.jsx(r("BaseFileSelector.react"),{accept:l,multiple:!0,onFilesSelected:g,children:h}),t[9]=l,t[10]=g,t[11]=h,t[12]=y):y=t[12],y}l.default=d}),226);
__d("MWXIconGif",["MWXSvgIcon","SVGIcon","cr:22351","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22351")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerGifButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWXComposerButtonGroupPopoverButton.react","MWXIconGif","MWXPopoverLoadingState.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={gifLoadingState:{minHeight:"x1qq0ucp",minWidth:"xd1z115",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(14),n=e.disabled,a=e.onSendMessage,i=e.thread,l;t[0]!==i.threadType?(l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),t[0]=i.threadType,t[1]=l):l=t[1];var d=l,m=r("MessengerWebUXLogger").useInteractionLogger(),p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Choose a GIF"),t[2]=p):p=t[2];var _;t[3]!==m?(_=function(){m==null||m({eventName:"composer_open_gif_picker"})},t[3]=m,t[4]=_):_=t[4];var f,g;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=r("JSResourceForInteraction")("MWChatAnimatedImageFlyout.react").__setRef("MWXComposerGifButton.react"),g={fallback:u.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0,xstyle:c.gifLoadingState})},t[5]=f,t[6]=g):(f=t[5],g=t[6]);var h=r("useMWV2ComposerOnGifSelect")(a,"MWXComposerGifButton"),y;t[7]!==d||t[8]!==h?(y={isSecureThread:d,onSelect:h},t[7]=d,t[8]=h,t[9]=y):y=t[9];var C;return t[10]!==n||t[11]!==_||t[12]!==y?(C=u.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{disabled:n,icon:r("MWXIconGif"),label:p,onPress:_,popover:f,popoverPresentationProps:g,popoverProps:y}),t[10]=n,t[11]=_,t[12]=y,t[13]=C):C=t[13],C}l.default=d}),226);
__d("MWXComposerPollButton.react",["fbt","JSResourceForInteraction","LsFalcoEventEntryPoint","MWGroupPollQPL","MWXComposerButtonGroupPopoverButton.react","MWXIconPoll","MessageSendClickFalcoEvent","MessengerWebUXLogger","emptyFunction","promiseDone","react","react-compiler-runtime","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(19),n=e.thread,a=n.threadKey,i=n.threadType,l=r("MessengerWebUXLogger").useInteractionLogger(),c=r("useMWGroupStartNewPollLogger")(a),m=r("useMWGroupSubmitNewPollLogger")(a),p=r("useMWGroupNewPollSubmitErrorLogger")(a),_=r("useMWCreatePoll")(),f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Create a poll"),t[0]=f):f=t[0];var g;t[1]!==l||t[2]!==c||t[3]!==n.threadKey||t[4]!==n.threadType||t[5]!==i?(g=function(){l==null||l({eventName:"composer_open_create_poll_flyout",threadKey:n.threadKey,threadType:n.threadType}),o("MWGroupPollQPL").logCreatePollStart(i),r("promiseDone")(c(4))},t[1]=l,t[2]=c,t[3]=n.threadKey,t[4]=n.threadType,t[5]=i,t[6]=g):g=t[6];var h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=r("JSResourceForInteraction")("MWChatPollFlyout.react").__setRef("MWXComposerPollButton.react"),t[7]=h):h=t[7];var y;t[8]!==_||t[9]!==p||t[10]!==m||t[11]!==a?(y=function(t,n){_(a,t,n,r("emptyFunction"),function(e){o("MWGroupPollQPL").logCreatePollFail(),r("promiseDone")(p(4,e))}),r("promiseDone")(m(4,n.length)),r("MessageSendClickFalcoEvent").log(d)},t[8]=_,t[9]=p,t[10]=m,t[11]=a,t[12]=y):y=t[12];var C;t[13]!==y||t[14]!==a?(C={onPollCreate:y,threadKey:a,withPopover:!1},t[13]=y,t[14]=a,t[15]=C):C=t[15];var b;return t[16]!==g||t[17]!==C?(b=u.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{icon:r("MWXIconPoll"),label:f,onPress:g,popover:h,popoverProps:C,testid:void 0}),t[16]=g,t[17]=C,t[18]=b):b=t[18],b}function d(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").composer}}}l.default=c}),226);
__d("MWXComposerPromptButtonQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24235005759488308"}),null);
__d("MWXComposerPromptButtonQuery.graphql",["MWXComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],t={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWXComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:n("MWXComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWXComposerPromptButtonQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWXComposerPromptButton.react",["fbt","BaseMenuContext","CometRelay","FBLogger","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWDidQueryPromptsNux","MWXComposerButtonGroup.react","MWXComposerButtonGroupPopoverButton.react","MWXComposerPromptButtonQuery.graphql","MWXIconRollCall","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","MessengerWebUXLogger","emptyFunction","promiseDone","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useContext,p=r("requireDeferred")("MWChatPromptDialog.react").__setRef("MWXComposerPromptButton.react");function _(){var t=o("react-compiler-runtime").c(2),r=o("CometRelay").useRelayEnvironment(),a;return t[0]!==r?(a=function(){return o("CometRelay").fetchQuery(r,e!==void 0?e:e=n("MWXComposerPromptButtonQuery.graphql"),{}).toPromise()},t[0]=r,t[1]=a):a=t[1],a}function f(e){var t=o("react-compiler-runtime").c(16),n=e.thread,a=n.threadKey,i=n.threadType,l=r("MessengerWebUXLogger").useInteractionLogger(),u=_(),f=r("useMWXLazyDialog")(p),h=f[0],y=m(r("BaseMenuContext")),C;t[0]!==i?(C=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(i),t[0]=i,t[1]=C):C=t[1];var b=C,v;t[2]!==b||t[3]!==l||t[4]!==y||t[5]!==u||t[6]!==h||t[7]!==n.threadKey||t[8]!==n.threadType||t[9]!==a?(v=function(){l==null||l({eventName:"composer_open_create_prompt_flyout",threadKey:n.threadKey,threadType:n.threadType}),b?(r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(c||(c=o("I64"))).to_string(a)}}),h({threadKey:a}),y==null||y.onClose()):o("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(o("MWDidQueryPromptsNux").markDidQueryPromptsNux(),r("promiseDone")(u(),g))},t[2]=b,t[3]=l,t[4]=y,t[5]=u,t[6]=h,t[7]=n.threadKey,t[8]=n.threadType,t[9]=a,t[10]=v):v=t[10];var S=v,R;return t[11]!==b||t[12]!==S||t[13]!==a||t[14]!==i?(R=b?d.jsx(o("MWXComposerButtonGroup.react").Button,{icon:r("MWXIconRollCall"),label:s._(/*BTDS*/"Create prompt"),onPress:S}):d.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{icon:r("MWXIconRollCall"),label:s._(/*BTDS*/"Create prompt"),onPress:S,popover:r("JSResourceForInteraction")("MWChatPromptFlyout.react").__setRef("MWXComposerPromptButton.react"),popoverProps:{onClose:r("emptyFunction"),threadKey:a,threadType:i}}),t[11]=b,t[12]=S,t[13]=a,t[14]=i,t[15]=R):R=t[15],R}function g(e){var t,n=e==null||(t=e.viewer)==null||(t=t.eligible_promotions.nodes)==null||(t=t.find(h))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy;n&&r("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function h(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=f}),226);
__d("withMWXEntrypointPopover",["BaseEntryPointPopoverContainer.react","BaseMenuContext","BaseMultiPageEntryPointImpl.react","BaseMultiPageViewContext","BasePopoverTrigger.react","FBLogger","MWXPopover.react","MWXPopoverLoadingState.react","emptyFunction","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider","usePageEntryPointPrerenderer"],(function(t,n,r,o,a,i,l){"use strict";var e=["entrypoint","entryPointParams","entrypointProps","onHoverIn","onHoverOut","onPressIn","popoverPresentationProps"],s=["align","position"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo;function _(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=c.jsx(r("MWXPopover.react"),{withArrow:!0,children:c.jsx(r("BaseEntryPointPopoverContainer.react"),babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}function f(t){function n(n){var a=o("react-compiler-runtime").c(48),i,l,u,d,p,f,g,h;a[0]!==n?(l=n.entrypoint,i=n.entryPointParams,u=n.entrypointProps,d=n.onHoverIn,p=n.onHoverOut,f=n.onPressIn,g=n.popoverPresentationProps,h=babelHelpers.objectWithoutPropertiesLoose(n,e),a[0]=n,a[1]=i,a[2]=l,a[3]=u,a[4]=d,a[5]=p,a[6]=f,a[7]=g,a[8]=h):(i=a[1],l=a[2],u=a[3],d=a[4],p=a[5],f=a[6],g=a[7],h=a[8]);var y=m(r("BaseMenuContext")),C;a[9]!==y?(C=y!=null?y:{onClose:r("emptyFunction")},a[9]=y,a[10]=C):C=a[10];var b=C,v=b.onClose,S=m(r("BaseMultiPageViewContext")),R;a[11]!==l.root?(R=r("tracePolicyFromResource")("comet.popover",l.root),a[11]=l.root,a[12]=R):R=a[12];var L=r("useCometPopoverInteractionTracing")(R,"entrypoint"),E=r("usePageEntryPointPrerenderer")(l,i,"button"),k=E[0],I=E[1],T=E[2],D=r("useCometRelayEntrypointContextualEnvironmentProvider")(),x;a[13]!==g?(x=g!=null?g:{},a[13]=g,a[14]=x):x=a[14];var $,P,N;if(a[15]!==x){var M=x;P=M.align,N=M.position,$=babelHelpers.objectWithoutPropertiesLoose(M,s),a[15]=x,a[16]=$,a[17]=P,a[18]=N}else $=a[16],P=a[17],N=a[18];var w=P===void 0?"middle":P,A=N===void 0?"above":N,F,O;a[19]!==k?(O=function(){return k(r("emptyFunction"))},a[19]=k,a[20]=O):O=a[20];var B;a[21]!==i||a[22]!==u||a[23]!==T||a[24]!==O?(B={entryPointParams:i,entryPointReference:T,load:O,otherProps:u},a[21]=i,a[22]=u,a[23]=T,a[24]=O,a[25]=B):B=a[25],F=B;var W=F,q;a[26]===Symbol.for("react.memo_cache_sentinel")?(q=c.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0}),a[26]=q):q=a[26];var U;a[27]!==i||a[28]!==l||a[29]!==u||a[30]!==D||a[31]!==k||a[32]!==y||a[33]!==v||a[34]!==d||a[35]!==p||a[36]!==f||a[37]!==S||a[38]!==I||a[39]!==h?(U=function(n,o,a){return c.jsx(t,babelHelpers.extends({onHoverIn:function(t){I.onHoverIn(t),d==null||d(t)},onHoverOut:function(t){I.onHoverOut(),p==null||p(t)}},h,{onPress:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n;S!=null&&y!=null?k(function(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("Expected preloaded entrypoint");S.pushPage(function(){return c.jsx(r("BaseMultiPageEntryPointImpl.react"),{entryPoint:l,environmentProvider:D,fallback:S.fallback,loadedEntryPoint:e,otherProps:babelHelpers.extends({},u,{onClose:v}),placeholderComponent:S.placeholderComponent,preloadParams:i})})}):o(),h.onPress==null||(e=h).onPress.apply(e,s)},onPressIn:function(t){f==null||f(t),I.onPressIn(t)},preventClosingMenuOnSelect:!0,ref:n}))},a[27]=i,a[28]=l,a[29]=u,a[30]=D,a[31]=k,a[32]=y,a[33]=v,a[34]=d,a[35]=p,a[36]=f,a[37]=S,a[38]=I,a[39]=h,a[40]=U):U=a[40];var V;return a[41]!==w||a[42]!==$||a[43]!==W||a[44]!==A||a[45]!==U||a[46]!==L?(V=c.jsx(r("BasePopoverTrigger.react"),babelHelpers.extends({align:w,fallback:q,position:A},$,{interactionTracker:L,popover:_,popoverProps:W,children:U})),a[41]=w,a[42]=$,a[43]=W,a[44]=A,a[45]=U,a[46]=L,a[47]=V):V=a[47],V}return n}l.default=f}),98);
__d("MWXComposerButtonGroupPopoverEntrypointButton.react",["MWXComposerButtonGroupButton.react","react","withMWXEntrypointPopover"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("withMWXEntrypointPopover")(r("MWXComposerButtonGroupButton.react"));l.default=u}),98);
__d("MWXIconStickersFace",["MWXSvgIcon","SVGIcon","cr:22501","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22501")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerStickerButton.react",["fbt","CometStickerPickerCard.entrypoint","JSResourceForInteraction","MWV2ComposerStickerCommon","MWXComposerButtonGroupPopoverEntrypointButton.react","MWXIconStickersFace","MWXPopoverLoadingState.react","MessengerWebUXLogger","promiseDone","react","useMWV2ComposerOnStickerSelect"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=352,m=278,p={flyoutRoot:{height:"x1hie0zf",width:"x1fepime",$$css:!0},loading:{minHeight:"x1qq0ucp",minWidth:"x13t3uem",$$css:!0}},_=r("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWXComposerStickerButton.react");function f(e){var t=e.disabled,n=e.onSendMessage,a=e.useSecureSend,i=r("MessengerWebUXLogger")==null?void 0:r("MessengerWebUXLogger").useInteractionLogger(),l=r("useMWV2ComposerOnStickerSelect")(n,a,"MWXComposerStickerButton"),d=c(function(e,t,n){var r=e.stickerID;l(r,t,n)},[l]);return u.jsx(r("MWXComposerButtonGroupPopoverEntrypointButton.react"),{disabled:t,entryPointParams:{feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},entrypoint:r("CometStickerPickerCard.entrypoint"),entrypointProps:{isMessengerStickerPopover:!0,isSecureThread:a,onSelect:d,prioritisedTabList:o("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(a),stickerHeight:128,stickerWidth:128,xstyle:p.flyoutRoot},icon:r("MWXIconStickersFace"),label:s._(/*BTDS*/"Choose a sticker"),onPress:function(){i==null||i({eventName:"composer_open_sticker_picker"})},popoverPresentationProps:{fallback:u.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0,xstyle:p.loading}),onVisibilityChange:function(t){t===!0&&r("promiseDone")(_.load().then(function(e){e()}))}},testid:void 0})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),226);
__d("MWXComposerVoiceClipButton.react",["fbt","MWXComposerButtonGroup.react","MWXIconMicrophone","MessengerWebUXLogger","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.onPress,n=r("MessengerWebUXLogger")==null?void 0:r("MessengerWebUXLogger").useInteractionLogger();return u.jsx(o("MWXComposerButtonGroup.react").Button,{icon:r("MWXIconMicrophone"),label:s._(/*BTDS*/"Send a voice clip"),onPress:function(){t(),n==null||n({eventName:"composer_record_voice_clip"})},testid:void 0})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWXHasContentToSend",["MWV2ComposerHasContentContext.react","react","useMWXLexicalHasText"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=e.editor,n=e.hasNonTextContentToSend,r=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:t}),a=r||n,i=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),l=i.hasContentRef;return s(function(){l!=null&&(l.current=a)},[l,a]),a}l.useMWXComposerHasContentToSend=u}),98);
__d("MWXIconCrossCircle",["MWXSvgIcon","SVGIcon","cr:22287","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22287")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerStartButtonsGroup.react",["fbt","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSupportedFileTypes","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWXComposerAddFileButton.react","MWXComposerButtonGroup.react","MWXComposerGifButton.react","MWXComposerPollButton.react","MWXComposerPromptButton.react","MWXComposerStickerButton.react","MWXComposerVoiceClipButton.react","MWXHasContentToSend","MWXIconCrossCircle","MessengerWebUXLogger","cr:21441","cr:21442","gkx","react","requireDeferred","useIsAdsAIChat","useMWHasPollsCreationEnabled","useMWV2ComposerOnPressVoiceClip"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("requireDeferred")("MWChatAudioLog").__setRef("MWXComposerStartButtonsGroup.react");function d(e){var t=e.editor,a=e.hasNonTextContentToSend,i=e.isTextOnly,l=e.onAttachmentsAdded,d=e.onSendMessage,m=e.testid,p=e.thread,_=e.voiceRecorder,f=p.threadKey,g=p.threadType,h=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),y=h==="Inbox"?"small":"none",C=o("MWCMThreadTypes.react").isBroadcastThread(p.threadType),b=o("LSMessagingThreadTypeUtil").isAiBot(p.threadType),v=r("useIsAdsAIChat")(f),S=o("LSMessagingThreadTypeUtil").isArmadilloSecure(g),R=o("LSThreadBitOffset").has(14,p),L=o("LSThreadBitOffset").has(4,p),E=r("useMWHasPollsCreationEnabled")(f),k=o("LSThreadBitOffset").has(152,p),I=o("LSThreadBitOffset").has(3,p),T=o("LSThreadBitOffset").has(56,p),D=C||b||v?T:!0,x=E,$=R,P=L,N=k&&r("gkx")("18099"),M=r("gkx")("23423"),w=r("gkx")("23159"),A=r("useMWV2ComposerOnPressVoiceClip")(_),F=_.state.stage!=="Unopen",O=r("MessengerWebUXLogger")==null?void 0:r("MessengerWebUXLogger").useInteractionLogger(),B=o("MWXHasContentToSend").useMWXComposerHasContentToSend({editor:t,hasNonTextContentToSend:a});return i?null:F?u.jsx(o("MWXComposerButtonGroup.react").Button,{icon:r("MWXIconCrossCircle"),label:s._(/*BTDS*/"Cancel"),onPress:function(){_.reset(),c.onReady(function(e){return e.logDeleteRecording()}),O==null||O({eventName:"composer_close_audio_recorder"})}}):u.jsxs(o("MWXComposerButtonGroup.react").MWXComposerButtonGroup,{maxCount:B?1:4,paddingHorizontal:y,testid:void 0,children:[$?u.jsx(r("MWXComposerVoiceClipButton.react"),{onPress:A}):null,x?u.jsx(r("MWXComposerPollButton.react"),{thread:p}):null,M&&n("cr:21441")!=null?u.jsx(n("cr:21441"),{editor:t,onAttachmentsAdded:l}):null,w&&n("cr:21442")!=null?u.jsx(n("cr:21442"),{editor:t,onAttachmentsAdded:l}):null,u.jsx(r("MWXComposerAddFileButton.react"),{disabled:!D,isSecureThread:S,onAttachmentsAdded:l,supportedFileTypes:S?o("MAWSupportedFileTypes").supportedFileTypes:void 0}),u.jsx(r("MWXComposerStickerButton.react"),{disabled:!I,onSendMessage:d,useSecureSend:S}),u.jsx(r("MWXComposerGifButton.react"),{disabled:!P,onSendMessage:d,thread:p}),N?u.jsx(r("MWXComposerPromptButton.react"),{thread:p}):null]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWLSContactTypeExactUtils","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t){var n=t.threadKey,a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))(),u=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(n).map(function(e){return[o("ReQLSuspense").first(o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(e.contactId),i.id+":43"),e]})},[l,n],i.id+":37"),d=c(function(){return u.reduce(function(e,t){var n=t[0],r=t[1];if(n!=null&&!(s||(s=o("I64"))).equal(n.id,a)){var i;return e.concat([[babelHelpers.extends({},n,{name:(i=n.name)!=null?i:o("MAWSubscribeToContactNames").getUnknownUser()}),r]])}return e},[])},[u,a]);return c(function(){return new Map(d.map(function(e){var t,n=e[1],a=e[0];return[(s||(s=o("I64"))).to_string(a.id),{actualName:a.name,blockedByViewerStatus:a.blockedByViewerStatus,contactId:s.to_string(a.id),isAdmin:(t=n.isAdmin)!=null?t:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:n.nickname,profilePictureUrl:r("getLSMediaContactProfilePictureUrl")(a),secondaryName:o("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact)?a.secondaryName:void 0,workForeignEntityInfo:o("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[d])}l.default=d}),98);
__d("MWV2ComposerView.react",["fbt","FBLogger","I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWComposerEndButtonsGroup.react","MWComposerInnerButtonsGroup.react","MWComposerStartButtonsGroup.react","MWPActor.react","MWReQLComposerInner.react","MWReQLComposerPlusButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","MWXComposerStartButtonsGroup.react","Promise","ReQL","ReQLSuspense","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","stylex","useDeferredModuleOnReady","useIsAdsAIChat","useIsMessengerPWA","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWIsOffline","useParticipantsExcludingViewer","usePrevious","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useEffect,h=f.useId,y=f.useRef,C=r("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),b={container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},containerTextOnly:{marginInlineStart:"xyqm7xq",$$css:!0},hidden:{display:"x1s85apg",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(4),n=r("useDeferredModuleOnReady")(C),a,i;t[0]!==n||t[1]!==e?(a=function(){if(n!=null)return n(e,16)},i=[e,n],t[0]=n,t[1]=e,t[2]=a,t[3]=i):(a=t[2],i=t[3]),g(a,i)}function S(t){var a,l=o("react-compiler-runtime").c(184),p=t.ariaLabel,f=t.canSendAudioClip,C=t.canSendFile,S=t.canSendGif,E=t.canSendPayment,k=t.canSendSticker,I=t.composerLinkPreview,T=t.editor,D=t.editorElementRef,x=t.getMaxAttachmentSizeInMBFunc,$=t.hasStuffToSend,P=t.hideAriaDescribedBy,N=t.isAiBotMentionsEnabled,M=t.isMentionsPluginEnabled,w=t.keepInputExpanded,A=t.localTimezoneInformation,F=t.mediaStaging,O=t.onAttachmentRemoved,B=t.onAttachmentsAdded,W=t.onHdMediaToggled,q=t.onSendMessage,U=t.placeholderText,V=t.policyProduct,H=t.renderExtraButtons,G=t.renderExtraOverflowMenuItems,z=t.sendMessage,j=t.showMentionsOnPreviewThread,K=t.supportedFileTypes,Q=t.surface,X=t.thread,Y=t.voiceRecorder,J=f===void 0?!0:f,Z=C===void 0?!0:C,ee=S===void 0?!0:S,te=E===void 0?!1:E,ne=k===void 0?!0:k,re=P===void 0?!1:P,oe=M===void 0?!0:M,ae=w===void 0?!1:w,ie=H===void 0?null:H,le=j===void 0?!1:j,se=(m||(m=r("useReStore")))(),ue=r("useMWIsOffline")(),ce=r("useIsMessengerPWA")(),de=ue&&ce,me;l[0]!==X.threadType?(me=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(X.threadType),l[0]=X.threadType,l[1]=me):me=l[1];var pe=me,_e=r("gkx")("7947"),fe=!0;(_e||pe)&&(fe=!1);var ge;l[2]!==ee||l[3]!==X?(ge=ee&&o("LSThreadBitOffset").has(4,X),l[2]=ee,l[3]=X,l[4]=ge):ge=l[4];var he=ge,ye;l[5]!==X.threadType?(ye=o("MWCMThreadTypes.react").isBroadcastThread(X.threadType),l[5]=X.threadType,l[6]=ye):ye=l[6];var Ce=ye,be;l[7]!==X.threadType?(be=o("LSMessagingThreadTypeUtil").isAiBot(X.threadType),l[7]=X.threadType,l[8]=be):be=l[8];var ve=be,Se=r("useIsAdsAIChat")(X.threadKey),Re;l[9]!==Z||l[10]!==Se||l[11]!==ve||l[12]!==Ce||l[13]!==X?(Re=Z&&(Ce||ve||Se?o("LSThreadBitOffset").has(56,X):!0),l[9]=Z,l[10]=Se,l[11]=ve,l[12]=Ce,l[13]=X,l[14]=Re):Re=l[14];var Le=Re,Ee;l[15]!==X.threadType?(Ee=o("LSMessagingThreadTypeUtil").isArmadilloSecure(X.threadType),l[15]=X.threadType,l[16]=Ee):Ee=l[16];var ke=Ee,Ie;l[17]!==ne||l[18]!==X?(Ie=ne&&o("LSThreadBitOffset").has(3,X),l[17]=ne,l[18]=X,l[19]=Ie):Ie=l[19];var Te=Ie,De=r("useMWEntrypoint")(),xe=Y.state.stage!=="Unopen",$e;l[20]!==q||l[21]!==Y?($e=function(){Y.getVoiceClip().then(function(t){return Y.reset(),q(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"MWV2ComposerView.onSendVoiceClip"),(e||(e=n("Promise"))).resolve()}).catch(L)},l[20]=q,l[21]=Y,l[22]=$e):$e=l[22];var Pe=$e,Ne=y(null),Me=r("usePrevious")(xe),we,Ae;l[23]!==xe||l[24]!==Me?(we=function(){if(xe===!0&&Me===!1){var e;(e=Ne.current)==null||e.focus()}},Ae=[xe,Ne,Me],l[23]=xe,l[24]=Me,l[25]=we,l[26]=Ae):(we=l[25],Ae=l[26]),g(we,Ae);var Fe;l[27]!==X.threadKey?(Fe={threadKey:X.threadKey},l[27]=X.threadKey,l[28]=Fe):Fe=l[28];var Oe=r("useParticipantsExcludingViewer")(Fe),Be;l[29]!==X?(Be=o("LSThreadBitOffset").has(43,X),l[29]=X,l[30]=Be):Be=l[30];var We=Be,qe=o("MWPActor.react").useActor(),Ue,Ve;l[31]!==qe||l[32]!==se.tables.contacts||l[33]!==se.tables.participants||l[34]!==X.threadKey||l[35]!==X.threadType?(Ue=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(X.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(se.tables.participants).getKeyRange(X.threadKey),o("ReQL").fromTableAscending(se.tables.contacts)).filter(function(e){var t=e[1];return!(c||(c=o("I64"))).equal(t.id,qe)}):o("ReQL").empty()},Ve=[X.threadType,X.threadKey,se.tables.participants,se.tables.contacts,qe],l[31]=qe,l[32]=se.tables.contacts,l[33]=se.tables.participants,l[34]=X.threadKey,l[35]=X.threadType,l[36]=Ue,l[37]=Ve):(Ue=l[36],Ve=l[37]);var He=o("ReQLSuspense").useFirst(Ue,Ve,i.id+":248"),Ge=He==null||(a=He[1])==null?void 0:a.contactReachabilityStatusType,ze;l[38]!==Ge?(ze=(d||(d=o("LSIntEnum"))).equal(Ge,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER),l[38]=Ge,l[39]=ze):ze=l[39];var je=ze,Ke;l[40]===Symbol.for("react.memo_cache_sentinel")?(Ke=o("Locale").isRTL(),l[40]=Ke):Ke=l[40];var Qe=Ke,Xe=r("gkx")("23219"),Ye;l[41]===Symbol.for("react.memo_cache_sentinel")?(Ye=Xe?[36,8]:[32,4],l[41]=Ye):Ye=l[41];var Je=Ye,Ze=Je[0],et=Je[1],tt=0+Ze|0,nt;l[42]!==X.threadType?(nt=o("LSMessagingThreadTypeUtil").isCMSubthread(X.threadType),l[42]=X.threadType,l[43]=nt):nt=l[43];var rt=nt,ot=$||ae||je||rt&&De==="inbox",at=tt+Ze|0,it;l[44]!==ot||l[45]!==fe?(it=Qe?fe?{marginRight:Xe?"8px":"4px"}:{marginRight:ot?Xe?"8px":"0":((at+Ze|0)+et|0).toString()+"px"}:fe?{marginLeft:Xe?"8px":"4px"}:{marginLeft:ot?Xe?"8px":"0":((at+Ze|0)+et|0).toString()+"px"},l[44]=ot,l[45]=fe,l[46]=it):it=l[46];var lt=it,st=r("useMWComposerAriaDescribedBy")(X),ut=h();v(T);var ct;l[47]!==Se||l[48]!==pe||l[49]!==X?(ct=pe||Se&&!o("LSThreadBitOffset").has(109,X),l[47]=Se,l[48]=pe,l[49]=X,l[50]=ct):ct=l[50];var dt=ct,mt;l[51]!==se.tables.custom_thread_commands||l[52]!==X.threadKey?(mt=function(){return o("ReQL").fromTableAscending(se.tables.custom_thread_commands).getKeyRange(X.threadKey).filter(R)},l[51]=se.tables.custom_thread_commands,l[52]=X.threadKey,l[53]=mt):mt=l[53];var pt;l[54]!==se||l[55]!==X.threadKey?(pt=[se,X.threadKey],l[54]=se,l[55]=X.threadKey,l[56]=pt):pt=l[56];var _t=o("ReQLSuspense").useFirst(mt,pt,i.id+":334")!=null,ft;l[57]!==X?(ft=o("LSThreadBitOffset").has(152,X),l[57]=X,l[58]=ft):ft=l[58];var gt=ft,ht;l[59]!==We||l[60]!==N||l[61]!==oe||l[62]!==le||l[63]!==X.threadType?(ht=oe&&(N===!0?!0:(We||le)&&o("LSMessagingThreadTypeUtil").isGroup(X.threadType)),l[59]=We,l[60]=N,l[61]=oe,l[62]=le,l[63]=X.threadType,l[64]=ht):ht=l[64];var yt=ht,Ct,bt;l[65]===Symbol.for("react.memo_cache_sentinel")?(Ct=s._(/*BTDS*/"Thread composer"),bt={className:"xuk3077 x57kliw x78zum5 x6prxxf xz9dl7a xsag5q8"},l[65]=Ct,l[66]=bt):(Ct=l[65],bt=l[66]);var vt;l[67]!==J||l[68]!==Le||l[69]!==te||l[70]!==T||l[71]!==ot||l[72]!==je||l[73]!==B||l[74]!==q||l[75]!==G||l[76]!==fe||l[77]!==K||l[78]!==X||l[79]!==Y?(vt=!fe&&!je&&_.jsx(r("MWReQLComposerPlusButton.react"),{canSendAudioClip:J,canSendFile:Le,canSendPayment:te,editor:T,isInputExpanded:ot,onAttachmentsAdded:B,onSendMessage:q,renderExtraOverflowMenuItems:G,supportedFileTypes:K,thread:X,voiceRecorder:Y}),l[67]=J,l[68]=Le,l[69]=te,l[70]=T,l[71]=ot,l[72]=je,l[73]=B,l[74]=q,l[75]=G,l[76]=fe,l[77]=K,l[78]=X,l[79]=Y,l[80]=vt):vt=l[80];var St;l[81]!==T||l[82]!==je||l[83]!==xe||l[84]!==F||l[85]!==B||l[86]!==q||l[87]!==fe||l[88]!==X||l[89]!==Y?(St=fe&&!je&&_.jsx("div",{className:"x78zum5 x2lah0s x6ikm8r x10wlt62 xexx8yu x11lfxj5 x18d9i69 x135b78x x1n2onr6",children:_.jsx(r("MWXComposerStartButtonsGroup.react"),{editor:T,hasNonTextContentToSend:xe||F.length>0,isTextOnly:je,onAttachmentsAdded:B,onSendMessage:q,testid:void 0,thread:X,voiceRecorder:Y})}),l[81]=T,l[82]=je,l[83]=xe,l[84]=F,l[85]=B,l[86]=q,l[87]=fe,l[88]=X,l[89]=Y,l[90]=St):St=l[90];var Rt;l[91]!==$||l[92]!==je||l[93]!==xe||l[94]!==Pe||l[95]!==Y?(Rt=xe&&!je?_.jsxs(_.Fragment,{children:[_.jsx(r("MWAudioRecorder.react"),{voiceRecorder:Y}),_.jsx(r("MWV2ComposerSendButton.react"),{hasStuffToSend:$,onPress:Pe,ref:Ne})]}):null,l[91]=$,l[92]=je,l[93]=xe,l[94]=Pe,l[95]=Y,l[96]=Rt):Rt=l[96];var Lt;l[97]!==je||l[98]!==xe?(Lt=(u||(u=r("stylex"))).props(xe?b.hidden:!1,b.container,je?b.containerTextOnly:!1),l[97]=je,l[98]=xe,l[99]=Lt):Lt=l[99];var Et;l[100]!==J||l[101]!==Le||l[102]!==he||l[103]!==gt||l[104]!==Te||l[105]!==I||l[106]!==x||l[107]!==ot||l[108]!==ke||l[109]!==je||l[110]!==A||l[111]!==B||l[112]!==q||l[113]!==fe||l[114]!==K||l[115]!==X.threadKey||l[116]!==X.threadType||l[117]!==Y?(Et=!fe&&!je&&_.jsx(r("MWComposerStartButtonsGroup.react"),{canSendAudioClipFinal:J,canSendFileFinal:Le,canSendGifFinal:he,canSendRollcall:gt,canSendSticker:Te,composerLinkPreview:I,getMaxAttachmentSizeInMBFunc:x,gifButtonPosition:at,isInputExpanded:ot,isRTL:Qe,isSecureThread:ke,localTimezoneInformation:A,onAttachmentsAdded:B,onSendMessage:q,shouldUseMDS:Xe,stickerButtonPosition:tt,supportedFileTypes:K,threadKey:X.threadKey,threadType:X.threadType,voiceRecorder:Y}),l[100]=J,l[101]=Le,l[102]=he,l[103]=gt,l[104]=Te,l[105]=I,l[106]=x,l[107]=ot,l[108]=ke,l[109]=je,l[110]=A,l[111]=B,l[112]=q,l[113]=fe,l[114]=K,l[115]=X.threadKey,l[116]=X.threadType,l[117]=Y,l[118]=Et):Et=l[118];var kt;l[119]===Symbol.for("react.memo_cache_sentinel")?(kt="x78zum5 x1iyjqo2 x6q2ic0",l[119]=kt):kt=l[119];var It;l[120]!==st||l[121]!==ut||l[122]!==re?(It=!re&&_.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:ut,children:st}),l[120]=st,l[121]=ut,l[122]=re,l[123]=It):It=l[123];var Tt=re?void 0:ut,Dt;l[124]!==T||l[125]!==ke||l[126]!==F||l[127]!==W||l[128]!==ie?(Dt=_.jsx(r("MWComposerInnerButtonsGroup.react"),{editor:T,isSecureThread:ke,mediaStaging:F,onHdMediaToggled:W,renderExtraButtons:ie,shouldUseMDS:Xe}),l[124]=T,l[125]=ke,l[126]=F,l[127]=W,l[128]=ie,l[129]=Dt):Dt=l[129];var xt=Le?B:r("emptyFunction"),$t;l[130]!==rt||l[131]!==X.parentThreadKey||l[132]!==X.threadKey?($t=(c||(c=o("I64"))).to_string(rt?X.parentThreadKey:X.threadKey),l[130]=rt,l[131]=X.parentThreadKey,l[132]=X.threadKey,l[133]=$t):$t=l[133];var Pt;l[134]!==F||l[135]!==O||l[136]!==B||l[137]!==K?(Pt=_.jsx(r("MWV2ComposerMediaStaging.react"),{mediaStaging:F,onAttachmentRemoved:O,onAttachmentsAdded:B,supportedFileTypes:K}),l[134]=F,l[135]=O,l[136]=B,l[137]=K,l[138]=Pt):Pt=l[138];var Nt;l[139]!==p||l[140]!==T||l[141]!==D||l[142]!==N||l[143]!==ke||l[144]!==Oe||l[145]!==U||l[146]!==V||l[147]!==Q||l[148]!==Tt||l[149]!==Dt||l[150]!==xt||l[151]!==$t||l[152]!==Pt||l[153]!==yt?(Nt=_.jsx(r("MWReQLComposerInner.react"),{ariaDescribedBy:Tt,ariaLabel:p,contentEditableRef:D,editor:T,endContent:Dt,handlePastedFiles:xt,isAiBotMentionsEnabled:N,isSecureThread:ke,participants:Oe,placeholderText:U,policyProduct:V,surface:Q,testId:"chat_input:rich-input",threadID:$t,topContent:Pt,useMentionsPlugin:yt}),l[139]=p,l[140]=T,l[141]=D,l[142]=N,l[143]=ke,l[144]=Oe,l[145]=U,l[146]=V,l[147]=Q,l[148]=Tt,l[149]=Dt,l[150]=xt,l[151]=$t,l[152]=Pt,l[153]=yt,l[154]=Nt):Nt=l[154];var Mt;l[155]!==lt||l[156]!==It||l[157]!==Nt?(Mt=_.jsxs("div",{className:kt,style:lt,children:[It,Nt]}),l[155]=lt,l[156]=It,l[157]=Nt,l[158]=Mt):Mt=l[158];var wt;l[159]!==Lt||l[160]!==Et||l[161]!==Mt?(wt=_.jsxs("div",babelHelpers.extends({},Lt,{children:[Et,Mt]})),l[159]=Lt,l[160]=Et,l[161]=Mt,l[162]=wt):wt=l[162];var At=de||je&&!$,Ft;l[163]!==T||l[164]!==_t||l[165]!==$||l[166]!==de||l[167]!==je||l[168]!==xe||l[169]!==q||l[170]!==z||l[171]!==dt||l[172]!==At||l[173]!==X.customEmoji||l[174]!==X.hasPersistentMenu||l[175]!==X.threadKey||l[176]!==X.threadType?(Ft=_.jsx(r("MWComposerEndButtonsGroup.react"),{alwaysShowSend:je,customEmoji:X.customEmoji,disabled:At,editor:T,hasPersistentMenu:X.hasPersistentMenu,hasStuffToSend:$,isVoiceRecorderOpen:xe,onSendMessage:q,sendMessage:z,shouldHideHotLike:dt,shouldHideTooltip:de,showCommands:_t,threadKey:X.threadKey,threadType:X.threadType}),l[163]=T,l[164]=_t,l[165]=$,l[166]=de,l[167]=je,l[168]=xe,l[169]=q,l[170]=z,l[171]=dt,l[172]=At,l[173]=X.customEmoji,l[174]=X.hasPersistentMenu,l[175]=X.threadKey,l[176]=X.threadType,l[177]=Ft):Ft=l[177];var Ot;return l[178]!==vt||l[179]!==St||l[180]!==Rt||l[181]!==wt||l[182]!==Ft?(Ot=_.jsxs("div",babelHelpers.extends({"aria-label":Ct},bt,{"data-testid":void 0,role:"group",children:[vt,St,Rt,wt,Ft]})),l[178]=vt,l[179]=St,l[180]=Rt,l[181]=wt,l[182]=Ft,l[183]=Ot):Ot=l[183],Ot}function R(e){return!e.isOpenPersistentMenu}function L(t){return r("FBLogger")("messenger_web_media").catching(t).warn("Failed to send voice clip in messenger composer "),(e||(e=n("Promise"))).reject(t)}l.MWV2ComposerView=S}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25302342,"1531"),s=600*1e3;function u(){var t=o("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){r("QPLUserFlow").addPoint(e,o,{data:a,instanceKey:t})},endCancel:function(o,a){r("QPLUserFlow").endCancel(e,{annotations:a,cancelReason:o,instanceKey:t})},endFail:function(o,a){r("QPLUserFlow").endFailure(e,o,{annotations:a,instanceKey:t})},endSuccess:function(o){r("QPLUserFlow").endSuccess(e,{annotations:o,instanceKey:t})},start:function(o){var n=o.startInfo.isOpusRecorder;r("QPLUserFlow").start(e,{annotations:{bool:{isOpusAudioAbTestEnabled:r("gkx")("3053"),isOpusAudioEnabled:r("gkx")("3054"),isOpusRecorder:n}},cancelOnUnload:!0,instanceKey:t,timeoutInMs:s})}}}l.event=e,l.createVoiceRecordQpl=u}),98);
__d("useIsSecureMessageData",["ReQL","ReQLSuspense","react-compiler-runtime","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(6),l=(e||(e=r("useReStore")))(),s=t.messageId,u=t.messageThreadKey,c=t.messageTimestamp,d,m;a[0]!==l.tables.messages||a[1]!==s||a[2]!==u||a[3]!==c?(d=function(){return s==null||u==null||c==null?o("ReQL").empty():o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(u,c,s)},m=[l.tables.messages,u,c,s],a[0]=l.tables.messages,a[1]=s,a[2]=u,a[3]=c,a[4]=d,a[5]=m):(d=a[4],m=a[5]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":39"),_=r("useIsSecureMessage")(l,p,n);return _}l.default=s}),98);
__d("MAWSendSecureAttachment",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MWFBLogger","WABlobToArrayBuffer","WAMediaHdType","WAMediaQplHelper","WAResultOrError","gkx","qpl","requireDeferred","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment"),u=3e5,c=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","MAWSendSecureAttachment"]);async function d(t,n,a,i,l,d,m,p,_,f,g,h,y,C,b,v,S,R,L){var E;if(c.debug("Starting attachment message send"),n==null)return o("sendToSentQPLLogger").markSendToSentFail(g,"no_chat_jid"),o("WAResultOrError").makeError({isRetriable:!1,type:"no-chat-jid"});var k=null;if(_!=null){o("sendToSentQPLLogger").markSendToSentPoint(g,"get_reply_message_start");var I=o("MAWDbMsg").toMsgId(_.messageId);I!=null&&(k=await o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(I)),o("sendToSentQPLLogger").markSendToSentPoint(g,"get_reply_message_end")}o("sendToSentQPLLogger").markSendToSentPoint(g,"sending_message_to_wajob_start"),o("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{attachment_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(d.file.size)}}),L==null||L.addMetadata("attachment_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(d.file.size));var T;switch(d.type){case"image":case"animated_image":case"sticker":{var D=d.imageSpec,x=d.thumbnailUrlAndSpec;T=d.type==="sticker"&&r("gkx")("8057")?{args:{accessibilityLabel:R,ephemeralSetting:h!=null?h:void 0,height:D.height,initiatingSource:y,isFirstMsg:f,isForwarded:!1,mediaGroupMetadata:v,offlineAttachmentId:m,optimisticMsg:C,quote:k!=null?k:void 0,receiverFetchId:d.stickerReceiverFetchId,source:p,width:D.width},attachmentType:"image",chatJid:n,externalId:b}:{args:{accessibilityLabel:R,ephemeralSetting:h!=null?h:void 0,hdType:S===!0?o("WAMediaHdType").HD_TYPE_HQ_4K:o("WAMediaHdType").HD_TYPE_NONE,height:D.height,initiatingSource:y,isFirstMsg:f,isForwarded:!1,jpegThumbnail:x==null?void 0:x.jpegThumbnail,jpegThumbnailHeight:x==null?void 0:x.height,jpegThumbnailWidth:x==null?void 0:x.width,mediaGroupMetadata:v,offlineAttachmentId:m,optimisticMsg:C,quote:k!=null?k:void 0,source:p,width:D.width},attachmentType:"image",chatJid:n,externalId:b};break}case"video":{var $=d.thumbnailUrlAndSpec;T={args:{duration:$.duration,ephemeralSetting:h!=null?h:void 0,height:$.height,initiatingSource:y,isFirstMsg:f,isForwarded:!1,jpegThumbnail:$.jpegThumbnail,jpegThumbnailHeight:$.height,jpegThumbnailWidth:$.width,offlineAttachmentId:m,optimisticMsg:C,quote:k!=null?k:void 0,source:p,width:$.width},attachmentType:"video",chatJid:n,externalId:b};break}case"audio":{var P=d.durations,N=d.isPtt;T={args:{duration:Math.round(P),ephemeralSetting:h!=null?h:void 0,initiatingSource:y,isFirstMsg:f,isForwarded:!1,isPtt:N,offlineAttachmentId:m,optimisticMsg:C,quote:k!=null?k:void 0,source:p},attachmentType:"audio",chatJid:n,externalId:b};break}case"document":{var M=d.filename;T={args:{ephemeralSetting:h!=null?h:void 0,filename:M,initiatingSource:y,isFirstMsg:f,isForwarded:!1,offlineAttachmentId:m,optimisticMsg:C,quote:k!=null?k:void 0,source:p},attachmentType:"application",chatJid:n,externalId:b};break}default:o("sendToSentQPLLogger").markSendToSentPoint(g,"unknown_file_type_sendMediaMsg_not_fired"),c.addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment").mustfix("sendSecureAttachment: Failed while sending attachment, unknown attachment type %s",d.type)}var w;switch(d.type){case"image":w=8;break;case"video":w=10;break;case"audio":w=11;break;case"document":w=34;break}if(c.debug("Send attachment message is done"),s.onReady(function(n){var r=(e||(e=o("I64"))).to_string(a);return n.log(t,{actor:l,attachmentFbids:[],attachmentType:w,backend:1,hasReply:!1,messagingThreadId:r,offlineThreadingId:m,sendType:0,source:p,threadKey:a,threadType:i})}),T==null)return o("WAResultOrError").makeError({isRetriable:!1,type:"send-media-msg-args-null"});var A=o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers.extends({},T,{mimeType:d.file.type,plaintext:(E=d.plaintext)!=null?E:await o("WABlobToArrayBuffer").blobToArrayBuffer(d.file),qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:g}),{timeoutMs:u});return o("sendToSentQPLLogger").markSendToSentPoint(g,"sending_message_to_wajob_end"),o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:n,externalId:b},A,{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:g},t)}l.sendSecureAttachment=d}),98);
__d("MAWSendFileMsgIfNecessaryV2",["FBLogger","MAWExternalId","MAWSendSecureAttachment","Promise","WAResultOrError","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i=a.actorId,l=a.attachments,s=a.axLabels,u=a.chatJid,c=a.ephemeralSetting,d=a.hdMediaMap,m=a.initiatingSource,p=a.isFirstMsg,_=a.lssTraceApi,f=a.mediaGroupMetadataMap,g=a.offlineAttachmentIdToMessageData,h=a.reply,y=a.s2sInstanceKey,C=a.source,b=a.thread;if(l.length===0)return o("sendToSentQPLLogger").markSendToSentFail(y,"empty_attachments"),(e||(e=n("Promise"))).resolve([o("WAResultOrError").makeError({isRetriable:!1,type:"empty-attachments"})]);o("sendToSentQPLLogger").markSendToSentPoint(y,"send_attachment_start",null,{int:{attachment_count:l.length}});var v=l.map(function(e){var n,r,a,l=e[0],v=e[1],S=g==null?void 0:g.get(v),R=(n=d==null?void 0:d.get(v))!=null?n:void 0;return o("MAWSendSecureAttachment").sendSecureAttachment(t,u,b.threadKey,b.threadType,i,l,v,C,h,p,y,c,m,S==null?void 0:{msgId:S==null?void 0:S.messageExternalId,ts:S==null?void 0:S.offlineMsgTimestamp},(r=S==null?void 0:S.messageExternalId)!=null?r:o("MAWExternalId").generateExternalId(),f==null?void 0:f.get(v),R,(a=s==null?void 0:s.get(v))!=null?a:void 0,_)});return(e||(e=n("Promise"))).all(v).then(function(e){var t=e==null?void 0:e.find(function(e){return(e==null?void 0:e.success)===!1});return o("sendToSentQPLLogger").markSendToSentPoint(y,"send_attachment_end"),t!=null?[t]:e}).catch(function(e){throw o("sendToSentQPLLogger").markSendToSentFail(y,"send_attachment_fail",e),e instanceof Error?r("FBLogger")("messenger_web_media").catching(e).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):r("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",e.message),e})}l.sendFileMsgIfNecessaryV2=s}),98);
__d("useMAWCreateOptimisticSecureMessageWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MWPActor.react","Promise","QPLUserFlow","qpl","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var t=o("react-compiler-runtime").c(3),a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;return t[0]!==a||t[1]!==l?(u=function(s,u,c,d,m,p,_,f,g,h,y){return f==null?(e||(e=n("Promise"))).resolve():(r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message_with_attachment",{instanceKey:p}),a.runInTransaction(function(e){return o("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(a,e,l,s,u,d,m,p,_,f,g,h,y)},"readwrite","ui",void 0,i.id+":69"))},t[0]=a,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("useMarkOptimisticMessagesAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useAsyncReStore")(),n;return e[0]!==t?(n=async function(n,o,a){var e=await t;return e.runInTransaction(async function(e){for(var t of n)await r("LSMarkOptimisticMessageFailedStoredProcedure")(r("LSFactory")(e),{errorMessage:o,isRetryable:a,optimisticMid:t})},"readwrite",void 0,void 0,i.id+":32")},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);
__d("useMaybeCreateThreadForMAWSendSecurMessageV2",["LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MAWWaitForBackendSetup","QPLUserFlow","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return u}async function u(t,n){r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_start",{instanceKey:n});var a=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_success",{instanceKey:n}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"participant_ids_fetched",{instanceKey:n}),o("sendToSentQPLLogger").markSendToSentPoint(n,"maybe_create_mi_thread_start"),o("MAWWaitForBackendSetup").waitForBackendSetup("maybe-create-thread-for-send").then(function(){return o("sendToSentQPLLogger").markSendToSentPoint(n,"maybe_create_mi_thread_backend_setup_complete"),r("MAWMiActMaybeCreateActThread")(a,t,"maybe-create-thread-for-send",n)}).then(function(e){return o("sendToSentQPLLogger").markSendToSentPoint(n,"maybe_create_mi_thread_end"),e})}l.default=s}),98);
__d("useMAWSendSecureGifAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WAMediaQplHelper","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureGifAttachmentMessage"]);function c(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=o("MAWStateContext.react").useDispatchOptimisticSendMessage(),c=r("useMarkOptimisticMessagesAsFailed")();return o("Int64Hooks").useCallbackInt64(async function(d){var m=d.accessibilityLabel,p=d.externalAttachmentUrl,_=d.lssTraceApi,f=d.messageExternalId,g=d.onGenerateOfflineMsgId,h=d.reply,y=d.s2sInstanceKey,C=d.source,b=d.thread;u.debug("Starting GIF attachment message send");var v=new Map,S;try{var R=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId()),L=await Promise.all([(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n(b.threadKey,y)]),E=L[0],k=L[1];S=k;var I=await o("MAWGetEphemeralSettings").getEphemeralSetting(S.jid,b.threadKey);r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:y}),_==null||_.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");var T=await o("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(p,y),D=new File([T],"gifFromPicker",{type:T.type});_==null||_.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming"),o("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(D.size)}}),_==null||_.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(D.size)),_==null||_.addMarkerPoint("create_optimistic_message_start","AppTiming");var x=await o("MAWImagePreProcess").optimisticImagePreprocess(D,!1),$=await i(h,b.threadKey,S,R,x,y,g,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE),f);$!=null?(v.set(R,{messageExternalId:f,offlineMsgTimestamp:$.offlineMsgTimestamp}),l($.messageExternalId,$.offlineMsgTimestamp),_==null||_.addMarkerPoint("create_optimistic_message_success","AppTiming")):(u.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),_==null||_.addMarkerPoint("create_optimistic_message_fail","AppTiming")),_==null||_.addMarkerPoint("preprocess_start","AppTiming");var P=await o("MAWImagePreProcess").imagePreprocess(D,!1);_==null||_.addMarkerPoint("preprocess_end","AppTiming");var N=[[P,R]],M=new Map;M.set(R,m);var w={actorId:t,attachments:N,axLabels:M,chatJid:S.jid,db:E,ephemeralSetting:I,initiatingSource:a,isFirstMsg:S.isCreated,lssTraceApi:_,offlineAttachmentIdToMessageData:v,reply:h,s2sInstanceKey:y,source:C,thread:b};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(E,w)}catch(e){var A=e instanceof Error?e.message:"Fail to send secure attachment message",F=Array.from(v.values()).map(function(e){var t=e.messageExternalId;return t});throw S&&await c(F,A,!1),u.catching(e).mustfix("Send GIF attachment message failed"),e}},[t,i,l,a,c,n])}l.default=c}),98);
__d("MAWSendExternalLinkXMAV2",["ConstUriUtils","MAWBridgeSendAndReceive","MAWExternalId","MAWExternalLinkUtil","MAWGetEphemeralSettings","MAWImagePreProcess","MAWMessageSendReporter","MAWParseXMAProtocol","MAWXMALoggingUtils","MWPBumpEntityKey","WAArmadilloXMA.pb","WALogger","WAMediaQplHelper","WAResultOrError","justknobx","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n){var a,i,l,s,u,c,d,m=t.chatJid,p=t.commands,_=t.lssTraceApi,f=t.mentionedJids,g=t.message,h=t.offlineAttachmentId,y=t.optimisticMessageData,C=t.previewBlob,b=t.quote,v=t.s2sInstanceKey,S=t.source,R=t.threadKey,L=t.xmaData;_==null||_.addMarkerPoint("send_secure_link_preview_xma_message_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(v,"send_secure_link_preview_xma_message_start");var E=await o("MAWGetEphemeralSettings").getEphemeralSetting(m,R),k=void 0;if(C!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(C.type)){var I=new File([C],"preview",{type:C.type}),T=await o("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(I,r("justknobx")._("2033")),D=new File([T.jpegThumbnail],"preview",{type:"image/jpeg"});k={file:D,height:T.height,width:T.width},_==null||_.addAnnotation("sent_xma_preview_file_size_bucket",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(k.file.size)),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:{sent_xma_preview_file_size_bucket:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(k.file.size)}})}_==null||_.addAnnotationBoolean("has_xma_preview",k!=null),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{bool:{has_xma_preview:k!=null}});var x={commands:p?Array.from(p):void 0,content:g,ephemeralSetting:E==null?void 0:E,mentionedJids:f?Array.from(f):void 0,offlineAttachmentId:h==null?void 0:h,optimisticMsg:y==null?void 0:{msgId:y==null?void 0:y.messageExternalId,ts:y==null?void 0:y.offlineMsgTimestamp},quote:b,source:S,xmaMessageType:o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE},$=(a=o("ConstUriUtils").getUri(L.url))==null?void 0:a.getDomain(),P=o("MAWXMALoggingUtils").getXmaTargetTypeStringFromEnum(x.xmaMessageType);_==null||_.addAnnotation("xmaTargetType",P!=null?P:"undefined"),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:{xmaTargetType:P}}),o("ConstUriUtils").isValidUri(L.url)||o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(['S410301 The externalLinkUrl set as native and action URL in XMA is not a valid URI"']))),o("MAWParseXMAProtocol").isURLValid(L.url,o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,!1,!0)?o("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_valid"):o("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_invalid");var N={defaultCTA:{actionUrl:L.url,buttonType:o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:L.url},overlayIconGlyph:void 0,subtitleText:L.author_name,titleText:(i=L.title)!=null?i:$};_==null||_.addMarkerPoint("sending_message_to_wajob_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(v,"sending_message_to_wajob_start");var M=(l=y==null?void 0:y.messageExternalId)!=null?l:o("MAWExternalId").generateExternalId();o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:{attachment_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket((s=(u=k)==null?void 0:u.file.size)!=null?s:0)}}),_==null||_.addMetadata("attachment_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket((c=(d=k)==null?void 0:d.file.size)!=null?c:0));var w=o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:x,chatJid:m,previewFile:k!=null?k:void 0,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:v,xmaArgs:N,xmaMsgExternalId:M});return _==null||_.addMarkerPoint("sending_message_to_wajob_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(v,"sending_message_to_wajob_end"),await o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:m,externalId:M},w,{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:v},n),o("WAResultOrError").makeResult({description:"removal pending rollout of MAWMessageSendReporterV2",messageType:"fixMe"})}l.sendExternalLinkXMAV2=s}),98);
__d("useMAWCreateOptimisticSecureMessageV2",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MWPActor.react","QPLUserFlow","qpl","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(){var e=o("react-compiler-runtime").c(3),t=r("useAsyncReStore")(),n=o("MWPActor.react").useActor(),a;return e[0]!==t||e[1]!==n?(a=function(a,l,u,c,d,m,p,_,f,g,h){return Promise.resolve(t).then(async function(e){return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:d}),e.runInTransaction(async function(t){r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message",{instanceKey:d});var i=o("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),y=(s||(s=o("I64"))).of_float(i);p(_),h==null||h.addMarkerPoint("set_offline_message_external_id_for_secure_message","AppTiming");var C=await o("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(e,t,n,a,l,u,c,d,m,_,y,1,f,g);return await t.messages.add(C),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:d}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:d}),await o("MAWOptimisticMessageUtils").optimisticBumpThread(t,{threadKey:u}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:d}),{messageExternalId:_,offlineMsgTimestamp:i}},"readwrite","ui",void 0,i.id+":71")})},e[0]=t,e[1]=n,e[2]=a):a=e[2],a}l.default=c}),98);
__d("useMAWSendSecureTextMessage",["MAWDbMsg","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWStateContext.react","MAWVault","MWFBLogger","emptyFunction","promiseDone","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageV2","useMAWSendMessageV2","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),n=r("useMAWSendMessageV2")(),a=r("useMAWCreateOptimisticSecureMessageV2")(),i=r("useMarkOptimisticMessagesAsFailed")(),l=o("MAWStateContext.react").useDispatchOptimisticSendMessage();return u(async function(s,u){var c=u.commands,d=u.hotEmojiSize,m=u.lssTraceApi,p=u.mentionedJids,_=u.messageExternalId,f=u.messageText,g=u.onGenerateOfflineMsgId,h=u.reply,y=u.s2sInstanceKey,C=u.source,b=u.thread;o("sendToSentQPLLogger").markSendToSentPoint(y,"send_secure_message_start");var v=null;try{m==null||m.addMarkerPoint("create_optimistic_message_start","AppTiming");var S=await Promise.all([o("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",y,function(){return t(b.threadKey,y)}),o("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",y,function(){return a(h,o("MAWVault").vault(f),b.threadKey,d,y,p,g!=null?g:r("emptyFunction"),_,c,void 0,m)})]),R=S[0],L=S[1];m==null||m.addMarkerPoint("create_optimistic_message_end","AppTiming");var E=L.offlineMsgTimestamp;l(L.messageExternalId,Date.now()),o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_ephemeral_settings_start"),v=v===null?await o("MAWGetEphemeralSettings").getEphemeralSetting(R.jid,b.threadKey):v,o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_ephemeral_settings_end");var k=null;if(h!=null){o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_reply_message_start");var I=o("MAWDbMsg").toMsgId(h.messageId);I!=null&&(k=await o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(I)),o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_reply_message_end")}return await n(s,b.threadKey,b.threadType,R.jid,f,C,void 0,_,E,d,R.isCreated,void 0,void 0,k,v,p,y,_,c)}catch(t){var T=t instanceof Error?t.message:"Fail to send secure text message";throw _!=null&&r("promiseDone")(i([_],T,!1)),o("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureTextMessage"]).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Send text message failed: ",""])),JSON.stringify(t)),t}},[a,l,i,t,n])}l.default=c}),98);
__d("useMAWSendSecureLinkXMAMessage",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","E2EELinkPreviewXMASendStatus","I64","LSXmaContentType","MAWDbMsg","MAWExternalId","MAWExternalLinkUtil","MAWFetchXMABlob","MAWFindFirstUrl","MAWGetProtocolMsgIdByMsgIdInUI","MAWImagePreProcess","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MAWParseLinkPreviewXMAData","MAWSendExternalLinkXMAV2","MAWStateContext.react","MAWVault","MWFBLogger","MWPBumpEntityKey","ReQL","WAMediaQplHelper","clearTimeout","emptyFunction","isFacebookURI","justknobx","react","sendToSentQPLLogger","setTimeout","useMAWCreateOptimisticSecureMessageWithXMAAttachment","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureTextMessage","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=o("MWFBLogger").MWSharingLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureLinkXMAMessage"]);function d(e){var t=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),n=r("useMAWSendSecureTextMessage")(),a=o("useMAWCreateOptimisticSecureMessageWithXMAAttachment").useMAWCreateOptimisticSecureMessageWithXMAAttachment(),i=o("MAWStateContext.react").useDispatchOptimisticSendMessage(),l=r("useMarkOptimisticMessagesAsFailed")(),d=r("useMAWDeleteLinkPreviewXMATableData")(e);return u(async function(e,u){var y=u.commands,C=u.currentDraftId,b=u.lssTraceApi,v=u.mentionedJids,S=u.messageExternalId,R=u.messageText,L=u.onGenerateOfflineMsgId,E=u.reply,k=u.s2sInstanceKey,I=u.source,T=u.thread,D=u.threadKey;c.debug("Starting Link Preview XMA attachment message send");var x=o("MAWFindFirstUrl").findFirstUrl(R),$=x.length>0?x[0]:null;m(e,C);var P;try{var N,M,w;b==null||b.addMarkerPoint("get_link_preview_data_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"get_link_preview_data_start");var A=await p(e,C,k,b),F=A==null?void 0:A.xmaData,O=o("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(A==null?void 0:A.dataType,r("E2EELinkPreviewXMADataType").OEMBED),B=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(A==null?void 0:A.dataStatus,r("E2EELinkPreviewXMADataStatus").DISABLED);if(o("sendToSentQPLLogger").addSendToSentAnnotations(k,{bool:{has_xma_data:F!=null,is_link_preview_oembed_data:O}}),b==null||b.addAnnotationBoolean("has_xma_data",F!=null),b==null||b.addAnnotationBoolean("is_link_preview_oembed_data",O),C==null||$==null||B)return b==null||b.addMarkerPoint("send_link_message_as_text","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"send_link_message_as_text"),n(e,{commands:y,lssTraceApi:b,mentionedJids:v,messageExternalId:S,messageText:R,onGenerateOfflineMsgId:L,reply:E,s2sInstanceKey:k,source:I,thread:T});var W={title:(N=o("ConstUriUtils").getUri($.entity.url))==null?void 0:N.getDomain(),url:$.entity.url},q=F!=null?F:W;b==null||b.addMarkerPoint("get_link_preview_data_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"get_link_preview_data_end");var U=await g(E);b==null||b.addMarkerPoint("set_offline_attachment_id","AppTiming"),P=await o("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",k,function(){return t(D,k)}),b==null||b.addMarkerPoint("fetch_link_preview_blob_start","AppTiming");var V=await o("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",k,function(){return _(O,F)});f(k,V),b==null||b.addMarkerPoint("fetch_link_preview_blob_end","AppTiming"),b==null||b.addMarkerPoint("create_optimistic_message_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"create_optimistic_message_start");var H=null;if(V!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(V.type)){var G=new File([V],"preview",{type:V.type});H=await o("MAWImagePreProcess").optimisticImagePreprocess(G)}var z=o("MAWExternalId").generateExternalId(),j=await a({commands:y,instanceKey:k,lssTraceApi:b,mentionedJids:v,messageExternalId:S,messageText:o("MAWVault").vault(R),offlineAttachmentId:z,onOfflineMsgId:L!=null?L:r("emptyFunction"),optimisticMediaAttachment:H,reply:E,subtitleText:q==null?void 0:q.author_name,threadKey:T.threadKey,titleText:q==null?void 0:q.title,xmaContentType:(s||(s=o("I64"))).of_int32(r("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE)}),K=j!=null?{messageExternalId:S,offlineMsgTimestamp:j.offlineMsgTimestamp}:void 0;K!=null?(b==null||b.addMarkerPoint("dispatch_optimistic_send_message","AppTiming"),i(K.messageExternalId,K.offlineMsgTimestamp),b==null||b.addMarkerPoint("create_optimistic_message_success","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"create_optimistic_message_end")):(c.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),b==null||b.addMarkerPoint("create_optimistic_message_fail","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"create_optimistic_message_fail"));var Q=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(A==null?void 0:A.dataStatus,r("E2EELinkPreviewXMADataStatus").LOADED),X={chatJid:P.jid,commands:y,lssTraceApi:b,mentionedJids:v,message:R,offlineAttachmentId:z,optimisticMessageData:K,quote:U!=null?U:void 0,s2sInstanceKey:k,source:I,threadKey:D};if(o("MWPBumpEntityKey").bumpEntityKey("maw.send_secure_link_xma",F==null?"xma_data_is_null":"xma_data_is_not_null"),F!=null&&!Q){var Y,J;b==null||b.addMarkerPoint("wait_for_link_preview_data_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"wait_for_link_preview_data_start");var Z=await h(e,C,k,d),ee=Z.previewBlob,te=Z.xmaData,ne=(te==null?void 0:te.url)!=null?o("ConstUriUtils").getUri(te.url):null,re=ne!=null?r("isFacebookURI")(ne):!1;return b==null||b.addAnnotationBoolean("has_preview_blob",ee!=null),b==null||b.addAnnotationBoolean("has_xma_data",te!=null),b==null||b.addAnnotationBoolean("is_facebook_link",re),o("sendToSentQPLLogger").addSendToSentAnnotations(k,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket((Y=ee==null?void 0:ee.size)!=null?Y:0)}}),b==null||b.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket((J=ee==null?void 0:ee.size)!=null?J:0)),o("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers.extends({},X,{previewBlob:ee,xmaData:te!=null?te:W}),e)}else b==null||b.addMarkerPoint("wait_for_link_preview_data_skipped","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(k,"wait_for_link_preview_data_skipped");var oe=(F==null?void 0:F.url)!=null?o("ConstUriUtils").getUri(F.url):null,ae=oe!=null?r("isFacebookURI")(oe):!1;return b==null||b.addAnnotationBoolean("has_preview_blob",V!=null),b==null||b.addAnnotationBoolean("has_xma_data",F!=null),b==null||b.addAnnotationBoolean("is_facebook_link",ae),o("sendToSentQPLLogger").addSendToSentAnnotations(k,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket((M=V==null?void 0:V.size)!=null?M:0)}}),b==null||b.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket((w=V==null?void 0:V.size)!=null?w:0)),o("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers.extends({},X,{previewBlob:V,xmaData:q}),e)}catch(e){var ie=e instanceof Error?e.message:"Fail to send secure attachment message";throw P!=null&&await l([S],ie,!1),c.catching(e).mustfix("[External link] Failed to send external link XMA "),e}},[a,d,i,l,t,n])}async function m(e,t){t!=null&&await e.runInTransaction(async function(e){var n=await e.e2ee_composer_draft_link_preview.get(t);await e.e2ee_composer_draft_link_preview.upsert([t],babelHelpers.extends({},n,{draftId:t,sendStatus:(s||(s=o("I64"))).of_int32(r("E2EELinkPreviewXMASendStatus").SENDING)}))},"readwrite",void 0,void 0,i.id+":459")}async function p(e,t,n,a){if(t==null)return o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_no_draft_id"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_no_draft_id","AppTiming"),null;o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_start"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_start","AppTiming");var l=null,s=await Promise.race([e.runInTransaction(function(e){return e.e2ee_composer_draft_link_preview.get(t)},"readonly",void 0,void 0,i.id+":503"),new Promise(function(e){l=r("setTimeout")(function(){o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_timeout"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_timeout","AppTiming"),e(void 0)},r("justknobx")._("3137"))})]);return r("clearTimeout")(l),o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_end"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_end","AppTiming"),o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(s==null?void 0:s.status,r("E2EELinkPreviewXMADataStatus").LOADING)&&(o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_still_loading"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_still_loading","AppTiming")),{dataStatus:s==null?void 0:s.status,dataType:s==null?void 0:s.dataType,xmaData:o("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(s)}}var _=function(t,n){return t?o("MAWExternalLinkUtil").getImageBlobResponse({xmaData:n}):o("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"useMAWSendSecureLinkXMAMessage",url:n==null?void 0:n.thumbnail_url,xmaContentType:void 0})},f=function(t,n){o("sendToSentQPLLogger").addSendToSentAnnotations(t,{bool:{has_fetched_xma_preview:n!=null},string:{fetched_xma_preview_file_size_bucket:n!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket(n.size):void 0}})},g=function(t){if(t!=null){var e=o("MAWDbMsg").toMsgId(t.messageId);if(e!=null)return o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(e)}return null};async function h(e,t,n,r){var a={ref:void 0},i=await o("sendToSentQPLLogger").measureSendToSentPerformance("wait_for_link_preview_data",n,function(){return y(e,t,n,r,a)});if(a.ref!=null&&window.clearTimeout(a.ref),i==null)return{previewBlob:null,xmaData:null};var l=i.isOEmbedData,s=i.xmaData,u=await o("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",n,function(){return _(l,s)});return{previewBlob:u,xmaData:s}}function y(e,t,n,a,i){var l=r("justknobx")._("3137");return Promise.race([C(e,t,n,a),new Promise(function(e){i.ref=window.setTimeout(function(){o("sendToSentQPLLogger").markSendToSentPoint(n,"wait_for_link_preview_data_timeout"),e(null)},l)})])}function C(e,t,n,a){return o("sendToSentQPLLogger").markSendToSentPoint(n,"wait_for_link_preview_data_subscribe_to_lsdb_table_start"),new Promise(function(i){var l=o("ReQL").fromTableAscending(e.tables.e2ee_composer_draft_link_preview).getKeyRange(t).subscribe(function(e,s){if(s.operation!=="delete"){var u=s.value,c=o("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(u),d=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(u==null?void 0:u.status,r("E2EELinkPreviewXMADataStatus").LOADED);if(!(!d||c==null)){l(),t!=null&&a({draftId:t});var m=o("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(u==null?void 0:u.dataType,r("E2EELinkPreviewXMADataType").OEMBED);o("sendToSentQPLLogger").markSendToSentPoint(n,"wait_for_link_preview_data_subscribe_to_lsdb_table_end"),i({isOEmbedData:m,xmaData:c})}}})})}l.default=d}),98);
__d("useMAWCreateOptimisticSecureMessagesWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWSendFileMsgTypes","MWPActor.react","Promise","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var t=o("react-compiler-runtime").c(3),a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;return t[0]!==a||t[1]!==l?(u=function(r,s,u,c,d,m,p,_){return a.runInTransaction(function(t){return(e||(e=n("Promise"))).all(p.map(function(i){var u=i.attachmentType,p=i.messageExternalId,f=i.offlineAttachmentId,g=i.optimisticMediaAttachment;if(u==null)return(e||(e=n("Promise"))).resolve();var h=_.get(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(f));return o("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(a,t,l,r,s,f,g,c,d,u,p,m,h)}))},"readwrite","ui",void 0,i.id+":58")},t[0]=a,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("useMAWSendSecureStagedMediaAttachmentMessage",["I64","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWPrepareAttachmentsFromMediaManager","MAWSecureAttachmentGroupingUtils","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WAMediaQplHelper","err","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMAWCreateOptimisticSecureMessagesWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureStagedMediaAttachmentMessage"]);function d(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=o("MAWStateContext.react").useDispatchOptimisticSendMessage(),d=r("useMarkOptimisticMessagesAsFailed")(),m=r("useMAWCreateOptimisticSecureMessagesWithAttachments")();return o("Int64Hooks").useCallbackInt64(async function(i){var p=i.lssTraceApi,_=i.mediaStagings,f=i.messageTypeParams,g=i.onGenerateOfflineMsgId,h=i.reply,y=i.s2sInstanceKey,C=i.source,b=i.thread;c.debug("Starting staged media attachment message send");var v=new Map,S;try{var R=null,L=o("MAWSecureAttachmentGroupingUtils").orderMediaStagingsForGrouping(_);R=o("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMediaStagings(L);var E=L.reduce(function(t,n){return t.set(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(n.offlineAttachmentId),(e||(e=o("I64"))).equal(n.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?n.isHd:void 0),t},new Map),k=!1;E.forEach(function(e){k=k||e===!0}),o("sendToSentQPLLogger").addSendToSentAnnotations(y,{bool:{has_hd_media:k}}),p==null||p.addAnnotationBoolean("has_hd_media",k);var I=new Map;S=await n(b.threadKey,y),p==null||p.addMarkerPoint("create_optimistic_message_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(y,"create_optimistic_message_start");var T=L.map(function(e){var t=o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(e.offlineAttachmentId),n=t==null?void 0:t.optimisticMedia;if(n==null)return c.mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage"),null;var r=o("MAWExternalId").generateExternalId(),a={attachmentType:e.attachmentType,messageExternalId:r,offlineAttachmentId:e.offlineAttachmentId,optimisticMediaAttachment:n};return a}).filter(Boolean),D=await m(h,b.threadKey,S,y,g,R,T,E);D.forEach(function(e){if(e==null||e.offlineAttachmentId==null)return c.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message"),null;v.set(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(e.offlineAttachmentId),{messageExternalId:e.messageExternalId,offlineMsgTimestamp:e.offlineMsgTimestamp}),l(e.messageExternalId,e.offlineMsgTimestamp)}),p==null||p.addMarkerPoint("create_optimistic_message_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(y,"create_optimistic_message_end"),p==null||p.addMarkerPoint("get_preprocess_media_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(y,"get_preprocess_media_start"),await Promise.all(L.map(async function(e){var t=o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(e.offlineAttachmentId);if(t==null){o("sendToSentQPLLogger").markSendToSentPoint(y,"media_attachment_nullfrom_media_manager_attachment_v2"),o("sendToSentQPLLogger").addSendToSentAnnotations(y,{int:{media_manager_attachment_v2_size:o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.size}}),c.mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}await t.processedMediaPromise.then(function(t){I.set(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(e.offlineAttachmentId),t)}).catch(function(e){var t=e instanceof Error?e:r("err")(typeof e=="string"?e:"Fail to preprocess media: "+JSON.stringify(e));throw t}).finally(function(){var e=t.optimisticMedia;e!=null&&r("QPLUserFlow").addAnnotations(r("qpl")._(25313175,"1551"),{string:{optimistic_media_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(e.file.size),optimistic_media_file_type:e.file.type,optimistic_media_type:e.type}},{instanceKey:y}),o("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.originalFile.size)}}),p==null||p.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.originalFile.size))})})).catch(function(e){p==null||p.addMarkerPoint("get_preprocess_media_fail","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(y,"get_preprocess_media_fail"),e instanceof Error&&o("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:{error:e.message}})}),p==null||p.addMarkerPoint("get_preprocess_media_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(y,"get_preprocess_media_end");var x=o("MAWPrepareAttachmentsFromMediaManager").prepareAttachmentsFromMediaManagerImpl(L,f,g,I,y),$=x.attachments;r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"fetch_ls_singleton_db",{instanceKey:y});var P=await(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"ls_singleton_db_resolved",{instanceKey:y}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"thread_result_fetched",{instanceKey:y}),o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_ephemeral_settings_start");var N=await o("MAWGetEphemeralSettings").getEphemeralSetting(S.jid,b.threadKey);o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_ephemeral_settings_end");var M={actorId:t,attachments:$,chatJid:S.jid,db:P,ephemeralSetting:N,hdMediaMap:E,initiatingSource:a,isFirstMsg:S.isCreated,lssTraceApi:p,mediaGroupMetadataMap:R,offlineAttachmentIdToMessageData:v,reply:h,s2sInstanceKey:y,source:C,thread:b};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(P,M)}catch(e){var w=e instanceof Error?e:r("err")(typeof e=="string"?e:"Fail to send secure attachment message: "+JSON.stringify(e)),A=Array.from(v.values()).map(function(e){var t=e.messageExternalId;return t});throw S&&await d(A,w.message,!1),c.catching(w).mustfix("Send staged media attachment message failed"),w}finally{_.map(function(e){return o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.delete(e.offlineAttachmentId)})}},[t,m,l,a,d,n])}l.default=d}),98);
__d("useMAWSendSecureStickerAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWPActor.react","MessagingAttachmentType","WAMediaQplHelper","gkx","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureStickerAttachmentMessage"]);function c(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=o("MAWStateContext.react").useDispatchOptimisticSendMessage(),c=r("useMarkOptimisticMessagesAsFailed")();return o("Int64Hooks").useCallbackInt64(async function(d){var m=d.accessibilityLabel,p=d.externalAttachmentUrl,_=d.lssTraceApi,f=d.messageExternalId,g=d.onGenerateOfflineMsgId,h=d.reply,y=d.s2sInstanceKey,C=d.source,b=d.stickerId,v=d.thread;o("sendToSentQPLLogger").markSendToSentPoint(y,"send_secure_message_start"),u.debug("Starting sticker attachment message send");var S=new Map,R;try{var L=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId()),E=await Promise.all([(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n(v.threadKey,y)]),k=E[0],I=E[1];R=I,o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_ephemeral_settings_start");var T=await o("MAWGetEphemeralSettings").getEphemeralSetting(R.jid,v.threadKey);o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_ephemeral_settings_end"),o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_external_attachment_blob_start"),_==null||_.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");var D=await o("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(p,y),x=new File([D],"stickerFromPicker",{type:D.type});o("sendToSentQPLLogger").markSendToSentPoint(y,"fetch_external_attachment_blob_end"),_==null||_.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming"),_==null||_.addMarkerPoint("create_optimistic_message_start","AppTiming"),o("sendToSentQPLLogger").addSendToSentAnnotations(y,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(x.size)}}),_==null||_.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(x.size)),o("sendToSentQPLLogger").markSendToSentPoint(y,"optimist_image_preprocess_start");var $=await o("MAWImagePreProcess").optimisticImagePreprocess(x,!0);o("sendToSentQPLLogger").markSendToSentPoint(y,"optimist_image_preprocess_end"),o("sendToSentQPLLogger").markSendToSentPoint(y,"create_optimistic_message_start");var P=await i(h,v.threadKey,R,L,$,y,g,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER),f);P!=null?(S.set(L,{messageExternalId:f,offlineMsgTimestamp:P.offlineMsgTimestamp}),l(P.messageExternalId,P.offlineMsgTimestamp),o("sendToSentQPLLogger").markSendToSentPoint(y,"create_optimistic_message_end"),_==null||_.addMarkerPoint("create_optimistic_message_end","AppTiming")):(u.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for sticker"),o("sendToSentQPLLogger").markSendToSentPoint(y,"create_optimistic_message_fail"),_==null||_.addMarkerPoint("create_optimistic_message_fail","AppTiming")),o("sendToSentQPLLogger").markSendToSentPoint(y,"image_preprocess_start"),_==null||_.addMarkerPoint("image_preprocess_start","AppTiming");var N=r("gkx")("8057")?await o("MAWImagePreProcess").stickerPreprocess(x,b):await o("MAWImagePreProcess").imagePreprocess(x,!0);o("sendToSentQPLLogger").markSendToSentPoint(y,"image_preprocess_end"),_==null||_.addMarkerPoint("image_preprocess_end","AppTiming");var M=[[N,L]],w=new Map;w.set(L,m);var A={actorId:t,attachments:M,axLabels:w,chatJid:R.jid,db:k,ephemeralSetting:T,initiatingSource:a,isFirstMsg:R.isCreated,lssTraceApi:_,offlineAttachmentIdToMessageData:S,reply:h,s2sInstanceKey:y,source:C,thread:v};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(k,A)}catch(e){var F=e instanceof Error?e.message:"Fail to send secure attachment message",O=Array.from(S.values()).map(function(e){var t=e.messageExternalId;return t});throw R&&await c(O,F,!1),u.catching(e).mustfix("Send sticker attachment message failed"),e}},[t,i,l,a,c,n])}l.default=c}),98);
__d("useMAWSendSecureVoiceClipAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWAudioPreProcess","MAWExternalId","MAWGetEphemeralSettings","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWMediaRenderQplUtils","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WABlobToArrayBuffer","WAMediaQplHelper","getErrorSafe","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureVoiceClipAttachmentMessage"]);function c(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=o("MAWStateContext.react").useDispatchOptimisticSendMessage(),c=r("useMarkOptimisticMessagesAsFailed")();return o("Int64Hooks").useCallbackInt64(async function(d){var m=d.lssTraceApi,p=d.messageExternalId,_=d.onGenerateOfflineMsgId,f=d.reply,g=d.s2sInstanceKey,h=d.source,y=d.thread,C=d.voiceClip;u.debug("Starting voice clip attachment message send");var b=new Map,v;try{var S=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId()),R=await Promise.all([(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n(y.threadKey,g)]),L=R[0],E=R[1];v=E;var k=await o("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,y.threadKey);r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:g}),o("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{audio_duration_bucket:o("MWMediaRenderQplUtils").convertDurationToStringBucket(C.duration||0),original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(C.file.size)}}),m==null||m.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(C.file.size));var I=await o("MAWAudioPreProcess").optimisticAudioPreprocess(C.file,{voiceClipDuration:C.duration});m==null||m.addMarkerPoint("create_optimistic_message_start","AppTiming");var T=await i(f,y.threadKey,v,S,I,g,_,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO),p);T!=null?(b.set(S,{messageExternalId:p,offlineMsgTimestamp:T.offlineMsgTimestamp}),l(T.messageExternalId,T.offlineMsgTimestamp),m==null||m.addMarkerPoint("create_optimistic_message_success","AppTiming")):(u.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),m==null||m.addMarkerPoint("create_optimistic_message_fail","AppTiming"));var D={durations:C.duration||0,file:C.file,isPtt:!0,plaintext:await o("WABlobToArrayBuffer").blobToArrayBuffer(C.file),type:"audio"},x=[[D,S]],$={actorId:t,attachments:x,chatJid:v.jid,db:L,ephemeralSetting:k,initiatingSource:a,isFirstMsg:v.isCreated,lssTraceApi:m,offlineAttachmentIdToMessageData:b,reply:f,s2sInstanceKey:g,source:h,thread:y};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(L,$)}catch(e){var P=r("getErrorSafe")(e),N=Array.from(b.values()).map(function(e){var t=e.messageExternalId;return t});throw v&&await c(N,P.message,!1),u.catching(P).mustfix("Send voice clip attachment message failed: %s",P.message),P}},[t,i,l,a,c,n])}l.default=c}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(2),a=(s||(s=r("useReStore")))(),l;return t[0]!==a?(l=function(r){return o("LSMessagingThreadTypeUtil").isOneToOne(r.threadType)?a.runInTransaction(function(e){return o("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(e,r.threadKey)},"readwrite",void 0,void 0,i.id+":37"):(e||(e=n("Promise"))).resolve()},t[0]=a,t[1]=l):l=t[1],l}l.default=d}),98);
__d("useMAWSendSecureMessageV2Impl",["I64","Int64Hooks","LSContactListConversionAttributionStore","LSIntEnum","LSMessagingThreadTypeUtil","MAWMIC","MAWMICInternal","MAWOptimisticUpdateContactRelationship","MAWThreadLoadingState","MAWThreadMappingUtils","MWFBLogger","MWLSLogSend","MWPActor.react","MWPBumpEntityKey","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","WAGetSafeQPLError","err","promiseDone","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureGifAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureStagedMediaAttachmentMessage","useMAWSendSecureStickerAttachmentMessage","useMAWSendSecureTextMessage","useMAWSendSecureVoiceClipAttachmentMessage","useMAWUpdateThreadCapabilities","useMWLSDefaultThreadSourceAndResetAttribution","useMWLSUnarchiveThread","waitForMAWMIC"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext,d=o("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2"]);function m(e,t,n){var a=o("react-compiler-runtime").c(31),i=o("MWPActor.react").useActor(),l=c(o("MWPReplyContext.react").MWPReplyContext),m=l.clearReply,g=r("useAsyncReStore")(),h=r("useMAWSendSecureTextMessage")(),y=r("useMAWSendSecureLinkXMAMessage")(t),C=r("useMAWDeleteLinkPreviewXMATableData")(t),b=r("useMAWSendSecureGifAttachmentMessage")(),v=r("useMAWSendSecureStagedMediaAttachmentMessage")(),S=r("useMAWSendSecureStickerAttachmentMessage")(),R=r("useMAWSendSecureVoiceClipAttachmentMessage")(),L=r("useMWLSUnarchiveThread")(),E=r("useMAWUpdateThreadCapabilities")(),k=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(n,t),I=r("useMWLSDefaultThreadSourceAndResetAttribution")(),T;a[0]!==i||a[1]!==m||a[2]!==g||a[3]!==C||a[4]!==e||a[5]!==b||a[6]!==y||a[7]!==v||a[8]!==S||a[9]!==h||a[10]!==R||a[11]!==k||a[12]!==L||a[13]!==E?(T=async function(n){var t=n.accessibilityLabel,a=n.commands,l=n.composerEntrypointForLogging,c=n.currentDraftId,I=n.externalAttachmentUrl,T=n.hotEmojiSize,D=n.lssTraceApi,x=n.mediaStagings,$=n.mentionedJids,P=n.messageExternalId,N=n.messageText,M=n.messageTypeParams,w=n.reply,A=n.s2sInstanceKey,F=n.source,O=n.stickerId,B=n.thread,W=n.voiceClip,q=o("MAWMIC").duringMIC();o("sendToSentQPLLogger").addSendToSentAnnotations(A,{bool:{during_mic:q}}),q&&(o("sendToSentQPLLogger").markSendToSentPoint(A,"mic_track_start"),o("sendToSentQPLLogger").addSendToSentAnnotations(A,{string_array:{mic_events:Array.from(o("MAWMICInternal").getRemainingRequiredEvents())}}),r("promiseDone")(o("waitForMAWMIC").promise,function(){o("sendToSentQPLLogger").markSendToSentPoint(A,"mic_track_end")})),d.debug("Starting message send"),o("sendToSentQPLLogger").markSendToSentPoint(A,"send_secure_message_start"),D.addMarkerPoint("send_secure_message_started","AppTiming");var U=await g;D.addAnnotation("thread_authority_level",(s||(s=o("I64"))).to_string(B.authorityLevel)),r("promiseDone")(o("MAWThreadMappingUtils").getChatJidFromMappingTable(U.tables,B.threadKey),function(e){e!=null&&o("MAWThreadLoadingState").genLoadingStateFromJid(U.tables,e).then(function(e){D.addAnnotation("thread_mapping_act_state",e.actState),D.addAnnotation("thread_mapping_mi_state",e.miState),o("sendToSentQPLLogger").addSendToSentAnnotations(A,{string:{thread_authority_level:(s||(s=o("I64"))).to_string(B.authorityLevel),thread_mapping_act_state:e.actState,thread_mapping_mi_state:e.miState}})}).finally(f)});var V=o("LSMessagingThreadTypeUtil").isMessageRequest(B),H=s.equal(B.parentThreadKey,(u||(u=o("LSIntEnum"))).ofNumber(-10));o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(D,M,B,l);var G=function(t){o("MWLSLogSend").logSentHeroInteraction(D,t,{isMessageRequest:V,mwVersion:o("MWVersion").v2,source:(u||(u=o("LSIntEnum"))).unwrapIntEnum(F),threadType:B.threadType}),o("sendToSentQPLLogger").markSendToSentPoint(A,"offline_msg_id_generated")},z=[],j=M.hasAttachment,K=M.hasLinks,Q=j===void 0?!1:j,X=K===void 0?!1:K;N!=null&&N!==""&&(X?(z.push(y(U,{commands:a,currentDraftId:c,lssTraceApi:D,mentionedJids:$,messageExternalId:P,messageText:N,onGenerateOfflineMsgId:Q?void 0:G,reply:w,s2sInstanceKey:A,source:F,thread:B,threadKey:B.threadKey}).then(function(e){return c!=null&&C({draftId:c}),e})),o("sendToSentQPLLogger").markSendToSentPoint(A,"link_xma_message_promise_pushed_to_send_promises")):(z.push(h(U,{commands:a,hotEmojiSize:T,lssTraceApi:D,mentionedJids:$,messageExternalId:P,messageText:N,onGenerateOfflineMsgId:Q?void 0:G,reply:w,s2sInstanceKey:A,source:F,thread:B})),o("sendToSentQPLLogger").markSendToSentPoint(A,"text_message_promise_pushed_to_send_promises")));var Y=!0;return Q&&(O!=null&&I!=null?(z.push(S({accessibilityLabel:t==null?void 0:t.toString(),externalAttachmentUrl:I,lssTraceApi:D,messageExternalId:P,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,stickerId:O,thread:B})),o("sendToSentQPLLogger").markSendToSentPoint(A,"sticker_message_promise_pushed_to_send_promises"),Y=!1):I!=null?(z.push(b({accessibilityLabel:t==null?void 0:t.toString(),externalAttachmentUrl:I,lssTraceApi:D,messageExternalId:P,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,thread:B})),Y=!1):W!=null?(z.push(R({lssTraceApi:D,messageExternalId:P,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,thread:B,voiceClip:W})),o("sendToSentQPLLogger").markSendToSentPoint(A,"voice_clip_message_promise_pushed_to_send_promises"),Y=!1):x.length>0?(z.push(v({lssTraceApi:D,mediaStagings:x,messageTypeParams:M,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,thread:B})),o("sendToSentQPLLogger").markSendToSentPoint(A,"staged_media_message_promise_pushed_to_send_promises")):(o("sendToSentQPLLogger").markSendToSentPoint(A,"no_send_promises_pushed_to_send_promises"),d.mustfix("Unable to send attachment in useMAWSendSecureMessageV2Impl: incorrect params"))),Y&&e(),m(B.threadKey,!1),o("sendToSentQPLLogger").markSendToSentPoint(A,"attachment_and_reply_data_cleared"),z.length===0?(o("sendToSentQPLLogger").markSendToSentPoint(A,"create_send_promises_fail"),z.push(new Promise(function(e,t){t(r("err")("No send actions taken because hasAttachment="+Q.toString()))}))):(o("sendToSentQPLLogger").markSendToSentPoint(A,"create_send_promises_end",void 0,{int:{send_promise_count:z.length}}),D.addMetadata("send_promises_count",z.length)),o("sendToSentQPLLogger").markSendToSentPoint(A,"resolve_send_promises_start"),(z.length>1||x.length>1)&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_message_send","send:"+z.length+".media:"+x.length),Promise.all(z).then(_).then(async function(e){o("sendToSentQPLLogger").markSendToSentPoint(A,"resolve_send_promises_end"),N!=null&&N!==""&&X&&o("sendToSentQPLLogger").markSendToSentSuccess(A),d.debug("Message send finished");var t=o("LSContactListConversionAttributionStore").getAttribution(k);t!=null&&k!=null&&(t.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(t):t.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(t),o("LSContactListConversionAttributionStore").resetAttribution(k)),o("MAWOptimisticUpdateContactRelationship").call(B,U,i),await E(B),V&&o("MessageRequestsLog").logActionConfirmed(B,1),H&&L(B.threadKey);var n=e==null?void 0:e.find(p);return o("sendToSentQPLLogger").markSendToSentPoint(A,"send_attachment_end"),n!=null?[n]:e}).catch(function(e){if(o("sendToSentQPLLogger").markSendToSentFail(A,"message_send_fail",e),e instanceof Error){var t;d.catching(e).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+Q.toString()).mustfix("Failed while sending %s secure messages in useMAWSendSecureMessageV2Impl: %s",z.length,(t=e.message)!=null?t:String(e))}else d.addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+Q.toString()).catching(e).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl");throw D==null||D.addAnnotation("failType","failSendSecureMessage"),D==null||D.failTrace("Failed while sending secure message - "+o("WAGetSafeQPLError").getSafeQPLErrorMessage(e),!0),e})},a[0]=i,a[1]=m,a[2]=g,a[3]=C,a[4]=e,a[5]=b,a[6]=y,a[7]=v,a[8]=S,a[9]=h,a[10]=R,a[11]=k,a[12]=L,a[13]=E,a[14]=T):T=a[14];var D;return a[15]!==i||a[16]!==m||a[17]!==g||a[18]!==C||a[19]!==I||a[20]!==e||a[21]!==b||a[22]!==y||a[23]!==v||a[24]!==S||a[25]!==h||a[26]!==R||a[27]!==k||a[28]!==L||a[29]!==E?(D=[g,m,I,y,C,h,S,b,R,v,e,k,i,E,L],a[15]=i,a[16]=m,a[17]=g,a[18]=C,a[19]=I,a[20]=e,a[21]=b,a[22]=y,a[23]=v,a[24]=S,a[25]=h,a[26]=R,a[27]=k,a[28]=L,a[29]=E,a[30]=D):D=a[30],o("Int64Hooks").useCallbackInt64(T,D)}function p(e){return(e==null?void 0:e.success)===!1}function _(e){return e.flat(1)}function f(){}l.default=m}),98);
__d("useMAWSendSecureMessageV2",["FBLogger","I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWExternalId","MAWJids","MWFBLogger","MWMsgMediaTypeLogUtils","MWPReplyContext.react","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","WACommon.pb","getMWIsDefaultHotlikeStickerId","justknobx","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useCometInteractionTracing","useIsSecureMessageData","useLSMessagingSource","useMAWSendSecureMessageV2Impl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e,t,n){var a=o("react-compiler-runtime").c(17),i=c(o("MWPReplyContext.react").MWPReplyContext),l=i.reply,d=l==null?void 0:l.messageId,p=l==null?void 0:l.threadKey,_=l==null?void 0:l.timestampMs,f;a[0]!==d||a[1]!==p||a[2]!==_?(f={messageId:d,messageThreadKey:p,messageTimestamp:_},a[0]=d,a[1]=p,a[2]=_,a[3]=f):f=a[3];var g;a[4]!==e.threadType?(g={fallbackThreadType:e.threadType},a[4]=e.threadType,a[5]=g):g=a[5];var h=r("useIsSecureMessageData")(f,g),y=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),C=y.onMessageSendAttempt,b=r("useMAWSendSecureMessageV2Impl")(n,e.threadType,e.threadKey),v;a[6]===Symbol.for("react.memo_cache_sentinel")?(v=r("qpl")._(30605384,"573"),a[6]=v):v=a[6];var S=r("useCometInteractionTracing")(v,"fast","INTERACTION",void 0),R=r("useAsyncReStore")(),L=r("useLSMessagingSource")(),E;return a[7]!==R||a[8]!==h||a[9]!==L||a[10]!==t||a[11]!==C||a[12]!==l||a[13]!==b||a[14]!==e||a[15]!==S?(E=function(a,i,c,d,p,_,f,g,y,v,E,k,I,T,D,x,$,P){o("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2"]).debug("Calling useMAWSendSecureMessageV2");var n=[],N=[];for(var M of i!=null?i:[])e:switch(M.type){case"t":{n.push({commandType:o("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE,length:M.length,offset:M.offset});break e}default:N.push(o("MAWJids").toUserJid(M.id))}var w=a;c!=null&&r("getMWIsDefaultHotlikeStickerId")((s||(s=o("I64"))).to_string(c))&&(w="\u{1F44D}");var A=o("MAWExternalId").generateExternalId();r("promiseDone")(R,function(i){C==null||C(!0),S(function(s){var p=function(i,u,p,f){return b({accessibilityLabel:P,commands:n,composerEntrypointForLogging:x,currentDraftId:D,externalAttachmentUrl:_,hotEmojiSize:d,lssTraceApi:s,mediaStagings:p,mentionedJids:N,messageExternalId:A,messageText:w,messageTypeParams:u,reply:h?l:void 0,s2sInstanceKey:i,source:f,stickerId:c,thread:e,voiceClip:g}).then(function(e){var n=e.some(m);return n||(t(),r("justknobx")._("2486")&&v&&v()),e}).catch(function(e){o("sendToSentQPLLogger").markSendToSentFail(i,"message_send_fail",e),s.failTrace(e,!0);var t=r("FBLogger")("messenger_web_sharing");throw e instanceof Error&&t.catching(e),t.mustfixThrow("Encountered failure during Armadillo Message Send (UI)")})};r("promiseDone")(o("MWSharedS2SBaseAnnotations").queryMediaStagingAndGetMessageTypeParams({db:i,externalAttachmentUrl:_,hotEmojiSize:d,messageText:a,reply:l,stickerId:c,threadKey:e==null?void 0:e.threadKey,threadType:e.threadType,voiceClip:g}),async function(t){var n=t.mediaStagings,r=t.messageTypeParams,a=o("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:r.hasFile,hasGif:r.hasGif,hasHotEmoji:r.hasHotEmoji,hasImage:r.hasImage,hasLinks:r.hasLinks,hasShare:r.hasShare,hasSticker:r.hasSticker,hasVideo:r.hasVideo,hasVoiceClip:r.hasVoiceClip,isAttachmentsGrouped:r.isAttachmentsGrouped,numberOfAttachments:r.numberOfAttachments,numberOfGroupedAttachments:r.numberOfGroupedAttachments}),i=o("sendToSentQPLLogger").markSendToSentStart(void 0,a),l=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(e.threadKey,L);return o("sendToSentQPLLogger").addSendToSentAnnotations(i,await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:r,composerEntrypoint:x,messageOfflineThreadingId:A,source:(u||(u=o("LSIntEnum"))).unwrapIntEnum(l),thread:e})),p(i,r,n,l)})})})},a[7]=R,a[8]=h,a[9]=L,a[10]=t,a[11]=C,a[12]=l,a[13]=b,a[14]=e,a[15]=S,a[16]=E):E=a[16],E}function m(e){return(e==null?void 0:e.success)===!1}l.default=d}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){return c}function c(e,t){o("mwPushToast").mwPushErrorToast({body:t,title:e})}l.default=u}),98);
__d("useMWMediaManager",["MWMediaManager","MWMediaManagerFileSizeLimit","justknobx","react-compiler-runtime","useMWMediaManagerUploadFailedToast"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(5),n=e.onUploadFailure,a=e.thread,i=r("useMWMediaManagerUploadFailedToast")(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("justknobx")._("2538"),t[0]=l):l=t[0];var u=l,c;return t[1]!==n||t[2]!==i||t[3]!==a?(c={getMaxAttachmentSizeInMB:s,maxNumberOfAttachments:u,onUploadFailure:n,showUploadFailureToast:i,thread:a},t[1]=n,t[2]=i,t[3]=a,t[4]=c):c=t[4],o("MWMediaManager").useMediaManager(c)}function s(e,t){return o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(t)}l.default=e}),98);
__d("MAWSecureComposer.react",["fbt","MAWLinkPreview.react","MAWSecureComposerText","MAWSecureThreadNonAddressableContactBanner.react","MAWSecureTypingState","MAWSupportedFileTypes","MAWVoiceClipLimit","MWBlockedComposerLogging","MWPReplyContext.react","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWVoiceRecordQpl","WebUXLoggingSurfaceContextProvider","cr:2673","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","useCometAlertDialog","useMAWEditMessageData","useMAWSendSecureMessageV2","useMWMediaManager","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useState,_=r("requireDeferred")("MWChatAudioLog").__setRef("MAWSecureComposer.react"),f=r("gkx")("23429");function g(){_.onReady(function(e){return e.logClickStartRecording()})}function h(){_.onReady(function(e){return e.logBrowserDenyAccess()})}function y(e){var t=o("react-compiler-runtime").c(45),a=e.afterSendMessage,i=e.isPreviewThread,l=e.thread,c=a===void 0?r("emptyFunction"):a,d=m(o("MWPReplyContext.react").MWPReplyContext),_=d.reply,y=r("useMAWEditMessageData")(),C=r("useCometAlertDialog")(),b;t[0]!==C?(b=function(){return C({body:s._(/*BTDS*/"Sorry we are unable to preprocess or upload the media you provided."),title:s._(/*BTDS*/"Failed to upload media")})},t[0]=C,t[1]=b):b=t[1];var v=b,S;t[2]!==v||t[3]!==l?(S={onUploadFailure:v,thread:l},t[2]=v,t[3]=l,t[4]=S):S=t[4];var R=r("useMWMediaManager")(S),L=R.handleFileRemove,E=R.handleFileSelect,k=R.mediaStaging,I=R.onHdMediaToggled,T=R.resetAttachments,D=r("useMAWSendSecureMessageV2")(l,c,T),x=o("MAWSecureTypingState").useOnTypingStateChanged(l.authorityLevel,l.threadKey,l.threadType);r("useMWV2FileDropzoneRegisterHandler")(E);var $=p(!1),P=$[0],N=$[1];o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(l.threadKey,P?o("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:o("MWBlockedComposerLogging").ComposerBlockingReason.NOT_BLOCKED);var M;t[5]!==i||t[6]!==k||t[7]!==D||t[8]!==x||t[9]!==l.draftMessage||t[10]!==l.threadKey||t[11]!==l.threadType?(M={composerEntrypointForLogging:"MAWSecureComposer.lexical",draftMessage:l.draftMessage,getTextFromEditorState:o("MAWSecureComposerText").getTextFromEditorState,isPreviewThread:i,mediaStaging:k,onSendMessage:D,onTypingStateChanged:x,threadKey:l.threadKey,threadType:l.threadType},t[5]=i,t[6]=k,t[7]=D,t[8]=x,t[9]=l.draftMessage,t[10]=l.threadKey,t[11]=l.threadType,t[12]=M):M=t[12];var w=r("useMWPComposerEditor")(M),A=w.editor,F=w.editorElementRef,O=w.hasStuffToSend,B=w.sendMessage,W;t[13]===Symbol.for("react.memo_cache_sentinel")?(W={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,logBrowserDenyAccess:h,logClickStartRecording:g,maxDuration:o("MAWVoiceClipLimit").getMAWMaxVoiceClipDurationInSeconds(!0)},t[13]=W):W=t[13];var q=n("cr:2673").useVoiceRecorder(W),U;t[14]!==_||t[15]!==l?(U=_!=null?u.jsx(o("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:_.messageId,messageThreadKey:_.threadKey,messageTimestamp:_.timestampMs,thread:l}):null,t[14]=_,t[15]=l,t[16]=U):U=t[16];var V=_!=null,H;t[17]!==V||t[18]!==l.threadKey||t[19]!==l.threadType?(H=u.jsx(r("MAWLinkPreview.react"),{isReplying:V,threadKey:l.threadKey,threadType:l.threadType}),t[17]=V,t[18]=l.threadKey,t[19]=l.threadType,t[20]=H):H=t[20];var G;t[21]!==l?(G=u.jsx(r("MAWSecureThreadNonAddressableContactBanner.react"),{setHideComposerEditor:N,thread:l}),t[21]=l,t[22]=G):G=t[22];var z;t[23]!==y?(z=y!=null&&u.jsx(r("MWV2ComposerEditContainer.react"),{editMessageData:y}),t[23]=y,t[24]=z):z=t[24];var j;t[25]!==y||t[26]!==A||t[27]!==F||t[28]!==L||t[29]!==E||t[30]!==O||t[31]!==P||t[32]!==k||t[33]!==I||t[34]!==D||t[35]!==B||t[36]!==l||t[37]!==q?(j=P||y!=null?null:u.jsx(o("MWV2ComposerView.react").MWV2ComposerView,{editor:A,editorElementRef:F,hasStuffToSend:O,isMentionsPluginEnabled:f,mediaStaging:k,onAttachmentRemoved:L,onAttachmentsAdded:E,onHdMediaToggled:I,onSendMessage:D,policyProduct:"messaging_lightswitch",sendMessage:B,supportedFileTypes:o("MAWSupportedFileTypes").supportedFileTypes,surface:"mwp_maw_secure_composer",thread:l,voiceRecorder:q}),t[25]=y,t[26]=A,t[27]=F,t[28]=L,t[29]=E,t[30]=O,t[31]=P,t[32]=k,t[33]=I,t[34]=D,t[35]=B,t[36]=l,t[37]=q,t[38]=j):j=t[38];var K;return t[39]!==z||t[40]!==j||t[41]!==U||t[42]!==H||t[43]!==G?(K=u.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"secure_composer",children:u.jsxs("div",{"data-testid":void 0,children:[U,H,G,z,j]})}),t[39]=z,t[40]=j,t[41]=U,t[42]=H,t[43]=G,t[44]=K):K=t[44],K}l.default=y}),226);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MessageRequestsLog","Promise","WAJobOrchestratorTypes","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,i,l){if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)){i!=null&&o("MessageRequestsLog").logActionConfirmed(a,8,(s||(s=o("I64"))).to_string(i)),r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(t.tables,a.threadKey,"MAWSecureComposerUtils",function(t,r){return o("MAWUIJob").UIJobStarters.fireAndForget(o("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:r,scheduleConfig:{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}})),(e||(e=n("Promise"))).resolve()}));return}}l.onDeleteThread=u}),98);
__d("MAWXMAV2GatedTemplateError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="MAWXMAV2GatedTemplateError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.MAWXMAV2GatedTemplateError=e}),66);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useId;function c(e){var t=o("react-compiler-runtime").c(38),n=u(),a=u(),i=u(),l=u(),c="url(#"+n+")",d="url(#"+a+")",m;t[0]!==d?(m=s.jsx("rect",{fill:d,height:"2",width:"8",x:"17",y:"26"}),t[0]=d,t[1]=m):m=t[1];var p;t[2]!==c||t[3]!==m?(p=s.jsx("g",{filter:c,children:m}),t[2]=c,t[3]=m,t[4]=p):p=t[4];var _="url(#"+i+")",f;t[5]!==_?(f=s.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:_}),t[5]=_,t[6]=f):f=t[6];var g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),t[7]=g):g=t[7];var h="url(#"+l+")",y;t[8]!==h?(y=s.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:h}),t[8]=h,t[9]=y):y=t[9];var C,b,v;t[10]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),C=s.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),b=s.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"}),t[10]=C,t[11]=b,t[12]=v):(C=t[10],b=t[11],v=t[12]);var S;t[13]!==n?(S=s.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:n,width:"8.8",x:"16.6",y:"25.6",children:[v,C,b]}),t[13]=n,t[14]=S):S=t[14];var R,L;t[15]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("stop",{stopColor:"#969495"}),L=s.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"}),t[15]=R,t[16]=L):(R=t[15],L=t[16]);var E;t[17]!==a?(E=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:a,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[R,L]}),t[17]=a,t[18]=E):E=t[18];var k,I;t[19]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("stop",{stopColor:"#666666"}),I=s.jsx("stop",{offset:"1",stopColor:"#CACCCD"}),t[19]=k,t[20]=I):(k=t[19],I=t[20]);var T;t[21]!==i?(T=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:i,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[k,I]}),t[21]=i,t[22]=T):T=t[22];var D,x;t[23]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),x=s.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}),t[23]=D,t[24]=x):(D=t[23],x=t[24]);var $;t[25]!==l?($=s.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:l,r:"1",children:[D,x]}),t[25]=l,t[26]=$):$=t[26];var P;t[27]!==S||t[28]!==E||t[29]!==T||t[30]!==$?(P=s.jsxs("defs",{children:[S,E,T,$]}),t[27]=S,t[28]=E,t[29]=T,t[30]=$,t[31]=P):P=t[31];var N;return t[32]!==e||t[33]!==P||t[34]!==p||t[35]!==f||t[36]!==y?(N=s.jsxs(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:[p,f,g,y,P]})),t[32]=e,t[33]=P,t[34]=p,t[35]=f,t[36]=y,t[37]=N):N=t[37],N}l.default=c}),98);
__d("MWChatColors",[],(function(t,n,r,o,a,i,l){"use strict";var e={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}},s={styles:e};l.MessageActions=s}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(6),a=t.size,i=t.viewBox,l=a===void 0?16:a,u=i===void 0?"0 0 16 16":i,d,m,p;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx("title",{children:s._(/*BTDS*/"Add reaction")}),m=c.jsx("path",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWChatColors").MessageActions.styles.svgFill),{d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"})),p=c.jsx("path",babelHelpers.extends({},e.props(o("MWChatColors").MessageActions.styles.svgFill),{clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})),n[0]=d,n[1]=m,n[2]=p):(d=n[0],m=n[1],p=n[2]);var _;return n[3]!==l||n[4]!==u?(_=c.jsxs("svg",{fill:"none",height:l,viewBox:u,width:l,xmlns:"http://www.w3.org/2000/svg",children:[d,m,p]}),n[3]=l,n[4]=u,n[5]=_):_=n[5],_}l.default=d}),226);
__d("MWAddReactionButton.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","react","react-compiler-runtime","useIsReactionsV2Enabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useMemo,f={emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0}};function g(e){var t=o("react-compiler-runtime").c(11),n=e.ref,a=e.onHoverInPrerenderer,i=e.onHoverOutPrerenderer,l=e.onPressInPrerenderer,c=e.showPopover,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"React"),t[0]=m):m=t[0];var p=m,_;t[1]!==c?(_=function(){c(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")},t[1]=c,t[2]=_):_=t[2];var g=_,h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x6s0dn4 xnmxlks x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r"},t[3]=h):h=t[3];var y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=d.jsx("div",babelHelpers.extends({},h,{role:"none",children:d.jsx("div",{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk x14ju556 x14z9mp x78zum5 xdt5ytf xl56j7k x1npj6m0",children:d.jsx(r("MWMessageReactionIcon.react"),{size:"1.125rem"})})})),t[4]=y):y=t[4];var C;return t[5]!==a||t[6]!==i||t[7]!==l||t[8]!==n||t[9]!==g?(C=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:p,children:d.jsx(r("MWXPressable.react"),{"aria-label":p,expanding:!0,loggingEvent:"click_react_to_message",onHoverIn:a,onHoverOut:i,onPress:g,onPressIn:l,overlayRadius:"inherit",ref:n,role:"button",testid:void 0,xstyle:f.emojiRowContainer,children:y})}),t[5]=a,t[6]=i,t[7]=l,t[8]=n,t[9]=g,t[10]=C):C=t[10],C}function h(e){var t=e.isSecure,n=e.message,a=e.sendReaction,i=e.setShouldRowStayExpanded,l=e.threadKey,s=e.threadType,u=(c||(c=o("I64"))).to_string(l),m=c.to_string(n.timestampMs),p=_(function(){return o("MWChatMessageId").makeSent(u,n.messageId,m)},[u,n.messageId,m]),f=o("MWCMThreadTypes.react").isBroadcastThread(s),h=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(s),y=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(l);return d.jsx(r("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:r("emptyFunction"),disableCustomReactions:y&&f,hasReactionsV2:y,isBroadcastChannel:h,isBroadcastThread:f,isSecure:t,messageID:p,onVisibilityChange:i,sendReaction:a,children:function(t,n,r,o,a,i){return d.jsx(g,{messageID:p,onHoverInPrerenderer:o,onHoverOutPrerenderer:a,onPressInPrerenderer:i,ref:t,showPopover:n})}})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),226);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"},d=s._(/*BTDS*/"Message hidden");function m(e){var t=o("react-compiler-runtime").c(13),n=e.isLastMessageInGroup,a=e.message,i=e.onClick,l=e.source,s=a.messageId,c=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),m=c.visibleMessage,p=(m==null?void 0:m.source)==="Pinned"&&(m==null?void 0:m.messageId)===s,_;t[0]!==a||t[1]!==p||t[2]!==l?(_=p?u.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,flattenTop:!1,message:a,outgoing:!1,precedesXMA:!1,children:u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:l==="replied-to",children:d})}):u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:l==="replied-to",children:d}),t[0]=a,t[1]=p,t[2]=l,t[3]=_):_=t[3];var f=_,g;t[4]!==n||t[5]!==l?(g={0:{},2:{className:"x1120s5i"},1:{className:"xwib8y2"},3:{className:"xwib8y2"}}[(n===!1)<<1|(l==="replied-to")<<0],t[4]=n,t[5]=l,t[6]=g):g=t[6];var h;t[7]!==f||t[8]!==i?(h=u.jsx(r("MWXPressable.react"),{onPress:i,overlayDisabled:!0,children:f}),t[7]=f,t[8]=i,t[9]=h):h=t[9];var y;return t[10]!==g||t[11]!==h?(y=u.jsx("div",babelHelpers.extends({},g,{"data-testid":void 0,children:h})),t[10]=g,t[11]=h,t[12]=y):y=t[12],y}l.MWBlockedTombstoneMessageSource=c,l.HIDDEN_MESSAGE_LABEL=d,l.MWBlockedTombstoneMessage=m}),226);
__d("MWBlockingProtectionLogging",["I64","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function u(t){var n=o("react-compiler-runtime").c(2),r;return n[0]!==t?(r=function(){s.onReady(function(n){return n.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(e||(e=o("I64"))).to_string(t.threadKey)}})})},n[0]=t,n[1]=r):r=n[1],r}l.useLogTapToReviewAction=u}),98);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};l.default=e}),98);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24802431729437746"}),null);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters",["MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMContentTakedownEnforcementNoticeDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWCMContentTakedownEnforcementNoticeDialog.entrypoint",["JSResourceForInteraction","MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.community_id,n=t.interventions_ids,a=t.thread_id;return{queries:{queryReference:{parameters:r("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters"),variables:{community_id:e,interventions_ids:n!=null?n:[],isCometEnabled:!1,isGeoEnabled:!1,isMWXEnabled:!0,scale:o("WebPixelRatio").get(),thread_id:a}}}}},root:r("JSResourceForInteraction")("MWCMContentTakedownEnforcementNoticeDialog.react").__setRef("MWCMContentTakedownEnforcementNoticeDialog.entrypoint")};l.default=e}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30279456138320382"}),null);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};l.default=e}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a=t.size,i=t.xstyle,l=a===void 0?"10px":a,s;n[0]!==i?(s=(e||(e=r("stylex"))).props(i),n[0]=i,n[1]=s):s=n[1];var c;n[2]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:"var(--mwp-header-button-color)",fillRule:"evenodd"}),n[2]=c):c=n[2];var d;return n[3]!==l||n[4]!==s?(d=u.jsx("svg",babelHelpers.extends({"aria-hidden":"true"},s,{height:l,viewBox:"0 0 18 10",width:l,children:c})),n[3]=l,n[4]=s,n[5]=d):d=n[5],d}l.default=c}),98);
__d("SubthreadMuteStrings.react",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Mute"),u=s._(/*BTDS*/"Unmute");l.muteLabel=e,l.unmuteLabel=u}),226);
__d("useUnmuteSubthread.react",["fbt","I64","MWCMLogMuteDuration.react","cometPushToast","formatDate","react","react-compiler-runtime","useMWChatUnmuteThread","useMWXConfirmationDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e){var t=new Date;return(u||(u=o("I64"))).equal(e,(u||(u=o("I64"))).neg_one)?s._(/*BTDS*/"This sidechat is muted indefinitely"):new Date((u||(u=o("I64"))).to_float(e)).getDay()===t.getDay()?s._(/*BTDS*/"This sidechat is muted until {time}",[s._param("time",r("formatDate")((u||(u=o("I64"))).to_float(e)/1e3,"g:ia"))]):s._(/*BTDS*/"This sidechat is muted until {time} tomorrow",[s._param("time",r("formatDate")((u||(u=o("I64"))).to_float(e)/1e3,"g:ia"))])}function m(e,t){var n=o("react-compiler-runtime").c(5),a=r("useMWXConfirmationDialog")(),i=r("useMWChatUnmuteThread")(),l;return n[0]!==a||n[1]!==e||n[2]!==t||n[3]!==i?(l=function(r){r!=null&&a({body:d(r.muteExpireTimeMs),title:s._(/*BTDS*/"Unmute this sidechat?")},function(){i(r),o("MWCMLogMuteDuration.react").log({clientExtras:{is_subthread:"1"},eventType:"channel_level_unmute_all_notif",source:e!=null?e:"mute_bell_button",surface:t!=null?t:"subthread_list",threadKey:r.threadKey}),o("cometPushToast").cometPushToast({message:s._(/*BTDS*/"{Name of chat} unmuted",[s._param("Name of chat",r.threadName)])})})},n[0]=a,n[1]=e,n[2]=t,n[3]=i,n[4]=l):l=n[4],l}l.default=m}),226);
__d("MWCMSubthreadHeader.react",["fbt","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","Locale","MWChatTextTransform","MWV2HeaderSettingsButtonChevron.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconArrowLeft","MWXIconArrowRight","MWXIconBell","MWXIconBellCross","MWXIconCross","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","MWXMessageTextWithEntities.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","MWXTooltip.react","SubthreadMuteStrings.react","baseTextTransformAllStrings","emptyFunction","gkx","react","useMWXLazyDialog","useUnmuteSubthread.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=r("gkx")("23219"),p={chevronIcon:{marginInlineStart:"x13fj5qh",marginTop:"x1xmf6yo",$$css:!0},iconRow:{paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginInlineEnd:"x1xegmmw",maxWidth:"x1ncir08",$$css:!0}},_=s._(/*BTDS*/"Sidechat settings");function f(e){return e.length>30?e.slice(0,27)+"...":e}function g(){return function(e){return r("baseTextTransformAllStrings")(e,function(e,t){return h(e,t)})}}function h(e,t){return[f(e)]}function y(e){var t=e.closeSidePanelOnBack,n=e.hexTextColor,a=e.isChatTab,i=a===void 0?!1:a,l=e.isThreadMuted,f=l===void 0?!1:l,h=e.onPressBack,y=e.subtitle,C=e.textColor,b=e.thread,v=e.title,S=r("useMWXLazyDialog")(r("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMSubthreadHeader.react")),R=S[0],L=o("Int64Hooks").useCallbackInt64(function(){b!=null&&(u||(u=o("I64"))).equal(b.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("GroupsCometChatsEngagementLogger").log({action:"tap",event:"cancel_sidechat",source:"back_button",surface:"subthread_view",thread_id:(u||(u=o("I64"))).to_string(b==null?void 0:b.threadKey)}),h()},[h,b]),E=r("useUnmuteSubthread.react")("mute_bell_button","subthread_view"),k=b!=null?(u||(u=o("I64"))).equal(b==null?void 0:b.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)):!1,I=t===!0?r("MWXIconCross"):r("Locale").isRTL()?r("MWXIconArrowRight"):r("MWXIconArrowLeft"),T=t===!0?s._(/*BTDS*/"Close"):s._(/*BTDS*/"Back"),D=s._(/*BTDS*/"Messages in conversation titled {thread title}",[s._param("thread title",v)]).toString(),x=d.jsx(r("MWXRowItem.react"),{"aria-label":D,expanding:!0,verticalAlign:"center",children:d.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:n==null?{}:{"--primary-text":n},children:[d.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:d.jsx(r("MWXText.react"),{align:"center",color:C,isSemanticHeading:!0,numberOfLines:1,type:i?"headlineEmphasized4":m?"headlineEmphasized5":"headlineEmphasized3",children:d.jsx("span",babelHelpers.extends({},{0:{},1:{className:"xxymvpz"}}[!!i<<0],{children:typeof v=="string"?d.jsx(r("MWXMessageTextWithEntities.react"),{text:v,transforms:[].concat(o("MWChatTextTransform").textTransforms,[g()])}):v}))})}),y!=null?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:d.jsx(r("MWXText.react"),{align:"center",color:C,numberOfLines:1,type:"meta3",children:y})})]}):null]})});return d.jsxs(r("MWXRow.react"),{paddingHorizontal:i?0:12,paddingVertical:i?0:m?8:16,xstyle:void 0,children:[d.jsx(r("MWXRowItem.react"),{children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"below",tooltip:T,children:d.jsx(r("MWXCircleButton.react"),{color:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:I,label:T,onPress:L,size:36,type:"deemphasized"})})}),!i||b==null?x:null,b!=null&&d.jsx(r("MWXRowItem.react"),{xstyle:i?p.rowItemChatTab:p.rowItem,children:d.jsx(r("MWXLazyPopoverTrigger.react"),{align:i?"middle":"end",popoverProps:{isChatTab:i,onClose:r("emptyFunction"),onDelete:h,thread:b},popoverResource:r("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(t,n,a,l,s,u,c){return i?d.jsx(r("MWXTooltip.react"),{align:"end",position:"above",tooltip:_,children:d.jsxs(r("MWXPressable.react"),{disabled:k,onHoverIn:l,onHoverOut:s,onPress:function(){n()},onPressIn:u,overlayOffset:8,overlayRadius:"normal",ref:t,xstyle:p.settingsButton,children:[x,d.jsx(r("MWV2HeaderSettingsButtonChevron.react"),{xstyle:p.chevronIcon})]})}):d.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[d.jsx(r("MWXRowItem.react"),{xstyle:p.iconRow,children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"below",tooltip:f?o("SubthreadMuteStrings.react").unmuteLabel:o("SubthreadMuteStrings.react").muteLabel,children:d.jsx(r("MWXCircleButton.react"),{color:k?"tertiary":o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:k,icon:r(f?"MWXIconBellCross":"MWXIconBell"),label:f?o("SubthreadMuteStrings.react").unmuteLabel:o("SubthreadMuteStrings.react").muteLabel,onPress:function(){f?E(b):R({surface:"subthread_view",threadKey:b.threadKey})},size:36,type:"deemphasized"})})}),d.jsx(r("MWXRowItem.react"),{xstyle:p.iconRow,children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"below",tooltip:_,children:d.jsx(r("MWXCircleButton.react"),{color:k?"tertiary":o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:k,icon:r("MWXIconDots3Horizontal"),label:_,onHoverIn:l,onHoverOut:s,onPress:n,onPressIn:u,ref:t,size:36,type:"deemphasized"})})})]})}})})]})}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),226);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){var e=o("react-compiler-runtime").c(2),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n,a=r("gkx")("23219")?"12px":t==="Inbox"?"16px":"8px",i;return e[0]!==a?(i={dark:{"mwp-message-list-profile-start-padding":a},light:{"mwp-message-list-profile-start-padding":a},type:"VARIABLES"},e[0]=a,e[1]=i):i=e[1],n=i,n}l.default=u}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","react-compiler-runtime","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(29),n=e.domElementRef,a=e.isDialogOpened,i=e.isFirstMessageInGroup,l=e.isFocused,c=e.isModal,d=e.message,m=e.messageDomID,p=e.nextMessage,_=e.outgoing,f=e.prevMessage,g=e.setFocusedInTransition,h=e.setHoveredInTransition,y=e.setIsDialogOpened,C=e.stopHoveringRef,b=r("useMWPEditMessageDeemphasizer")(),v=r("useMWMessageRowTheme")(),S;t[0]!==b?(S=[b,u.adminMessageContainer],t[0]=b,t[1]=S):S=t[1];var R;t[2]!==d||t[3]!==p||t[4]!==f?(R=s.jsx(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:d,nextMessage:p,prevMessage:f}),t[2]=d,t[3]=p,t[4]=f,t[5]=R):R=t[5];var L;t[6]!==d||t[7]!==_?(L=s.jsx(r("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:d,outgoing:_,xstyle:u.adminMessageAttachment}),t[6]=d,t[7]=_,t[8]=L):L=t[8];var E;t[9]!==S||t[10]!==R||t[11]!==L?(E=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:s.jsxs(r("BaseView.react"),{xstyle:S,children:[R,L]})}),t[9]=S,t[10]=R,t[11]=L,t[12]=E):E=t[12];var k=E;if(d.adminMsgCtaType==="admin_msg_e2ee_thread")return null;if(d.adminMsgCtaType==null){var I;return t[13]!==k?(I=s.jsx(r("MWV2MessageRowSimple.react"),{children:k}),t[13]=k,t[14]=I):I=t[14],I}else{var T=i?void 0:n,D;return t[15]!==k||t[16]!==a||t[17]!==l||t[18]!==c||t[19]!==d||t[20]!==m||t[21]!==_||t[22]!==g||t[23]!==h||t[24]!==y||t[25]!==C||t[26]!==T||t[27]!==v?(D=s.jsx(r("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:T,isDialogOpened:a,isFocused:l,isModal:c,message:d,messageDomID:m,outgoing:_,setFocused:g,setHovered:h,setIsDialogOpened:y,stopHoveringRef:C,theme:v,children:k}),t[15]=k,t[16]=a,t[17]=l,t[18]=c,t[19]=d,t[20]=m,t[21]=_,t[22]=g,t[23]=h,t[24]=y,t[25]=C,t[26]=T,t[27]=v,t[28]=D):D=t[28],D}}l.default=c}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.nextMessage,a=r("useMWPIsMessagePinned")(n),i;return t[0]!==a?(i=a&&s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}),t[0]=a,t[1]=i):i=t[1],i}l.default=u}),98);
__d("usePinnedIconAnimation",["react","react-compiler-runtime","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState,m="xb9r6ac-B",p="xjbsbib-B",_="x17qceat-B",f={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function g(e,t){var n=o("react-compiler-runtime").c(6),a=d(!1),i=a[0],l=a[1],s=c(e),m=t?f.mountAnimationOutgoing:f.mountAnimationIncoming,p,_;n[0]!==e?(p=function(){e!==s.current&&l(!0),s.current=e},_=[e],n[0]=e,n[1]=p,n[2]=_):(p=n[1],_=n[2]),u(p,_);var g=i?m:null,h=r("useDebouncedValue")(e,200),y;return n[3]!==g||n[4]!==h?(y={mountAnimation:g,shouldShow:h,unmountAnimation:f.unmountAnimation},n[3]=g,n[4]=h,n[5]=y):y=n[5],y}l.default=g}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","MWGroupBlockingProtectionUtils","react","react-compiler-runtime","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={alignEnd:{insetInlineEnd:"xtijo5x",transform:"x7b9nwf",$$css:!0},alignStart:{insetInlineStart:"x1o0tod",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.alreadyRenderedPin,i=t.children,l=t.message,s=t.outgoing,d=r("useMWPIsMessagePinned")(l),m=r("usePinnedIconAnimation")(d,s),p=m.mountAnimation,_=m.shouldShow,f=m.unmountAnimation,g=o("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(l.threadKey);if(!_||a||g){var h;return n[0]!==i?(h=u.jsx(u.Fragment,{children:i}),n[0]=i,n[1]=h):h=n[1],h}var y;return n[2]!==i||n[3]!==d||n[4]!==p||n[5]!==s||n[6]!==f?(y=i&&u.jsxs("div",{className:"x1n2onr6",children:[u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.container,s?c.alignEnd:c.alignStart,d?p:f]),{children:u.jsx(r("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})})),i]}),n[2]=i,n[3]=d,n[4]=p,n[5]=s,n[6]=f,n[7]=y):y=n[7],y}l.default=d}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=!!o("MWLSThread").useThread(e,s);return t}function s(e){return o("LSThreadBitOffset").has(152,e)}l.default=e}),98);
__d("MWPBaseRepliedMessage.react",["FBLogger","I64","LSIntEnum","LSMessageHiddenState","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWPBumpEntityKey","MWXPressable.react","MsgrWebGating","react","react-compiler-runtime","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={pressable:{display:"x1lliihq",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(201),n=e.clickToNavigateToReply,a=e.earlyCheckForReplyStatus,i=e.isSecureMessage,l=e.mediaRenderQpl,d=e.message,m=e.outgoing,_=e.renderAttachment,f=e.renderCollection,g=e.renderExpiredMessage,h=e.renderGIF,y=e.renderHiddenMessage,C=e.renderMedia,b=e.renderPost,v=e.renderRaven,S=e.renderRemovedMessage,R=e.renderRollcallContribution,L=e.renderSticker,E=e.renderStory,k=e.renderTextMessage,I=e.renderUnavailableMessage,T=e.renderUnavailableStory,D=e.renderVideo,x=n===void 0?!0:n,$=a===void 0?!1:a,P=d.replyAttachmentId,N=d.replyAttachmentPlaintextHash,M=d.replyAttachmentType,w=d.replyMessageHiddenState,A=d.replyMessageText,F=d.replySourceTypeV2,O=d.replyStatus,B,W=F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)),q=F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY)),U=w!=null?(s||(s=o("I64"))).equal(w,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED)):!1,V=P!=null||W||N!=null&&o("MsgrWebGating").isQuotedMessagesInLsEnabled();if(U&&y!=null){var H;t[0]!==y||t[1]!==d?(H=c.jsx(y,{message:d}),t[0]=y,t[1]=d,t[2]=H):H=t[2],B=H}else if(q){var G;t[3]!==T||t[4]!==m?(G=T!=null?c.jsx(T,{outgoing:m}):null,t[3]=T,t[4]=m,t[5]=G):G=t[5],B=G}else if(M!=null&&V&&(!$||O!=null&&!(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED))))if(((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO)))&&W){var z;t[6]!==E||t[7]!==i||t[8]!==l||t[9]!==d||t[10]!==m?(z=c.jsx(E,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[6]=E,t[7]=i,t[8]=l,t[9]=d,t[10]=m,t[11]=z):z=t[11],B=z}else if(P!=null||N!=null&&o("MsgrWebGating").isQuotedMessagesInLsEnabled())if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA))&&_!=null)if(A!=null&&A!==""){var j;t[12]!==k||t[13]!==i||t[14]!==d||t[15]!==m||t[16]!==A?(j=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[12]=k,t[13]=i,t[14]=d,t[15]=m,t[16]=A,t[17]=j):j=t[17],B=j}else{var K;t[18]!==_||t[19]!==i||t[20]!==l||t[21]!==d||t[22]!==m?(K=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[18]=_,t[19]=i,t[20]=l,t[21]=d,t[22]=m,t[23]=K):K=t[23],B=K}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER))){var Q;t[24]!==_||t[25]!==i||t[26]!==l||t[27]!==d||t[28]!==m?(Q=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[24]=_,t[25]=i,t[26]=l,t[27]=d,t[28]=m,t[29]=Q):Q=t[29],B=Q}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO)))if(C!=null){var X;t[30]!==C||t[31]!==i||t[32]!==l||t[33]!==d||t[34]!==m?(X=c.jsx(C,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[30]=C,t[31]=i,t[32]=l,t[33]=d,t[34]=m,t[35]=X):X=t[35],B=X}else{var Y;t[36]!==_||t[37]!==i||t[38]!==l||t[39]!==d||t[40]!==m?(Y=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[36]=_,t[37]=i,t[38]=l,t[39]=d,t[40]=m,t[41]=Y):Y=t[41],B=Y}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)))if(R!=null){var J;t[42]!==R||t[43]!==i||t[44]!==l||t[45]!==d||t[46]!==m?(J=c.jsx(R,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[42]=R,t[43]=i,t[44]=l,t[45]=d,t[46]=m,t[47]=J):J=t[47],B=J}else{var Z;t[48]!==_||t[49]!==i||t[50]!==l||t[51]!==d||t[52]!==m?(Z=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[48]=_,t[49]=i,t[50]=l,t[51]=d,t[52]=m,t[53]=Z):Z=t[53],B=Z}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").MULTIPHOTO)))if(f!=null){var ee;t[54]!==f||t[55]!==d||t[56]!==m?(ee=c.jsx(f,{message:d,outgoing:m}),t[54]=f,t[55]=d,t[56]=m,t[57]=ee):ee=t[57],B=ee}else if(C!=null){var te;t[58]!==C||t[59]!==i||t[60]!==l||t[61]!==d||t[62]!==m?(te=c.jsx(C,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[58]=C,t[59]=i,t[60]=l,t[61]=d,t[62]=m,t[63]=te):te=t[63],B=te}else{var ne;t[64]!==_||t[65]!==i||t[66]!==l||t[67]!==d||t[68]!==m?(ne=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[64]=_,t[65]=i,t[66]=l,t[67]=d,t[68]=m,t[69]=ne):ne=t[69],B=ne}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO)))if(D!=null){var re;t[70]!==D||t[71]!==i||t[72]!==l||t[73]!==d||t[74]!==m?(re=c.jsx(D,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[70]=D,t[71]=i,t[72]=l,t[73]=d,t[74]=m,t[75]=re):re=t[75],B=re}else{var oe;t[76]!==_||t[77]!==i||t[78]!==l||t[79]!==d||t[80]!==m?(oe=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[76]=_,t[77]=i,t[78]=l,t[79]=d,t[80]=m,t[81]=oe):oe=t[81],B=oe}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF)))if(h!=null){var ae;t[82]!==h||t[83]!==i||t[84]!==l||t[85]!==d||t[86]!==m?(ae=c.jsx(h,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[82]=h,t[83]=i,t[84]=l,t[85]=d,t[86]=m,t[87]=ae):ae=t[87],B=ae}else{var ie;t[88]!==_||t[89]!==i||t[90]!==l||t[91]!==d||t[92]!==m?(ie=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[88]=_,t[89]=i,t[90]=l,t[91]=d,t[92]=m,t[93]=ie):ie=t[93],B=ie}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").THIRD_PARTY_STICKER)))if(L!=null){var le;t[94]!==L||t[95]!==i||t[96]!==l||t[97]!==d||t[98]!==m?(le=c.jsx(L,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[94]=L,t[95]=i,t[96]=l,t[97]=d,t[98]=m,t[99]=le):le=t[99],B=le}else{var se;t[100]!==_||t[101]!==i||t[102]!==l||t[103]!==d||t[104]!==m?(se=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[100]=_,t[101]=i,t[102]=l,t[103]=d,t[104]=m,t[105]=se):se=t[105],B=se}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").LINK))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").AUDIO))){var ue;t[106]!==_||t[107]!==i||t[108]!==l||t[109]!==d||t[110]!==m?(ue=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[106]=_,t[107]=i,t[108]=l,t[109]=d,t[110]=m,t[111]=ue):ue=t[111],B=ue}else if(b!=null){var ce;t[112]!==b||t[113]!==i||t[114]!==l||t[115]!==d||t[116]!==m?(ce=c.jsx(b,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[112]=b,t[113]=i,t[114]=l,t[115]=d,t[116]=m,t[117]=ce):ce=t[117],B=ce}else{var de;t[118]!==M?(de=r("FBLogger")("messenger_comet").mustfix("Unknown attachment type: %s",(s||(s=o("I64"))).to_string(M)),t[118]=M,t[119]=de):de=t[119],B=de}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))&&L!=null){var me;t[120]!==L||t[121]!==i||t[122]!==l||t[123]!==d||t[124]!==m?(me=c.jsx(L,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[120]=L,t[121]=i,t[122]=l,t[123]=d,t[124]=m,t[125]=me):me=t[125],B=me}else r("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content when attachment is available, reply source type: %s, attachment type: %s",(s||(s=o("I64"))).to_string(F!=null?F:(s||(s=o("I64"))).zero),s.to_string(M)),B=null;else if(F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&A!=null&&A!==""){var pe=(s||(s=o("I64"))).of_float(Date.now()),_e=d.replyMediaExpirationTimestampMs,fe=_e!=null&&(s||(s=o("I64"))).gt(pe,_e)&&!(s||(s=o("I64"))).equal(_e,(s||(s=o("I64"))).zero);if(fe)B=null;else{var ge;t[126]!==k||t[127]!==i||t[128]!==d||t[129]!==m||t[130]!==A?(ge=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[126]=k,t[127]=i,t[128]=d,t[129]=m,t[130]=A,t[131]=ge):ge=t[131],B=ge}}else if(P!=null)if(C!=null){var he;t[132]!==C||t[133]!==i||t[134]!==l||t[135]!==d||t[136]!==m?(he=c.jsx(C,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[132]=C,t[133]=i,t[134]=l,t[135]=d,t[136]=m,t[137]=he):he=t[137],B=he}else{var ye;t[138]!==_||t[139]!==i||t[140]!==l||t[141]!==d||t[142]!==m?(ye=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[138]=_,t[139]=i,t[140]=l,t[141]=d,t[142]=m,t[143]=ye):ye=t[143],B=ye}else if(M!=null&&(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&v!=null){var Ce;t[144]!==v||t[145]!==i||t[146]!==l||t[147]!==d||t[148]!==m?(Ce=c.jsx(v,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[144]=v,t[145]=i,t[146]=l,t[147]=d,t[148]=m,t[149]=Ce):Ce=t[149],B=Ce}else if(O!=null&&(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED))){var be;t[150]!==S||t[151]!==m?(be=S!=null?c.jsx(S,{outgoing:m}):null,t[150]=S,t[151]=m,t[152]=be):be=t[152],B=be}else if(O!=null&&(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").EXPIRED))){var ve;t[153]!==g||t[154]!==i||t[155]!==l||t[156]!==d||t[157]!==m?(ve=g!=null?c.jsx(g,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}):null,t[153]=g,t[154]=i,t[155]=l,t[156]=d,t[157]=m,t[158]=ve):ve=t[158],B=ve}else if(O!=null&&(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))){var Se;t[159]!==I||t[160]!==m?(Se=I!=null?c.jsx(I,{outgoing:m}):null,t[159]=I,t[160]=m,t[161]=Se):Se=t[161],B=Se}else if(A!=null&&F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)))if(A!==""){var Re;t[162]!==k||t[163]!==i||t[164]!==d||t[165]!==m||t[166]!==A?(Re=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[162]=k,t[163]=i,t[164]=d,t[165]=m,t[166]=A,t[167]=Re):Re=t[167],B=Re}else{var Le;t[168]!==_||t[169]!==i||t[170]!==l||t[171]!==d||t[172]!==m?(Le=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[168]=_,t[169]=i,t[170]=l,t[171]=d,t[172]=m,t[173]=Le):Le=t[173],B=Le}else if(M!=null&&(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA)))if(T!=null){var Ee;t[174]!==T||t[175]!==m?(Ee=c.jsx(T,{outgoing:m}),t[174]=T,t[175]=m,t[176]=Ee):Ee=t[176],B=Ee}else{var ke;t[177]!==_||t[178]!==i||t[179]!==l||t[180]!==d||t[181]!==m?(ke=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[177]=_,t[178]=i,t[179]=l,t[180]=d,t[181]=m,t[182]=ke):ke=t[182],B=ke}else r("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content, reply source type: %s",(s||(s=o("I64"))).to_string(F!=null?F:(s||(s=o("I64"))).zero)),B=null;var Ie;t[183]===Symbol.for("react.memo_cache_sentinel")?(Ie={className:"x193iq5w x1n2onr6 x1vjfegm"},t[183]=Ie):Ie=t[183];var Te;t[184]!==B?(Te=c.jsx("div",babelHelpers.extends({},Ie,{children:B})),t[184]=B,t[185]=Te):Te=t[185];var De=Te,xe=d.replySourceTimestampMs,$e=d.replySourceId,Pe=r("useMWJumpToMessage")("Reply"),Ne=M!=null&&((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))),Me=o("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),we=r("useIsRollcallEnabled")(d.threadKey),Ae=(u||(u=o("LSIntEnum"))).equal(d.replyAttachmentType,r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(u||(u=o("LSIntEnum"))).equal(d.replyAttachmentId,0);if($e!=null&&xe!=null&&x&&!Ae){var Fe;t[186]!==Pe||t[187]!==$e||t[188]!==xe?(Fe=function(){o("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),Pe($e,xe)},t[186]=Pe,t[187]=$e,t[188]=xe,t[189]=Fe):Fe=t[189];var Oe=Fe;if(Ne&&we){var Be,We;if(t[190]!==d.replyAttachmentExtra){var qe;We=(s||(s=o("I64"))).of_string((qe=d.replyAttachmentExtra)!=null?qe:"0"),t[190]=d.replyAttachmentExtra,t[191]=We}else We=t[191];var Ue=We,Ve=d.threadKey,He=(Be=d.replySourceId)!=null?Be:null,Ge;t[192]!==d.messageId||t[193]!==Me||t[194]!==Ue||t[195]!==He||t[196]!==Ve?(Ge=function(){o("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),Me(Ue,Ve,He,null,d.messageId)},t[192]=d.messageId,t[193]=Me,t[194]=Ue,t[195]=He,t[196]=Ve,t[197]=Ge):Ge=t[197],Oe=Ge}var ze;return t[198]!==Oe||t[199]!==De?(ze=c.jsx(r("MWXPressable.react"),{onPress:Oe,overlayDisabled:!0,xstyle:p,children:De}),t[198]=Oe,t[199]=De,t[200]=ze):ze=t[200],ze}else return De}function p(){return[d.pressable]}l.default=m}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.fontStyle,i=e.outgoing,l=a===void 0?"normal":a,c=i?"right":"left",d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx(r("CometScreenReaderText.react"),{text:s._(/*BTDS*/"Original message:")}),t[0]=d):d=t[0];var m;t[1]!==l?(m={0:{className:"x1mzt3pk x1l90r2v x1iorvi4"},1:{className:"x1mzt3pk x1l90r2v x1iorvi4 x1k4tb9n"}}[(l==="italic")<<0],t[1]=l,t[2]=m):m=t[2];var p;t[3]!==n||t[4]!==m?(p=u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:u.jsx("div",babelHelpers.extends({},m,{"data-testid":void 0,children:n}))}),t[3]=n,t[4]=m,t[5]=p):p=t[5];var _;return t[6]!==c||t[7]!==p?(_=u.jsxs(r("MWXMessageBubble.react"),{align:c,color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[d,p]}),t[6]=c,t[7]=p,t[8]=_):_=t[8],_}l.default=c}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon_DEPRECATED.react","MWXMessageReplyBubble.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(9),n=e.mediaRenderQpl,a=e.outgoing,i,l;t[0]!==n?(i=function(){n==null||n.addPoint("render-replies-attachment")},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),d(i,l);var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Attachment"),t[3]=m):m=t[3];var p=m,_;t[4]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x78zum5"},t[4]=_):_=t[4];var f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x1lliihq x13fj5qh"},t[5]=f):f=t[5];var g;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsxs("div",babelHelpers.extends({},_,{children:[p,c.jsx("span",babelHelpers.extends({},f,{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:o("fbicon")._(u("537728"),12)})}))]})),t[6]=g):g=t[6];var h;return t[7]!==a?(h=c.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:g}),t[7]=a,t[8]=h):h=t[8],h}l.default=m}),226);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(6),n=e.mediaRenderQpl,a=e.outgoing,i,l;t[0]!==n?(i=function(){n==null||n.addPoint("render-replies-expired"),n==null||n.endSuccess()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),c(i,l);var d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Message expired"),t[3]=d):d=t[3];var m=d,p;return t[4]!==a?(p=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:m}),t[4]=a,t[5]=p):p=t[5],p}l.default=d}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(2),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n=t==="ChatTab",r=n?180:300,a;return e[0]!==r?(a={maxHeight:100,maxWidth:r},e[0]=r,e[1]=a):a=e[1],a}l.default=e}),98);
__d("MWRepliesImage.react",["I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWPThreadCapabilitiesContext","MWXAspectRatioContainer.react","MWXMessageImage.react","cr:4509","emptyFunction","gkx","react","react-compiler-runtime","stylex","useMWRepliesImageGetMaxDimensions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useCallback,m={incoming:{borderEndStartRadius:"x1pczhz8",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",$$css:!0},root:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0}};function p(t){var a=o("react-compiler-runtime").c(28),i=t.attachment,l=t.height,s=t.imageAlt,d=t.isAnimatedImage,p=t.isSecureMessage,_=t.isSticker,f=t.mediaRenderQpl,g=t.message,h=t.outgoing,y=t.src,C=t.width,b=s===void 0?"":s,v=d===void 0?!1:d,S=p===void 0?!1:p,R=_===void 0?!1:_,L=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),E=r("useMWRepliesImageGetMaxDimensions")(),k=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),I=k.blurMediaEnabled,T=r("gkx")("24098")&&I,D=R?!1:h?m.outgoing:m.incoming,x;a[0]!==f?(x=function(){f==null||f.endFail("load-image-error")},a[0]=f,a[1]=x):x=a[1];var $=x,P;a[2]!==f?(P=function(){f==null||f.endSuccess()},a[2]=f,a[3]=P):P=a[3];var N=P,M;a[4]!==i||a[5]!==L||a[6]!==D||a[7]!==l||a[8]!==b||a[9]!==v||a[10]!==S||a[11]!==R||a[12]!==E.maxHeight||a[13]!==E.maxWidth||a[14]!==f||a[15]!==g||a[16]!==$||a[17]!==N||a[18]!==h||a[19]!==y||a[20]!==C?(M=v&&L!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON?c.jsx(r("MWXAspectRatioContainer.react"),{height:l!=null?(u||(u=o("I64"))).to_float(l):E.maxHeight,maxHeight:E.maxHeight,maxWidth:E.maxWidth,width:C!=null?(u||(u=o("I64"))).to_float(C):E.maxWidth,children:function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([m.root,R&&m.rootHasSticker,D,n]),{children:c.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:i,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isReplyImage:!0,isSecure:S,mediaRenderQpl:f,message:g,onPlay:r("emptyFunction"),onPress:r("emptyFunction"),outgoing:h,previewHeight:l!=null?(u||(u=o("I64"))).to_float(l):void 0,previewWidth:C!=null?(u||(u=o("I64"))).to_float(C):void 0,sourceURL:y})}))}}):c.jsx(r("MWXMessageImage.react"),{alt:b,height:l!=null?(u||(u=o("I64"))).to_float(l):void 0,maxHeight:E.maxHeight,maxWidth:E.maxWidth,onError:$,onLoad:N,src:y,width:C!=null?(u||(u=o("I64"))).to_float(C):void 0,xstyle:[m.root,R&&m.rootHasSticker,D]}),a[4]=i,a[5]=L,a[6]=D,a[7]=l,a[8]=b,a[9]=v,a[10]=S,a[11]=R,a[12]=E.maxHeight,a[13]=E.maxWidth,a[14]=f,a[15]=g,a[16]=$,a[17]=N,a[18]=h,a[19]=y,a[20]=C,a[21]=M):M=a[21];var w=M;if(n("cr:4509")!=null&&T&&!R){var A;a[22]!==D?(A=[m.root,D],a[22]=D,a[23]=A):A=a[23];var F;return a[24]!==w||a[25]!==y||a[26]!==A?(F=c.jsx(n("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:y,xstyle:A,children:w}),a[24]=w,a[25]=y,a[26]=A,a[27]=F):F=a[27],F}return w}l.default=p}),98);
__d("MWRepliesUtil",["I64","MAWGetAttachmentThumbnailBlob","MAWMediaManagerUiIntegrationCheck","cr:9765","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,i){if(n("cr:9765")==null)return null;if(t.replyAttachmentPlaintextHash!=null){a==null||a.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"plaintextHash"}});var l=t.replyAttachmentPlaintextHash!=null&&r("justknobx")._("4927")&&o("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()?o("MAWGetAttachmentThumbnailBlob").getThumbnailBlobByAttachmentId_CausesSuspense:n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense,s=t.replyAttachmentPlaintextHash!=null?l(t.replyAttachmentPlaintextHash,i,a):void 0;return a==null||a.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:!!s},string:{fetch_by:"plaintextHash"}}),s}else{a==null||a.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"mediaId"}});var u=t.replyAttachmentId!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((e||(e=o("I64"))).to_string(t.replyAttachmentId),i,a):void 0;return a==null||a.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:!!u},string:{fetch_by:"mediaId"}}),u}}l.getSecureReplyMediaURL_CausesSuspense=s}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.replyMediaExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.replyMediaUrlFallback:e.replyMediaUrl}l.default=e}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaDownloadStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=c||(c=o("react")),p=c.useEffect;function _(t){var a=o("react-compiler-runtime").c(32),l=t.isSecureMessage,c=t.mediaRenderQpl,d=t.message,_=t.outgoing,f=l===void 0?!1:l,g,h;a[0]!==c?(g=function(){c==null||c.addPoint("render-replies-gif-impl")},h=[c],a[0]=c,a[1]=g,a[2]=h):(g=a[1],h=a[2]),p(g,h);var y=(e||(e=r("useReStore")))(),C;a[3]!==y.tables.attachments||a[4]!==d.replyAttachmentId||a[5]!==d.replyAttachmentPlaintextHash||a[6]!==d.replySourceId||a[7]!==d.threadKey?(C=function(){var e,t,n=(e=d.replyAttachmentPlaintextHash)!=null?e:null,r=(t=d.replySourceId)!=null?t:"";if(n!=null)return o("ReQL").fromTableAscending(y.tables.attachments).filter(function(e){return e.attachmentFbid===n&&e.messageId===r});var a,i=(a=d.replyAttachmentId)!=null?a:(u||(u=o("I64"))).zero;return o("ReQL").fromTableAscending(y.tables.attachments).getKeyRange(d.threadKey,r,(u||(u=o("I64"))).to_string(i))},a[3]=y.tables.attachments,a[4]=d.replyAttachmentId,a[5]=d.replyAttachmentPlaintextHash,a[6]=d.replySourceId,a[7]=d.threadKey,a[8]=C):C=a[8];var b;a[9]!==y||a[10]!==d?(b=[y,d],a[9]=y,a[10]=d,a[11]=b):b=a[11];var v=o("ReQLSuspense").useFirst(C,b,i.id+":50"),S=f?v:null,R=r("useMAWMediaDownloadStatus")(S,c),L=R.uiState,E;if(v!=null)if(L!=="downloaded"&&f)E=null;else if(n("cr:9765")==null||!f){var k;a[12]!==v?(k=o("LSMediaUrlAttachment").previewUrl(v),a[12]=v,a[13]=k):k=a[13],E=k}else{var I;a[14]!==v.attachmentFbid||a[15]!==c?(I=n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(v.attachmentFbid,"MWRepliesGIF",c),a[14]=v.attachmentFbid,a[15]=c,a[16]=I):I=a[16],E=I}else if(n("cr:9765")!=null){var T;a[17]!==f||a[18]!==c||a[19]!==d?(T=n("cr:9765")!=null&&f?o("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(d,c,"MWRepliesGIF"):r("getLSMediaMessageReplyMediaUrl")(d),a[17]=f,a[18]=c,a[19]=d,a[20]=T):T=a[20],E=T}if(E!=null&&E!==""){var D=v==null?void 0:v.accessibilitySummaryText,x;return a[21]!==v||a[22]!==f||a[23]!==c||a[24]!==d||a[25]!==_||a[26]!==E||a[27]!==D?(x=m.jsx(r("MWRepliesImage.react"),{attachment:v,height:d.replyMediaPreviewHeight,imageAlt:D,isAnimatedImage:!0,isSecureMessage:f,mediaRenderQpl:c,message:d,outgoing:_,src:E,width:d.replyMediaPreviewWidth}),a[21]=v,a[22]=f,a[23]=c,a[24]=d,a[25]=_,a[26]=E,a[27]=D,a[28]=x):x=a[28],x}else{var $;a[29]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"GIF"),a[29]=$):$=a[29];var P;return a[30]!==_?(P=m.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:_,children:$}),a[30]=_,a[31]=P):P=a[31],P}}function f(e){var t=o("react-compiler-runtime").c(18),n;t[0]!==e?(n=babelHelpers.extends({},(d(e),e)),t[0]=e,t[1]=n):n=t[1];var a=n,i=a.message,l=a.outgoing,s,c;t[2]!==n.mediaRenderQpl?(s=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-gif")},c=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=s,t[4]=c):(s=t[3],c=t[4]),p(s,c);var f;if(t[5]!==i.replyMediaPreviewHeight){var g;f=(u||(u=o("I64"))).to_float((g=i.replyMediaPreviewHeight)!=null?g:(u||(u=o("I64"))).of_float(100)),t[5]=i.replyMediaPreviewHeight,t[6]=f}else f=t[6];var h;if(t[7]!==i.replyMediaPreviewWidth){var y;h=(u||(u=o("I64"))).to_float((y=i.replyMediaPreviewWidth)!=null?y:(u||(u=o("I64"))).of_float(100)),t[7]=i.replyMediaPreviewWidth,t[8]=h}else h=t[8];var C;t[9]!==l||t[10]!==f||t[11]!==h?(C=m.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesGIF.Suspense",height:f,outgoing:l,width:h}),t[9]=l,t[10]=f,t[11]=h,t[12]=C):C=t[12];var b;t[13]!==n?(b=m.jsx(_,babelHelpers.extends({},n)),t[13]=n,t[14]=b):b=t[14];var v;return t[15]!==C||t[16]!==b?(v=m.jsx(r("CometPlaceholder.react"),{fallback:C,name:"MWRepliesGIF",children:b}),t[15]=C,t[16]=b,t[17]=v):v=t[17],v}l.default=f}),226);
__d("MWRepliesMedia.react",["fbt","ix","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSIcon.react","I64","IconSource","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaDownloadStatus","useMWRepliesImageGetMaxDimensions","useReStore"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=d||(d=o("react")),p=d.useEffect;function _(t){var a=o("react-compiler-runtime").c(54),l=t.isSecureMessage,d=t.mediaRenderQpl,_=t.message,f=t.outgoing,g=l===void 0?!1:l,h;a[0]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"Photo"),a[0]=h):h=a[0];var y=h,C;a[1]!==f?(C=m.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:f,children:y}),a[1]=f,a[2]=C):C=a[2];var b=C,v=(e||(e=r("useReStore")))(),S;a[3]!==v||a[4]!==_.replyAttachmentId||a[5]!==_.replyAttachmentPlaintextHash||a[6]!==_.replySourceId||a[7]!==_.threadKey?(S=function(){var e=_.replySourceId;if(e!=null){if(_.replyAttachmentPlaintextHash!=null){var t=_.replyAttachmentPlaintextHash;return o("ReQL").fromTableAscending(v.tables.attachments).filter(function(n){return n.attachmentFbid===t&&n.messageId===e})}else if(_.replyAttachmentId!=null){var n=_.replyAttachmentId;return o("ReQL").fromTableAscending(v.tables.attachments).getKeyRange(_.threadKey,e,(c||(c=o("I64"))).to_string(n))}}return o("ReQL").empty()},a[3]=v,a[4]=_.replyAttachmentId,a[5]=_.replyAttachmentPlaintextHash,a[6]=_.replySourceId,a[7]=_.threadKey,a[8]=S):S=a[8];var R;a[9]!==v||a[10]!==_?(R=[v,_],a[9]=v,a[10]=_,a[11]=R):R=a[11];var L=o("ReQLSuspense").useFirst(S,R,i.id+":95"),E,k;a[12]!==L||a[13]!==d?(E=function(){L!=null&&(d==null||d.addAttachmentAnnotations==null||d.addAttachmentAnnotations(L)),d==null||d.addPoint("render-reply-media-impl",{bool:{has_db_attachment:L!=null}})},k=[L,d],a[12]=L,a[13]=d,a[14]=E,a[15]=k):(E=a[14],k=a[15]),p(E,k);var I=r("useMWRepliesImageGetMaxDimensions")(),T=g?L:null,D=r("useMAWMediaDownloadStatus")(T,d),x=D.uiState;if(T!=null&&x!=="downloaded")return b;var $=L!=null&&L.hasXma&&g&&L.gatingType===String(o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE),P;if(L!=null&&L.hasXma&&g){var N;P=(N=L.defaultCtaType)!=null?N:""}else P="";var M;a[16]===Symbol.for("react.memo_cache_sentinel")?(M=new(r("IconSource"))("FB",u("1423124"),28),a[16]=M):M=a[16];var w=M;if($)if(P==="xma_montage_share"){var A,F;a[17]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x6s0dn4 x1qb2erx xjw5052 x6nl9eh x1a5l9x9 x7vuprf x1mg3h75 x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk"},A={className:"x14vqqas xbmvrgn xod5an3 x1diwwjn"},a[17]=A,a[18]=F):(A=a[17],F=a[18]);var O;return a[19]!==w?(O=m.jsx("div",babelHelpers.extends({},F,{children:m.jsx("div",babelHelpers.extends({},A,{children:m.jsx(r("FDSIcon.react"),{icon:w})}))})),a[19]=w,a[20]=O):O=a[20],O}else{var B,W;a[21]===Symbol.for("react.memo_cache_sentinel")?(W={className:"x6s0dn4 x99fzhk x18aeczl x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk"},B={className:"x14vqqas xbmvrgn xod5an3 x1diwwjn"},a[21]=B,a[22]=W):(B=a[21],W=a[22]);var q;return a[23]!==w?(q=m.jsx("div",babelHelpers.extends({},W,{children:m.jsx("div",babelHelpers.extends({},B,{children:m.jsx(r("FDSIcon.react"),{icon:w})}))})),a[23]=w,a[24]=q):q=a[24],q}if(g&&(L==null?void 0:L.hasMedia)===!1){var U;if(a[25]!==_.replyMediaPreviewHeight){var V;U=(c||(c=o("I64"))).to_float((V=_.replyMediaPreviewHeight)!=null?V:(c||(c=o("I64"))).of_float(100)),a[25]=_.replyMediaPreviewHeight,a[26]=U}else U=a[26];var H=I.maxHeight,G=I.maxWidth,z;if(a[27]!==_.replyMediaPreviewWidth){var j;z=(c||(c=o("I64"))).to_float((j=_.replyMediaPreviewWidth)!=null?j:(c||(c=o("I64"))).of_float(100)),a[27]=_.replyMediaPreviewWidth,a[28]=z}else z=a[28];var K;a[29]!==I.maxHeight||a[30]!==I.maxWidth||a[31]!==d||a[32]!==f||a[33]!==z||a[34]!==U?(K=m.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.NoMedia",height:U,maxHeight:H,maxWidth:G,mediaRenderQpl:d,outgoing:f,width:z}),a[29]=I.maxHeight,a[30]=I.maxWidth,a[31]=d,a[32]=f,a[33]=z,a[34]=U,a[35]=K):K=a[35];var Q;a[36]===Symbol.for("react.memo_cache_sentinel")?(Q=m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWRepliesMedia.NoMedia",hold:!0}),a[36]=Q):Q=a[36];var X;return a[37]!==K?(X=m.jsxs(m.Fragment,{children:[K,Q]}),a[37]=K,a[38]=X):X=a[38],X}var Y;a[39]!==L||a[40]!==g||a[41]!==d||a[42]!==_?(Y=n("cr:9765")!=null&&g?function(e){if(L!=null&&L.hasXma){d==null||d.addPoint("fetch_reply_preview_url_xma_start");var t=e.replyAttachmentId!=null?n("cr:9765").getInfoUrlXMA_CausesSuspense(L,"preview","MWRepliesMedia",d):void 0;return d==null||d.addPoint("fetch_reply_preview_url_xma_end",{bool:{has_url:!!t},string:{fetch_by:"maw_backend"}}),t}return o("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(_,d,"MWRepliesMedia")}:r("getLSMediaMessageReplyMediaUrl"),a[39]=L,a[40]=g,a[41]=d,a[42]=_,a[43]=Y):Y=a[43];var J=Y,Z;a[44]!==J||a[45]!==_?(Z=J(_),a[44]=J,a[45]=_,a[46]=Z):Z=a[46];var ee=Z;if(ee!=null&&ee!==""){var te=_.replyMediaPreviewHeight,ne;a[47]===Symbol.for("react.memo_cache_sentinel")?(ne=s._(/*BTDS*/"Original image"),a[47]=ne):ne=a[47];var re;return a[48]!==d||a[49]!==_.replyMediaPreviewHeight||a[50]!==_.replyMediaPreviewWidth||a[51]!==f||a[52]!==ee?(re=m.jsx(r("MWRepliesImage.react"),{height:te,imageAlt:ne,mediaRenderQpl:d,outgoing:f,src:ee,width:_.replyMediaPreviewWidth}),a[48]=d,a[49]=_.replyMediaPreviewHeight,a[50]=_.replyMediaPreviewWidth,a[51]=f,a[52]=ee,a[53]=re):re=a[53],re}return b}function f(e){var t=o("react-compiler-runtime").c(21),n=e.isSecureMessage,a=e.mediaRenderQpl,i=e.message,l=e.outgoing,s=n===void 0?!1:n,u,d;t[0]!==a?(u=function(){a==null||a.addPoint("render-replies-media")},d=[a],t[0]=a,t[1]=u,t[2]=d):(u=t[1],d=t[2]),p(u,d);var f=r("useMWRepliesImageGetMaxDimensions")(),g;if(t[3]!==i.replyMediaPreviewHeight){var h;g=(c||(c=o("I64"))).to_float((h=i.replyMediaPreviewHeight)!=null?h:(c||(c=o("I64"))).of_float(100)),t[3]=i.replyMediaPreviewHeight,t[4]=g}else g=t[4];var y=f.maxHeight,C=f.maxWidth,b;if(t[5]!==i.replyMediaPreviewWidth){var v;b=(c||(c=o("I64"))).to_float((v=i.replyMediaPreviewWidth)!=null?v:(c||(c=o("I64"))).of_float(100)),t[5]=i.replyMediaPreviewWidth,t[6]=b}else b=t[6];var S;t[7]!==f.maxHeight||t[8]!==f.maxWidth||t[9]!==l||t[10]!==g||t[11]!==b?(S=m.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.Suspense",height:g,maxHeight:y,maxWidth:C,outgoing:l,width:b}),t[7]=f.maxHeight,t[8]=f.maxWidth,t[9]=l,t[10]=g,t[11]=b,t[12]=S):S=t[12];var R;t[13]!==s||t[14]!==a||t[15]!==i||t[16]!==l?(R=m.jsx(_,{isSecureMessage:s,mediaRenderQpl:a,message:i,outgoing:l}),t[13]=s,t[14]=a,t[15]=i,t[16]=l,t[17]=R):R=t[17];var L;return t[18]!==S||t[19]!==R?(L=m.jsx(r("CometPlaceholder.react"),{fallback:S,name:"MWRepliesMedia.Suspense",children:R}),t[18]=S,t[19]=R,t[20]=L):L=t[20],L}l.default=f}),226);
__d("MessengerViewOnceFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M7 18c0-6.075 4.925-11 11-11a1.25 1.25 0 1 1 0 2.5 8.5 8.5 0 0 0 0 17 1.25 1.25 0 1 1 0 2.5c-6.075 0-11-4.925-11-11zM22.25 10.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 12.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM27.75 19.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 23.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM22.25 28a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M19.448 13.134c.34.19.552.548.552.937v7.858a1.071 1.071 0 0 1-2.143 0v-5.667a.143.143 0 0 0-.218-.12l-1 .624a1.071 1.071 0 1 1-1.135-1.817l2.857-1.786c.33-.207.746-.218 1.087-.029z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MWViewOnceMessageIcon",["MWXSvgIcon","MessengerViewOnceFilled.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(r("MessengerViewOnceFilled.svg.react")),!0);l.default=e}),98);
__d("MWRepliesRaven.react",["fbt","LSIntEnum","MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageReplyBubble.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useEffect,p=s._(/*BTDS*/"Attachment");function _(t){var n=o("react-compiler-runtime").c(17),a=t.mediaRenderQpl,l=t.message,c=t.outgoing,_,f;n[0]!==a?(_=function(){a==null||a.addPoint("render-replies-raven")},f=[a],n[0]=a,n[1]=_,n[2]=f):(_=n[1],f=n[2]),m(_,f);var g=(e||(e=r("useReStore")))(),h=l.replySourceId,y=l.threadKey,C,b;n[3]!==g||n[4]!==h||n[5]!==y?(C=function(){return h!=null?o("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(y,h):o("ReQL").empty()},b=[g,y,h],n[3]=g,n[4]=h,n[5]=y,n[6]=C,n[7]=b):(C=n[6],b=n[7]);var v=o("ReQLSuspense").useFirst(C,b,i.id+":55"),S=p;if(v!=null){var R=(u||(u=o("LSIntEnum"))).unwrapIntEnum(v.attachmentType);e:switch(R){case r("MessagingAttachmentType").EPHEMERAL_IMAGE:{var L;n[8]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Photo"),n[8]=L):L=n[8],S=L;break e}case r("MessagingAttachmentType").EPHEMERAL_VIDEO:{var E;n[9]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Video"),n[9]=E):E=n[9],S=E;break e}default:S=p}}var k=S,I,T;n[10]===Symbol.for("react.memo_cache_sentinel")?(I={className:"x6s0dn4 x78zum5"},T=d.jsx("span",{className:"x1lliihq xbelrpt",children:d.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWViewOnceMessageIcon"),size:12})}),n[10]=I,n[11]=T):(I=n[10],T=n[11]);var D;n[12]!==S?(D=d.jsxs("div",babelHelpers.extends({"aria-label":k},I,{children:[T,S]})),n[12]=S,n[13]=D):D=n[13];var x;return n[14]!==c||n[15]!==D?(x=d.jsx(r("MWXMessageReplyBubble.react"),{outgoing:c,children:D}),n[14]=c,n[15]=D,n[16]=x):x=n[16],x}l.default=_}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message removed"),t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:i}),t[1]=n,t[2]=l):l=t[2],l}l.default=c}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","react-compiler-runtime","stylex","useJSON","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m;function p(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var _=c||(c=o("react")),f=c.useEffect,g=213,h=213,y={blurredImage:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x16xm01d",$$css:!0},unblurredImageContainer:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},C=function(t){var e=r("isStringNullOrEmpty")(t.replyMessageText)?s._(/*BTDS*/"Prompt contribution"):n("cr:2472")==null?t.replyMessageText:n("cr:2472").unvault(t.replyMessageText);return e};function b(e){var t=o("react-compiler-runtime").c(11),n;t[0]!==e?(n=babelHelpers.extends({},(p(e),e)),t[0]=e,t[1]=n):n=t[1];var a,i;t[2]!==n.mediaRenderQpl?(a=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-rollcall-contribution")},i=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=a,t[4]=i):(a=t[3],i=t[4]),f(a,i);var l=n,s=l.message,u;t[5]!==s.replyAttachmentId||t[6]!==s.replyAttachmentType?(u=(m||(m=o("LSIntEnum"))).equal(s.replyAttachmentType,r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=o("LSIntEnum"))).equal(s.replyAttachmentId,0),t[5]=s.replyAttachmentId,t[6]=s.replyAttachmentType,t[7]=u):u=t[7];var c=u,d;return t[8]!==c||t[9]!==n?(d=_.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:c?_.jsx(v,babelHelpers.extends({},n)):_.jsx(S,babelHelpers.extends({},n))}),t[8]=c,t[9]=n,t[10]=d):d=t[10],d}function v(e){var t,n=o("react-compiler-runtime").c(16),a=e.message,i=e.outgoing,l;n[0]!==a?(l=C(a),n[0]=a,n[1]=l):l=n[1];var s=l,u=r("useJSON")((t=a.replyAttachmentExtra)!=null?t:"{}"),c=u.avatar_height,d=u.avatar_url,m=u.avatar_width,p=u.owner_name,f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc"},n[2]=f):f=n[2];var g;n[3]!==c||n[4]!==d||n[5]!==m?(g=d!=null&&_.jsx("div",{className:"x1xegmmw",children:_.jsx(r("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:c,uri:d,width:m}})}),n[3]=c,n[4]=d,n[5]=m,n[6]=g):g=n[6];var h;n[7]!==p?(h=p!=null&&_.jsx(r("MWXText.react"),{type:"meta2",children:p}),n[7]=p,n[8]=h):h=n[8];var y;n[9]!==g||n[10]!==h?(y=_.jsxs("div",babelHelpers.extends({},f,{children:[g,h]})),n[9]=g,n[10]=h,n[11]=y):y=n[11];var b;return n[12]!==i||n[13]!==y||n[14]!==s?(b=_.jsxs(r("MWXMessageReplyBubble.react"),{outgoing:i,children:[y,s]}),n[12]=i,n[13]=y,n[14]=s,n[15]=b):b=n[15],b}function S(t){var n,a=o("react-compiler-runtime").c(45),l=t.mediaRenderQpl,s=t.message,c=t.outgoing,m,p;a[0]!==l?(m=function(){l==null||l.addPoint("render-replies-rollcall-contribution-impl")},p=[l],a[0]=l,a[1]=m,a[2]=p):(m=a[1],p=a[2]),f(m,p);var b;a[3]!==s?(b=C(s),a[3]=s,a[4]=b):b=a[4];var v=b,S=(e||(e=r("useReStore")))(),R;if(a[5]!==s.replyAttachmentExtra){var L;R=(d||(d=o("I64"))).of_string((L=s.replyAttachmentExtra)!=null?L:"0"),a[5]=s.replyAttachmentExtra,a[6]=R}else R=a[6];var E=R,k;a[7]!==S.tables.roll_calls||a[8]!==E?(k=function(){return o("ReQL").fromTableAscending(S.tables.roll_calls).getKeyRange(E)},a[7]=S.tables.roll_calls,a[8]=E,a[9]=k):k=a[9];var I;a[10]!==S||a[11]!==E?(I=[S,E],a[10]=S,a[11]=E,a[12]=I):I=a[12];var T=o("ReQLSuspense").useFirst(k,I,i.id+":162"),D=s.threadKey,x,$;a[13]!==S||a[14]!==E||a[15]!==T||a[16]!==D?(x=function(){T||r("promiseDone")(S.runInTransaction(function(e){return r("LSIssuePointQueryForRollCallConversionStoredProcedure")(r("LSFactory")(e),{rollCallId:E,threadKey:D})},"readwrite",void 0,void 0,i.id+":171"))},$=[T,E,D,S],a[13]=S,a[14]=E,a[15]=T,a[16]=D,a[17]=x,a[18]=$):(x=a[17],$=a[18]),o("Int64Hooks").useEffectInt64(x,$);var P=(n=T==null?void 0:T.isBlurred)!=null?n:!1,N,M,w,A;if(a[19]!==s){w=r("getLSMediaMessageReplyMediaUrl")(s);var F;a[24]!==s.replyMediaPreviewHeight?(F=s.replyMediaPreviewHeight!=null?(d||(d=o("I64"))).to_float(s.replyMediaPreviewHeight):0,a[24]=s.replyMediaPreviewHeight,a[25]=F):F=a[25];var O=F,B;a[26]!==s.replyMediaPreviewWidth?(B=s.replyMediaPreviewWidth!=null?(d||(d=o("I64"))).to_float(s.replyMediaPreviewWidth):0,a[26]=s.replyMediaPreviewWidth,a[27]=B):B=a[27];var W=B,q=Math.min(1,g/O),U=Math.min(1,h/W),V;a[28]!==O||a[29]!==q||a[30]!==U?(V=Math.round(O*Math.min(q,U)),a[28]=O,a[29]=q,a[30]=U,a[31]=V):V=a[31],N=V;var H;a[32]!==q||a[33]!==U||a[34]!==W?(H=Math.round(W*Math.min(q,U)),a[32]=q,a[33]=U,a[34]=W,a[35]=H):H=a[35],M=H,A=r("isStringNullOrEmpty")(w),a[19]=s,a[20]=N,a[21]=M,a[22]=w,a[23]=A}else N=a[20],M=a[21],w=a[22],A=a[23];if(!A){var G;return a[36]!==P||a[37]!==N||a[38]!==M||a[39]!==c||a[40]!==w?(G=P?_.jsx("div",{style:{height:N,width:M},children:_.jsx(r("FDSBlurredBackgroundImage.react"),{src:w,xstyle:[y.blurredImage,c&&y.outgoing]})}):_.jsx("div",{className:(u||(u=r("stylex")))([y.unblurredImageContainer,c&&y.outgoing]),style:{height:N,width:M},children:_.jsx(r("FDSImageCover.react"),{alt:"",src:w})}),a[36]=P,a[37]=N,a[38]=M,a[39]=c,a[40]=w,a[41]=G):G=a[41],G}var z;return a[42]!==c||a[43]!==v?(z=_.jsx(r("MWXMessageReplyBubble.react"),{outgoing:c,children:v}),a[42]=c,a[43]=v,a[44]=z):z=a[44],z}l.default=b}),226);
__d("useIssueMediaReceiverFetchTask",["FBLogger","Int64Hooks","LSMediaUrlUtils","MAWBridgeUpdateClientMediaStatusHandler","MAWIssueReceiverFetchTask","MAWMediaDownloadStatus","WAHashUtils","clearTimeout","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=r("justknobx")._("3314");function m(e,t,n,a,i,l,s,m,p){var _=o("react-compiler-runtime").c(25),f=r("useAsyncReStore")(),g=c(!1),h;_[0]!==s||_[1]!==m?(h=o("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(s,m),_[0]=s,_[1]=m,_[2]=h):h=_[2];var y=h,C=c(null),b,v;_[3]!==y?(b=function(){var e=C.current;return y&&r("clearTimeout")(e),function(){r("clearTimeout")(e)}},v=[y],_[3]=y,_[4]=b,_[5]=v):(b=_[4],v=_[5]),u(b,v);var S;_[6]!==f||_[7]!==y||_[8]!==e||_[9]!==i||_[10]!==l||_[11]!==t||_[12]!==a||_[13]!==n?(S=function(){if(!(!i||!e||a==null||t==null||g.current||y)){g.current=!0,l==null||l.addPoint("media_receiver_fetch_task_start");var s=function(n){r("promiseDone")(f,function(e){return o("MAWBridgeUpdateClientMediaStatusHandler").call(e,{details:n,key:o("WAHashUtils").stringToPlaintextHash(t),status:r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE,type:"main"})})};r("promiseDone")(f,function(e){o("MAWIssueReceiverFetchTask").issueReceiverFetchTask(e,t,a,n),C.current=r("setTimeout")(function(){l==null||l.addPoint("media_receiver_fetch_task_timeout"),s("media_receiver_fetch_task_timeout")},d)},function(e){r("clearTimeout")(C.current),l==null||l.addPoint("media_receiver_fetch_task_fail"),s("media_receiver_fetch_task_fail"),r("FBLogger")("messenger_web_media").catching(e).warn("Failed to issue media receiver fetch task on mount")})}},_[6]=f,_[7]=y,_[8]=e,_[9]=i,_[10]=l,_[11]=t,_[12]=a,_[13]=n,_[14]=S):S=_[14];var R;_[15]!==p||_[16]!==f||_[17]!==y||_[18]!==e||_[19]!==i||_[20]!==l||_[21]!==t||_[22]!==a||_[23]!==n?(R=[f,y,i,l,t,a,n,e,p],_[15]=p,_[16]=f,_[17]=y,_[18]=e,_[19]=i,_[20]=l,_[21]=t,_[22]=a,_[23]=n,_[24]=R):R=_[24],o("Int64Hooks").useEffectInt64(S,R)}l.default=m}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSHotEmojiSize","LSMediaUrlAttachment","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatEmojiHotLike.react","MWV2Sticker.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:2472","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","isReceiverFetchSticker","react","react-compiler-runtime","useIssueMediaReceiverFetchTask","useMAWMediaDownloadStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=c||(c=o("react")),p=c.useEffect,_={replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replyHotLikeStickerV2:{filter:"xin470k",height:"x10w6t97",marginBottom:"x12nagc",width:"x1td3qas",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function f(t){var a,l,c=o("react-compiler-runtime").c(37),d=t.isSecureMessage,f=t.mediaRenderQpl,h=t.message,y=t.outgoing,C=d===void 0?!1:d,b;c[0]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Sticker"),c[0]=b):b=c[0];var v=b,S;c[1]!==y?(S=m.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:y,children:v}),c[1]=y,c[2]=S):S=c[2];var R=S,L=(e||(e=r("useReStore")))(),E;c[3]!==L||c[4]!==h.replyAttachmentId||c[5]!==h.replyAttachmentPlaintextHash||c[6]!==h.replySourceId||c[7]!==h.threadKey?(E=function(){var e=h.replyAttachmentPlaintextHash,t=h.replySourceId;if(e!=null&&t!=null)return o("ReQL").fromTableAscending(L.tables.attachments).filter(function(n){return n.attachmentFbid===e&&n.messageId===t});var n=h.replyAttachmentId;return n!=null&&t!=null?o("ReQL").fromTableAscending(L.tables.attachments).getKeyRange(h.threadKey,t,(u||(u=o("I64"))).to_string(n)):o("ReQL").empty()},c[3]=L,c[4]=h.replyAttachmentId,c[5]=h.replyAttachmentPlaintextHash,c[6]=h.replySourceId,c[7]=h.threadKey,c[8]=E):E=c[8];var k;c[9]!==L||c[10]!==h?(k=[L,h],c[9]=L,c[10]=h,c[11]=k):k=c[11];var I=o("ReQLSuspense").useFirst(E,k,i.id+":81"),T;c[12]!==I?(T=I?r("isReceiverFetchSticker")(I):!1,c[12]=I,c[13]=T):T=c[13],r("useIssueMediaReceiverFetchTask")(T,h.replySourceId,h.threadKey,I==null?void 0:I.receiverFetchId,C,f,I==null?void 0:I.previewUrl,I==null?void 0:I.previewUrlExpirationTimestampMs,I==null?void 0:I.attachmentType);var D,x;c[14]!==I||c[15]!==f?(D=function(){I!=null&&(f==null||f.addAttachmentAnnotations==null||f.addAttachmentAnnotations(I)),f==null||f.addPoint("render-replies-sticker-impl",{bool:{has_db_attachment:I!=null}})},x=[I,f],c[14]=I,c[15]=f,c[16]=D,c[17]=x):(D=c[16],x=c[17]),p(D,x);var $=C?I:null,P=(a=r("useMAWMediaDownloadStatus")($,f))!=null?a:{},N=P.uiState;if($!=null&&N!=="downloaded")return R;var M=(l=h.replyMessageText)!=null?l:"",w=(n("cr:2472")!=null?n("cr:2472").unvault(M):M)==="\uD83D\uDC4D";if(w){var A;return c[18]===Symbol.for("react.memo_cache_sentinel")?(A=m.jsx(r("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:r("LSHotEmojiSize").NONE,xstyle:r("gkx")("23249")?_.replyHotLikeSticker:_.replyHotLikeStickerV2}),c[18]=A):A=c[18],A}var F;c[19]!==C||c[20]!==f||c[21]!==h?(F=n("cr:9765")!=null&&C?o("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(h,f,"MWRepliesSticker"):r("getLSMediaMessageReplyMediaUrl")(h),c[19]=C,c[20]=f,c[21]=h,c[22]=F):F=c[22];var O=F;if(O!=null&&O!==""){var B=I==null?void 0:I.accessibilitySummaryText,W;return c[23]!==I||c[24]!==C||c[25]!==f||c[26]!==h||c[27]!==y||c[28]!==O||c[29]!==B?(W=m.jsx(r("MWRepliesImage.react"),{attachment:I,height:h.replyMediaPreviewHeight,imageAlt:B,isSecureMessage:C,isSticker:!0,mediaRenderQpl:f,message:h,outgoing:y,src:O,width:h.replyMediaPreviewWidth}),c[23]=I,c[24]=C,c[25]=f,c[26]=h,c[27]=y,c[28]=O,c[29]=B,c[30]=W):W=c[30],W}if(I==null)return R;var q;if(n("cr:9765")==null||!C||I.receiverFetchId!=null)q=g;else{var U;c[31]!==f?(U=function(t){return n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(t.attachmentFbid,"MWRepliesSticker",f)},c[31]=f,c[32]=U):U=c[32],q=U}var V;return c[33]!==I||c[34]!==f||c[35]!==q?(V=m.jsx(r("MWV2Sticker.react"),{attachment:I,getPreviewUrl:q,mediaRenderQpl:f,scale:.6,xstyle:_.replySticker}),c[33]=I,c[34]=f,c[35]=q,c[36]=V):V=c[36],V}function g(e){return o("LSMediaUrlAttachment").previewUrl(e)}function h(e){var t=o("react-compiler-runtime").c(18),n;t[0]!==e?(n=babelHelpers.extends({},(d(e),e)),t[0]=e,t[1]=n):n=t[1];var a=n,i=a.message,l=a.outgoing,s,c;t[2]!==n.mediaRenderQpl?(s=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-sticker")},c=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=s,t[4]=c):(s=t[3],c=t[4]),p(s,c);var _;if(t[5]!==i.replyMediaPreviewHeight){var g;_=(u||(u=o("I64"))).to_float((g=i.replyMediaPreviewHeight)!=null?g:(u||(u=o("I64"))).of_float(24)),t[5]=i.replyMediaPreviewHeight,t[6]=_}else _=t[6];var h;if(t[7]!==i.replyMediaPreviewWidth){var y;h=(u||(u=o("I64"))).to_float((y=i.replyMediaPreviewWidth)!=null?y:(u||(u=o("I64"))).of_float(24)),t[7]=i.replyMediaPreviewWidth,t[8]=h}else h=t[8];var C;t[9]!==l||t[10]!==_||t[11]!==h?(C=m.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesSticker.Suspense",height:_,outgoing:l,width:h}),t[9]=l,t[10]=_,t[11]=h,t[12]=C):C=t[12];var b;t[13]!==n?(b=m.jsx(f,babelHelpers.extends({},n)),t[13]=n,t[14]=b):b=t[14];var v;return t[15]!==C||t[16]!==b?(v=m.jsx(r("CometPlaceholder.react"),{fallback:C,name:"MWRepliesSticker",children:b}),t[15]=C,t[16]=b,t[17]=v):v=t[17],v}l.default=h}),226);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","MsgrWebGating","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=e||(e=o("react")),p=e.useEffect;function _(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=babelHelpers.extends({},(d(e),e)),t[0]=e,t[1]=n):n=t[1];var a,i;t[2]!==n.mediaRenderQpl?(a=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-story")},i=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=a,t[4]=i):(a=t[3],i=t[4]),p(a,i);var l;return t[5]!==n?(l=m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:m.jsx(f,babelHelpers.extends({},n))}),t[5]=n,t[6]=l):l=t[6],l}function f(e){var t=o("react-compiler-runtime").c(34),a=e.isSecureMessage,i=e.mediaRenderQpl,l=e.message,d=e.outgoing,_=a===void 0?!1:a,f=l.replySourceId,g;if(t[0]!==_||t[1]!==f){var h;g=f!=null?_?f:(h=r("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+f),view_single:!0}).setDomain("www.facebook.com"))==null||(h=h.setProtocol("https"))==null?void 0:h.toString():void 0,t[0]=_,t[1]=f,t[2]=g}else g=t[2];var y=g,C,b;t[3]!==i||t[4]!==l.replyAttachmentId||t[5]!==l.replyAttachmentPlaintextHash||t[6]!==l.replySourceId?(C=function(){i==null||i.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:l.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:l.replyAttachmentPlaintextHash!=null,has_reply_source_id:l.replySourceId!=null}}),i==null||i.addAnnotations({string:{xma_content_type:o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((u||(u=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").FB_STORY_REPLY))}})},b=[i,l.replyAttachmentId,l.replyAttachmentPlaintextHash,l.replySourceId],t[3]=i,t[4]=l.replyAttachmentId,t[5]=l.replyAttachmentPlaintextHash,t[6]=l.replySourceId,t[7]=C,t[8]=b):(C=t[7],b=t[8]),o("Int64Hooks").useEffectInt64(C,b);var v;t[9]!==_||t[10]!==i?(v=n("cr:9765")!=null&&_?function(e){return r("gkx")("6417")||o("MsgrWebGating").isQuotedMessagesInLsEnabled()?(e.replyAttachmentId!=null&&e.replyAttachmentPlaintextHash==null&&r("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing"),e.replyAttachmentPlaintextHash!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(e.replyAttachmentPlaintextHash,"MWRepliesStory",i):null):e.replyAttachmentId!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((c||(c=o("I64"))).to_string(e.replyAttachmentId),"MWRepliesStory",i):null}:r("getLSMediaMessageReplyMediaUrl"),t[9]=_,t[10]=i,t[11]=v):v=t[11];var S=v,R;t[12]!==S||t[13]!==l?(R=S(l),t[12]=S,t[13]=l,t[14]=R):R=t[14];var L=R,E,k;if(t[15]!==i||t[16]!==l.replyAttachmentPlaintextHash||t[17]!==L?(E=function(){L==null&&(i==null||i.endFail("missing-reply-media",{bool:{has_plaintexthash:l.replyAttachmentPlaintextHash!=null}}))},k=[i,l.replyAttachmentPlaintextHash,L],t[15]=i,t[16]=l.replyAttachmentPlaintextHash,t[17]=L,t[18]=E,t[19]=k):(E=t[18],k=t[19]),p(E,k),L==null){var I;t[20]===Symbol.for("react.memo_cache_sentinel")?(I=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),t[20]=I):I=t[20];var T;return t[21]!==i||t[22]!==d?(T=m.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:d,mediaRenderQpl:i,children:I}),t[21]=i,t[22]=d,t[23]=T):T=t[23],T}var D;t[24]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"View story"),t[24]=D):D=t[24];var x;t[25]!==y?(x=y!=null?{url:y}:void 0,t[25]=y,t[26]=x):x=t[26];var $;t[27]!==i||t[28]!==d||t[29]!==L?($=m.jsx(r("MWRepliesImage.react"),{mediaRenderQpl:i,outgoing:d,src:L}),t[27]=i,t[28]=d,t[29]=L,t[30]=$):$=t[30];var P;return t[31]!==x||t[32]!==$?(P=m.jsx(r("MWXPressable.react"),{"aria-label":D,linkProps:x,overlayDisabled:!0,children:$}),t[31]=x,t[32]=$,t[33]=P):P=t[33],P}l.default=_}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextFormattingUtils","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t,a,i=o("react-compiler-runtime").c(15),l=e.isSecureMessage,u=e.message,c=e.outgoing,d=e.text,m,p;i[0]===Symbol.for("react.memo_cache_sentinel")?(p={MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},i[0]=p):p=i[0],m=p;var _=m,f,g;i[1]!==d?(g=o("MWChatTextFormattingUtils").getFormattingRanges(d),i[1]=d,i[2]=g):g=i[2],f=g;var h=f,y,C;if(i[3]!==l||i[4]!==u.mentionIds){var b,v;C=new Set(l?(b=(v=u.mentionIds)==null||v.split==null?void 0:v.split(","))!=null?b:[]:[]),i[3]=l,i[4]=u.mentionIds,i[5]=C}else C=i[5];y=C;var S=y,R;i[6]!==d?(R=n("cr:2472")==null?d:n("cr:2472").unvault(d),i[6]=d,i[7]=R):R=i[7];var L=R,E=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(L,[],S,u.threadKey))==null?void 0:a.textWithSubstitutions)!=null?t:L,k;i[8]===Symbol.for("react.memo_cache_sentinel")?(k={className:"xi81zsa x126k92a"},i[8]=k):k=i[8];var I;i[9]!==h||i[10]!==E?(I=s.jsx("div",babelHelpers.extends({},k,{children:s.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:h,renderers:_,text:E,transforms:o("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})),i[9]=h,i[10]=E,i[11]=I):I=i[11];var T;return i[12]!==c||i[13]!==I?(T=s.jsx(r("MWXMessageReplyBubble.react"),{outgoing:c,children:I}),i[12]=c,i[13]=I,i[14]=T):T=i[14],T}l.default=c}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message unavailable"),t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:i}),t[1]=n,t[2]=l):l=t[2],l}l.default=c}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaDownloadStatus","useMWRepliesImageGetMaxDimensions","useReStore"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d;function m(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var p=d||(d=o("react")),_=d,f=_.useCallback,g=_.useEffect,h=_.useRef,y={thumbnail:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function C(t){var a=o("react-compiler-runtime").c(65),l=t.isSecureMessage,d=t.mediaRenderQpl,m=t.message,_=t.outgoing,f=l===void 0?!1:l,C=r("useMWRepliesImageGetMaxDimensions")(),b=C.maxHeight,v=C.maxWidth,S=(e||(e=r("useReStore")))(),R;a[0]!==S.tables.attachments||a[1]!==m.replyAttachmentId||a[2]!==m.replyAttachmentPlaintextHash||a[3]!==m.replySourceId||a[4]!==m.threadKey?(R=function(){var e,t=m.replyAttachmentPlaintextHash,n=(e=m.replySourceId)!=null?e:"";if(t!=null&&n!=null)return o("ReQL").fromTableAscending(S.tables.attachments).filter(function(e){return e.attachmentFbid===t&&e.messageId===n});var r,a=(r=m.replyAttachmentId)!=null?r:(c||(c=o("I64"))).zero;return o("ReQL").fromTableAscending(S.tables.attachments).getKeyRange(m.threadKey,n,(c||(c=o("I64"))).to_string(a))},a[0]=S.tables.attachments,a[1]=m.replyAttachmentId,a[2]=m.replyAttachmentPlaintextHash,a[3]=m.replySourceId,a[4]=m.threadKey,a[5]=R):R=a[5];var L;a[6]!==S||a[7]!==m?(L=[S,m],a[6]=S,a[7]=m,a[8]=L):L=a[8];var E=o("ReQLSuspense").useFirst(R,L,i.id+":72"),k,I;a[9]!==E||a[10]!==d?(k=function(){E!=null&&(d==null||d.addAttachmentAnnotations==null||d.addAttachmentAnnotations(E)),d==null||d.addPoint("render-reply-video-impl",{bool:{has_db_attachment:E!=null}})},I=[E,d],a[9]=E,a[10]=d,a[11]=k,a[12]=I):(k=a[11],I=a[12]),g(k,I);var T=f?E:null,D=r("useMAWMediaDownloadStatus")(T,d),x=D.uiState,$;if(E!=null)if(T!=null&&x!=="downloaded")$=null;else if(n("cr:9765")==null||!f){var P;a[13]!==E?(P=o("LSMediaUrlAttachment").previewUrl(E),a[13]=E,a[14]=P):P=a[14],$=P}else{var N;a[15]!==E.attachmentFbid||a[16]!==d?(N=n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(E.attachmentFbid,"MWRepliesVideo",d),a[15]=E.attachmentFbid,a[16]=d,a[17]=N):N=a[17],$=N}var M=h(null),w;a[18]!==d?(w=function(t){d==null||d.endFail("load-video-error",{string:{video_error_name:t}})},a[18]=d,a[19]=w):w=a[19];var A=w,F;a[20]!==d?(F=function(){d==null||d.endSuccess()},a[20]=d,a[21]=F):F=a[21];var O=F;if($==null){d==null||d.endSuccess();var B;a[22]===Symbol.for("react.memo_cache_sentinel")?(B=s._(/*BTDS*/"Video"),a[22]=B):B=a[22];var W;return a[23]!==_?(W=p.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:_,children:B}),a[23]=_,a[24]=W):W=a[24],W}var q;a[25]!==m.replyMediaPreviewHeight?(q=m.replyMediaPreviewHeight!=null?(c||(c=o("I64"))).to_float(m.replyMediaPreviewHeight):void 0,a[25]=m.replyMediaPreviewHeight,a[26]=q):q=a[26];var U=q,V;a[27]!==m.replyMediaPreviewWidth?(V=m.replyMediaPreviewWidth!=null?(c||(c=o("I64"))).to_float(m.replyMediaPreviewWidth):void 0,a[27]=m.replyMediaPreviewWidth,a[28]=V):V=a[28];var H=V,G;if((E==null?void 0:E.previewUrlMimeType)!=null&&!f){var z;a[29]!==A?(z=function(){return A()},a[29]=A,a[30]=z):z=a[30];var j;a[31]!==U||a[32]!==b||a[33]!==v||a[34]!==O||a[35]!==$||a[36]!==z||a[37]!==H?(j=p.jsx(r("MWXMessageImage.react"),{alt:"",height:U,maxHeight:b,maxWidth:v,onError:z,onLoad:O,src:$,width:H,xstyle:y.thumbnail}),a[31]=U,a[32]=b,a[33]=v,a[34]=O,a[35]=$,a[36]=z,a[37]=H,a[38]=j):j=a[38],G=j}else{var K=1,Q=1;U!=null&&(K=U/b),H!=null&&(Q=H/v);var X=Math.max(K,Q),Y;a[39]!==A||a[40]!==O?(Y=p.jsx(r("MWXVideoStatusListener.react"),{onError:A,onLoad:O,videoRef:M}),a[39]=A,a[40]=O,a[41]=Y):Y=a[41];var J;a[42]===Symbol.for("react.memo_cache_sentinel")?(J="x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d xin470k x6ikm8r x10wlt62",a[42]=J):J=a[42];var Z=U!=null&&U>b?"100%":U,ee;a[43]!==b||a[44]!==v?(ee={maxHeight:b,maxWidth:v},a[43]=b,a[44]=v,a[45]=ee):ee=a[45];var te=H!=null&&H>v?"100%":(H||0)/X,ne;a[46]!==$||a[47]!==Z||a[48]!==ee||a[49]!==te?(ne=p.jsx("video",{alt:"",className:J,height:Z,ref:M,src:$,style:ee,width:te}),a[46]=$,a[47]=Z,a[48]=ee,a[49]=te,a[50]=ne):ne=a[50];var re;a[51]!==Y||a[52]!==ne?(re=p.jsxs(p.Fragment,{children:[Y,ne]}),a[51]=Y,a[52]=ne,a[53]=re):re=a[53],G=re}var oe;a[54]===Symbol.for("react.memo_cache_sentinel")?(oe={className:"x1n2onr6"},a[54]=oe):oe=a[54];var ae=G,ie;a[55]===Symbol.for("react.memo_cache_sentinel")?(ie={className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k x10l6tqk x13vifvy xh8yej3"},a[55]=ie):ie=a[55];var le;a[56]!==A?(le=function(){return A()},a[56]=A,a[57]=le):le=a[57];var se;a[58]===Symbol.for("react.memo_cache_sentinel")?(se=u("354763"),a[58]=se):se=a[58];var ue;a[59]!==O||a[60]!==le?(ue=p.jsx("div",babelHelpers.extends({},ie,{children:p.jsx(r("MWXImage.react"),{onError:le,onLoad:O,src:se})})),a[59]=O,a[60]=le,a[61]=ue):ue=a[61];var ce;return a[62]!==ue||a[63]!==G?(ce=p.jsxs("div",babelHelpers.extends({},oe,{children:[ae,ue]})),a[62]=ue,a[63]=G,a[64]=ce):ce=a[64],ce}function b(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=babelHelpers.extends({},(m(e),e)),t[0]=e,t[1]=n):n=t[1];var a,i;t[2]!==n.mediaRenderQpl?(a=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-video")},i=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=a,t[4]=i):(a=t[3],i=t[4]),g(a,i);var l;return t[5]!==n?(l=p.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:p.jsx(C,babelHelpers.extends({},n))}),t[5]=n,t[6]=l):l=t[6],l}l.default=b}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRaven.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","react","react-compiler-runtime","useMWJumpToMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(20),n=e.isSecureMessage,a=e.mediaRenderQpl,i=e.message,l=e.outgoing,c=n===void 0?!1:n,d=r("MWBlockingProtectionContext.react").useHook(),m=d.findMessageId,p=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(i.replyToUserId,i.threadKey),_;if(t[0]!==m||t[1]!==p||t[2]!==i.replySourceId){var f;_=p&&!m((f=i.replySourceId)!=null?f:""),t[0]=m,t[1]=p,t[2]=i.replySourceId,t[3]=_}else _=t[3];var g=_,h=r("useMWJumpToMessage")("Pinned"),y,C;if(t[4]!==a||t[5]!==g?(y=function(){a==null||a.addPoint("render-replied-message",{bool:{show_blocking_tombstone:g}})},C=[a,g],t[4]=a,t[5]=g,t[6]=y,t[7]=C):(y=t[6],C=t[7]),u(y,C),g){var b=i.replySourceTimestampMs,v=i.replySourceId,S;t[8]!==h||t[9]!==v||t[10]!==b?(S=function(){v!=null&&b!=null&&h(v,b)},t[8]=h,t[9]=v,t[10]=b,t[11]=S):S=t[11];var R;return t[12]!==i||t[13]!==S?(R=s.jsx(o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{message:i,onClick:S,source:o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),t[12]=i,t[13]=S,t[14]=R):R=t[14],R}var L;return t[15]!==c||t[16]!==a||t[17]!==i||t[18]!==l?(L=s.jsx(r("MWPBaseRepliedMessage.react"),{isSecureMessage:c,mediaRenderQpl:a,message:i,outgoing:l,renderAttachment:r("MWRepliesAttachment.react"),renderExpiredMessage:r("MWRepliesExpired.react"),renderGIF:r("MWRepliesGIF.react"),renderMedia:r("MWRepliesMedia.react"),renderRaven:r("MWRepliesRaven.react")!=null?r("MWRepliesRaven.react"):void 0,renderRemovedMessage:r("MWRepliesRemoved.react"),renderRollcallContribution:r("MWRepliesRollcallContribution.react"),renderSticker:r("MWRepliesSticker.react"),renderStory:r("MWRepliesStory.react"),renderTextMessage:r("MWRepliesText.react"),renderUnavailableMessage:r("MWRepliesUnavailable.react"),renderUnavailableStory:r("MWStoryUnavailable.react"),renderVideo:r("MWRepliesVideo.react")}),t[15]=c,t[16]=a,t[17]=i,t[18]=l,t[19]=L):L=t[19],L}l.default=c}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentAppID","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","mergeDeep","react","react-compiler-runtime","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useLayoutEffect,m=c.useRef;function p(e,t,n,r){var a=o("react-compiler-runtime").c(1),i=n===void 0?g:n,l=r===void 0?o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT:r,s;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s={},a[0]=s):s=a[0],f(e,t,i,!1,s,l)}function _(e,t){var n=o("react-compiler-runtime").c(4),r;n[0]!==e.replyAttachmentType?(r=o("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(e.replyAttachmentType),n[0]=e.replyAttachmentType,n[1]=r):r=n[1];var a;return n[2]!==r?(a={string:{reply_attachment_type:r}},n[2]=r,n[3]=a):a=n[3],f(e,t,h,!0,a,o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT)}function f(e,t,n,a,i,l){i===void 0&&(i={});var c=(s||(s=o("I64"))).le(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),p=o("MWPActor.react").useActor(),_=s.equal(e.senderId,p),f=r("useLSMessagingInitiatingSource")(),g=r("useXMAPreviewsDisabledSetting")(),h=m(!1),y=o("Int64Hooks").useMemoInt64(function(){var d;if(!n(e,t))return null;var m=o("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(e.offlineThreadingId,c,a),p=o("CurrentAppID").getAppID(),y={bool:{has_db_reply_attachment:e.replyAttachmentId!=null,has_quick_replies:e.hasQuickReplies,has_text:!!e.text,is_admin_message:e.isAdminMessage,is_bot_response:e.botResponseId!=null,is_collapsed:e.isCollapsed,is_expired:e.isExpired,is_forwarded:(d=e.isForwarded)!=null?d:!1,is_optimistic:c,is_outgoing:_,is_pdb:!!r("gkx")("8483"),is_reply_to_media:a,is_unsent:e.isUnsent,mention_type_is_ai:e.mentionTypes==="ai",text_has_links:e.textHasLinks,use_maw_shared_worker:o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},int:{message_rendering_type:(s||(s=o("I64"))).to_float(e.messageRenderingType),quick_reply_type:s.to_float(e.quickReplyType),reply_status:e.replyStatus!=null?(s||(s=o("I64"))).to_float(e.replyStatus):void 0,reply_type:e.replyType!=null?(s||(s=o("I64"))).to_float(e.replyType):void 0,takedown_state:e.takedownState!=null?(s||(s=o("I64"))).to_float(e.takedownState):void 0},string:{app_id:p!=null?p:void 0,content_type:a&&e.replyAttachmentType!=null?o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(e.replyAttachmentType):o("MWMediaRenderQplUtils").getMessageContentTypeString(e),content_type_num:s.to_string(e.displayedContentTypes),entry_point:"thread_view",message_age_bucket:o("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(e.primarySortKey),messaging_initiation_source:o("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(f),mw_version:s.to_string(o("MWVersion").v2),reply_source_type:e.replySourceType!=null?o("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(e.replySourceType):void 0,reply_source_type_v2:e.replySourceTypeV2!=null?o("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(e.replySourceTypeV2):void 0,thread_type:o("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(t),transport_key:e.transportKey}},C=r("mergeDeep")(y,i);return babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(l,m,h,C),{addAttachmentAnnotations:function(t){var e,n,a,i=t==null?void 0:t.receiverFetchId,c;try{c=i!=null?JSON.parse(i):null}catch(e){c=null,r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}var d=(e=c)==null?void 0:e.xma_content_type,p=d!=null?o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((u||(u=o("LSIntEnum"))).ofNumber(d)):void 0;r("QPLUserFlow").addAnnotations(l,{bool:{has_attachment_receiver_fetch_id:(t==null?void 0:t.receiverFetchId)!=null,has_db_attachment:t!=null,has_db_media:(t==null?void 0:t.hasMedia)===!0,has_db_playable_url:!!(t!=null&&t.playableUrl),has_db_preview_url:!!(t!=null&&t.previewUrl),has_db_preview_url_large:!!(t!=null&&t.previewUrlLarge),has_db_xma:(t==null?void 0:t.hasXma)===!0,has_db_xma_favicon:(t==null?void 0:t.hasXmaFavicon)===!0,has_db_xma_header_image:(t==null?void 0:t.hasXmaHeaderImage)===!0,has_db_xma_preview:(t==null?void 0:t.hasXmaPreview)===!0,is_db_playable_url_expired:(t==null?void 0:t.playableUrlExpirationTimestampMs)!=null?o("LSMediaUrlUtils").isTimestampExpired(t.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(t==null?void 0:t.previewUrlExpirationTimestampMs)!=null?o("LSMediaUrlUtils").isTimestampExpired(t.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:g},string:{attachment_logging_type:t==null?void 0:t.attachmentLoggingType,attachment_transport_key:(n=t==null?void 0:t.transportKey)!=null?n:void 0,attachment_type:t==null?null:o("MWMediaRenderQplUtils").getAttachmentTypeString(t),audio_duration_bucket:(t==null?void 0:t.playableDurationMs)!=null?o("MWMediaRenderQplUtils").convertDurationToStringBucket((s||(s=o("I64"))).to_float((a=t==null?void 0:t.playableDurationMs)!=null?a:(s||(s=o("I64"))).zero)/1e3):void 0,file_size_bucket:(t==null?void 0:t.filesize)!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket((s||(s=o("I64"))).to_float(t==null?void 0:t.filesize)):void 0,playable_url_mime_type:t==null?void 0:t.playableUrlMimeType,preview_url_mime_type:t==null?void 0:t.previewUrlMimeType,sanitized_plaintext_hash:b(t),xma_content_type:p!=null?p:(t==null?void 0:t.xmaContentType)!=null?o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(t.xmaContentType):void 0,xma_default_cta_type:t==null?void 0:t.defaultCtaType,xma_layout_type:o("MWMediaRenderQplUtils").getMessageXmaLayoutTypeStringFromEnum(t==null?void 0:t.xmaLayoutType)}},{instanceKey:m})}})},[c,e.displayedContentTypes]),C=r("usePartialViewImpression")({onImpressionEnd:function(){h.current===!1&&(y==null||y.addPoint("message-row-hidden"),y==null||y.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){h.current===!1&&(y==null||y.addPoint("message-row-visible"),y==null||y.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});return d(function(){return y==null||y.start(),y==null||y.addPoint("message-row-mounted"),function(){h.current===!1&&(y==null?void 0:y.getInstanceKey())!=null&&(y==null||y.addPoint("message-row-unmounted"),y==null||y.endCancel(706))}},[y]),{mediaRenderQpl:y,messageRowRef:C}}function g(e,t){if(y(e))return!1;var n=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(8),e.displayedContentTypes);return n||o("MAWMsg").isMediaMsg(e)}function h(e,t){return o("MAWMsg").isMediaReplyAttachmentType(e,t)&&C(e)}function y(e){return e.isUnsent||e.isExpired}function C(e){return e.replyStatus!=null&&(s||(s=o("I64"))).equal(e.replyStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID))}function b(e){if(!(!r("gkx")("23916")||e==null||isFinite(e.attachmentFbid)))return o("WAHashUtils").sanitisePlaintextHash(o("WAHashUtils").stringToPlaintextHash(e.attachmentFbid))}l.useMediaRenderQpl=p,l.useMediaRenderQplForReply=_,l.enableQplForMessage=g}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Error rendering media"),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(2),a;return n[0]!==t.replySourceTypeV2?(a=t.replySourceTypeV2!=null&&(e||(e=o("I64"))).equal(t.replySourceTypeV2,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").XMA)),n[0]=t.replySourceTypeV2,n[1]=a):a=n[1],a}l.default=u}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWThreadViewMediaRenderQpl","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","react-compiler-runtime","useMWIsReplyToAuthor"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect,m={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(31),n=e.outgoing,a=e.isGroupThread,i=e.isSecureMessage,l=e.message,p=e.threadType,_=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),f=_.isStandardMessageList,g=r("useMWIsReplyToAuthor")(l),h;t[0]!==l.replySourceTypeV2?(h=l.replySourceTypeV2!=null&&(s||(s=o("I64"))).equal(l.replySourceTypeV2,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY)),t[0]=l.replySourceTypeV2,t[1]=h):h=t[1];var y=h,C;t[2]!==l.replyMediaExpirationTimestampMs?(C=l.replyMediaExpirationTimestampMs!=null?(s||(s=o("I64"))).gt(l.replyMediaExpirationTimestampMs,(s||(s=o("I64"))).zero):!0,t[2]=l.replyMediaExpirationTimestampMs,t[3]=C):C=t[3];var b=C,v=l.replySourceId==null?y:b,S=g||v,R;t[4]!==a||t[5]!==l?(R=c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:c.jsx(r("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:a,message:l})}),t[4]=a,t[5]=l,t[6]=R):R=t[6];var L=R,E;t[7]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx("div",{className:"x1xc55vz",role:"none"}),t[7]=E):E=t[7];var k=E,I=o("MWThreadViewMediaRenderQpl").useMediaRenderQplForReply(l,p),T=I.mediaRenderQpl,D=I.messageRowRef,x,$;t[8]!==T?(x=function(){T==null||T.addPoint("render-message-reply-row")},$=[T],t[8]=T,t[9]=x,t[10]=$):(x=t[9],$=t[10]),d(x,$);var P=n?L:k,N=n?k:L,M=n?"right":"left",w=S&&m.replyMargin,A;t[11]!==n?(A=function(t){return c.jsx(r("MWV2ReplyError.react"),{outgoing:n})},t[11]=n,t[12]=A):A=t[12];var F;t[13]!==i||t[14]!==f||t[15]!==T||t[16]!==l||t[17]!==n?(F=f?c.jsx(r("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:l,outgoing:n,children:c.jsx(r("MWRepliedMessage.react"),{isSecureMessage:i,mediaRenderQpl:T,message:l,outgoing:n})}):c.jsx(r("MWRepliedMessage.react"),{isSecureMessage:i,mediaRenderQpl:T,message:l,outgoing:n}),t[13]=i,t[14]=f,t[15]=T,t[16]=l,t[17]=n,t[18]=F):F=t[18];var O;t[19]!==A||t[20]!==F?(O=c.jsx(r("CometErrorBoundary.react"),{fallback:A,children:F}),t[19]=A,t[20]=F,t[21]=O):O=t[21];var B;t[22]!==w||t[23]!==O||t[24]!==P||t[25]!==N||t[26]!==M?(B=c.jsx(r("MWXMessageBubbleRow.react"),{addOnEnd:P,addOnStart:N,align:M,opaque:!0,xstyle:w,children:O}),t[22]=w,t[23]=O,t[24]=P,t[25]=N,t[26]=M,t[27]=B):B=t[27];var W;return t[28]!==D||t[29]!==B?(W=c.jsx("div",{ref:D,children:B}),t[28]=D,t[29]=B,t[30]=W):W=t[30],W}l.default=p}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=m,f=_.useEffect,g=_.useMemo,h=9;function y(e){var t=o("react-compiler-runtime").c(6),n=(u||(u=r("useReStore")))(),a,l;t[0]!==n||t[1]!==e?(a=function(){return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(n.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(e)},l=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=l):(a=t[2],l=t[3]);var s=o("ReQLSuspense").useArray(a,l,i.id+":47"),c,m;if(t[4]!==s){m=new Map;for(var p of s){var _=p==null?void 0:p.profileName;_!=null&&m.set((d||(d=o("I64"))).to_string(p.ownerId),_)}t[4]=s,t[5]=m}else m=t[5];c=m;var f=c;return f}function C(e){var t=o("react-compiler-runtime").c(6),n=e.messageId,r=e.reactions,a=e.threadKey,i=o("MWLSThread").useThread(a,b),l=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a),s;return t[0]!==l||t[1]!==n||t[2]!==i||t[3]!==r||t[4]!==a?(s=l?p.jsx(S,{messageId:n,parentThreadKey:i,reactions:r,threadKey:a}):p.jsx(v,{messageId:n,parentThreadKey:i,reactions:r,threadKey:a}),t[0]=l,t[1]=n,t[2]=i,t[3]=r,t[4]=a,t[5]=s):s=t[5],s}function b(e){return e.parentThreadKey}function v(t){var a=t.messageId,l=t.parentThreadKey,m=t.reactions,_=t.threadKey,C=(u||(u=r("useReStore")))(),b=o("ReQLSuspense").useArray(function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(C.tables.reactions).getKeyRange(_,a),o("ReQL").fromTableAscending(C.tables.contacts))},[C,_,a],i.id+":108"),v=y(l);f(function(){r("promiseDone")(C.runInTransaction(function(t){return(e||(e=n("Promise"))).all(b.map(function(a){var i=a[1];return i!=null?r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:c.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:c.ofNumber(r("LSContactIdType").FBID),contactType:c.ofNumber(r("LSContactType").USER),contactViewerRelationship:c.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:c.ofNumber(r("LSContactGender").UNKNOWN),id:i.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:c.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)}):(e||(e=n("Promise"))).resolve()}))},"readwrite",void 0,void 0,i.id+":124"))},[C,b]);var S=g(function(){var e=new Map(b.map(function(e){var t=e[1];return t==null&&r("FBLogger")("messenger_web").debug("missing contact for reaction tooltip"),[(d||(d=o("I64"))).to_string(e[0].actorId),t!=null?t.name:s._(/*BTDS*/"Facebook user")]})),t=m.map(function(t){var n=(d||(d=o("I64"))).to_string(t.actorId);if(v.has(n))return v.get(n);var r=e.get(n);return r==null?"":r}).filter(function(e){return e!==""}),n=t.length,a=t.slice(0,h);if(n>h){var i=n-h;a.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(i),s._param("count",String(i))]))}return a},[v,m,b]),R=S.map(function(e,t){return p.jsx(o("react-strict-dom").html.div,{children:e},String(t))});return p.jsx(o("react-strict-dom").html.div,{children:R})}v.displayName=v.name+" [from "+i.id+"]";function S(e){var t,n,a=e.messageId,l=e.parentThreadKey,c=e.reactions,m=e.threadKey,_=(u||(u=r("useReStore")))();f(function(){r("promiseDone")(_.runInTransaction(function(e){return r("LSClearReactionsV2DetailsAndRangeStoredProcedure")(r("LSFactory")(e))},"readwrite",void 0,void 0,i.id+":226")),r("promiseDone")(_.runInTransaction(function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:a,threadId:m})},"readwrite",void 0,void 0,i.id+":231"))},[_,m,a]);var g=y(l),C=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(_.tables.reactions_v2_details).getKeyRange(m,a).map(function(e){var t;return(t=g.get((d||(d=o("I64"))).to_string(e.reactorId)))!=null?t:e.fullName})},[_,g,m,a],i.id+":242"),b=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(_.tables.reactions_v2).getKeyRange(m,a)},[_,m,a],i.id+":255"),v=b?b.map(function(e){return e.viewerIsReactor}):[],S=v.length>0?v.reduce(function(e,t){return e||t}):!1,R=o("MWPActor.react").useActor(),L=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(_.tables.contacts).getKeyRange(R)},[_,R],i.id+":274"),E=b?b.map(function(e){return(d||(d=o("I64"))).to_int32(e.count)}).filter(function(e){return e>0}):[],k=(t=(L==null?void 0:L.id)!=null?g.get((d||(d=o("I64"))).to_string(L.id)):null)!=null?t:L==null?void 0:L.name;JSON.stringify(E)===JSON.stringify([1])&&S&&k!=null&&C.length===0?C.push(k):S&&C[0]!=null&&L&&k!=null&&((n=C[0])==null?void 0:n.toString())!==k&&C.unshift(k);var I=s._(/*BTDS*/"Loading..."),T=C.slice(0,h);if(C.length>h){var D=C.length-h;T.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(D),s._param("count",String(r("intlSummarizeNumber")(D)))]).toString())}var x=T.length===0?I:T.map(function(e,t){return p.jsx(o("react-strict-dom").html.div,{children:e},String(t))});return p.jsx(o("react-strict-dom").html.div,{children:x})}S.displayName=S.name+" [from "+i.id+"]",l.default=C}),226);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","react-compiler-runtime","stylex","useIsReactionDialogEnabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"xsrzb8j",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginInlineEnd:"xjn30re",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingInlineEnd:"x1ccui7m",paddingBottom:"x1j85h84",paddingInlineStart:"x18pi947",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(28),a=t.count,i=t.countXstyle,l=t.disableReactionDialog,u=t.emojis,c=t.message,p=t.reactions,h=t.reactionsV2,y=t.renderEmojis,C=t.threadKey,b=t.xstyle,v=l===void 0?!1:l,S=c.messageId,R;n[0]!==h?(R=h!=null?h.map(f).reduce(_,0):0,n[0]=h,n[1]=R):R=n[1];var L=R,E=r("useIsReactionDialogEnabled")(C)&&!v,k=L>1?L:a,I=k>1,T;if(n[2]!==u||n[3]!==E||n[4]!==y||n[5]!==I){var D;n[7]!==u.length||n[8]!==E||n[9]!==y||n[10]!==I?(D=function(n,a){var t=I||a!==u.length-1,i=o("MWChatReactionsUtils").isHeart(n[0]);return d.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(m.emoji,E?m.emojiWithCursor:!1,t?m.emojiMargin:!1),{key:String(a)}),d.jsx("div",babelHelpers.extends({},e.props(i?m.scaleHeartEmoji:!1),{children:y?y(n,16,"messenger_reaction_emoji_"+n[0]):d.jsx(r("MWChatReactionEmoji"),{emoji:n,size:16,testid:void 0})})))},n[7]=u.length,n[8]=E,n[9]=y,n[10]=I,n[11]=D):D=n[11],T=u.map(D),n[2]=u,n[3]=E,n[4]=y,n[5]=I,n[6]=T}else T=n[6];var x=T,$;n[12]!==b?($=(e||(e=r("stylex"))).props(m.emojiRow,b),n[12]=b,n[13]=$):$=n[13];var P;n[14]!==i||n[15]!==k||n[16]!==I?(P=I?d.jsx(g,{countXstyle:i,reactionCount:k}):null,n[14]=i,n[15]=k,n[16]=I,n[17]=P):P=n[17];var N;n[18]!==x||n[19]!==$||n[20]!==P?(N=d.jsxs("div",babelHelpers.extends({},$,{role:"none",children:[x,P]})),n[18]=x,n[19]=$,n[20]=P,n[21]=N):N=n[21];var M=N,w;return n[22]!==E||n[23]!==S||n[24]!==p||n[25]!==M||n[26]!==C?(w=E?d.jsx(r("MWXTooltip.react"),{align:"middle",label:s._(/*BTDS*/"Reactions"),position:"above",tooltip:d.jsx(r("MWV2ChatReactionsTooltip.react"),{messageId:S,reactions:p,threadKey:C}),children:M}):M,n[22]=E,n[23]=S,n[24]=p,n[25]=M,n[26]=C,n[27]=w):w=n[27],w}function _(e,t){return e+t}function f(e){return(u||(u=o("I64"))).to_int32(e.count)}function g(t){var n=o("react-compiler-runtime").c(10),a=t.countXstyle,i=t.reactionCount,l;n[0]!==i?(l=r("intlSummarizeNumber")(i),n[0]=i,n[1]=l):l=n[1];var s=l,u=s.length,c;n[2]!==a?(c=(e||(e=r("stylex")))(m.emojiNum,a),n[2]=a,n[3]=c):c=n[3];var p=u*o("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER,_;n[4]!==p?(_={width:p},n[4]=p,n[5]=_):_=n[5];var f;return n[6]!==s||n[7]!==c||n[8]!==_?(f=d.jsx("div",{className:c,role:"none",style:_,children:s}),n[6]=s,n[7]=c,n[8]=_,n[9]=f):f=n[9],f}l.default=p}),226);
__d("MWXMAV2AttachmentContainer.react",["cr:23170"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:23170")}),98);
__d("MWMessageRowAttachment.react",["I64","LSIntEnum","LSXmaContentType","MWLSThread","MWMessageListAttachmentContainer.react","MWPActor.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MessengerWebUXLoggerXMAEventLoggingImpl","MetaConfig","gkx","react","react-compiler-runtime","useXMAPreviewsDisabledSetting","useXMAV2Provider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t,n,a,i=o("react-compiler-runtime").c(46),l=e.attachments,d=e.connectBottom,p=e.connectTop,_=e.hasMessageEmphasisRing,f=e.hasText,g=e.isSearchPluginAttachment,h=e.isSecureMessage,y=e.mediaRenderQpl,C=e.message,b=e.navigateToRouteForMediaViewer,v=e.nextMessage,S=e.outgoing,R=e.prevMessage,L=e.renderAttachment,E=o("MWPActor.react").useActor(),k=r("useXMAV2Provider")(l),I=r("useXMAPreviewsDisabledSetting")();y==null||y.addAnnotations({bool:{renders_with_xma_v2:k!=null}});var T=o("MWLSThread").useThread(C.threadKey,m),D;i[0]!==l[0]||i[1]!==C||i[2]!==T?(D={attachment:l[0],clickCategory:1,message:C,threadType:T},i[0]=l[0],i[1]=C,i[2]=T,i[3]=D):D=i[3];var x=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(D);if(g)return y==null||y.endSuccess(),null;var $;i[4]!==C.displayedContentTypes?($=(s||(s=o("I64"))).equal(C.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(536870912)),i[4]=C.displayedContentTypes,i[5]=$):$=i[5];var P=$,N=(t=l[0])==null?void 0:t.actionUrl,M=(n=l[0])==null?void 0:n.xmaContentType,w=(a=l[0])==null?void 0:a.receiverFetchId,A;i[6]!==P||i[7]!==C.messageId||i[8]!==N||i[9]!==M||i[10]!==w||i[11]!==I?(A={actionUrl:N,isReceiverFetchXma:P,messageId:C.messageId,xmaContentType:M,xmaPreviewsDisabled:I,xmaReceiverFetchParams:w},i[6]=P,i[7]=C.messageId,i[8]=N,i[9]=M,i[10]=w,i[11]=I,i[12]=A):A=i[12];var F=A;if(k!=null&&k.content_type!==r("LSXmaContentType").FB_STORY_MENTION||P&&r("gkx")("7835")){var O;return i[13]!==l[0]||i[14]!==d||i[15]!==p||i[16]!==E||i[17]!==_||i[18]!==f||i[19]!==y||i[20]!==C||i[21]!==S||i[22]!==F||i[23]!==T||i[24]!==k||i[25]!==x?(O=c.jsx(r("MWXMAV2AttachmentContainer.react"),{attachment:l[0],connectBottom:d,connectTop:p,currentUserID:E,flattenTop:f,hasEmphasisRing:_,hasText:f,mediaRenderQpl:y,message:C,outgoing:S,receiverFetchParams:F,threadType:T,xmaDataclass:k,xmaEventImpressionLoggingRef:x}),i[13]=l[0],i[14]=d,i[15]=p,i[16]=E,i[17]=_,i[18]=f,i[19]=y,i[20]=C,i[21]=S,i[22]=F,i[23]=T,i[24]=k,i[25]=x,i[26]=O):O=i[26],O}if(L!=null&&h){var B;return i[27]!==f||i[28]!==y||i[29]!==C||i[30]!==v||i[31]!==S||i[32]!==R||i[33]!==L?(B=L(C,R,v,S,f,y),i[27]=f,i[28]=y,i[29]=C,i[30]=v,i[31]=S,i[32]=R,i[33]=L,i[34]=B):B=i[34],B}var W;return i[35]!==d||i[36]!==p||i[37]!==_||i[38]!==f||i[39]!==y||i[40]!==C||i[41]!==b||i[42]!==v||i[43]!==S||i[44]!==R?(W=(s||(s=o("I64"))).to_string(C.threadKey)===r("MetaConfig")._("83")&&!S?c.jsx(r("MWUnsupportedXMA.react"),{mediaRenderQpl:y,nextMessage:v,prevMessage:R}):c.jsx(r("MWMessageListAttachmentContainer.react"),{connectBottom:d,connectTop:p,hasEmphasisRing:_,hasText:f,mediaRenderQpl:y,message:C,navigateToRouteForMediaViewer:b,outgoing:S}),i[35]=d,i[36]=p,i[37]=_,i[38]=f,i[39]=y,i[40]=C,i[41]=b,i[42]=v,i[43]=S,i[44]=R,i[45]=W):W=i[45],W}function m(e){return e.threadType}l.default=d}),98);
__d("MWPMessageFooter.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.Children,d={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a=t.children,i=t.itemsXstyle,l=t.outgoing,s=t.xstyle,m,p,_,f;if(n[0]!==a||n[1]!==i||n[2]!==s){f=Symbol.for("react.early_return_sentinel");e:{var g=c.toArray(a).filter(Boolean);if(g.length===0){f=null;break e}n[7]!==s?(m=(e||(e=r("stylex"))).props(d.container,s),n[7]=s,n[8]=m):m=n[8],p="none";var h;n[9]!==i?(h=function(n,o){return u.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.items,i),{key:""+o,role:"none"}),n)},n[9]=i,n[10]=h):h=n[10],_=g.map(h)}n[0]=a,n[1]=i,n[2]=s,n[3]=m,n[4]=p,n[5]=_,n[6]=f}else m=n[3],p=n[4],_=n[5],f=n[6];if(f!==Symbol.for("react.early_return_sentinel"))return f;var y;n[11]!==l?(y=l?null:u.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"}),n[11]=l,n[12]=y):y=n[12];var C;return n[13]!==m||n[14]!==p||n[15]!==_||n[16]!==y?(C=u.jsxs("div",babelHelpers.extends({},m,{role:p,children:[_,y]})),n[13]=m,n[14]=p,n[15]=_,n[16]=y,n[17]=C):C=n[17],C}l.MWPMessageFooter=m}),98);
__d("MWPMessageLoggingUtil",["MWChatInteraction"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.messageId,r=e.optimisticAttachmentId,a=e.optimisticMessageId,i=o("MWChatInteraction").get(n),l=o("MWChatInteraction").get(a),s=r!=null?o("MWChatInteraction").get(r):null,u=(t=i!=null?i:l)!=null?t:s;return u}l.getInteractionUUIDForMessage=e}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWPMessageLoggingUtil","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(13),a=t.children,i=t.messageId,l=t.optimisticAttachmentId,s=t.optimisticMessageId,c=t.xstyle,d;n[0]!==i||n[1]!==l||n[2]!==s?(d=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:i,optimisticAttachmentId:l,optimisticMessageId:s}),n[0]=i,n[1]=l,n[2]=s,n[3]=d):d=n[3];var m=d;if(m==null){var p;n[4]!==c?(p=(e||(e=r("stylex"))).props(c),n[4]=c,n[5]=p):p=n[5];var _;return n[6]!==a||n[7]!==p?(_=u.jsx("div",babelHelpers.extends({},p,{children:a})),n[6]=a,n[7]=p,n[8]=_):_=n[8],_}else{var f;return n[9]!==a||n[10]!==m||n[11]!==c?(f=u.jsx(r("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:m,pageletName:"Message",xstyle:c,children:a}),n[9]=a,n[10]=m,n[11]=c,n[12]=f):f=n[12],f}}l.default=c}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.isOutgoing;r("FBLogger")("messenger_web").warn("Unsupported message type");var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message unavailable"),t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:i}),t[1]=n,t[2]=l):l=t[2],l}l.MWV2ChatUnsupportedMessage=c}),226);
__d("useMWMessageRowComponentAddInteractionTracingMetadata",["I64","InteractionTracingMetrics","LSBitFlag","LSIntEnum","MWPMessageLoggingUtil","justknobx","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useEffect;function d(e,t){var n=o("react-compiler-runtime").c(21),a;n[0]!==e.messageId||n[1]!==e.offlineThreadingId||n[2]!==t?(a=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:e.messageId,optimisticAttachmentId:t,optimisticMessageId:e.offlineThreadingId}),n[0]=e.messageId,n[1]=e.offlineThreadingId,n[2]=t,n[3]=a):a=n[3];var i=a,l;n[4]!==e.displayedContentTypes?(l=(s||(s=o("I64"))).to_int32(e.displayedContentTypes),n[4]=e.displayedContentTypes,n[5]=l):l=n[5];var d=r("usePrevious")(l),m;n[6]!==e.displayedContentTypes?(m=(s||(s=o("I64"))).to_int32(e.displayedContentTypes),n[6]=e.displayedContentTypes,n[7]=m):m=n[7];var p=m,_,f;n[8]!==p||n[9]!==e.displayedContentTypes||n[10]!==i||n[11]!==d?(_=function(){if(r("justknobx")._("4206")){var t=i!=null?r("InteractionTracingMetrics").get(i):null;if(t!=null){d!==p&&r("InteractionTracingMetrics").addMarkerPoint(t.traceId,"message_row_displayed_content_type_changed_from_"+(d!=null?d:"null")+"_to_"+p,"AppTiming",void 0,{displayed_content_types_num:(s||(s=o("I64"))).to_int32(e.displayedContentTypes)});var n=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1),e.displayedContentTypes);n?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_text",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_text",!1);var a=o("LSBitFlag").has(u.ofNumber(2),e.displayedContentTypes);a?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_media_preview",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_media_preview",!1);var l=o("LSBitFlag").has(u.ofNumber(4),e.displayedContentTypes);l?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_audio_clip",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_audio_clip",!1);var c=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(8),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(2048),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes);c?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_xma",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_xma",!1);var m=o("LSBitFlag").has(u.ofNumber(32),e.displayedContentTypes);m?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_admin",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_admin",!1);var _=o("LSBitFlag").has(u.ofNumber(64),e.displayedContentTypes);_?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_file_attachment",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_file_attachment",!1);var f=o("LSBitFlag").has(u.ofNumber(512),e.displayedContentTypes);f?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_story_reply",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_story_reply",!1);var g=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(4096),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(134217728),e.displayedContentTypes);g?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_sticker",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_sticker",!1);var h=o("LSBitFlag").has(u.ofNumber(16384),e.displayedContentTypes);h?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_gif",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_gif",!1),a||l||_||g||h?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_media",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_media",!1)}}},f=[e.displayedContentTypes,d,p,i],n[8]=p,n[9]=e.displayedContentTypes,n[10]=i,n[11]=d,n[12]=_,n[13]=f):(_=n[12],f=n[13]),c(_,f);var g;n[14]!==e.authorityLevel?(g=(s||(s=o("I64"))).to_int32(e.authorityLevel),n[14]=e.authorityLevel,n[15]=g):g=n[15];var h=g,y=r("usePrevious")(h),C,b;n[16]!==h||n[17]!==i||n[18]!==y?(C=function(){var e=i!=null?r("InteractionTracingMetrics").get(i):null;e!=null&&y!==h&&r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"message_row_authoritity_level_changed_from_"+(y!=null?y:"null")+"_to_"+h,"AppTiming")},b=[i,h,y],n[16]=h,n[17]=i,n[18]=y,n[19]=C,n[20]=b):(C=n[19],b=n[20]),c(C,b)}l.default=d}),98);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useMWMessageRowComponentAddInteractionTracingMetadata","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.memo,p=d.useEffect;function _(t){var a=o("react-compiler-runtime").c(90),i=t.attachments,l=t.containerThreadKey,u=t.hasBlockQuoteStyle,d=t.hasClickState,m=t.hasMessageEmphasisRing,_=t.isFirstMessageInGroup,f=t.isLastMessageInGroup,g=t.isSearchPluginAttachment,h=t.isSecureMessage,y=t.mediaRenderQpl,C=t.message,b=t.navigateToRouteForMediaViewer,v=t.nextMessage,S=t.offlineAttachmentId,R=t.originalBumpedMsg,L=t.outgoing,E=t.prevMessage,k=t.reactions,I=t.reactionsV2,T=t.renderAttachment,D=t.threadType,x=u===void 0?!1:u,$=d===void 0?!1:d,P=r("MWClickedMessageContext.react").useHook(),N=P.clickedMessageId,M=P.fetchMessageSeenCount,w=P.hasError,A=P.setClickedMessageId,F=(e||(e=r("useReStore")))(),O=R!=null?R:C,B;a[0]!==D?(B=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D),a[0]=D,a[1]=B):B=a[1];var W=B,q=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(O.threadKey),U;a[2]!==O?(U=r("mwpMessageIsReply")(O),a[2]=O,a[3]=U):U=a[3];var V=U;r("useMWMessageRowComponentAddInteractionTracingMetadata")(C,S);var H,G;a[4]!==N||a[5]!==F||a[6]!==M||a[7]!==w||a[8]!==O.messageId||a[9]!==O.threadKey||a[10]!==A?(H=function(){window.getSelection().toString()===""&&r("promiseDone")((async function(){var e=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(F.tables.threads).getKeyRange(O.threadKey)),t=e==null?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(F.tables.community_folders).getKeyRange(e.parentThreadKey));return e!=null&&t!=null&&o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:O.messageId},community_id:(s||(s=o("I64"))).to_string(t.folderId),event:"render_seen_count",group_id:s.to_string(t.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:s.to_string(e.threadKey)}),N===O.messageId&&!w?A(null):M(O.threadKey,O.messageId,t)})())},G=[F,N,O.messageId,O.threadKey,w,A,M],a[4]=N,a[5]=F,a[6]=M,a[7]=w,a[8]=O.messageId,a[9]=O.threadKey,a[10]=A,a[11]=H,a[12]=G):(H=a[11],G=a[12]);var z=o("Int64Hooks").useCallbackInt64(H,G),j=o("MWBlockingProtectionLogging").useLogTapToReviewAction(O),K,Q;a[13]!==g||a[14]!==h||a[15]!==y||a[16]!==O.threadKey||a[17]!==T?(K=function(){y==null||y.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(s||(s=o("I64"))).to_string(O.threadKey)===r("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:T!=null,is_search_plugin:g,is_secure_message:h}})},Q=[g,h,y,O.threadKey,T],a[13]=g,a[14]=h,a[15]=y,a[16]=O.threadKey,a[17]=T,a[18]=K,a[19]=Q):(K=a[18],Q=a[19]),p(K,Q);var X;a[20]!==V||a[21]!==L?(X=function(){return c.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:L,isReply:V})},a[20]=V,a[21]=L,a[22]=X):X=a[22];var Y;a[23]!==i||a[24]!==m||a[25]!==g||a[26]!==h||a[27]!==y||a[28]!==O||a[29]!==b||a[30]!==v||a[31]!==L||a[32]!==E||a[33]!==T?(Y=function(t,n,o){return c.jsx(r("MWMessageRowAttachment.react"),{attachments:i,connectBottom:n,connectTop:t,hasMessageEmphasisRing:m,hasText:o,isSearchPluginAttachment:g,isSecureMessage:h,mediaRenderQpl:y,message:O,navigateToRouteForMediaViewer:b,nextMessage:v,outgoing:L,prevMessage:E,renderAttachment:T})},a[23]=i,a[24]=m,a[25]=g,a[26]=h,a[27]=y,a[28]=O,a[29]=b,a[30]=v,a[31]=L,a[32]=E,a[33]=T,a[34]=Y):Y=a[34];var J;a[35]!==m||a[36]!==h||a[37]!==O?(J=function(){return c.jsx(r("MWV2ChatEmoji.react"),{hasEmphasisRing:m,isSecureMessage:h,message:O})},a[35]=m,a[36]=h,a[37]=O,a[38]=J):J=a[38];var Z;a[39]!==l||a[40]!==x||a[41]!==m||a[42]!==h||a[43]!==O||a[44]!==L||a[45]!==D?(Z=function(t,n,o,a,i,s){return c.jsx(r("MWV2ChatBubbleContainer.react"),{connectBottom:o,connectTop:n,hasEmphasisRing:m,message:O,outgoing:L,precedesXMA:a,precedingXmaIsV2:s,children:c.jsx(r("MWV2ChatText.react"),{containerThreadKey:l,containerThreadType:D,hasBlockQuoteStyle:x,isSecureMessage:h,message:O,outgoing:L})})},a[39]=l,a[40]=x,a[41]=m,a[42]=h,a[43]=O,a[44]=L,a[45]=D,a[46]=Z):Z=a[46];var ee;a[47]!==$||a[48]!==W||a[49]!==O||a[50]!==S||a[51]!==z||a[52]!==L?(ee=function(t,o){var e=c.jsx(r("MWPMessageLoggingWrapper.react"),{messageId:O.messageId,optimisticAttachmentId:S,optimisticMessageId:O.offlineThreadingId,xstyle:o,children:W&&!r("justknobx")._("641")&&n("cr:120")?c.jsx(n("cr:120"),{message:O,children:t}):c.jsx(r("MWV2MessageTimestampTooltip.react"),{message:O,position:L?"end":"start",children:t})});return $?c.jsx(r("MWXPressable.react"),{onPress:z,overlayDisabled:!0,xstyle:o,children:e}):e},a[47]=$,a[48]=W,a[49]=O,a[50]=S,a[51]=z,a[52]=L,a[53]=ee):ee=a[53];var te;a[54]!==q||a[55]!==C||a[56]!==L||a[57]!==k||a[58]!==I?(te=function(){if(q)return null;var e=I!=null&&I.length>0;return c.jsx(o("MWPMessageFooter.react").MWPMessageFooter,{outgoing:L,children:!e&&k.length<1?null:c.jsx(o("MWPMessageReactions.react").MWPMessageReactions,{message:C,outgoing:L,reactions:k,reactionsV2:e?I:void 0,children:function(n,o,a,i,l){return c.jsx(r("MWMessageReactionsContainer.react"),{count:o,emojis:n,message:i,reactions:a,reactionsV2:e?I:void 0,threadKey:l})}})})},a[54]=q,a[55]=C,a[56]=L,a[57]=k,a[58]=I,a[59]=te):te=a[59];var ne=o("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(O.threadKey)?function(e){var t=function(){e(),j()};return c.jsx(o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:f,message:O,onClick:t,source:o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,re;a[60]!==h||a[61]!==O||a[62]!==L?(re=function(){return c.jsx(r("MWV2MessageTimestampTooltip.react"),{message:O,children:c.jsx(o("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:h,message:O,outgoing:L})})},a[60]=h,a[61]=O,a[62]=L,a[63]=re):re=a[63];var oe;a[64]!==O||a[65]!==L?(oe=function(){return c.jsx(r("MWV2MessageTimestampTooltip.react"),{message:O,children:c.jsx(o("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:L})})},a[64]=O,a[65]=L,a[66]=oe):oe=a[66];var ae;a[67]!==_||a[68]!==f||a[69]!==g||a[70]!==h||a[71]!==y||a[72]!==O||a[73]!==v||a[74]!==L||a[75]!==E||a[76]!==k||a[77]!==I||a[78]!==Y||a[79]!==J||a[80]!==Z||a[81]!==ee||a[82]!==te||a[83]!==ne||a[84]!==re||a[85]!==oe?(ae=c.jsx(r("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:_,isLastMessageInGroup:f,isSearchPluginAttachment:g,isSecureMessage:h,mediaRenderQpl:y,message:O,nextMessage:v,outgoing:L,prevMessage:E,reactions:k,reactionsV2:I,renderAttachment:Y,renderEmoji:J,renderMessageBubble:Z,renderMessageContainer:ee,renderMessageFooter:te,renderMessageFromBlockee:ne,renderUnsentMessage:re,renderUnsupportedMessage:oe}),a[67]=_,a[68]=f,a[69]=g,a[70]=h,a[71]=y,a[72]=O,a[73]=v,a[74]=L,a[75]=E,a[76]=k,a[77]=I,a[78]=Y,a[79]=J,a[80]=Z,a[81]=ee,a[82]=te,a[83]=ne,a[84]=re,a[85]=oe,a[86]=ae):ae=a[86];var ie;return a[87]!==ae||a[88]!==X?(ie=c.jsx(r("CometErrorBoundary.react"),{fallback:X,children:ae}),a[87]=ae,a[88]=X,a[89]=ie):ie=a[89],ie}var f=m(_);l.MWMessageRowMessageComponent=f}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWXLazyDialog","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo,m={root:{marginInlineStart:"x1diwwjn",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(27),n=e.attachment,a=e.botResponseId,i=e.dialogResource,l=e.flowInstanceId,u=e.isSearchSingleBubblePluginAttachment,c=u===void 0?!1:u;r("vulture")("ICEnIKxVpRLx7NigcEFoCjB_5dU=");var d=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(n),p=d.attachmentCta1,_=d.attachmentCta2,f=p,g=c?p:_,h=o("MWSearchPluginUtils").useSearchPluginSources(g==null?void 0:g.nativeUrl),y=o("IGDWebUtils").isInstagramWebSupportedApp(Number(r("CurrentUser").getAppID())),C=r("useMWXLazyDialog")(i),b=C[0],v=y?"highlight":"blueLink",S=y?"bodyLink4":"body4",R,L=a!=null?a:"",E;t[0]!==L?(E={botResponseId:L},t[0]=L,t[1]=E):E=t[1];var k;t[2]!==l||t[3]!==E?(k={extraData:E,flowInstanceId:l},t[2]=l,t[3]=E,t[4]=k):k=t[4],R=k;var I=R,T;t[5]!==I?(T=babelHelpers.extends({eventName:"search_plugin_attachment_rendered"},I),t[5]=I,t[6]=T):T=t[6];var D=r("MessengerWebUXLogger").useImpressionLoggerRef(T),x=r("MessengerWebUXLogger").useInteractionLogger(),$;t[7]!==I||t[8]!==x?($=function(){x==null||x(babelHelpers.extends({eventName:"search_plugin_see_more"},I))},t[7]=I,t[8]=x,t[9]=$):$=t[9];var P=$,N;t[10]!==a||t[11]!==I||t[12]!==x||t[13]!==b||t[14]!==h?(N=function(){h!=null&&(x==null||x(babelHelpers.extends({eventName:"search_plugin_see_sources"},I)),b({botResponseId:a,sources:h}))},t[10]=a,t[11]=I,t[12]=x,t[13]=b,t[14]=h,t[15]=N):N=t[15];var M=N,w;t[16]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),t[16]=w):w=t[16];var A;t[17]!==c||t[18]!==P||t[19]!==M||t[20]!==f||t[21]!==g?(A=c?s.jsx("div",{className:"x78zum5 x1q0g3np",children:s.jsx(r("MWXPressable.react"),{onPress:M,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:v,type:S,children:g!=null&&g.title})})}):s.jsxs("div",{className:"x78zum5 x1q0g3np",children:[s.jsx(r("MWXPressable.react"),{linkProps:{url:f==null?void 0:f.actionUrl},onPress:P,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:v,type:S,children:f!=null&&f.title})}),s.jsx(r("MWXPressable.react"),{children:s.jsx(r("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xA0\xB7\xA0"})}),s.jsx(r("MWXPressable.react"),{onPress:M,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:v,type:S,children:g!=null&&g.title})})]}),t[17]=c,t[18]=P,t[19]=M,t[20]=f,t[21]=g,t[22]=A):A=t[22];var F;t[23]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),t[23]=F):F=t[23];var O;return t[24]!==D||t[25]!==A?(O=s.jsxs(r("BaseView.react"),{ref:D,xstyle:m.root,children:[w,A,F]}),t[24]=D,t[25]=A,t[26]=O):O=t[26],O}l.default=p}),98);
__d("useMAWBulkMediaDownloadManualRetry",["MAWClientMediaStatusUtils","MAWDownloadMediaInWorkerDeferred","MAWMediaSetRetryingAndIncreaseCount","MAWRetryReceiverFetchSticker","isReceiverFetchSticker","react","react-compiler-runtime","useAsyncReStore","useClientMediaStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo;function d(e,t){var n=o("react-compiler-runtime").c(10),a=r("useAsyncReStore")(),i,l;if(n[0]!==e||n[1]!==t){var s;n[3]!==t?(s=function(n){var e=n.attachment,o=n.mediaStatus,a=r("isReceiverFetchSticker")(e);return{attachment:e,mediaRenderQpl:t,mediaStatus:o,statusKey:a?e.messageId:e.attachmentFbid}},n[3]=t,n[4]=s):s=n[4],l=e.map(s),n[0]=e,n[1]=t,n[2]=l}else l=n[2];i=l;var u=i,c=r("useClientMediaStatus")(u),d;return n[5]!==u||n[6]!==c||n[7]!==a||n[8]!==t?(d=function(){u.forEach(function(e){var n,i=e.attachment,l=e.mediaStatus,s=e.statusKey,u=r("isReceiverFetchSticker")(i),d=o("MAWClientMediaStatusUtils").getStatusDataFromLsdb({clientMediaStatus:c,preloadedMediaStatus:l,statusKey:s}),m=d.retryCount,p=d.statusData;if(t==null||t.start({isManualRetry:!0,manualRetryCount:m,previousManualRetryErrorDetails:(n=p==null?void 0:p.mainMediaStatusDetails)!=null?n:"no-previous-status"}),u){o("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(a,i,t);return}o("MAWMediaSetRetryingAndIncreaseCount").call(a,s),o("MAWDownloadMediaInWorkerDeferred").downloadMediaInWorker({attachment:i,dbPromise:a,mediaRenderQpl:t,triggerUIView:"manual-retry-thread"})})},n[5]=u,n[6]=c,n[7]=a,n[8]=t,n[9]=d):d=n[9],d}l.default=d}),98);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime","useMAWBulkMediaDownloadManualRetry"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(14),n=e.mediaGroupInfo,a=e.mediaRenderQpl,i=e.outgoing,l=r("useMAWBulkMediaDownloadManualRetry")(n.attachmentsToRetryDownload,a),c;t[0]!==i?(c={0:{className:"xwib8y2 x1iorvi4 x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4 xpdmqnj"}}[!!i<<0],t[0]=i,t[1]=c):c=t[1];var d;t[2]!==n.groupSize||t[3]!==n.mediaDownloadErrorsCount?(d=s._(/*BTDS*/"Couldn't download {errorQuantity} of {totalQuantity} images",[s._param("errorQuantity",n.mediaDownloadErrorsCount),s._param("totalQuantity",n.groupSize)]),t[2]=n.groupSize,t[3]=n.mediaDownloadErrorsCount,t[4]=d):d=t[4];var m;t[5]!==l||t[6]!==n.attachmentsToRetryDownload.length?(m=n.attachmentsToRetryDownload.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(r("BaseMiddot.react"),{}),u.jsx(r("MWXLink.react"),{onClick:l,weight_DEPRECATED:"medium",children:s._(/*BTDS*/"Retry")})]}),t[5]=l,t[6]=n.attachmentsToRetryDownload.length,t[7]=m):m=t[7];var p;t[8]!==d||t[9]!==m?(p=u.jsxs(r("MWXText.react"),{color:"negative",type:"meta4",children:[d,m]}),t[8]=d,t[9]=m,t[10]=p):p=t[10];var _;return t[11]!==c||t[12]!==p?(_=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:u.jsx("div",babelHelpers.extends({},c,{children:p}))}),t[11]=c,t[12]=p,t[13]=_):_=t[13],_}l.default=c}),226);
__d("useMAWMediaDownloadManualRetry",["react","react-compiler-runtime","useMAWBulkMediaDownloadManualRetry"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=o("react-compiler-runtime").c(2),a,i;n[0]!==e?(i=[{attachment:e}],n[0]=e,n[1]=i):i=n[1],a=i;var l=a;return r("useMAWBulkMediaDownloadManualRetry")(l,t)}l.default=u}),98);
__d("MWMustacheTextAttachmentError.react",["MAWMediaDownloadStatusUIStateType","MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","react","react-compiler-runtime","useMAWMediaDownloadManualRetry"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.downloadStatusUIState,i=e.mediaRenderQpl,l=e.outgoing,u=r("useMAWMediaDownloadManualRetry")(n,i),c;t[0]!==a?(c=o("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(a),t[0]=a,t[1]=c):c=t[1];var d=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(n,c,u),m=d.mediaStatusText,p=d.retryButton,_;t[2]!==l?(_={0:{className:"xwib8y2 x1iorvi4 xqcrz7y x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4"}}[!!l<<0],t[2]=l,t[3]=_):_=t[3];var f;t[4]!==m||t[5]!==p?(f=s.jsxs(r("MWXText.react"),{color:"negative",type:"meta4",children:[m,p]}),t[4]=m,t[5]=p,t[6]=f):f=t[6];var g;return t[7]!==_||t[8]!==f?(g=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:s.jsx("div",babelHelpers.extends({},_,{children:f}))}),t[7]=_,t[8]=f,t[9]=g):g=t[9],g}l.default=u}),98);
__d("MWMustacheTextImpl.react",["MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.label,a=e.onClick,i=e.outgoing,l;t[0]!==i?(l={0:{className:"x1anpbxc xyorhqc"},1:{className:"x1anpbxc xyorhqc xpvyfi4"}}[!!i<<0],t[0]=i,t[1]=l):l=t[1];var u;t[2]!==n||t[3]!==a?(u=a!=null?s.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s.jsx(r("MWXLink.react"),{onClick:a,children:n})}):s.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:n}),t[2]=n,t[3]=a,t[4]=u):u=t[4];var c;return t[5]!==l||t[6]!==u?(c=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:s.jsx("div",babelHelpers.extends({},l,{children:u}))}),t[5]=l,t[6]=u,t[7]=c):c=t[7],c}l.default=u}),98);
__d("MWMustacheTextInformTreatment.react",["fbt","$InternalEnum","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWMustacheTextImpl.react","gkx","logVultureJSDeadEntrypoint","qex","react","react-compiler-runtime","useMWInformTreatmentFalcoEventLogger","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react")),c=n("$InternalEnum")({SEE_AI_INFO:"See AI info",SEE_ELECTION_INFO:"See election info"});function d(e){var t=o("react-compiler-runtime").c(8),n=e.message,a=e.outgoing,i;t[0]!==n?(i={message:n},t[0]=n,t[1]=i):i=t[1];var l=r("useMWInformTreatmentFalcoEventLogger")(i),c=r("gkx")("179"),d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=c?s._(/*BTDS*/"See context"):s._(/*BTDS*/"See third-party fact-check"),t[2]=d):d=t[2];var m=d,p;t[3]!==l?(p=function(){l("view_info_click",{name:"misinformation",type:"media_label"}),r("logVultureJSDeadEntrypoint")("MWCMElectionInformTreatmentDialog.entrypoint")},t[3]=l,t[4]=p):p=t[4];var _;return t[5]!==a||t[6]!==p?(_=u.jsx(r("MWMustacheTextImpl.react"),{label:m,onClick:p,outgoing:a}),t[5]=a,t[6]=p,t[7]=_):_=t[7],_}function m(e){var t=o("react-compiler-runtime").c(10),n=e.label,a=e.message,i=e.outgoing,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];var s=r("useMWXEntryPointDialog")(r("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),l),c=s[0],d;t[1]!==a?(d={message:a},t[1]=a,t[2]=d):d=t[2];var m=r("useMWInformTreatmentFalcoEventLogger")(d),p;t[3]!==m||t[4]!==c?(p=function(){m("view_info_click",{name:"ai_generated_content",type:"media_label"}),c({})},t[3]=m,t[4]=c,t[5]=p):p=t[5];var _;return t[6]!==n||t[7]!==i||t[8]!==p?(_=u.jsx(r("MWMustacheTextImpl.react"),{label:n,onClick:p,outgoing:i}),t[6]=n,t[7]=i,t[8]=p,t[9]=_):_=t[9],_}function p(e){var t=o("react-compiler-runtime").c(3),n=e.label,a=e.outgoing,i=_,l;return t[0]!==n||t[1]!==a?(l=u.jsx(r("MWMustacheTextImpl.react"),{label:n,onClick:i,outgoing:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function _(){r("logVultureJSDeadEntrypoint")("MWCMElectionFactLabelDialog.entrypoint")}function f(e){var t,n,a=o("react-compiler-runtime").c(13),i=e.isPublicCMThread,l=e.message,s=e.outgoing,_;a[0]!==l.metadataDataclass?(_=l.metadataDataclass!=null?JSON.parse(l.metadataDataclass):null,a[0]=l.metadataDataclass,a[1]=_):_=a[1];var f=_;if(f==null)return null;var g=(t=f.mustache_cta)==null?void 0:t.title;if(i&&(n=f.misinfo_metadata)!=null&&n.has_misinfo){var h;return a[2]!==l||a[3]!==s?(h=u.jsx(d,{message:l,outgoing:s}),a[2]=l,a[3]=s,a[4]=h):h=a[4],h}else if(r("qex")._("1581")===!0&&g===c.SEE_AI_INFO){var y;return a[5]!==l||a[6]!==g||a[7]!==s?(y=u.jsx(m,{label:g,message:l,outgoing:s}),a[5]=l,a[6]=g,a[7]=s,a[8]=y):y=a[8],y}else if(g===c.SEE_ELECTION_INFO){var C;return a[9]!==l.messageId||a[10]!==g||a[11]!==s?(C=u.jsx(p,{_messageId:l.messageId,label:g,outgoing:s}),a[9]=l.messageId,a[10]=g,a[11]=s,a[12]=C):C=a[12],C}return null}l.default=f}),226);
__d("MWMustacheUnsupportedMediaAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.outgoing,i=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(n,!1,r("emptyFunction")),l=i.downloadButton,u=i.mediaStatusText,c;t[0]!==a?(c={0:{className:"xwib8y2 x1iorvi4 xqcrz7y x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4"}}[!!a<<0],t[0]=a,t[1]=c):c=t[1];var d;t[2]!==l?(d=s.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:l}),t[2]=l,t[3]=d):d=t[3];var m;t[4]!==u||t[5]!==d?(m=s.jsxs(r("MWXText.react"),{color:"tertiary",type:"meta4",children:[u,d]}),t[4]=u,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==c||t[8]!==m?(p=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:s.jsx("div",babelHelpers.extends({},c,{children:m}))}),t[7]=c,t[8]=m,t[9]=p):p=t[9],p}l.default=u}),98);
__d("MWSupportTranslationsContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useState,p={setShowToggleMustache:function(){},setShowUntranslatedText:function(){},showToggleMustache:!1,showUntranslatedText:!1},_=s.createContext(p);function f(e){var t,n,r=o("react-compiler-runtime").c(6),a=e.children,i=e.value,l=i===void 0?p:i,u=m((t=l==null?void 0:l.showUntranslatedText)!=null?t:!1),c=u[0],d=u[1],f=m((n=l==null?void 0:l.showToggleMustache)!=null?n:!1),g=f[0],h=f[1],y,C;r[0]!==g||r[1]!==c?(C={setShowToggleMustache:h,setShowUntranslatedText:d,showToggleMustache:g,showUntranslatedText:c},r[0]=g,r[1]=c,r[2]=C):C=r[2],y=C;var b=y,v;return r[3]!==a||r[4]!==b?(v=s.jsx(_.Provider,{value:b,children:a}),r[3]=a,r[4]=b,r[5]=v):v=r[5],v}function g(){return c(_)}l.MWSupportTranslationsContextProvider=f,l.useMWSupportTranslationsContext=g}),98);
__d("useSupportTranslationsFetchDataLS",["ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=(e||(e=r("useReStore")))(),l=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.support_translations,["sourceText"]).getKeyRange(t)},[a,t],i.id+":26"))!=null?n:{},s=l.sourceText;return s}l.default=s}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MAWMediaDownloadStatusUIStateType","MWMustacheMediaGroupAttachments.react","MWMustacheTextAttachmentError.react","MWMustacheTextImpl.react","MWMustacheTextInformTreatment.react","MWMustacheUnsupportedMediaAttachment.react","MWPAttachmentDataContext","MWSupportTranslationsContext.react","MessagingAttachmentType","gkx","isReceiverFetchSticker","logVultureJSDeadEntrypoint","react","react-compiler-runtime","useGetMediaGroupInformation","useGroupsCometCMDisabledChatEntryPointDialog","useMAWMediaDownloadStatus","useShouldShowUnsupportedCodecFallback","useSupportTranslationsFetchDataLS"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t,n=e.attachment,a=e.isSecureMessage,i=e.mediaRenderQpl,l=e.outgoing,m=r("useShouldShowUnsupportedCodecFallback")(n,i),p=(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)),_=(t=r("useMAWMediaDownloadStatus")(a&&!p?n:null,i,r("isReceiverFetchSticker")(n)?n.messageId:void 0))!=null?t:{},f=_.uiState,g=_.validationResult,h=o("MAWMediaDownloadStatusUIStateType").isErrorState(f),y=(g==null?void 0:g.validatedMimeType)==="invalid-mp4",C=h||y;if(f!=null&&C)return d.jsx(r("MWMustacheTextAttachmentError.react"),{attachment:n,downloadStatusUIState:f,mediaRenderQpl:i,outgoing:l});if(m)return d.jsx(r("MWMustacheUnsupportedMediaAttachment.react"),{attachment:n,outgoing:l});var b=n.mustacheText;return b==null||b===""?null:d.jsx(r("MWMustacheTextImpl.react"),{label:s._(/*BTDS*/"\"{quoted text}\"",[s._param("quoted text",b)]),outgoing:l})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=o("react-compiler-runtime").c(9),n=e.outgoing,a=e.threadID,i;t[0]!==a?(i={isGeoBlocked:!0,threadID:a},t[0]=a,t[1]=i):i=t[1];var l=r("useGroupsCometCMDisabledChatEntryPointDialog")(i),u=l[0],c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"See why"),t[2]=c):c=t[2];var m;t[3]!==u||t[4]!==a?(m=function(){r("gkx")("5194")?r("logVultureJSDeadEntrypoint")("MWGeoblockMessageDialog.entrypoint"):u({threadID:a})},t[3]=u,t[4]=a,t[5]=m):m=t[5];var p;return t[6]!==n||t[7]!==m?(p=d.jsx(r("MWMustacheTextImpl.react"),{label:c,onClick:m,outgoing:n}),t[6]=n,t[7]=m,t[8]=p):p=t[8],p}function _(e){var t=o("react-compiler-runtime").c(9),n=e.isLastMessage,a=e.messageID,i=e.outgoing,l=o("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),u=l.setShowUntranslatedText,c=l.showToggleMustache,m=l.showUntranslatedText,p=r("useSupportTranslationsFetchDataLS")(a);if(p==null)return null;if(n||c){var _;t[0]!==m?(_=m?s._(/*BTDS*/"Hide Original"):s._(/*BTDS*/"Show Original"),t[0]=m,t[1]=_):_=t[1];var f;t[2]!==u||t[3]!==m?(f=function(){u(!m)},t[2]=u,t[3]=m,t[4]=f):f=t[4];var g;return t[5]!==i||t[6]!==_||t[7]!==f?(g=d.jsx(r("MWMustacheTextImpl.react"),{label:_,onClick:f,outgoing:i}),t[5]=i,t[6]=_,t[7]=f,t[8]=g):g=t[8],g}return null}function f(e){var t,n=o("react-compiler-runtime").c(22),a=e.isLastMessage,i=e.isPublicCMThread,l=e.isSecureMessage,s=e.mediaRenderQpl,f=e.message,g=e.outgoing,h=e.showSupportTranslationToggleMustache,y=(t=o("MWPAttachmentDataContext").useMWPGetAttachments(f))==null?void 0:t[0],C=r("useGetMediaGroupInformation")(f,l,s),b=f.takedownState!=null&&(u||(u=o("I64"))).equal(f.takedownState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageTakedownState").GEO_BLOCKED));if(b){var v;n[0]!==f.threadKey?(v=(u||(u=o("I64"))).to_string(f.threadKey),n[0]=f.threadKey,n[1]=v):v=n[1];var S;return n[2]!==g||n[3]!==v?(S=d.jsx(p,{outgoing:g,threadID:v}),n[2]=g,n[3]=v,n[4]=S):S=n[4],S}if(h&&!g){var R;return n[5]!==a||n[6]!==f.messageId||n[7]!==g?(R=d.jsx(_,{isLastMessage:a,messageID:f.messageId,outgoing:g}),n[5]=a,n[6]=f.messageId,n[7]=g,n[8]=R):R=n[8],R}if(f.metadataDataclass!=null){var L;return n[9]!==i||n[10]!==f||n[11]!==g?(L=d.jsx(r("MWMustacheTextInformTreatment.react"),{isPublicCMThread:i,message:f,outgoing:g}),n[9]=i,n[10]=f,n[11]=g,n[12]=L):L=n[12],L}else if(C!=null&&C.mediaDownloadErrorsCount>0){var E;return n[13]!==C||n[14]!==s||n[15]!==g?(E=d.jsx(r("MWMustacheMediaGroupAttachments.react"),{mediaGroupInfo:C,mediaRenderQpl:s,outgoing:g}),n[13]=C,n[14]=s,n[15]=g,n[16]=E):E=n[16],E}else if(y!=null){var k;return n[17]!==y||n[18]!==l||n[19]!==s||n[20]!==g?(k=d.jsx(m,{attachment:y,isSecureMessage:l,mediaRenderQpl:s,outgoing:g}),n[17]=y,n[18]=l,n[19]=s,n[20]=g,n[21]=k):k=n[21],k}return null}l.default=f}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={button:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}},d=r("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function m(e){var t=o("react-compiler-runtime").c(9),n=e.hidden,a=e.isSecureMessage,i=e.isSecureThread,l=e.message,s;t[0]!==n?(s={0:{className:"x5yr21d xmzvs34 x6s0dn4 x78zum5 xl56j7k"},1:{className:"x5yr21d xmzvs34 x6s0dn4 x78zum5 xl56j7k xlshs6z"}}[!!n<<0],t[0]=n,t[1]=s):s=t[1];var c;t[2]!==a||t[3]!==i||t[4]!==l?(c=u.jsx(r("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:a,isSecureThread:i,message:l},popoverResource:d,popoverType:"menu",children:p}),t[2]=a,t[3]=i,t[4]=l,t[5]=c):c=t[5];var m;return t[6]!==s||t[7]!==c?(m=u.jsx("div",babelHelpers.extends({},s,{children:c})),t[6]=s,t[7]=c,t[8]=m):m=t[8],m}function p(e,t){return u.jsx(r("MWXPressable.react"),{"aria-label":s._(/*BTDS*/"More"),onPress:t,overlayRadius:"inherit",ref:e,xstyle:[c.button,c.centered],children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconDots3Horizontal"),size:16})})}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.attachments||n[1]!==t.messageId||n[2]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId)},n[0]=a.tables.attachments,n[1]=t.messageId,n[2]=t.threadKey,n[3]=l):l=n[3];var s;n[4]!==a||n[5]!==t?(s=[a,t],n[4]=a,n[5]=t,n[6]=s):s=n[6];var u=o("ReQLSuspense").useFirst(l,s,i.id+":27");return(u==null?void 0:u.defaultCtaType)==="xma_web_url"&&(u==null?void 0:u.attachmentLoggingType)==="xma_open_native_rooms_invite"}l.default=s}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","react-compiler-runtime","useMWIsXMARoom","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=(e=n("nux:344"))==null?void 0:e("WEB_MSGR_PINNED_MESSAGES_NUX");function d(e){var t=o("react-compiler-runtime").c(1),n=e.isLastMessage,a=e.isOutgoing,i=e.message,l=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),s=l.isPinnedMessageList,d=i.textHasLinks,m=r("useMWIsXMARoom")(i),p=!a&&(d||m)&&n&&!s;if(!p)return null;var _;return t[0]===Symbol.for("react.memo_cache_sentinel")?(_=c?u.jsx(c,{}):null,t[0]=_):_=t[0],_}var m=o("withCometPlaceholder").withCometPlaceholder(d,null,"MWPinnedMessageRowFooterNUXWrapperRequireNUX");l.default=m}),98);
__d("useMWShouldHideReply",["MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","isMWBumpMessage","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(6),n=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(e.senderId,e.threadKey),a=r("MWBlockingProtectionContext.react").useHook(),i=a.findMessageId,l=o("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(e.threadKey),s;return t[0]!==i||t[1]!==n||t[2]!==e.messageId||t[3]!==e.replyType||t[4]!==l?(s=r("isMWBumpMessage")(e.replyType)||l&&n&&!i(e.messageId),t[0]=i,t[1]=n,t[2]=e.messageId,t[3]=e.replyType,t[4]=l,t[5]=s):s=t[5],s}l.default=e}),98);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n,a=(u||(u=r("useReStore")))(),l=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadSubtype"]).getKeyRange(t)},[a,t],i.id+":24"))!=null?n:{},c=l.threadSubtype;return c==null?!1:(e||(e=o("I64"))).equal(c,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}l.useSupportMessagingGroupThreadSubtype=c}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPAttachmentDataContext","MWPBaseMessageListRow.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","deferredLoadComponent","gkx","isMWEditedMessage","justknobx","mwpIsMessageUnsupported","mwpMessageIsReply","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useGetMediaGroupInformation","useGetOriginalMsgFromBumpMsg","useIsMultiReactionEnabled","useMWShouldHideReply","useSupportMessagingGroupThreadSubtype.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),m=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),p=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWSupportTranslatedMessageTextWrapper.react").__setRef("MWMessageRowBody.react")),_={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function f(e){var t=e.attachments,n=e.isSearchSingleBubblePluginAttachment,a=e.message,i=o("MWMessageListLoggingContext").useFlowInstanceId();return c.jsx(r("MWMessageSearchPluginMustache.react"),{attachment:t[0],botResponseId:a.botResponseId,dialogResource:r("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:i.current,isSearchSingleBubblePluginAttachment:n})}f.displayName=f.name+" [from "+i.id+"]";function g(t){var n=o("react-compiler-runtime").c(154),a=t.containerThreadKey,i=t.focused,l=t.hasClickState,s=t.hasMessageEmphasisRing,g=t.hovered,C=t.incoming,b=t.isDialogOpened,v=t.isFirstMessageInGroup,S=t.isGroupThread,R=t.isModal,L=t.isSecureMessage,E=t.mediaRenderQpl,k=t.message,I=t.navigateToRouteForMediaViewer,T=t.nextMessage,D=t.onRenderError,x=t.prevMessage,$=t.renderAttachment,P=t.shouldUseReactionsV2,N=t.threadType,M=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),w=M.isPinnedMessageList,A=M.isStandardMessageList,F=o("MWPMessageReactions.react").useReactions(k),O=o("MWPMessageReactions.react").useReactionsV2(k),B=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(k.threadKey),W=r("MWClickedMessageContext.react").useHook(),q=W.clickedMessageId,U;n[0]!==k?(U=r("isMWEditedMessage")(k),n[0]=k,n[1]=U):U=n[1];var V=U,H=r("useMWShouldHideReply")(k),G=T==null,z=!C,j=C&&S,K;n[2]!==N?(K=o("LSMessagingThreadTypeUtil").isArmadilloSecure(N),n[2]=N,n[3]=K):K=n[3];var Q=K,X;n[4]!==N?(X=o("LSMessagingThreadTypeUtil").isPublicCMThread(N),n[4]=N,n[5]=X):X=n[5];var Y=X,J=r("useGetMediaGroupInformation")(k,L,E),Z=o("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(k.threadKey),ee;n[6]!==Z?(ee=Z&&r("gkx")("7815")&&r("justknobx")._("3290"),n[6]=Z,n[7]=ee):ee=n[7];var te=ee,ne;if(n[8]!==w||n[9]!==J||n[10]!==k||n[11]!==T){var re;ne=w||o("MWPMessageParsingUtils").isEndOfGroup(k,T)||(J==null?void 0:J.groupsLastMessage)!=null&&o("MWPMessageParsingUtils").isEndOfGroup(J.groupsLastMessage,(re=J.groupsNextMessage)!=null?re:void 0),n[8]=w,n[9]=J,n[10]=k,n[11]=T,n[12]=ne}else ne=n[12];var oe=ne,ae=r("useGetOriginalMsgFromBumpMsg")(k==null?void 0:k.replyType,k==null?void 0:k.replySourceId,k==null?void 0:k.threadKey),ie=ae!=null&&!(u||(u=o("I64"))).equal(ae==null?void 0:ae.senderId,k.senderId),le=ae!=null?ae:k,se;n[13]!==le?(se=r("mwpMessageIsReply")(le),n[13]=le,n[14]=se):se=n[14];var ue=se,ce=o("MWPAttachmentDataContext").useMWPGetAttachments(ae!=null?ae:k),de=ce.length>0,me;n[15]!==ce[0]||n[16]!==de?(me=de&&o("MWSearchPluginUtils").isSearchPlugin(ce[0]),n[15]=ce[0],n[16]=de,n[17]=me):me=n[17];var pe=me,_e;n[18]!==ce[0]||n[19]!==de?(_e=de&&o("MWSearchPluginUtils").isSearchSingleBubblePlugin(ce[0]),n[18]=ce[0],n[19]=de,n[20]=_e):_e=n[20];var fe=_e,ge=ae!=null?ae:k,he;n[21]!==ce||n[22]!==ge?(he=r("mwpIsMessageUnsupported")(ge,ce),n[21]=ce,n[22]=ge,n[23]=he):he=n[23];var ye=he,Ce;n[24]!==ye||n[25]!==B||n[26]!==O?(Ce=B&&O.some(y)||ye,n[24]=ye,n[25]=B,n[26]=O,n[27]=Ce):Ce=n[27];var be=Ce,ve=(F.length>0||O.length>0)&&!B,Se;n[28]!==v||n[29]!==j?(Se=v&&!j?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,n[28]=v,n[29]=j,n[30]=Se):Se=n[30];var Re;n[31]!==S||n[32]!==ue||n[33]!==L||n[34]!==k||n[35]!==z||n[36]!==H||n[37]!==N?(Re=ue&&!H&&c.jsx(r("MWMessageReplyRow.react"),{isGroupThread:S,isSecureMessage:L,message:k,outgoing:z,threadType:N}),n[31]=S,n[32]=ue,n[33]=L,n[34]=k,n[35]=z,n[36]=H,n[37]=N,n[38]=Re):Re=n[38];var Le;n[39]!==V||n[40]!==ue||n[41]!==L||n[42]!==k.editCount||n[43]!==k.messageId||n[44]!==z||n[45]!==N?(Le=V&&c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.EditedMessageHistoryList",children:c.jsx(m,{editCount:k.editCount,isReply:ue,isSecureMessage:L,msgId:k.messageId,outgoing:z,threadType:N})}),n[39]=V,n[40]=ue,n[41]=L,n[42]=k.editCount,n[43]=k.messageId,n[44]=z,n[45]=N,n[46]=Le):Le=n[46];var Ee;n[47]!==a||n[48]!==i||n[49]!==g||n[50]!==b||n[51]!==R||n[52]!==w||n[53]!==L||n[54]!==Q||n[55]!==A||n[56]!==k||n[57]!==z||n[58]!==be||n[59]!==N?(Ee=function(t){return A?c.jsx(o("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:R===!1,containerThreadKey:a,focused:i||b||R,hidden:t,hovered:g,isSecureMessage:L,message:k,outgoing:z,shouldHideHoverMenuReact:be,threadType:N}):w?c.jsx(r("MWPinnedMessageDropdownButton.react"),{hidden:!g&&!i,isSecureMessage:L,isSecureThread:Q,message:k}):null},n[47]=a,n[48]=i,n[49]=g,n[50]=b,n[51]=R,n[52]=w,n[53]=L,n[54]=Q,n[55]=A,n[56]=k,n[57]=z,n[58]=be,n[59]=N,n[60]=Ee):Ee=n[60];var ke;n[61]!==B||n[62]!==k||n[63]!==z||n[64]!==F||n[65]!==O?(ke=function(){if(k.isUnsent)return null;var t=O!=null&&O.length>0;return!B||!t?null:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.multiReactContainer,z?_.multiReactContainerOutgoing:!1),{children:c.jsx(o("MWPMessageReactions.react").MWPMessageReactions,{message:k,outgoing:z,reactions:F,reactionsV2:O,children:function(t,n,o,a,i,l,s,u){return c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.ReactionsContainer",children:c.jsx(d,{emojis:t,isMultiReactRowExpanded:s,message:a,onOpenDialog:l,outgoing:z,reactionsV2:O,toggleMultiReactionRowExpansion:u})})}})}))},n[61]=B,n[62]=k,n[63]=z,n[64]=F,n[65]=O,n[66]=ke):ke=n[66];var Ie;n[67]!==S||n[68]!==oe||n[69]!==R||n[70]!==k?(Ie=function(){return c.jsx(r("MWV2MessageProfilePhoto.react"),{ariaHidden:S?!R:!0,display:oe?"visible":"hidden",isGroupThread:S,message:k})},n[67]=S,n[68]=oe,n[69]=R,n[70]=k,n[71]=Ie):Ie=n[71];var Te;n[72]!==ue||n[73]!==z?(Te=function(t){return c.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:z,isReply:ue})},n[72]=ue,n[73]=z,n[74]=Te):Te=n[74];var De;n[75]!==ce||n[76]!==a||n[77]!==ie||n[78]!==l||n[79]!==s||n[80]!==v||n[81]!==oe||n[82]!==w||n[83]!==ue||n[84]!==pe||n[85]!==L||n[86]!==E||n[87]!==k||n[88]!==I||n[89]!==T||n[90]!==ae||n[91]!==z||n[92]!==x||n[93]!==F||n[94]!==O||n[95]!==$||n[96]!==P||n[97]!==N?(De=w?c.jsx(o("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:ce,containerThreadKey:a,hasClickState:l,hasMessageEmphasisRing:s,isFirstMessageInGroup:v,isLastMessageInGroup:oe,isSearchPluginAttachment:pe,isSecureMessage:L,mediaRenderQpl:E,message:k,nextMessage:T,offlineAttachmentId:ce&&ce.length>0?ce[0].offlineAttachmentId:null,originalBumpedMsg:ae,outgoing:z,prevMessage:x,reactions:F,reactionsV2:P?O:void 0,renderAttachment:$,threadType:N}):c.jsx(r("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:ue,message:k,outgoing:z,children:c.jsx(o("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:ce,containerThreadKey:a,hasBlockQuoteStyle:ie,hasClickState:l,hasMessageEmphasisRing:s,isFirstMessageInGroup:v,isLastMessageInGroup:oe,isSearchPluginAttachment:pe,isSecureMessage:L,mediaRenderQpl:E,message:k,navigateToRouteForMediaViewer:I,nextMessage:T,offlineAttachmentId:ce&&ce.length>0?ce[0].offlineAttachmentId:null,originalBumpedMsg:ae,outgoing:z,prevMessage:x,reactions:F,reactionsV2:P?O:void 0,renderAttachment:$,threadType:N})}),n[75]=ce,n[76]=a,n[77]=ie,n[78]=l,n[79]=s,n[80]=v,n[81]=oe,n[82]=w,n[83]=ue,n[84]=pe,n[85]=L,n[86]=E,n[87]=k,n[88]=I,n[89]=T,n[90]=ae,n[91]=z,n[92]=x,n[93]=F,n[94]=O,n[95]=$,n[96]=P,n[97]=N,n[98]=De):De=n[98];var xe;n[99]!==ce||n[100]!==pe||n[101]!==fe||n[102]!==k||n[103]!==ae?(xe=(pe||fe)&&c.jsx(f,{attachments:ce,isSearchSingleBubblePluginAttachment:fe,message:ae!=null?ae:k}),n[99]=ce,n[100]=pe,n[101]=fe,n[102]=k,n[103]=ae,n[104]=xe):xe=n[104];var $e;n[105]!==D||n[106]!==Te||n[107]!==De||n[108]!==xe?($e=c.jsxs(r("CometErrorBoundary.react"),{fallback:Te,onError:D,children:[De,xe]}),n[105]=D,n[106]=Te,n[107]=De,n[108]=xe,n[109]=$e):$e=n[109];var Pe;n[110]!==s||n[111]!==ve||n[112]!==k||n[113]!==ae||n[114]!==z||n[115]!==Ee||n[116]!==ke||n[117]!==Ie||n[118]!==$e?(Pe=c.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:s,hasReactions:ve,message:k,originalBumpedMsg:ae,outgoing:z,renderGutterItem:h,renderMessageActions:Ee,renderMultiReactions:ke,renderProfile:Ie,children:$e}),n[110]=s,n[111]=ve,n[112]=k,n[113]=ae,n[114]=z,n[115]=Ee,n[116]=ke,n[117]=Ie,n[118]=$e,n[119]=Pe):Pe=n[119];var Ne;n[120]!==C||n[121]!==k.messageId||n[122]!==te?(Ne=te&&C&&c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.MWSupportTranslatedMessageTextWrapper",children:c.jsx(p,{msgId:k.messageId})}),n[120]=C,n[121]=k.messageId,n[122]=te,n[123]=Ne):Ne=n[123];var Me;n[124]!==G||n[125]!==k||n[126]!==z?(Me=c.jsx(r("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:G,isOutgoing:z,message:k}),n[124]=G,n[125]=k,n[126]=z,n[127]=Me):Me=n[127];var we;n[128]!==G||n[129]!==Y||n[130]!==L||n[131]!==E||n[132]!==k||n[133]!==z||n[134]!==te?(we=c.jsx(r("MWMustacheText"),{isLastMessage:G,isPublicCMThread:Y,isSecureMessage:L,mediaRenderQpl:E,message:k,outgoing:z,showSupportTranslationToggleMustache:te}),n[128]=G,n[129]=Y,n[130]=L,n[131]=E,n[132]=k,n[133]=z,n[134]=te,n[135]=we):we=n[135];var Ae;n[136]!==T?(Ae=c.jsx(r("MWExtraPinnedMessagePadding.react"),{nextMessage:T}),n[136]=T,n[137]=Ae):Ae=n[137];var Fe;n[138]!==q||n[139]!==l||n[140]!==G||n[141]!==oe||n[142]!==k.messageId?(Fe=l&&q===k.messageId?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):oe&&!G?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null,n[138]=q,n[139]=l,n[140]=G,n[141]=oe,n[142]=k.messageId,n[143]=Fe):Fe=n[143];var Oe;return n[144]!==Se||n[145]!==Re||n[146]!==Le||n[147]!==Pe||n[148]!==Ne||n[149]!==Me||n[150]!==we||n[151]!==Ae||n[152]!==Fe?(Oe=c.jsxs(c.Fragment,{children:[Se,Re,Le,Pe,Ne,Me,we,Ae,Fe]}),n[144]=Se,n[145]=Re,n[146]=Le,n[147]=Pe,n[148]=Ne,n[149]=Me,n[150]=we,n[151]=Ae,n[152]=Fe,n[153]=Oe):Oe=n[153],Oe}function h(){return c.jsx("div",{className:"x1xc55vz",role:"none"})}h.displayName=h.name+" [from "+i.id+"]";function y(e){return(u||(u=o("I64"))).to_int32(e.count)>0}l.default=g}),98);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.isLastMessage,a=e.message,i=e.nextMessage,l=o("MWPMessageParsingUtils").isEndOfGroup(a,i),c=l&&!n?u.lastMessageInGroup:u.pinnedMessage,d;return t[0]!==a.messageId||t[1]!==c?(d=s.jsx(r("MWClickToRevealMustacheText.react"),{messageId:a.messageId,xsyle:c}),t[0]=a.messageId,t[1]=c,t[2]=d):d=t[2],d}l.default=c}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(23),n=e.hasClickState,a=e.incoming,i=e.isBroadcastThread,l=e.isFromBlockedContact,u=e.isLastMessage,c=e.isSecureMessage,d=e.message,m=e.nextMessage,p=e.outgoing,_=e.status,f=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),g=f.isPinnedMessageList,h=f.isStandardMessageList;if(h){var y;t[0]!==n||t[1]!==_?(y=n||o("MWMessageDeliveryStatus").isAlwaysShownStatus(_),t[0]=n,t[1]=_,t[2]=y):y=t[2];var C;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==u||t[8]!==c||t[9]!==d||t[10]!==p||t[11]!==_?(C=function(){return s.jsx(o("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:n&&a,hasTextBasedMessageReceipts:!0,isFromBlockedContact:l,isLastMessage:u,isOutgoing:p,isSecureMessage:c,isTextOnly:i,message:d,status:_})},t[3]=n,t[4]=a,t[5]=i,t[6]=l,t[7]=u,t[8]=c,t[9]=d,t[10]=p,t[11]=_,t[12]=C):C=t[12];var b;return t[13]!==d||t[14]!==m||t[15]!==y||t[16]!==C?(b=s.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:d,nextMessage:m,showContent:y,children:C}),t[13]=d,t[14]=m,t[15]=y,t[16]=C,t[17]=b):b=t[17],b}if(g){var v;return t[18]!==l||t[19]!==u||t[20]!==d||t[21]!==m?(v=l?s.jsx(r("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:u,message:d,nextMessage:m}):null,t[18]=l,t[19]=u,t[20]=d,t[21]=m,t[22]=v):v=t[22],v}return null}l.default=u}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=(u||(u=o("react"))).useMemo;function p(e){return(c||(c=o("I64"))).equal(e.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?e.defaultCtaType==="xma_web_url":!1}function _(e){return(c||(c=o("I64"))).equal(e.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?!0:(c||(c=o("I64"))).equal(e.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function f(t,n,a){var l=o("react-compiler-runtime").c(28),u=(e||(e=r("useReStore")))(),m=t.messageId,f=t.threadKey,g;l[0]!==t?(g=r("mwpMessageHasAttachment")(t),l[0]=t,l[1]=g):g=l[1];var h=g,y,C;l[2]!==u||l[3]!==h||l[4]!==m||l[5]!==f?(y=function(){return h?o("ReQL").fromTableAscending(u.tables.attachments).getKeyRange(f,m):o("ReQL").empty()},C=[u,m,f,h],l[2]=u,l[3]=h,l[4]=m,l[5]=f,l[6]=y,l[7]=C):(y=l[6],C=l[7]);var b=o("ReQLSuspense").useFirst(y,C,i.id+":63"),v;if(n)if(b!=null)if(p(b)){var S;l[8]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"You forwarded a link"),l[8]=S):S=l[8],v=S}else if(_(b)){var R;l[9]===Symbol.for("react.memo_cache_sentinel")?(R=s._(/*BTDS*/"You forwarded an image"),l[9]=R):R=l[9],v=R}else if((c||(c=o("I64"))).equal(b.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){var L;l[10]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"You forwarded a video"),l[10]=L):L=l[10],v=L}else{var E;l[11]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"You forwarded a message"),l[11]=E):E=l[11],v=E}else{var k;l[12]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"You forwarded a message"),l[12]=k):k=l[12],v=k}else if(b!=null)if(a!=null)if(p(b)){var I;l[13]!==a?(I=s._(/*BTDS*/"{name} forwarded a link",[s._param("name",a)]),l[13]=a,l[14]=I):I=l[14],v=I}else if(_(b)){var T;l[15]!==a?(T=s._(/*BTDS*/"{name} forwarded an image",[s._param("name",a)]),l[15]=a,l[16]=T):T=l[16],v=T}else if((c||(c=o("I64"))).equal(b.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){var D;l[17]!==a?(D=s._(/*BTDS*/"{name} forwarded a video",[s._param("name",a)]),l[17]=a,l[18]=D):D=l[18],v=D}else{var x;l[19]!==a?(x=s._(/*BTDS*/"{name} forwarded a message",[s._param("name",a)]),l[19]=a,l[20]=x):x=l[20],v=x}else if(p(b)){var $;l[21]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Forwarded a link"),l[21]=$):$=l[21],v=$}else if(_(b)){var P;l[22]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"Forwarded an image"),l[22]=P):P=l[22],v=P}else if((c||(c=o("I64"))).equal(b.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){var N;l[23]===Symbol.for("react.memo_cache_sentinel")?(N=s._(/*BTDS*/"Forwarded a video"),l[23]=N):N=l[23],v=N}else{var M;l[24]===Symbol.for("react.memo_cache_sentinel")?(M=s._(/*BTDS*/"Forwarded a message"),l[24]=M):M=l[24],v=M}else if(a!=null){var w;l[25]!==a?(w=s._(/*BTDS*/"{name} forwarded a message",[s._param("name",a)]),l[25]=a,l[26]=w):w=l[26],v=w}else{var A;l[27]===Symbol.for("react.memo_cache_sentinel")?(A=s._(/*BTDS*/"Forwarded a message"),l[27]=A):A=l[27],v=A}return v}function g(e,t){var n=o("MWPMessageAuthor.react").useAuthorName(),r=n[0];return f(e,t,r)}l.useTitle=g}),226);
__d("MWXIconForwardAction",["MWXSvgIcon","SVGIcon","cr:22337","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22337")),r("gkx")("23219"));l.default=e}),98);
__d("MWForwardedContent.react",["BaseIsDecorativeContext","MWPForwardedContent","MWXIconForwardAction","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function c(e){var t=o("react-compiler-runtime").c(7),n=e.message,a=e.outgoing,i=o("MWPForwardedContent").useTitle(n,a),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("BaseIsDecorativeContext").Provider,{value:!0,children:s.jsx(r("MWXIconStrict.react"),{color:u,icon:r("MWXIconForwardAction"),size:12})})}),t[0]=l):l=t[0];var c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x1aimgj9"},t[1]=c):c=t[1];var d;t[2]!==i?(d=s.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[l,s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx("span",babelHelpers.extends({},c,{children:i}))})})]}),t[2]=i,t[3]=d):d=t[3];var m=d,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j"},t[4]=p):p=t[4];var _;return t[5]!==m?(_=s.jsx("div",babelHelpers.extends({},p,{children:m})),t[5]=m,t[6]=_):_=t[6],_}l.default=c}),98);
__d("MWPMessagePinnedText.react",["fbt","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.divider,a=e.message,i=r("useMWPIsMessagePinned")(a),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Pinned"),t[0]=l):l=t[0];var c=l,d;return t[1]!==n||t[2]!==i?(d=i&&u.jsxs(u.Fragment,{children:[n!=null&&u.jsx("span",{className:"x1sdyfia",children:n}),u.jsx("span",{"aria-label":c,children:c})]}),t[1]=n,t[2]=i,t[3]=d):d=t[3],d}l.default=c}),226);
__d("MWXIconForward",["MWXSvgIcon","SVGIcon","cr:22338","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22338")),r("gkx")("23219"));l.default=e}),98);
__d("WorkLSHiddenEyebrowLabel.react",["fbt","BaseMiddot.react","FDSTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e.separatorStyle,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={eventName:"edit_eyebrow_impression"},t[0]=a):a=t[0];var i=r("MessengerWebUXLogger").useImpressionLoggerRef(a),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Visible to only you"),t[1]=l):l=t[1];var c=l,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"This message is only visible to you"),t[2]=d):d=t[2];var m=d,p;t[3]!==n?(p=n!=null&&u.jsx(o("react-strict-dom").html.span,{style:n,children:u.jsx(r("BaseMiddot.react"),{})}),t[3]=n,t[4]=p):p=t[4];var _;t[5]!==i?(_=u.jsx(r("FDSTooltip.react"),{position:"end",tooltip:m,children:u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,ref:i,children:c})}),t[5]=i,t[6]=_):_=t[6];var f;return t[7]!==p||t[8]!==_?(f=u.jsxs(u.Fragment,{children:[p,_]}),t[7]=p,t[8]=_,t[9]=f):f=t[9],f}l.default=c}),226);
__d("isMWMetamateEmployeeOnlyHiddenMessage",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return!!(e!=null&&e.includes("#hidden"))&&!!(e!=null&&e.includes("#metamate"))&&t&&r("gkx")("20861")&&r("gkx")("22885")&&r("gkx")("10631")}l.default=e}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","react-compiler-runtime","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,n){var a=o("react-compiler-runtime").c(3),i=r("useMWPIsMessagePinned")(t),l=o("MWPMessageAuthor.react").useAuthorName(),u=l[0],c=o("Actor").useActor(),d=c[0],m=d===(e||(e=o("I64"))).to_string(t.senderId),p=r("useMWIsReplyToAuthor")(t);if(!i||m||p)return t.replySnippet;var _;return a[0]!==u||a[1]!==n?(_=n?s._(/*BTDS*/"Pinned your reply").toString():s._(/*BTDS*/"Pinned {name}'s reply",[s._param("name",u)]).toString(),a[0]=u,a[1]=n,a[2]=_):_=a[2],_}l.default=u}),226);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWXIconForward","MWXIconForwardAction","MWXIconReply","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","ReQL","ReQLSuspense","WorkLSHiddenEyebrowLabel.react","isMWBumpMessage","isMWEditedMessage","isMWMetamateEmployeeOnlyHiddenMessage","react","react-compiler-runtime","useMWJumpToMessage","useMWReplySnippetContent","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m={separator:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0}},p=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function _(e){var t=o("react-compiler-runtime").c(3),n=e.replySourceType;if(n==null)return null;if((u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY))){var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=d.jsx(r("MWXIconStrict.react"),{color:p,icon:r("MWXIconReply"),size:12}),t[0]=a):a=t[0],a}else if((u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE))){var i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(i=d.jsx(r("MWXIconStrict.react"),{color:p,icon:r("MWXIconForwardAction"),size:12}),t[1]=i):i=t[1],i}else if((u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_MENTION))){var l;return t[2]===Symbol.for("react.memo_cache_sentinel")?(l=d.jsx(r("MWXIconStrict.react"),{color:p,icon:r("MWXIconForward"),size:12}),t[2]=l):l=t[2],l}return null}function f(t){var n,a=o("react-compiler-runtime").c(35),l=t.enableEditHistory,s=t.message,u=t.outgoing,c=l===void 0?!0:l,p=(e||(e=r("useReStore")))(),f=r("useMWReplySnippetContent")(s,u),h=r("useMWJumpToMessage")("Bump"),y;a[0]!==p.tables.threads||a[1]!==s.threadKey?(y=function(){return o("ReQL").fromTableAscending(p.tables.threads,["threadType"]).getKeyRange(s.threadKey).map(g)},a[0]=p.tables.threads,a[1]=s.threadKey,a[2]=y):y=a[2];var C;a[3]!==p||a[4]!==s.threadKey?(C=[p,s.threadKey],a[3]=p,a[4]=s.threadKey,a[5]=C):C=a[5];var b=o("ReQLSuspense").useFirst(y,C,i.id+":123"),v=b==null?!1:o("LSMessagingThreadTypeUtil").isArmadilloSecure(b),S=(n=o("useStringWithSubstitutions").useStringWithSubstitutions(v?f:null,s.threadKey))!=null?n:f;if(f==null||f.trim().length===0)return null;var R;a[6]!==s?(R=r("isMWEditedMessage")(s),a[6]=s,a[7]=R):R=a[7];var L=R,E;a[8]!==s.text||a[9]!==u?(E=r("isMWMetamateEmployeeOnlyHiddenMessage")(s.text,u),a[8]=s.text,a[9]=u,a[10]=E):E=a[10];var k=E,I;a[11]!==s.replyType?(I=r("isMWBumpMessage")(s.replyType),a[11]=s.replyType,a[12]=I):I=a[12];var T=I,D=T&&s.replySourceId!=null&&s.replySourceTimestampMs!=null,x;a[13]!==s.replySourceTypeV2||a[14]!==D?(x=!D&&d.jsx(_,{replySourceType:s==null?void 0:s.replySourceTypeV2}),a[13]=s.replySourceTypeV2,a[14]=D,a[15]=x):x=a[15];var $;a[16]!==x?($=d.jsx(r("MWXRowItem.react"),{children:x}),a[16]=x,a[17]=$):$=a[17];var P;a[18]!==c||a[19]!==L||a[20]!==h||a[21]!==s.replySourceId||a[22]!==s.replySourceTimestampMs||a[23]!==S||a[24]!==D?(P=d.jsx(r("MWXRowItem.react"),{children:D?d.jsx(r("MWXPressable.react"),{onPress:function(){s.replySourceId!=null&&s.replySourceTimestampMs!=null&&h(s.replySourceId,s.replySourceTimestampMs)},overlayDisabled:!0,children:d.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:d.jsx("span",{className:"x1aimgj9",children:S})})}):d.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:d.jsxs("span",{className:"x1aimgj9",children:[S,L&&d.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{enableEditHistory:c,separatorStyle:m.separator})]})})}),a[18]=c,a[19]=L,a[20]=h,a[21]=s.replySourceId,a[22]=s.replySourceTimestampMs,a[23]=S,a[24]=D,a[25]=P):P=a[25];var N;a[26]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x1aimgj9"},a[26]=N):N=a[26];var M;a[27]!==k?(M=k&&d.jsx(r("WorkLSHiddenEyebrowLabel.react"),{separatorStyle:m.separator}),a[27]=k,a[28]=M):M=a[28];var w;a[29]!==M?(w=d.jsx(r("MWXRowItem.react"),{children:d.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:d.jsx("span",babelHelpers.extends({},N,{children:M}))})}),a[29]=M,a[30]=w):w=a[30];var A;return a[31]!==w||a[32]!==$||a[33]!==P?(A=d.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:10,paddingVertical:4,spacing:4,testid:void 0,verticalAlign:"center",children:[$,P,w]}),a[31]=w,a[32]=$,a[33]=P,a[34]=A):A=a[34],A}function g(e){return e.threadType}l.default=f}),98);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(21),n=e.isCMThread,a=e.isFirstMessageInGroup,i=e.isGroupThread,l=e.isLastMessageInGroup,u=e.message,m=e.outgoing,p=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),_=p.isPinnedMessageList,f=p.isStandardMessageList,g=d,h;t[0]!==u||t[1]!==m?(h=function(){return s.jsx(r("MWForwardedContent.react"),{message:u,outgoing:m})},t[0]=u,t[1]=m,t[2]=h):h=t[2];var y;t[3]!==f||t[4]!==u?(y=function(t,n){return f?s.jsx(r("MWPMessagePinnedText.react"),{divider:n&&s.jsx(r("BaseMiddot.react"),{}),message:u}):null},t[3]=f,t[4]=u,t[5]=y):y=t[5];var C;t[6]!==u||t[7]!==m?(C=function(){return s.jsx(r("MWReplySnippet.react"),{message:u,outgoing:m})},t[6]=u,t[7]=m,t[8]=C):C=t[8];var b=_?g:void 0,v;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==_||t[14]!==u||t[15]!==m||t[16]!==h||t[17]!==y||t[18]!==C||t[19]!==b?(v=s.jsx(r("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:_,isAnyCMThread:n,isFirstMessageInGroup:a,isGroupThread:i,isLastMessageInGroup:l,message:u,outgoing:m,renderForwardSnippet:h,renderPinnedText:y,renderReplySnippet:C,renderTextWrapper:c,renderTimestamp:b}),t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=_,t[14]=u,t[15]=m,t[16]=h,t[17]=y,t[18]=C,t[19]=b,t[20]=v):v=t[20],v}function c(e){return s.jsx(r("MWXText.react"),{color:"secondary",type:"meta4",children:e})}c.displayName=c.name+" [from "+i.id+"]";function d(e){return s.jsx(r("MWXText.react"),{color:"secondary",type:"meta4",children:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9929")}),98);
__d("MWPMessageListFocusableTableRowSimple.react",["BaseView.react","MWPMessageListFocusableTableRow.react","MWV2MessageListIsRowModalContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.startTransition,d=u.useCallback,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(6),n=e.nameForModality,a=m(!1),i=a[0],l=a[1],u=m(!1),d=u[0],p=u[1],_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=function(t){return c(function(){return l(t)})},t[0]=_):_=t[0];var f=_,g=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),h=g.modal,y=h===n,C;return t[1]!==d||t[2]!==i||t[3]!==y||t[4]!==e?(C=s.jsx(r("BaseView.react"),{role:"row",children:s.jsx(r("MWPMessageListFocusableTableRow.react"),babelHelpers.extends({isDialogOpened:d,isFocused:i,isModal:y,setFocused:f,setIsDialogOpened:p},e))}),t[1]=d,t[2]=i,t[3]=y,t[4]=e,t[5]=C):C=t[5],C}l.default=p}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["fbt","CometErrorBoundary.react","I64","JSResourceForInteraction","MWEBMobileOnboardingEligibility","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWPMessageListFocusableTableRowSimple.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=o("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(r("JSResourceForInteraction")("MWEBOnboardingGapUI.react").__setRef("MWMessageRowMissingMessagesIndicator.react")),m=(u||(u=o("I64"))).of_int32(5e3);function p(e){var t=o("react-compiler-runtime").c(4),n=e.entryPoint,a=e.isSecureMessage,i=e.lastEbMessageTime,l=e.message,p=e.nextMessage,f=e.prevMessage;if(n==="pinned_message_list")return null;var g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Messages are missing."),t[0]=g):g=t[0];var h=g;if(i==null){var y=a&&f!=null&&!(u||(u=o("I64"))).equal(f==null?void 0:f.threadKey,l.threadKey),C=a&&f==null;if(y||C){var b;return t[1]!==n?(b=d!=null&&c.jsx(r("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:h,nameForModality:"ebmmindicator",children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsx(d,{fallback:null,props:{entryPoint:n}})})}),t[1]=n,t[2]=b):b=t[2],b}}else if((u||(u=o("I64"))).gt((u||(u=o("I64"))).sub(i,l.timestampMs),m)&&(p==null||(u||(u=o("I64"))).lt(i,p.timestampMs))){var v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(v=r("MWEBRestoreGapUIWithEBCheck.react")!=null&&c.jsx(r("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:h,nameForModality:"ebmmindicator",children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsx(r("CometErrorBoundary.react"),{fallback:_,children:c.jsx(r("MWEBRestoreGapUIWithEBCheck.react"),{})})})}),t[3]=v):v=t[3],v}return null}function _(){return null}l.default=p}),226);
__d("MWChatMessageUnreadIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function d(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Unread messages"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",xstyle:c.line,children:u.jsx(u.Fragment,{})}),e[1]=a):a=e[1];var i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:u.jsx(o("react-strict-dom").html.div,{style:c.color,children:n})})}),e[2]=i):i=e[2];var l;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsxs(r("MWXRow.react"),{"aria-label":n,paddingVertical:12,spacingVertical:0,children:[a,i,u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",xstyle:c.line,children:u.jsx(u.Fragment,{})})]}),e[3]=l):l=e[3],l}l.default=d}),226);
__d("useThreadLastUnreadWatermarkAndMessages",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n,a=o("react-compiler-runtime").c(6),l=(s||(s=r("useReStore")))(),u;a[0]!==l.tables.threads||a[1]!==t?(u=function(){return o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(t)},a[0]=l.tables.threads,a[1]=t,a[2]=u):u=a[2];var c;a[3]!==l||a[4]!==t?(c=[l,t],a[3]=l,a[4]=t,a[5]=c):c=a[5];var d=o("ReQLSuspense").useFirstWithoutSubscribing(u,c,i.id+":23");return(n=d==null?void 0:d.lastReadWatermarkTimestampMs)!=null?n:(e||(e=o("I64"))).zero}function c(t,n){var a=o("react-compiler-runtime").c(10),l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),c;a[0]!==u||a[1]!==l.tables.messages||a[2]!==n||a[3]!==t?(c=function(){return o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(t).bounds({gt:[n]}).filter(function(t){return(e||(e=o("I64"))).equal(t.senderId,u)?!1:!t.isAdminMessage})},a[0]=u,a[1]=l.tables.messages,a[2]=n,a[3]=t,a[4]=c):c=a[4];var d;return a[5]!==u||a[6]!==l||a[7]!==n||a[8]!==t?(d=[u,l,n,t],a[5]=u,a[6]=l,a[7]=n,a[8]=t,a[9]=d):d=a[9],o("ReQLSuspense").useArray(c,d,i.id+":36")}l.useThreadLastReadWatermark=u,l.useUnreadMessages=c}),98);
__d("MWChatMessageUnreadIndicatorCountAndAISummary.react",["fbt","I64","JSResourceForInteraction","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog","useThreadLastUnreadWatermarkAndMessages"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=r("requireDeferred")("MessagingAiAgentInteractionsFalcoEvent").__setRef("MWChatMessageUnreadIndicatorCountAndAISummary.react"),m=r("JSResourceForInteraction")("MWAISummaryDialogRoot.react").__setRef("MWChatMessageUnreadIndicatorCountAndAISummary.react");function p(e){var t=o("react-compiler-runtime").c(32),n=e.lastReadWatermarkTimestampMs,a=e.threadKey,i=n===void 0?(u||(u=o("I64"))).zero:n,l=o("useThreadLastUnreadWatermarkAndMessages").useUnreadMessages(a,i).length,p=r("useMWXLazyDialog")(m),f=p[0];if(l<=0)return null;var g;t[0]!==l?(g=s._(/*BTDS*/"_j{\"*\":\"{count} unread messages.\",\"_1\":\"{count} unread message.\"}",[s._plural(l),s._param("count",String(r("intlSummarizeNumber")(l)))]).toString(),t[0]=l,t[1]=g):g=t[1];var h=g,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Summarize with Meta AI").toString(),t[2]=y):y=t[2];var C=y,b;t[3]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"These messages will be shared with Meta AI to create a summary and may be used to improve AI at Meta.").toString(),t[3]=b):b=t[3];var v=b,S;t[4]!==h?(S=c.jsx(r("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta1",children:h}),t[4]=h,t[5]=S):S=t[5];var R;t[6]!==S||t[7]!==h?(R=c.jsx(r("MWXRowItem.react"),{"aria-label":h,verticalAlign:"center",children:S}),t[6]=S,t[7]=h,t[8]=R):R=t[8];var L;t[9]!==i||t[10]!==f||t[11]!==a?(L=function(){f({startTimestampMs:(u||(u=o("I64"))).to_float(i),threadKey:u.to_string(a)}),d.onReady(_)},t[9]=i,t[10]=f,t[11]=a,t[12]=L):L=t[12];var E;t[13]!==C?(E=c.jsx(r("MWXText.react"),{color:"highlight",type:"meta1",children:C}),t[13]=C,t[14]=E):E=t[14];var k;t[15]!==L||t[16]!==E?(k=c.jsx(r("MWXPressable.react"),{onPress:L,children:E}),t[15]=L,t[16]=E,t[17]=k):k=t[17];var I;t[18]!==C||t[19]!==k?(I=c.jsx(r("MWXRowItem.react"),{"aria-label":C,verticalAlign:"center",children:k}),t[18]=C,t[19]=k,t[20]=I):I=t[20];var T;t[21]!==I||t[22]!==R?(T=c.jsxs(r("MWXRow.react"),{align:"center",spacingHorizontal:4,spacingVertical:0,children:[R,I]}),t[21]=I,t[22]=R,t[23]=T):T=t[23];var D;t[24]!==v?(D=c.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:c.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"meta1",children:v})}),t[24]=v,t[25]=D):D=t[25];var x;t[26]!==v||t[27]!==D?(x=c.jsx(r("MWXRow.react"),{align:"center","aria-label":v,paddingVertical:8,spacingVertical:0,children:D}),t[26]=v,t[27]=D,t[28]=x):x=t[28];var $;return t[29]!==T||t[30]!==x?($=c.jsxs(c.Fragment,{children:[T,x]}),t[29]=T,t[30]=x,t[31]=$):$=t[31],$}function _(e){return e.log(f)}function f(){return{action_type:0,entry_point:244,is_e2ee:!1,selected_item:"link",thread_type:2,view_name:8}}l.default=p}),226);
__d("useThreadMetadata",["ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=(e||(e=r("useReStore")))();return(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["metadata"]).getKeyRange(t).map(u)},[a,t],i.id+":25"))!=null?n:""}function u(e){var t=e.metadata;return t}l.default=s}),98);
__d("useThreadUnreadMessagesWordCount",["MWUnvaultedText","react","react-compiler-runtime","useThreadLastUnreadWatermarkAndMessages"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=o("react-compiler-runtime").c(2),r=o("useThreadLastUnreadWatermarkAndMessages").useUnreadMessages(e,t),a,i;n[0]!==r?(i=r.filter(m).map(d).reduce(c,0),n[0]=r,n[1]=i):i=n[1],a=i;var l=a;return l}function c(e,t){return e+t}function d(e){var t=o("MWUnvaultedText").getMWUnvaultedText(!1,e.text);return t!=null&&t!==""?t.trim().split(/\s+/).length:0}function m(e){return e.text!=null}l.useThreadUnreadMessagesWordCount=u}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["I64","MWChatMessageUnreadIndicator.react","MWChatMessageUnreadIndicatorCountAndAISummary.react","MWPMessageListColumn.react","MWPThreadCapabilitiesContext","MWV2MessageRowSimple.react","react","react-compiler-runtime","useJSON","useThreadMetadata","useThreadUnreadMessagesWordCount"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=50;function d(e){var t,n=o("react-compiler-runtime").c(7),a=e.isOpenGroupThread,i=e.lastReadWatermarkTimestampMs,l=e.threadKey,d=o("useThreadUnreadMessagesWordCount").useThreadUnreadMessagesWordCount(l,i!=null?i:(s||(s=o("I64"))).zero),m=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),p=m.air131ShareChatMessagesWithMetaAiEnabled,_=r("useThreadMetadata")(l),f=(t=r("useJSON")(_!=null?_:"{}"))!=null?t:[],g=f==null?void 0:f.is_limit_sharing_enabled,h;return n[0]!==p||n[1]!==g||n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==d?(h=u.jsx(r("MWV2MessageRowSimple.react"),{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a&&p&&!g&&d>=c?u.jsx(r("MWChatMessageUnreadIndicatorCountAndAISummary.react"),{lastReadWatermarkTimestampMs:i,threadKey:l}):u.jsx(r("MWChatMessageUnreadIndicator.react"),{})})}),n[0]=p,n[1]=g,n[2]=a,n[3]=i,n[4]=l,n[5]=d,n[6]=h):h=n[6],h}l.default=d}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c([{current:r("emptyFunction")},r("emptyFunction")]);function f(){return d(_)}function g(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=p(r("emptyFunction")),i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[a,function(e){a.current=e}],t[0]=l):l=t[0],i=l;var u=i,c;return t[1]!==n?(c=s.jsx(_.Provider,{value:u,children:n}),t[1]=n,t[2]=c):c=t[2],c}l.useMWShowMessagePromptPopoverContext=f,l.MWShowMessagePromptPopoverContextProvider=g}),98);
__d("useMWMessageRowAddInteractionTracingMetadata",["I64","react-compiler-runtime","usePageletMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(2),i;a[0]!==t.displayedContentTypes?(i=(e||(e=o("I64"))).to_string(t.displayedContentTypes),a[0]=t.displayedContentTypes,a[1]=i):i=a[1],r("usePageletMetadata")("displayed_content_types",i),r("usePageletMetadata")("row_index_from_bottom",String(n))}l.default=s}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=10;function u(t,n){var a=o("react-compiler-runtime").c(6),l=(e||(e=r("useReStore")))(),u=(n==null?void 0:n.isAdminMessage)===!0,d,m;a[0]!==l||a[1]!==u||a[2]!==t.primarySortKey||a[3]!==t.threadKey?(d=function(){return u?o("ReQL").fromTableAscending(l.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(t.threadKey).bounds({gt:o("ReQL").key(t.primarySortKey)}).take(s).filter(c):o("ReQL").empty()},m=[l,u,t.primarySortKey,t.threadKey],a[0]=l,a[1]=u,a[2]=t.primarySortKey,a[3]=t.threadKey,a[4]=d,a[5]=m):(d=a[4],m=a[5]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":49");return u?p:n}function c(e){return!e.isAdminMessage}l.default=u}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometPageletWithDiv.react","HeroInteractionIgnoreWithDiv.react","I64","Int64Hooks","InteractionTracing","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPAttachmentDataContext","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingUtil","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWSupportTranslationsContext.react","MWThreadViewMediaRenderQpl","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","WAGetPlatformFromStanzaId","WAStanzaUtils","mwCMIsAnyCMThread","mwpMessageIsReply","qex","react","react-compiler-runtime","useHeroErrorMetadata","useMWMessageRowAddInteractionTracingMetadata","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useNextNonAdminMessage"],(function(t,n,r,o,a,i,l){"use strict";var e=["message","nextMessage"],s=["rowIndexFromBottom"],u=["rowIndexFromBottom"],c,d,m,p=c||(c=o("react")),_=c,f=_.memo,g=_.startTransition,h=_.useCallback,y=_.useEffect,C=_.useId,b=_.useState,v={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0}},S=p.memo(r("MWPMessageRowCalculateStatus.react"));function R(t){var n=o("react-compiler-runtime").c(10),r,a,i;n[0]!==t?(r=t.message,a=t.nextMessage,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=r,n[2]=a,n[3]=i):(r=n[1],a=n[2],i=n[3]);var l;n[4]===Symbol.for("react.memo_cache_sentinel")?(l=["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize","displayedContentTypes"],n[4]=l):l=n[4];var s=o("Int64Hooks").usePickInt64(r,l),u;n[5]===Symbol.for("react.memo_cache_sentinel")?(u=["senderId","timestampMs","isAdminMessage"],n[5]=u):u=n[5];var c=o("Int64Hooks").usePickInt64(a,u),d;return n[6]!==i||n[7]!==s||n[8]!==c?(d=p.jsx(S,babelHelpers.extends({message:s,nextMessage:c},i)),n[6]=i,n[7]=s,n[8]=c,n[9]=d):d=n[9],d}function L(e){var t,n=e.containerThreadKey,a=e.domElementRef,i=e.entryPoint,l=e.hasMessageEmphasisRing,s=e.isMediaGroupLastMessage,u=e.isModal,c=e.isSecureMessage,_=e.lastEbMessageTime,f=e.lastReadWatermarkTimestampMs,S=e.message,L=e.navigateToRouteForMediaViewer,E=e.nextMessage,I=e.onRenderError,T=e.prevMessage,D=e.renderAttachment,$=e.shouldRenderUnreadIndicator,P=e.stopHoveringRef,N=e.threadType,M=e.useReactionsV2,w=M===void 0?!1:M,A=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),F=A.isPinnedMessageList,O=A.isStandardMessageList,B=o("MWPActor.react").useActor(),W=F||o("MWPMessageParsingUtils").isStartOfGroup(S,T),q=F||o("MWPMessageParsingUtils").isEndOfGroup(S,E),U=r("mwCMIsAnyCMThread")(N),V=o("MWCMThreadTypes.react").isBroadcastThread(N),H=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(N),G=o("LSMessagingThreadTypeUtil").isGroup(N),z=o("LSMessagingThreadTypeUtil").isOpenGroupFnFThread(N),j=o("LSMessagingThreadTypeUtil").isArmadilloSecure(N),K=r("mwpMessageIsReply")(S),Q=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),X=Q.seenCountV2Enabled,Y=!S.isUnsent&&X,J=Y&&!H&&!o("LSMessagingThreadTypeUtil").isCMSubthread(N)&&!o("MWCMThreadTypes.react").isStandardCMThread(N),Z=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(S.senderId,S.threadKey),ee=!F&&(d||(d=o("I64"))).equal(S.senderId,B),te=r("useNextNonAdminMessage")(S,E),ne=te==null||s===!0,re=!ee,oe=b(!1),ae=oe[0],ie=oe[1],le=b(!1),se=le[0],ue=le[1],ce=h(function(e){return g(function(){return ue(e)})},[ue,g]),de=h(function(e){return g(function(){return ie(e)})},[ie,g]),me=C(),pe=b(!1),_e=pe[0],fe=pe[1],ge=r("useMWMessageRowTheme")(),he,ye=o("MWPAttachmentDataContext").useMWPGetAttachments(S),Ce=ye.length>0&&ye[0].xmaLayoutType!=null&&(d||(d=o("I64"))).equal(ye[0].xmaLayoutType,(m||(m=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").STANDARD_DXMA)),be=ye.length>0&&ye[0].xmaLayoutType!=null&&(d||(d=o("I64"))).equal(ye[0].xmaLayoutType,(m||(m=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SHARED_STACK)),ve=r("useMWPEditMessageDeemphasizer")(),Se=o("MWThreadViewMediaRenderQpl").useMediaRenderQpl(S,N),Re=Se.mediaRenderQpl,Le=Se.messageRowRef;y(function(){Re==null||Re.addPoint("render-message-row"),c&&(Re==null||Re.addAnnotations({string:{e2ee_platform:o("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(o("WAStanzaUtils").toStanzaId(S.offlineThreadingId))}}))},[c,Re,S.offlineThreadingId]),S.isAdminMessage?he=p.jsx(r("MWMessageRowAdminMessage.react"),{domElementRef:a,isDialogOpened:_e,isFirstMessageInGroup:W,isFocused:ae,isModal:u,message:S,messageDomID:me,nextMessage:E,outgoing:ee,prevMessage:T,setFocusedInTransition:de,setHoveredInTransition:ce,setIsDialogOpened:fe,stopHoveringRef:P}):Ce||be?he=p.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:p.jsx(r("MWV2MessageRowSimple.react"),{children:p.jsx(r("BaseView.react"),{xstyle:ve,children:p.jsx(r("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:Re,message:S,outgoing:ee,xstyle:v.adminMessageAttachment})})})}):he=p.jsx(o("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:p.jsx(o("MWMessageEditContext.react").MWMessageEditContextProvider,{children:p.jsx(o("MWSupportTranslationsContext.react").MWSupportTranslationsContextProvider,{children:p.jsxs(p.Fragment,{children:[$===!0&&p.jsx(r("MWMessageRowUnreadMessagesIndicator.react"),{isOpenGroupThread:z,lastReadWatermarkTimestampMs:f,threadKey:S.threadKey}),W&&O?p.jsx(r("MWV2MessageStartOfGroupContent.react"),{message:S,prevMessage:T}):null,p.jsx(R,{isBroadcastChannel:H,isBroadcastThread:V,isLargeGroup:!1,isSecureGroupThread:j&&G,isSecureThread:j,message:S,nextMessage:te,children:function(t){return p.jsx(k,{containerThreadKey:n,domElementRef:a,focused:ae,hasClickState:J,hasMessageEmphasisRing:l,hovered:se,incoming:re,isBroadcastThread:V,isCMThread:U,isDialogOpened:_e,isFirstMessageInGroup:W,isFromBlockedContact:Z,isGroupThread:G,isLastMessage:ne,isLastMessageInGroup:q,isMediaGroupLastMessage:s,isModal:u,isSecureMessage:c,mediaRenderQpl:Re,message:S,messageDomID:me,navigateToRouteForMediaViewer:L,nextMessage:E,onRenderError:I,outgoing:ee,prevMessage:T,renderAttachment:D,setFocusedInTransition:de,setHoveredInTransition:ce,setIsDialogOpened:fe,shouldUseReactionsV2:w,status:t,stopHoveringRef:P,theme:ge,threadType:N})}})]})})})});var Ee=(t=r("qex")._("4967"))!=null?t:!1;return p.jsx("div",{ref:Le,children:p.jsxs(x,{isReply:K,message:S,offlineAttachmentId:ye.length>0?ye[0].offlineAttachmentId:void 0,outgoing:ee,children:[Ee===!0?p.jsx(r("HeroInteractionIgnoreWithDiv.react"),{children:he}):he,j&&p.jsx(r("MWMessageRowMissingMessagesIndicator.react"),{entryPoint:i,isSecureMessage:c,lastEbMessageTime:_,message:S,nextMessage:E,prevMessage:T})]})})}L.displayName=L.name+" [from "+i.id+"]";function E(e){var t=o("react-compiler-runtime").c(55),n=e.containerThreadKey,a=e.domElementRef,i=e.focused,l=e.hasClickState,s=e.hasMessageEmphasisRing,u=e.hovered,c=e.incoming,d=e.isBroadcastThread,m=e.isCMThread,_=e.isDialogOpened,f=e.isFirstMessageInGroup,g=e.isFromBlockedContact,h=e.isGroupThread,y=e.isLastMessage,C=e.isLastMessageInGroup,b=e.isMediaGroupLastMessage,v=e.isModal,S=e.isSecureMessage,R=e.mediaRenderQpl,L=e.message,E=e.messageDomID,k=e.navigateToRouteForMediaViewer,I=e.nextMessage,T=e.onRenderError,D=e.outgoing,x=e.prevMessage,$=e.renderAttachment,P=e.setFocusedInTransition,N=e.setHoveredInTransition,M=e.setIsDialogOpened,w=e.shouldUseReactionsV2,A=e.status,F=e.stopHoveringRef,O=e.theme,B=e.threadType,W;t[0]!==m||t[1]!==f||t[2]!==h||t[3]!==C||t[4]!==L||t[5]!==D?(W=p.jsx(r("MWMessageRowHeader.react"),{isCMThread:m,isFirstMessageInGroup:f,isGroupThread:h,isLastMessageInGroup:C,message:L,outgoing:D}),t[0]=m,t[1]=f,t[2]=h,t[3]=C,t[4]=L,t[5]=D,t[6]=W):W=t[6];var q;t[7]!==n||t[8]!==i||t[9]!==l||t[10]!==s||t[11]!==u||t[12]!==c||t[13]!==_||t[14]!==f||t[15]!==h||t[16]!==v||t[17]!==S||t[18]!==R||t[19]!==L||t[20]!==k||t[21]!==I||t[22]!==T||t[23]!==x||t[24]!==$||t[25]!==w||t[26]!==B?(q=p.jsx(r("MWMessageRowBody.react"),{containerThreadKey:n,focused:i,hasClickState:l,hasMessageEmphasisRing:s,hovered:u,incoming:c,isDialogOpened:_,isFirstMessageInGroup:f,isGroupThread:h,isModal:v,isSecureMessage:S,mediaRenderQpl:R,message:L,navigateToRouteForMediaViewer:k,nextMessage:I,onRenderError:T,prevMessage:x,renderAttachment:$,shouldUseReactionsV2:w,threadType:B}),t[7]=n,t[8]=i,t[9]=l,t[10]=s,t[11]=u,t[12]=c,t[13]=_,t[14]=f,t[15]=h,t[16]=v,t[17]=S,t[18]=R,t[19]=L,t[20]=k,t[21]=I,t[22]=T,t[23]=x,t[24]=$,t[25]=w,t[26]=B,t[27]=q):q=t[27];var U=b===!0?void 0:I,V;t[28]!==l||t[29]!==c||t[30]!==d||t[31]!==g||t[32]!==y||t[33]!==S||t[34]!==L||t[35]!==D||t[36]!==A||t[37]!==U?(V=p.jsx(r("MWMessageRowFooter.react"),{hasClickState:l,incoming:c,isBroadcastThread:d,isFromBlockedContact:g,isLastMessage:y,isSecureMessage:S,message:L,nextMessage:U,outgoing:D,status:A}),t[28]=l,t[29]=c,t[30]=d,t[31]=g,t[32]=y,t[33]=S,t[34]=L,t[35]=D,t[36]=A,t[37]=U,t[38]=V):V=t[38];var H;return t[39]!==a||t[40]!==i||t[41]!==_||t[42]!==v||t[43]!==L||t[44]!==E||t[45]!==D||t[46]!==P||t[47]!==N||t[48]!==M||t[49]!==F||t[50]!==W||t[51]!==q||t[52]!==V||t[53]!==O?(H=p.jsxs(r("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:a,isDialogOpened:_,isFocused:i,isModal:v,message:L,messageDomID:E,outgoing:D,setFocused:P,setHovered:N,setIsDialogOpened:M,stopHoveringRef:F,theme:O,children:[W,q,V]}),t[39]=a,t[40]=i,t[41]=_,t[42]=v,t[43]=L,t[44]=E,t[45]=D,t[46]=P,t[47]=N,t[48]=M,t[49]=F,t[50]=W,t[51]=q,t[52]=V,t[53]=O,t[54]=H):H=t[54],H}var k=f(E),I=f(function(e){return e.isSecureMessage?p.jsx(L,babelHelpers.extends({},e)):p.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:e.message,children:p.jsx(L,babelHelpers.extends({},e))})});function T(e){var t=o("react-compiler-runtime").c(5),n,a;t[0]!==e?(a=e.rowIndexFromBottom,n=babelHelpers.objectWithoutPropertiesLoose(e,s),t[0]=e,t[1]=n,t[2]=a):(n=t[1],a=t[2]),r("useMWMessageRowAddInteractionTracingMetadata")(n.message,a);var i;return t[3]!==n?(i=p.jsx(I,babelHelpers.extends({},n)),t[3]=n,t[4]=i):i=t[4],i}function D(e){var t=o("react-compiler-runtime").c(6),n,r;t[0]!==e?(r=e.rowIndexFromBottom,n=babelHelpers.objectWithoutPropertiesLoose(e,u),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);var a;return t[3]!==n||t[4]!==r?(a=p.jsx(o("CometPageletWithDiv.react").Div,{name:"MWMessageRow",children:p.jsx(T,babelHelpers.extends({},n,{rowIndexFromBottom:r}))}),t[3]=n,t[4]=r,t[5]=a):a=t[5],a}function x(e){var t=e.children,n=e.isReply,a=e.message,i=e.offlineAttachmentId,l=e.outgoing,s=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:a.messageId,optimisticAttachmentId:i,optimisticMessageId:a.offlineThreadingId}),u=r("useHeroErrorMetadata")(),c=h(function(e,t){var n=s!=null?r("InteractionTracing").getPendingInteractionById(s):null;if(!(s==null||n==null)){var o=e==null?void 0:e.message;if((e==null?void 0:e.messageFormat)!=null){var a=0;o=e.messageFormat.replace(/%s/g,function(t){return e.messageParams!=null?e.messageParams[a++]:"unknown"})}n.addAnnotation("failType","failLSSInteraction"),n.failTrace(t+" - "+o,!0)}},[s]);return p.jsx(r("CometErrorBoundary.react"),{augmentError:u,description:"MWMessageRow.ErrorBoundary",fallback:function(){return p.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:l,isReply:n})},onError:c,children:t})}x.displayName=x.name+" [from "+i.id+"]",l.MWMessageRow=D}),98);
__d("MWCMSubthreadParentMessage.react",["LSIntEnum","MWMessageRow.react","MWPMessageAuthor.react","MWV2MessageActionsVisibility.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(15),a=t.domElementRef,l=t.subthread,u=(e||(e=r("useReStore")))(),d=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),m;n[0]!==u.tables.messages||n[1]!==l.threadKey?(m=function(){return o("ReQL").fromTableAscending(u.tables.messages.index("messageSubthreadKey")).getKeyRange(l.threadKey)},n[0]=u.tables.messages,n[1]=l.threadKey,n[2]=m):m=n[2];var p;n[3]!==u||n[4]!==l.threadKey?(p=[u,l.threadKey],n[3]=u,n[4]=l.threadKey,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(m,p,i.id+":33");if(_==null)return null;var f=_.senderId,g=_.threadKey,h;n[6]===Symbol.for("react.memo_cache_sentinel")?(h=(s||(s=o("LSIntEnum"))).ofNumber(18),n[6]=h):h=n[6];var y;n[7]!==a||n[8]!==_||n[9]!==d?(y=c.jsx(o("MWMessageRow.react").MWMessageRow,{domElementRef:a,hasMessageEmphasisRing:!1,isModal:!1,isSecureMessage:!1,message:_,rowIndexFromBottom:0,stopHoveringRef:d,threadType:h}),n[7]=a,n[8]=_,n[9]=d,n[10]=y):y=n[10];var C;return n[11]!==_.senderId||n[12]!==_.threadKey||n[13]!==y?(C=c.jsx(o("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:f,threadKey:g,children:y}),n[11]=_.senderId,n[12]=_.threadKey,n[13]=y,n[14]=C):C=n[14],C}l.default=d}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MAWEditMessageContext.react","MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.thread,a;t[0]!==n?(a=s.jsx(o("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:s.jsx(o("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:s.jsx(o("MAWEditMessageContext.react").MAWEditMessageContext,{children:n})})}),t[0]=n,t[1]=a):a=t[1];var i;return t[2]!==a||t[3]!==r.threadKey?(i=s.jsx("div",{"data-testid":void 0,children:s.jsx(o("MWPReplyContext.react").MWPReplyContextProvider,{children:s.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:r.threadKey,isSubthread:!0,children:a})})}),t[2]=a,t[3]=r.threadKey,t[4]=i):i=t[4],i}l.default=u}),98);
__d("MWComposerPlaceholder.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.height,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r="x1exxf4d x13fuv20 x178xt8z",t[0]=r):r=t[0];var a=n.toString()+"px",i;return t[1]!==a?(i=s.jsx("div",{className:r,style:{height:a}}),t[1]=a,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXSpinner.react","MWXText.react","cr:6285","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),a=e.threadKey,i=n("cr:6285")(a),l;return t[0]!==i?(l=i?null:u.jsxs(r("MWXColumn.react"),{align:"center",id:"armadillo-loading-indicator-banner",paddingVertical:12,spacing:8,children:[u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:20})}),u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXText.react"),{type:"entityHeaderMeta1",children:s._(/*BTDS*/"Loading more messages...")})})]}),t[0]=i,t[1]=l):l=t[1],l}l.default=c}),226);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(11),n=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),a=(e||(e=r("useReStore")))(),l,s;t[0]!==a||t[1]!==n?(l=function(){return o("MWPreloadableQueries").getThreadBannerQuery(a,n)},s=[a,n],t[0]=a,t[1]=n,t[2]=l,t[3]=s):(l=t[2],s=t[3]);var u=o("ReQLSuspense").useFirst(l,s,i.id+":31"),c,d;t[4]!==a||t[5]!==n?(c=function(){return o("MWPreloadableQueries").getProactiveWarningsForThreadQuery(a,n)},d=[a,n],t[4]=a,t[5]=n,t[6]=c,t[7]=d):(c=t[6],d=t[7]);var m=o("ReQLSuspense").useFirst(c,d,i.id+":36"),p;return t[8]!==u||t[9]!==m?(p={banner:u,pwSettings:m},t[8]=u,t[9]=m,t[10]=p):p=t[10],p}l.default=s}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),r=t.banner,a=t.ignoreDismissTime,i=t.isPWDismissTimeSet,l=t.pwSettings,s=t.threadKey,u,c;return n[0]!==r||n[1]!==a||n[2]!==i||n[3]!==l||n[4]!==s?(u=function(){if(!(l==null||r==null)){var t=l.context,n=l.entryPoint,u=l.storyLocation,c=l.suspectId,d=l.tag,m=r.bannerId,p=r.cta1Title,_=r.cta2Title,f=r.heading,g=r.titleSectionOne;if((a||i)&&(e||(e=o("I64"))).equal(m,(e||(e=o("I64"))).of_string("7"))&&c!=null&&t!=null&&u!=null&&n!=null&&d!=null&&f!=null&&_!=null&&p!=null&&g!=null)return{context:t,cta1Title:p,cta2Title:_,description:g,falco_event_data:{data:{entry_point:(e||(e=o("I64"))).to_int32(n),feedback_tags:[d],surface:e.to_int32(u)},impersonatedUser:{id:"0"},otherUser:{id:e.to_string(c)},reportedUser:{id:"0"},thread:{id:e.to_string(s),type:1}},header:f,threadKey:s}}},c=[s,r,l,i,a],n[0]=r,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u,n[6]=c):(u=n[5],c=n[6]),o("Int64Hooks").useMemoInt64(u,c)}l.default=s}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","react-compiler-runtime","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(8),i=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l=r("useMWLSProactiveWarningTables")(),s=l.banner,u=l.pwSettings,c;if(a[0]!==n){var d;c=n!=null&&(e||(e=o("I64"))).equal((d=n.proactiveWarningDismissTime)!=null?d:(e||(e=o("I64"))).zero,(e||(e=o("I64"))).zero),a[0]=n,a[1]=c}else c=a[1];var m=c,p;return a[2]!==s||a[3]!==t||a[4]!==m||a[5]!==u||a[6]!==i?(p={banner:s,ignoreDismissTime:t,isPWDismissTimeSet:m,pwSettings:u,threadKey:i},a[2]=s,a[3]=t,a[4]=m,a[5]=u,a[6]=i,a[7]=p):p=a[7],r("useMWProactiveWarningPayloadMemo")(p)}l.default=s}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","FDSButton.react","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTimeStoredProcedure","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","promiseDone","react","react-compiler-runtime","stylex","useMWProactiveWarningPayload","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useEffect,p={button:{width:"x5sxuk9",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(48),a=t.fallback,l=t.onClose,c=t.thread,_=r("useMWProactiveWarningPayload")(void 0,c),f=(e||(e=r("useReStore")))(),g=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),h,y;if(n[0]!==_?(h=function(){_!=null&&r("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){var e,t;return{data:babelHelpers.extends({},_.falco_event_data.data,{mute_duration:(e=_.falco_event_data.data.mute_duration)==null?void 0:e.toString(),selected_messages_count:(t=_.falco_event_data.data.selected_messages_count)==null?void 0:t.toString()}),impersonated_user:_.falco_event_data.impersonatedUser,other_user:_.falco_event_data.otherUser,reported_user:_.falco_event_data.reportedUser,thread:_.falco_event_data.thread}})},y=[_],n[0]=_,n[1]=h,n[2]=y):(h=n[1],y=n[2]),m(h,y),_==null)return a;var C;n[3]!==_.header?(C=s._(/*BTDS*/"{header value}",[s._param("header value",_.header)]),n[3]=_.header,n[4]=C):C=n[4];var b=C,v;n[5]!==_.description?(v=s._(/*BTDS*/"{message value}",[s._param("message value",_.description)]),n[5]=_.description,n[6]=v):v=n[6];var S=v,R;n[7]===Symbol.for("react.memo_cache_sentinel")?(R=(u||(u=r("stylex"))).props(p.button,!1),n[7]=R):R=n[7];var L;n[8]!==_.falco_event_data?(L=function(){r("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){var e,t;return{data:babelHelpers.extends({},_.falco_event_data.data,{mute_duration:(e=_.falco_event_data.data.mute_duration)==null?void 0:e.toString(),selected_messages_count:(t=_.falco_event_data.data.selected_messages_count)==null?void 0:t.toString()}),impersonated_user:_.falco_event_data.impersonatedUser,other_user:_.falco_event_data.otherUser,reported_user:_.falco_event_data.reportedUser,thread:_.falco_event_data.thread}})},n[8]=_.falco_event_data,n[9]=L):L=n[9];var E;n[10]!==f||n[11]!==l||n[12]!==g?(E=function(){r("promiseDone")(f.runInTransaction(function(e){return r("LSSetProactiveWarningDismissTimeStoredProcedure")(r("LSFactory")(e),{threadKey:g})},"readwrite",void 0,void 0,i.id+":117"),l,l)},n[10]=f,n[11]=l,n[12]=g,n[13]=E):E=n[13];var k;n[14]!==l||n[15]!==_.context||n[16]!==_.cta1Title||n[17]!==L||n[18]!==E?(k=d.jsx("div",babelHelpers.extends({},R,{children:d.jsx(r("IXTProactiveWarningFollowUpActionsCell.react"),{context:_.context,label:_.cta1Title,onClose:l,onPress:L,setPWDismissTime:E})})),n[14]=l,n[15]=_.context,n[16]=_.cta1Title,n[17]=L,n[18]=E,n[19]=k):k=n[19];var I=k,T;n[20]===Symbol.for("react.memo_cache_sentinel")?(T=(u||(u=r("stylex"))).props(p.button,!1),n[20]=T):T=n[20];var D;n[21]!==_.cta2Title?(D=s._(/*BTDS*/"{CTA text value}",[s._param("CTA text value",_.cta2Title)]),n[21]=_.cta2Title,n[22]=D):D=n[22];var x;n[23]!==f||n[24]!==l||n[25]!==_.falco_event_data||n[26]!==_.threadKey?(x=function(){r("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){var e,t;return{data:babelHelpers.extends({},_.falco_event_data.data,{mute_duration:(e=_.falco_event_data.data.mute_duration)==null?void 0:e.toString(),selected_messages_count:(t=_.falco_event_data.data.selected_messages_count)==null?void 0:t.toString()}),impersonated_user:_.falco_event_data.impersonatedUser,other_user:_.falco_event_data.otherUser,reported_user:_.falco_event_data.reportedUser,thread:_.falco_event_data.thread}}),r("promiseDone")(f.runInTransaction(function(e){return r("LSSetProactiveWarningDismissTimeStoredProcedure")(r("LSFactory")(e),{threadKey:_.threadKey})},"readwrite",void 0,void 0,i.id+":156"),l,l)},n[23]=f,n[24]=l,n[25]=_.falco_event_data,n[26]=_.threadKey,n[27]=x):x=n[27];var $;n[28]!==D||n[29]!==x?($=d.jsx("div",babelHelpers.extends({},T,{children:d.jsx(r("FDSButton.react"),{label:D,onPress:x,reduceEmphasis:!1,size:"medium",type:"secondary"})})),n[28]=D,n[29]=x,n[30]=$):$=n[30];var P=$,N;n[31]!==S?(N=d.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:S}),n[31]=S,n[32]=N):N=n[32];var M;n[33]!==b?(M=d.jsx(r("MWXText.react"),{color:"primary",type:"bodyLink4",children:b}),n[33]=b,n[34]=M):M=n[34];var w;n[35]!==N||n[36]!==M?(w=d.jsx(r("MDSTextPairing.react"),{body:N,headline:M,level:4,textAlign:"center"}),n[35]=N,n[36]=M,n[37]=w):w=n[37];var A;n[38]===Symbol.for("react.memo_cache_sentinel")?(A={className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3"},n[38]=A):A=n[38];var F;n[39]!==I||n[40]!==P?(F=d.jsxs("div",babelHelpers.extends({},A,{children:[I,P]})),n[39]=I,n[40]=P,n[41]=F):F=n[41];var O;n[42]!==w||n[43]!==F?(O=d.jsxs(d.Fragment,{children:[w,F]}),n[42]=w,n[43]=F,n[44]=O):O=n[44];var B=O,W;n[45]===Symbol.for("react.memo_cache_sentinel")?(W={className:"xzg4506 xi81zsa x14vqqas xyinxu5 x1hwfens xxbrewl xbmws1g"},n[45]=W):W=n[45];var q;return n[46]!==B?(q=d.jsx("div",babelHelpers.extends({},W,{children:B})),n[46]=B,n[47]=q):q=n[47],q}l.default=_}),226);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.fallback,a=e.onClose,i=e.thread,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=s.jsx(r("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:n,onClose:a,thread:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}l.default=u}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MWXText.react","MWXTextPairing.react","getTopMostRoute","react","react-compiler-runtime","useCometRouterState"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.forceShown_TEST_ONLY,a=n===void 0?!1:n,i=r("useCometRouterState")(),l;if(t[0]!==i){var c,d=i!=null?r("getTopMostRoute")(i):null,m=(c=d==null?void 0:d.tracePolicy)!=null?c:null;l=m!==null?m.startsWith("comet.page.admin")||m.startsWith("comet.group.admin"):!1,t[0]=i,t[1]=l}else l=t[1];var p=l,_;if(t[2]===Symbol.for("react.memo_cache_sentinel")){var f=r("CurrentUser").getName();_=s._(/*BTDS*/"You are messaging from your personal account \"{full name}\"",[s._param("full name",u.jsx(r("MWXText.react"),{type:"meta2",children:f}))]),t[2]=_}else _=t[2];var g=_,h;return t[3]!==a||t[4]!==p?(h=p||a?u.jsx("div",{className:"x57kliw x1exxf4d x13fuv20 x178xt8z xi81zsa xyinxu5 x1hwfens xs9asl8 xbmws1g",children:u.jsx(r("MWXTextPairing.react"),{body:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:g}),level:4,textAlign:"center"})}):null,t[3]=a,t[4]=p,t[5]=h):h=t[5],h}l.default=c}),226);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24589171490761454"}),null);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql",["MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"other_user_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"users_connected"}],t={kind:"Variable",name:"thread_id",variableName:"thread_id"},r=[t],o=[{fields:[{kind:"Literal",name:"client_capabilities",value:{platform:"WEB",supported_components:["ABOVE_COMPOSER_BANNER"]}},{kind:"Literal",name:"exclude_interventions",value:[]},{kind:"Variable",name:"other_user_id",variableName:"other_user_id"},{fields:[{kind:"Variable",name:"users_connected",variableName:"users_connected"}],kind:"ObjectValue",name:"thread_capabilities"},t],kind:"ObjectValue",name:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:r,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:o,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsUIEngineFragment"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:r,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:o,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligibleClientInstructions",kind:"LinkedField",name:"client_instructions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_ts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"intervention_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"evaluation_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"),metadata:{live:{config_id:""}},name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWComposerDisclosureMSipNotices.react",["Actor","CometMsgrSafetyInterventionsUIEngine.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","CometRelay","I64","LsThreadType","MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react","react-compiler-runtime","useStable","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useEffect;function m(t){var a,i,l,s=o("react-compiler-runtime").c(15),m=t.other_user_id,_=t.thread,f=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql"),{other_user_id:m,thread_id:(u||(u=o("I64"))).to_string(_.threadKey),users_connected:!1},{fetchPolicy:"store-and-network"}),g=(a=o("RelayHooks").useFragment(r("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),f==null||(i=f.xfb_msgr_safety_interventions)==null?void 0:i.one_to_one_thread_interventions))==null?void 0:a.evaluation_id,h=o("Actor").useActor(),y=h[0],C;if(s[0]!==_.threadType){var b;C=o("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(r("castToEnum")((u||(u=o("I64"))).to_int32((b=_.threadType)!=null?b:(u||(u=o("I64"))).zero),r("LsThreadType"),0)),s[0]=_.threadType,s[1]=C}else C=s[1];var v=C,S=r("useStable")(p),R,L;s[2]!==y||s[3]!==S||s[4]!==v||s[5]!==g||s[6]!==m||s[7]!==_.threadKey?(R=function(){return o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionTriggered(S,g,(u||(u=o("I64"))).to_string(_.threadKey),v,y,m,"thread_open")},L=[y,S,v,g,m,_.threadKey],s[2]=y,s[3]=S,s[4]=v,s[5]=g,s[6]=m,s[7]=_.threadKey,s[8]=R,s[9]=L):(R=s[8],L=s[9]),d(R,L);var E=f==null||(l=f.xfb_msgr_safety_interventions)==null?void 0:l.one_to_one_thread_interventions,k;return s[10]!==S||s[11]!==m||s[12]!==E||s[13]!==_?(k=c.jsx(r("CometMsgrSafetyInterventionsUIEngine.react"),{client_session_id:S,fragment$key:E,other_user_id:m,thread:_}),s[10]=S,s[11]=m,s[12]=E,s[13]=_,s[14]=k):k=s[14],k}function p(){return r("uuidv4")()}l.default=m}),98);
__d("MWMessageRequestComposerBanner.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageRequestSharedTexts.react","MWPActor.react","MWPThreadIsPage.react","MWXComposerBanner.react","MWXLink.react","MessageRequestsLog","MessagingThreadSubtype","MessengerMSplitFlag","MessengerWebUXLogger","MetaConfig","QPLUserFlow","XCometSettingsControllerRouteBuilder","nux:912","qpl","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useCallback,f=p.useMemo,g=(e=n("nux:912"))==null?void 0:e("CREATOR_MESSAGING_CHAT_WITH_PAGES_YOU_FOLLOW"),h="www.facebook.com";function y(e){var t=o("react-compiler-runtime").c(81),n=e.isGroup,a=e.isGXAC,i=e.isIgContact,l=e.isMSplitContact,u=e.name,p=e.onAccept,_=e.onDeleteConversation,f=e.onLeaveGroup,y=e.otherUserContact,C=e.secondaryName,b=e.thread,v=r("useMWXConfirmationDialog")(),S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S=r("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWMessageRequestComposerBanner.react"),t[0]=S):S=t[0];var R=r("useMWXLazyDialog")(S),L=R[0],E;t[1]!==b.cannotUnsendReason||t[2]!==b.threadType?(E=(c||(c=o("I64"))).equal(b.threadType,(d||(d=o("LSIntEnum"))).ofNumber(1))&&b.cannotUnsendReason!=null&&(c||(c=o("I64"))).equal(b.cannotUnsendReason,(d||(d=o("LSIntEnum"))).ofNumber(r("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD)),t[1]=b.cannotUnsendReason,t[2]=b.threadType,t[3]=E):E=t[3];var k=E,I;t[4]===Symbol.for("react.memo_cache_sentinel")?(I=o("MWPActor.react").isAPPlus(),t[4]=I):I=t[4];var T=I,D=o("MWPThreadIsPage.react").useIsPage(),x;t[5]!==D||t[6]!==b.threadSubtype?(x=D&&b.threadSubtype!=null&&(c||(c=o("I64"))).equal(b.threadSubtype,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").PAGE_TO_USER)),t[5]=D,t[6]=b.threadSubtype,t[7]=x):x=t[7];var $=x,P;t[8]!==y?(P=y!=null?(c||(c=o("I64"))).to_string(y.id):void 0,t[8]=y,t[9]=P):P=t[9];var N=P,M,w;t[10]!==_||t[11]!==b?(w={isMessageRequest:!0,onConfirm:_,thread:b},t[10]=_,t[11]=b,t[12]=w):w=t[12],M=w;var A=M,F;if(t[13]===Symbol.for("react.memo_cache_sentinel")){var O;F=(O=r("XCometSettingsControllerRouteBuilder").buildUri({tab:"how_people_find_and_contact_you"}).setDomain(h))==null||(O=O.setProtocol("https"))==null?void 0:O.toString(),t[13]=F}else F=t[13];var B=F,W;t[14]!==k||t[15]!==L||t[16]!==N||t[17]!==b?(W=function(){L({loggingData:{entryPoint:4,requestId:void 0,source:k?5:1,sourceOwner:0},targetFBID:N!=null?N:(c||(c=o("I64"))).to_string(b.threadKey),thread:b})},t[14]=k,t[15]=L,t[16]=N,t[17]=b,t[18]=W):W=t[18];var q=W,U=p!=null,V;t[19]!==f||t[20]!==v?(V=function(){v({body:s._(/*BTDS*/"You will stop receiving messages from this conversation and people will see that you left."),title:s._(/*BTDS*/"Leave conversation?")},f)},t[19]=f,t[20]=v,t[21]=V):V=t[21];var H=V,G;t[22]===Symbol.for("react.memo_cache_sentinel")?(G=r("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWMessageRequestComposerBanner.react"),t[22]=G):G=t[22];var z=r("useMWXLazyDialog")(G),j=z[0],K=r("MessengerWebUXLogger").useInteractionLogger(),Q,X;t[23]===Symbol.for("react.memo_cache_sentinel")?(X=s._(/*BTDS*/"Block"),t[23]=X):X=t[23];var Y;t[24]!==q||t[25]!==N||t[26]!==b?(Y={label:X,onPress:function(){o("MessageRequestsLog").logActionTapped(b,2,N),q()}},t[24]=q,t[25]=N,t[26]=b,t[27]=Y):Y=t[27],Q=Y;var J=Q,Z,ee;t[28]===Symbol.for("react.memo_cache_sentinel")?(ee=s._(/*BTDS*/"Leave"),t[28]=ee):ee=t[28];var te;t[29]!==K||t[30]!==H||t[31]!==b?(te={label:ee,onPress:function(){o("MessageRequestsLog").logActionTapped(b,10),K==null||K({eventName:"leave_group",threadKey:b.threadKey,threadType:b.threadType}),H()}},t[29]=K,t[30]=H,t[31]=b,t[32]=te):te=t[32],Z=te;var ne=Z,re=n?ne:J,oe,ae;if(n){var ie;t[33]!==a?(ie=a?s._(/*BTDS*/"This group has people from Facebook and Instagram"):void 0,t[33]=a,t[34]=ie):ie=t[34],oe=ie;var le;if(t[35]!==a?(le=a?s._(/*BTDS*/"If you reply, you and other members can see information like when you've read messages."):r("MessengerMSplitFlag").is_msplit_account?s._(/*BTDS*/"If you reply, everyone in this group will be able to send messages and make group calls."):s._(/*BTDS*/"If you reply, you and other members will be able to make group calls and see information like when you've read messages."),t[35]=a,t[36]=le):le=t[36],ae=le,U){var se;t[37]===Symbol.for("react.memo_cache_sentinel")?(se=s._(/*BTDS*/"If you accept, you and other members will be able to make group calls and may see info like your Active Status and when you\u2019ve read messages. {=m2}",[s._implicitParam("=m2",m.jsx(r("MWXLink.react"),{href:B,style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Choose who can message you")}))]),t[37]=se):se=t[37],ae=se}}else{var ue;if(t[38]!==i?(ue=i?s._(/*BTDS*/"You're messaging an Instagram account"):void 0,t[38]=i,t[39]=ue):ue=t[39],oe=ue,i)if(u!=null&&C!=null){var ce;t[40]!==u||t[41]!==C?(ce=s._(/*BTDS*/"If you reply {XACDisplayName} ({XACSecondaryName}) will also be able to call you from Instagram and see info like your Active Status and when you've seen messages.",[s._param("XACDisplayName",u),s._param("XACSecondaryName",C)]),t[40]=u,t[41]=C,t[42]=ce):ce=t[42],ae=ce}else if(u==null&&C!=null){var de;t[43]!==C?(de=s._(/*BTDS*/"If you reply, {XACDisplayName} will also be able to call you from Instagram and see info like your Active Status and when you've seen messages.",[s._param("XACDisplayName",C)]),t[43]=C,t[44]=de):de=t[44],ae=de}else{var me;t[45]===Symbol.for("react.memo_cache_sentinel")?(me=s._(/*BTDS*/"If you reply, Instagram User will also be able to call you from Instagram and see info like your Active Status and when you've seen messages."),t[45]=me):me=t[45],ae=me}else if($){var pe;t[46]!==u?(pe=u!=null?s._(/*BTDS*/"If you reply, {FB Page Name} will be able to call you and may see info like your Active Status and when you've read messages. {=m4}",[s._param("FB Page Name",u),s._implicitParam("=m4",m.jsx(r("MWXLink.react"),{href:B,onClick:function(){r("QPLUserFlow").start(r("qpl")._(421071534,"2982"))},target:"_blank",children:s._(/*BTDS*/"Choose who can message you")}))]):s._(/*BTDS*/"If you reply, Facebook page will be able to call you and may see info like your Active Status and when you've read messages. {=m2}",[s._implicitParam("=m2",m.jsx(r("MWXLink.react"),{href:B,target:"_blank",children:s._(/*BTDS*/"Choose who can message you")}))]),t[46]=u,t[47]=pe):pe=t[47],ae=pe}else{var _e;t[48]!==l||t[49]!==u?(_e=u!=null?s._(/*BTDS*/"{Composer info message}",[s._param("Composer info message",r("MessengerMSplitFlag").is_msplit_account||l?o("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(u):o("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(u))]):s._(/*BTDS*/"If you reply, Facebook User will also be able to call you and see info like your Active Status and when you've seen messages."),t[48]=l,t[49]=u,t[50]=_e):_e=t[50],ae=_e}if(U){var fe;t[51]!==u?(fe=s._(/*BTDS*/"If you accept, {FB Page Name} will also be able to call you and may see info like your Active Status and when you\u2019ve read messages. {=m4}",[s._param("FB Page Name",u),s._implicitParam("=m4",m.jsx(r("MWXLink.react"),{href:B,style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Choose who can message you")}))]),t[51]=u,t[52]=fe):fe=t[52],ae=fe}}var ge,he;t[53]!==re.label||t[54]!==re.onPress?(he={label:re.label,onPress:re.onPress,size:32,type:"secondary"},t[53]=re.label,t[54]=re.onPress,t[55]=he):he=t[55],ge=he;var ye=ge,Ce,be;t[56]===Symbol.for("react.memo_cache_sentinel")?(be=s._(/*BTDS*/"Delete"),t[56]=be):be=t[56];var ve;t[57]!==A||t[58]!==j||t[59]!==N||t[60]!==b?(ve={label:be,onPress:function(){o("MessageRequestsLog").logActionTapped(b,8,N),j(A)},size:32,type:"secondary"},t[57]=A,t[58]=j,t[59]=N,t[60]=b,t[61]=ve):ve=t[61],Ce=ve;var Se=Ce,Re,Le;t[62]===Symbol.for("react.memo_cache_sentinel")?(Le=s._(/*BTDS*/"Accept"),t[62]=Le):Le=t[62];var Ee;t[63]!==p||t[64]!==N||t[65]!==b?(Ee={label:Le,onPress:function(){o("MessageRequestsLog").logActionTapped(b,1,N),p==null||p()},size:32,type:"secondary"},t[63]=p,t[64]=N,t[65]=b,t[66]=Ee):Ee=t[66],Re=Ee;var ke=Re,Ie;t[67]!==$||t[68]!==b?(Ie=!T&&$&&g&&r("MetaConfig")._("60")?m.jsx(g,{thread:b}):null,t[67]=$,t[68]=b,t[69]=Ie):Ie=t[69];var Te=ae,De=U?ke:null,xe;t[70]!==ye||t[71]!==Se||t[72]!==De?(xe=[ye,Se,De].filter(Boolean),t[70]=ye,t[71]=Se,t[72]=De,t[73]=xe):xe=t[73];var $e;t[74]!==oe||t[75]!==ae||t[76]!==xe?($e=m.jsx(r("MWXComposerBanner.react"),{bodyText:Te,buttons:xe,headerText:oe,testid:void 0}),t[74]=oe,t[75]=ae,t[76]=xe,t[77]=$e):$e=t[77];var Pe;return t[78]!==Ie||t[79]!==$e?(Pe=m.jsxs(m.Fragment,{children:[Ie,$e]}),t[78]=Ie,t[79]=$e,t[80]=Pe):Pe=t[80],Pe}l.default=y}),226);
__d("MWReQLMessageRequestComposerBanner.react",["fbt","I64","LSContactTypeExact","LSIntEnum","MWContactDetails","MWLSContactTypeExactUtils","MWMessageRequestComposerBanner.react","MessageRequestsLog","isMWXacGroupThread","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useEffect,_=m.useRef;function f(e){var t=o("react-compiler-runtime").c(27),n=e.isGroup,a=e.onAccept,i=e.onDeleteConversation,l=e.onLeaveGroup,m=e.otherUserContact,f=e.thread,g=_(!1),h;t[0]!==f?(h=r("isMWXacGroupThread")(f),t[0]=f,t[1]=h):h=t[1];var y=h,C;if(t[2]!==m){var b;C=(b=o("MWContactDetails").getName(m))!=null?b:s._(/*BTDS*/"Facebook user"),t[2]=m,t[3]=C}else C=t[3];var v=C,S,R;t[4]!==m?(S=o("MWContactDetails").getSecondaryName(m),R=r("isStringNullOrEmpty")(S)?void 0:S,t[4]=m,t[5]=S,t[6]=R):(S=t[5],R=t[6]),S=R;var L;t[7]!==m?(L=m!=null?o("MWLSContactTypeExactUtils").isIgContact(m.contactTypeExact):!1,t[7]=m,t[8]=L):L=t[8];var E=L,k;t[9]!==m?(k=(m==null?void 0:m.contactTypeExact)!=null&&(u||(u=o("I64"))).equal(m.contactTypeExact,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)),t[9]=m,t[10]=k):k=t[10];var I=k,T,D;t[11]!==m||t[12]!==f?(T=function(){g.current!==!0&&(g.current=!0,m==null?o("MessageRequestsLog").logMessageRequestInfoShown(f):o("MessageRequestsLog").logMessageRequestInfoShown(f,(u||(u=o("I64"))).to_string(m.id)))},D=[f,m],t[11]=m,t[12]=f,t[13]=T,t[14]=D):(T=t[13],D=t[14]),p(T,D);var x;return t[15]!==y||t[16]!==n||t[17]!==E||t[18]!==I||t[19]!==v||t[20]!==a||t[21]!==i||t[22]!==l||t[23]!==m||t[24]!==S||t[25]!==f?(x=d.jsx(r("MWMessageRequestComposerBanner.react"),{isGXAC:y,isGroup:n,isIgContact:E,isMSplitContact:I,name:v,onAccept:a,onDeleteConversation:i,onLeaveGroup:l,otherUserContact:m,secondaryName:S,thread:f}),t[15]=y,t[16]=n,t[17]=E,t[18]=I,t[19]=v,t[20]=a,t[21]=i,t[22]=l,t[23]=m,t[24]=S,t[25]=f,t[26]=x):x=t[26],x}l.default=f}),226);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(5),a=(s||(s=r("useReStore")))(),l=o("MWChatStateV2.react").useDispatch(),u,c;return n[0]!==a||n[1]!==l||n[2]!==t?(u=function(){o("MessageRequestsLog").logActionConfirmed(t,8),r("promiseDone")(a.runInTransaction(function(n){return r("LSOptimisticRemoveThreadStoredProcedure")(r("LSFactory")(n),{removeType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRemoveType").DELETE_THREAD),threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":42"),function(){return l(o("MWChatStateActions").closeTabByThreadKey(Date.now(),t.threadKey))})},c=[a,t,l],n[0]=a,n[1]=l,n[2]=t,n[3]=u,n[4]=c):(u=n[3],c=n[4]),o("Int64Hooks").useCallbackInt64(u,c)}l.default=u}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(5),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),s,u;return n[0]!==l||n[1]!==a||n[2]!==t?(s=function(){r("promiseDone")(a.runInTransaction(function(e){return r("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(r("LSFactory")(e),{contactIds:r("LSVec").ofArray([l]),threadKey:t})},"readwrite",void 0,void 0,i.id+":28"))},u=[l,a,t],n[0]=l,n[1]=a,n[2]=t,n[3]=s,n[4]=u):(s=n[3],u=n[4]),o("Int64Hooks").useCallbackInt64(s,u)}l.default=s}),98);
__d("MWV2ComposerDisclosure.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWChatComposerVoiceIndicator.react","MWComposerDisclosureMSipNotices.react","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MWXComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","react","react-compiler-runtime","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d.useMemo,_=n("cr:3912")==null?function(e,t){return!1}:n("cr:3912").isOneOnOneMessageRequestV2,f=n("cr:3912")==null?function(e){return!1}:n("cr:3912").isGroupMessageRequest,g=r("gkx")("7387"),h=r("gkx")("11801");function y(t){var n=o("react-compiler-runtime").c(49),a=t.forceVoiceIndicatorShown_TEST_ONLY,l=t.thread,d=(e||(e=r("useReStore")))(),p=r("useMessageRequestLeaveGroup")(l.threadKey),y=l.threadType,C=r("useMessageRequestDeleteConversation")(l),b;n[0]!==y?(b=o("LSMessagingThreadTypeUtil").isArmadilloSecure(y),n[0]=y,n[1]=b):b=n[1];var v=b,S;n[2]!==v||n[3]!==l?(S=!v&&o("LSThreadBitOffset").has(21,l),n[2]=v,n[3]=l,n[4]=S):S=n[4];var R=S,L=o("MWPActor.react").useActor(),E,k;n[5]!==L||n[6]!==d.tables.contacts||n[7]!==d.tables.participants||n[8]!==l.threadKey||n[9]!==y?(E=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(y)||(u||(u=o("I64"))).equal(y,(c||(c=o("LSIntEnum"))).ofNumber(5))?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(d.tables.participants).getKeyRange(l.threadKey),o("ReQL").fromTableAscending(d.tables.contacts)).filter(function(e){var t=e[1];return!(u||(u=o("I64"))).equal(t.id,L)}):o("ReQL").empty()},k=[l.threadKey,y,d.tables.participants,d.tables.contacts,L],n[5]=L,n[6]=d.tables.contacts,n[7]=d.tables.participants,n[8]=l.threadKey,n[9]=y,n[10]=E,n[11]=k):(E=n[10],k=n[11]);var I=o("ReQLSuspense").useFirst(E,k,i.id+":79"),T;e:{if(v){var D;n[12]!==I||n[13]!==l?(D=_(l,I)||g&&f(l),n[12]=I,n[13]=l,n[14]=D):D=n[14],T=D;break e}T=!1}var x=T,$;n[15]!==y?($=o("LSMessagingThreadTypeUtil").isGroup(y),n[15]=y,n[16]=$):$=n[16];var P=$,N;n[17]!==d||n[18]!==I||n[19]!==l?(N=function(){I!=null&&o("MAWSecureComposerUtils").onDeleteThread(d,l,I[1].id)},n[17]=d,n[18]=I,n[19]=l,n[20]=N):N=n[20];var M=N,w=r("MessengerWebUXLogger").useInteractionLogger(),A=r("gkx")("11065"),F;n[21]!==l.threadType?(F=(u||(u=o("I64"))).equal(l.threadType,(c||(c=o("LSIntEnum"))).ofNumber(5)),n[21]=l.threadType,n[22]=F):F=n[22];var O=F,B=!h&&A&&O,W;n[23]!==I?(W=I==null?!1:(c||(c=o("LSIntEnum"))).equal(I[1].contactReachabilityStatusType,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER),n[23]=I,n[24]=W):W=n[24];var q=W,U;n[25]!==a?(U=m.jsx(r("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:a}),n[25]=a,n[26]=U):U=n[26];var V;n[27]!==B||n[28]!==I||n[29]!==l?(V=B&&I?m.jsx(r("MWComposerDisclosureMSipNotices.react"),{other_user_id:(u||(u=o("I64"))).to_string(I==null?void 0:I[1].id),thread:l}):null,n[27]=B,n[28]=I,n[29]=l,n[30]=V):V=n[30];var H;n[31]!==P||n[32]!==v||n[33]!==p||n[34]!==w||n[35]!==C||n[36]!==M||n[37]!==(I==null?void 0:I[1])||n[38]!==R||n[39]!==x||n[40]!==l?(H=x||R?m.jsx(r("MWReQLMessageRequestComposerBanner.react"),{isGroup:P,onDeleteConversation:v?M:C,onLeaveGroup:function(){if(!v&&P)return o("MessageRequestsLog").logActionConfirmed(l,10),w==null||w({eventName:"leave_group",threadKey:l.threadKey,threadType:l.threadType}),p()},otherUserContact:I==null?void 0:I[1],thread:l}):null,n[31]=P,n[32]=v,n[33]=p,n[34]=w,n[35]=C,n[36]=M,n[37]=I==null?void 0:I[1],n[38]=R,n[39]=x,n[40]=l,n[41]=H):H=n[41];var G;n[42]!==q?(G=q?m.jsx(r("MWXComposerBanner.react"),{bodyText:s._(/*BTDS*/"You can send one message with this request. Once they accept, you can send more messages."),variant:"banner"}):null,n[42]=q,n[43]=G):G=n[43];var z;return n[44]!==U||n[45]!==V||n[46]!==H||n[47]!==G?(z=m.jsxs(m.Fragment,{children:[U,V,H,G]}),n[44]=U,n[45]=V,n[46]=H,n[47]=G,n[48]=z):z=n[48],z}function C(e){var t=o("react-compiler-runtime").c(3),n=e.forceVoiceIndicatorShown_TEST_ONLY,a=e.thread,i=n!=null?n:!1,l;return t[0]!==i||t[1]!==a?(l=m.jsx(r("CometErrorBoundary.react"),{fallback:b,children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposerDisclosure",children:m.jsx(y,{forceVoiceIndicatorShown_TEST_ONLY:i,thread:a})})}),t[0]=i,t[1]=a,t[2]=l):l=t[2],l}function b(){return null}l.default=C}),226);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno"},e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s._(/*BTDS*/"Something isn't working."),e[1]=n):n=e[1];var a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("MDSTextPairing.react"),{headline:n,headlineColor:"secondary",level:4,meta:u.jsx(r("MWXText.react"),{numberOfLines:2,type:"meta3",children:s._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})),e[2]=a):a=e[2],a}l.default=c}),226);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function d(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"You can no longer chat with people on Instagram from a Facebook profile. Start a new chat on Instagram to continue the conversation. {=Learn more}",[s._param("=Learn more",u.jsx(r("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:u.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s._(/*BTDS*/"Learn more")})}))]),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1exxf4d x13fuv20 x178xt8z xqy66fx x1xnnf8n xx6bls6 x106a9eq"},e[1]=a):a=e[1];var i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx("div",babelHelpers.extends({},a,{children:u.jsx(r("BaseTheme.react"),{config:c,children:u.jsx(r("MWXTextPairing.react"),{body:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:n}),level:4,textAlign:"center"})})})),e[2]=i):i=e[2],i}l.default=d}),226);
__d("RecoverableViolation.react",["FBLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(4),n=e.errorMessage,a=e.errorObject,i=e.projectName,l=c(!1),s;return t[0]!==n||t[1]!==a||t[2]!==i?(s=function(){if(!l.current){var e=r("FBLogger")(i);(a==null?void 0:a.error)!=null?e.catching(a.error):e.blameToPreviousFrame(),e.mustfix(n),l.current=!0}},t[0]=n,t[1]=a,t[2]=i,t[3]=s):s=t[3],u(s,void 0),null}l.default=d}),98);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeededStoredProcedure","MWThreadKey.react","promiseDone","react-compiler-runtime","useMWLSProactiveWarningTables","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var l=o("react-compiler-runtime").c(17),u=(s||(s=r("useReStore")))(),c=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),d=r("useMWLSProactiveWarningTables")(),m=d.banner,p=d.pwSettings,_;l[0]!==m||l[1]!==p?(_=m!=null&&p!=null?(e||(e=o("I64"))).equal(m.bannerId,(e||(e=o("I64"))).of_string("7")):!1,l[0]=m,l[1]=p,l[2]=_):_=l[2];var f=_,g;if(l[3]!==f||l[4]!==t||l[5]!==a||l[6]!==n){var h;g=t&&!f?a?!0:n!=null?(e||(e=o("I64"))).equal((h=n.proactiveWarningDismissTime)!=null?h:(e||(e=o("I64"))).zero,(e||(e=o("I64"))).zero):!1:!1,l[3]=f,l[4]=t,l[5]=a,l[6]=n,l[7]=g}else g=l[7];var y=g,C=n!=null&&y,b;l[8]!==C||l[9]!==u||l[10]!==c?(b=function(){C&&r("promiseDone")(u.runInTransaction(function(e){return r("LSFetchProactiveWarningsIfNeededStoredProcedure")(r("LSFactory")(e),{threadKey:c})},"readwrite",void 0,void 0,i.id+":57"))},l[8]=C,l[9]=u,l[10]=c,l[11]=b):b=l[11];var v;l[12]!==y||l[13]!==C||l[14]!==u||l[15]!==c?(v=[c,y,C,u],l[12]=y,l[13]=C,l[14]=u,l[15]=c,l[16]=v):v=l[16],o("Int64Hooks").useEffectInt64(b,v)}l.default=u}),98);
__d("useMWMarketplaceThreadOtherUser",["I64","LSIntEnum","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(6),a=t.thread,l=(u||(u=r("useReStore")))(),c=o("MWPActor.react").useActor(),m,p;return n[0]!==c||n[1]!==l||n[2]!==a.threadKey||n[3]!==a.threadSubtype?(m=function(){return a.threadSubtype!=null&&(e||(e=o("I64"))).equal(a.threadSubtype,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").MARKETPLACE_THREAD))?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(a.threadKey),o("ReQL").fromTableAscending(l.tables.contacts)).filter(function(t){var n=t[1];return!(e||(e=o("I64"))).equal(n.id,c)}).map(d):o("ReQL").empty()},p=[a.threadKey,l,c,a.threadSubtype],n[0]=c,n[1]=l,n[2]=a.threadKey,n[3]=a.threadSubtype,n[4]=m,n[5]=p):(m=n[4],p=n[5]),o("ReQLSuspense").useFirst(m,p,i.id+":31")}function d(e){var t=e[1];return t}l.default=c}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext);c(function(){if(e)return t.current.enabled=!1,t.current.handler=null,function(){t.current.enabled=!0,t.current.handler=null}},[t,e])}l.default=d}),98);
__d("MWPComposerGating.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWComposerPlaceholder.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPArmadilloLoadingStateMessage.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.react","MWXACSunsettedComposer.react","MessagingCommunityChatsPauseStatus","MessagingCommunityType","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","cr:19626","gkx","justknobx","lazyLoadComponent","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","mwIsThreadDisabled","nullthrows","react","react-compiler-runtime","useCommunityFolder","useIsChatPreviewsEnabled","useMWLSSprocFetchProactiveWarningIfNeeded","useMWMarketplaceThreadOtherUser","useMWPComposerFileDropzoneRegisterHandler","useMWProactiveWarningPayload","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.memo,_=m.useMemo,f=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),g=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),h=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),y=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),C=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),b=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMSoftActionPausedCommunityComposer.react").__setRef("MWPComposerGating.react")),v=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),S=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMChatPreviewComposer.react").__setRef("MWPComposerGating.react")),R=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMChatLoadingComposer.react").__setRef("MWPComposerGating.react")),L=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),E=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),k=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),I=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),T=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react")),D=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDisableMarketplaceDMAThreadComposer.react").__setRef("MWPComposerGating.react")),x=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDisableMarketplaceClosedThreadComposer.react").__setRef("MWPComposerGating.react")),$=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMDeprecatedChatComposer.react").__setRef("MWPComposerGating.react"));function P(e){var t,n,a,i=o("react-compiler-runtime").c(101),l=e.renderComposer,s=e.thread,m=(u||(u=o("I64"))).ge(s.authorityLevel,u.of_int32(r("LSAuthorityLevel").AUTHORITATIVE)),p=s.cannotReplyReason==="viewer_not_subscribed",_=s.cannotReplyReason==="broadcast_chat_read_only",P=s.threadStatus!=null&&((u||(u=o("I64"))).equal(s.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED))||(u||(u=o("I64"))).equal(s.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),N=r("mwCMIsAnyCMThread")(s.threadType);s.threadStatus!=null&&(u||(u=o("I64"))).equal(s.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED));var M=o("LSThreadBitOffset").has(192,s),w;i[0]!==s?(w={thread:s},i[0]=s,i[1]=w):w=i[1];var A=r("useMWMarketplaceThreadOtherUser")(w),F=s.memberCount!=null?(u||(u=o("I64"))).to_int32(s.memberCount):0,O=o("MWCMThreadTypes.react").isMarketplaceThread(s.threadSubtype),B=O&&!o("LSThreadBitOffset").has(213,s)&&F===2&&(A==null||o("LSContactBitOffset").has(88,A)),W=O&&F===2&&o("LSThreadBitOffset").has(271,s)&&!r("justknobx")._("4558"),q=O&&F===2&&o("LSThreadBitOffset").has(272,s)&&!r("justknobx")._("4558"),U=r("useCommunityFolder")(s),V=r("mwCMisStandAloneCommunity")(U==null?void 0:U.communityType),H=o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(s,U==null?void 0:U.communityType),G=u.to_int32((t=U==null?void 0:U.sendsBlockedUntil)!=null?t:(u||(u=o("I64"))).zero)*1e3,z=G<0||G>o("ServerTime").getMillis(),j=r("mwIsThreadDisabled")(s.takedownState,U==null?void 0:U.takedownState),K=(U==null?void 0:U.fbGroupUserParticipationApprovalStatus)!=null&&(u||(u=o("I64"))).equal(U.fbGroupUserParticipationApprovalStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),Q=(U==null?void 0:U.fbGroupUserParticipationApprovalStatus)!=null&&(u||(u=o("I64"))).equal(U.fbGroupUserParticipationApprovalStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING)),X=(U==null?void 0:U.pauseStatus)!=null&&(u||(u=o("I64"))).equal(U.pauseStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&r("gkx")("4216");if(!m&&N){var Y;i[2]===Symbol.for("react.memo_cache_sentinel")?(Y=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[2]=Y):Y=i[2];var J;return i[3]===Symbol.for("react.memo_cache_sentinel")?(J=d.jsx(r("CometPlaceholder.react"),{fallback:Y,name:"MWPComposerGating.LoadingComposer",children:d.jsx(R,{})}),i[3]=J):J=i[3],J}if(U!=null&&(u||(u=o("I64"))).equal((n=U.pauseStatus)!=null?n:(u||(u=o("I64"))).zero,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityChatsPauseStatus").DEPRECATED))&&(u||(u=o("I64"))).equal((a=s.threadStatus)!=null?a:(u||(u=o("I64"))).zero,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED))&&s.cannotReplyReason==="paused_for_cc_deprecation"&&s.metadata!=null){var Z;i[4]!==s.metadata?(Z=JSON.parse(s.metadata),i[4]=s.metadata,i[5]=Z):Z=i[5];var ee=Z,te;i[6]!==U.folderId?(te=(u||(u=o("I64"))).to_string(U.folderId),i[6]=U.folderId,i[7]=te):te=i[7];var ne=te;if(ee.cc_deprecation_composer_block!=null){var re;i[8]===Symbol.for("react.memo_cache_sentinel")?(re=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[8]=re):re=i[8];var oe;return i[9]!==ne||i[10]!==ee.cc_deprecation_composer_block?(oe=d.jsx(r("CometPlaceholder.react"),{fallback:re,name:"useMWRelayGroupComposerConfiguration.CMDeprecatedChatComposer",children:d.jsx($,{communityID:ne,composerBlock:ee.cc_deprecation_composer_block})}),i[9]=ne,i[10]=ee.cc_deprecation_composer_block,i[11]=oe):oe=i[11],oe}}if(j){var ae;i[12]===Symbol.for("react.memo_cache_sentinel")?(ae=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[12]=ae):ae=i[12];var ie;return i[13]!==s.threadType?(ie=d.jsx(r("CometPlaceholder.react"),{fallback:ae,name:"MWPComposerGating.TakenDownThread",children:d.jsx(k,{threadType:s.threadType})}),i[13]=s.threadType,i[14]=ie):ie=i[14],ie}else if(X&&!V){var le;i[15]===Symbol.for("react.memo_cache_sentinel")?(le=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[15]=le):le=i[15];var se=U==null?void 0:U.folderId,ue=U==null?void 0:U.name,ce=U==null?void 0:U.fbGroupId,de;return i[16]!==se||i[17]!==ue||i[18]!==ce||i[19]!==s.threadKey?(de=d.jsx(r("CometPlaceholder.react"),{fallback:le,name:"MWPComposerGating.CMPausedCommunity",children:d.jsx(b,{communityId:se,communityName:ue,groupId:ce,threadKey:s.threadKey})}),i[16]=se,i[17]=ue,i[18]=ce,i[19]=s.threadKey,i[20]=de):de=i[20],de}else if(P){var me;i[21]===Symbol.for("react.memo_cache_sentinel")?(me=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[21]=me):me=i[21];var pe;i[22]!==s?(pe=o("LSThreadBitOffset").has(154,s),i[22]=s,i[23]=pe):pe=i[23];var _e;i[24]!==s.threadType?(_e=o("LSMessagingThreadTypeUtil").isSocialChannel(s.threadType),i[24]=s.threadType,i[25]=_e):_e=i[25];var fe;return i[26]!==pe||i[27]!==_e||i[28]!==s.threadKey?(fe=d.jsx(r("CometPlaceholder.react"),{fallback:me,name:"MWPComposerGating.PausedChat",children:d.jsx(v,{canPauseChat:pe,shouldUseChannelTerminology:_e,threadKey:s.threadKey})}),i[26]=pe,i[27]=_e,i[28]=s.threadKey,i[29]=fe):fe=i[29],fe}else if(H){var ge,he;i[30]===Symbol.for("react.memo_cache_sentinel")?(he=d.jsx(r("MWComposerPlaceholder.react"),{height:64}),i[30]=he):he=i[30];var ye;if(i[31]!==(U==null?void 0:U.communityType)){var Ce;ye=(Ce=U==null?void 0:U.communityType)!=null?Ce:(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityType").FB_COMMUNITY),i[31]=U==null?void 0:U.communityType,i[32]=ye}else ye=i[32];var be=(ge=U==null?void 0:U.isMember)!=null?ge:!1,ve;return i[33]!==ye||i[34]!==be||i[35]!==s?(ve=d.jsx(r("CometPlaceholder.react"),{fallback:he,name:"MWPComposerGating.CMChatPreview",children:d.jsx(S,{communityType:ye,isCommunityMember:be,thread:s})}),i[33]=ye,i[34]=be,i[35]=s,i[36]=ve):ve=i[36],ve}else if(o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(s.threadType)){var Se;i[37]!==s.threadKey?(Se=d.jsx(o("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,threadKey:s.threadKey}),i[37]=s.threadKey,i[38]=Se):Se=i[38];var Re;i[39]!==s?(Re=d.jsx(y,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,thread:s}),i[39]=s,i[40]=Re):Re=i[40];var Le;return i[41]!==Se||i[42]!==Re?(Le=d.jsx(r("CometPlaceholder.react"),{fallback:Se,name:"MWPComposerGating.UnjoinedDiscoverablePublicBroadcastChannel",children:Re}),i[41]=Se,i[42]=Re,i[43]=Le):Le=i[43],Le}else if(o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(s.threadType)){var Ee;i[44]!==s.threadKey?(Ee=d.jsx(o("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,threadKey:s.threadKey}),i[44]=s.threadKey,i[45]=Ee):Ee=i[45];var ke;i[46]!==s?(ke=d.jsx(y,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,thread:s}),i[46]=s,i[47]=ke):ke=i[47];var Ie;return i[48]!==Ee||i[49]!==ke?(Ie=d.jsx(r("CometPlaceholder.react"),{fallback:Ee,name:"MWPComposerGating.SocialChannelUnjoined",children:ke}),i[48]=Ee,i[49]=ke,i[50]=Ie):Ie=i[50],Ie}else if(M){var Te;i[51]===Symbol.for("react.memo_cache_sentinel")?(Te=d.jsx(r("MWComposerPlaceholder.react"),{height:99}),i[51]=Te):Te=i[51];var De;return i[52]===Symbol.for("react.memo_cache_sentinel")?(De=d.jsx(r("CometPlaceholder.react"),{fallback:Te,name:"MWPComposerGating.XACSunset",children:d.jsx(r("MWXACSunsettedComposer.react"),{})}),i[52]=De):De=i[52],De}else if(p){var xe;i[53]===Symbol.for("react.memo_cache_sentinel")?(xe=d.jsx(r("MWComposerPlaceholder.react"),{height:99}),i[53]=xe):xe=i[53];var $e=U==null?void 0:U.fbGroupId,Pe;return i[54]!==$e||i[55]!==s?(Pe=d.jsx(r("CometPlaceholder.react"),{fallback:xe,name:"MWPComposerGating.LeftGroup",children:d.jsx(f,{groupId:$e,thread:s})}),i[54]=$e,i[55]=s,i[56]=Pe):Pe=i[56],Pe}else if(o("MWCMThreadTypes.react").isBroadcastThread(s.threadType)&&_){var Ne;i[57]===Symbol.for("react.memo_cache_sentinel")?(Ne=d.jsx(r("MWComposerPlaceholder.react"),{height:55}),i[57]=Ne):Ne=i[57];var Me;i[58]!==s?(Me=o("LSThreadBitOffset").has(139,s),i[58]=s,i[59]=Me):Me=i[59];var we;return i[60]!==Me?(we=d.jsx(r("CometPlaceholder.react"),{fallback:Ne,name:"MWPComposerGating.CMGroupBroadcastReadOnly",children:d.jsx(h,{isBroadcastChatsReactionsEnabled:Me})}),i[60]=Me,i[61]=we):we=i[61],we}else if(o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(s.threadType)&&_){var Ae;i[62]===Symbol.for("react.memo_cache_sentinel")?(Ae=d.jsx(r("MWComposerPlaceholder.react"),{height:48}),i[62]=Ae):Ae=i[62];var Fe;return i[63]!==s.threadKey?(Fe=d.jsx(r("CometPlaceholder.react"),{fallback:Ae,name:"MWPComposerGating.BroadcastChannelMemberComposer",children:d.jsx(C,{isJoined:!0,threadKey:s.threadKey})}),i[63]=s.threadKey,i[64]=Fe):Fe=i[64],Fe}else if(z){var Oe;i[65]===Symbol.for("react.memo_cache_sentinel")?(Oe=d.jsx(r("MWComposerPlaceholder.react"),{height:141}),i[65]=Oe):Oe=i[65];var Be;return i[66]!==U?(Be=d.jsx(r("CometPlaceholder.react"),{fallback:Oe,name:"MWPComposerGating.CMGroupMuted",children:d.jsx(g,{communityFolder:U})}),i[66]=U,i[67]=Be):Be=i[67],Be}else if(K){var We;i[68]===Symbol.for("react.memo_cache_sentinel")?(We=d.jsx(r("MWComposerPlaceholder.react"),{height:104}),i[68]=We):We=i[68];var qe;i[69]!==U?(qe=r("nullthrows")(U),i[69]=U,i[70]=qe):qe=i[70];var Ue;return i[71]!==qe||i[72]!==s?(Ue=d.jsx(r("CometPlaceholder.react"),{fallback:We,name:"MWPComposerGating.CMGroupRequestToParticipate",children:d.jsx(L,{communityFolder:qe,thread:s})}),i[71]=qe,i[72]=s,i[73]=Ue):Ue=i[73],Ue}else if(Q){var Ve;i[74]===Symbol.for("react.memo_cache_sentinel")?(Ve=d.jsx(r("MWComposerPlaceholder.react"),{height:100}),i[74]=Ve):Ve=i[74];var He;i[75]!==(U==null?void 0:U.fbGroupId)?(He=(u||(u=o("I64"))).to_string(r("nullthrows")(U==null?void 0:U.fbGroupId)),i[75]=U==null?void 0:U.fbGroupId,i[76]=He):He=i[76];var Ge;return i[77]!==He||i[78]!==s?(Ge=d.jsx(r("CometPlaceholder.react"),{fallback:Ve,name:"MWPComposerGating.CMGroupPendingRequestToParticipate",children:d.jsx(E,{groupID:He,thread:s})}),i[77]=He,i[78]=s,i[79]=Ge):Ge=i[79],Ge}else if(s.cannotReplyReason!=null){var ze;i[80]===Symbol.for("react.memo_cache_sentinel")?(ze=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[80]=ze):ze=i[80];var je;return i[81]===Symbol.for("react.memo_cache_sentinel")?(je=d.jsx(r("CometPlaceholder.react"),{fallback:ze,name:"MWPComposerGating.CannotReply",children:d.jsx(I,{})}),i[81]=je):je=i[81],je}else if(B){var Ke;i[82]===Symbol.for("react.memo_cache_sentinel")?(Ke=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[82]=Ke):Ke=i[82];var Qe;return i[83]===Symbol.for("react.memo_cache_sentinel")?(Qe=d.jsx(r("CometPlaceholder.react"),{fallback:Ke,name:"MWPComposerGating.DisableMarketplaceDMA",children:d.jsx(D,{})}),i[83]=Qe):Qe=i[83],Qe}else if(W){var Xe;i[84]===Symbol.for("react.memo_cache_sentinel")?(Xe=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[84]=Xe):Xe=i[84];var Ye;return i[85]!==A?(Ye=d.jsx(r("CometPlaceholder.react"),{fallback:Xe,name:"MWPComposerGating.DisableMarketplaceViewerClosedThread",children:d.jsx(x,{isClosedByViewer:!0,otherUser:A})}),i[85]=A,i[86]=Ye):Ye=i[86],Ye}else if(q){var Je;i[87]===Symbol.for("react.memo_cache_sentinel")?(Je=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[87]=Je):Je=i[87];var Ze;return i[88]!==A?(Ze=d.jsx(r("CometPlaceholder.react"),{fallback:Je,name:"MWPComposerGating.DisableMarketplaceParticipantClosedThread",children:d.jsx(x,{isClosedByViewer:!1,otherUser:A})}),i[88]=A,i[89]=Ze):Ze=i[89],Ze}else{var et;i[90]!==_||i[91]!==s?(et=o("MWCMThreadTypes.react").isBroadcastThread(s.threadType)&&!_?d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWPComposerGating.ComposerNudge",children:d.jsx(T,{thread:s})}):null,i[90]=_,i[91]=s,i[92]=et):et=i[92];var tt;i[93]!==s?(tt=d.jsx(r("MWV2ComposerDisclosure.react"),{thread:s}),i[93]=s,i[94]=tt):tt=i[94];var nt;i[95]!==l?(nt=l(),i[95]=l,i[96]=nt):nt=i[96];var rt;return i[97]!==et||i[98]!==tt||i[99]!==nt?(rt=d.jsxs(d.Fragment,{children:[et,tt,nt]}),i[97]=et,i[98]=tt,i[99]=nt,i[100]=rt):rt=i[100],rt}}var N=p(P);function M(e){var t=o("react-compiler-runtime").c(20),n=e.isMessengerInbox,a=e.renderComposer,i=e.thread,l;t[0]!==i?(l=d.jsx(r("MWV2ComposerDisclosure.react"),{thread:i}),t[0]=i,t[1]=l):l=t[1];var s;t[2]!==a?(s=a(),t[2]=a,t[3]=s):s=t[3];var c;t[4]!==l||t[5]!==s?(c=d.jsxs(d.Fragment,{children:[l,s]}),t[4]=l,t[5]=s,t[6]=c):c=t[6];var m=c,p;t[7]!==i.proactiveWarningDismissTime?(p=i.proactiveWarningDismissTime==null||(u||(u=o("I64"))).is_zero(i.proactiveWarningDismissTime),t[7]=i.proactiveWarningDismissTime,t[8]=p):p=t[8];var _=p,f;t[9]!==i.threadType?(f=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),t[9]=i.threadType,t[10]=f):f=t[10];var g=f,h;t[11]!==m||t[12]!==n||t[13]!==_||t[14]!==g||t[15]!==i?(h=n?null:_&&!g?d.jsx(r("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:m,onClose:w,thread:i}):null,t[11]=m,t[12]=n,t[13]=_,t[14]=g,t[15]=i,t[16]=h):h=t[16];var y=h;r("useMWLSSprocFetchProactiveWarningIfNeeded")(y!=null,i,!1);var C=r("useMWProactiveWarningPayload")(void 0,i);if(y!=null&&C!=null){var b;t[17]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),t[17]=b):b=t[17];var v;return t[18]!==y?(v=d.jsx(r("CometPlaceholder.react"),{fallback:b,name:"MWPComposerGating.ProactiveWarning",children:y}),t[18]=y,t[19]=v):v=t[19],v}return m}function w(){}var A=p(M);function F(t){var a=t.configurations,l=t.isMessengerInbox,s=t.renderComposer,m=t.thread,p=(e||(e=r("useReStore")))(),f=o("MWPActor.react").useActor(),g=(u||(u=o("I64"))).equal(f,m.threadKey),h=o("ReQLSuspense").useArray(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(p.tables.participants).getKeyRange(m.threadKey),o("ReQL").fromTableAscending(p.tables.contacts)).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[p,m.threadKey,m.threadType],i.id+":626"),y=_(function(){return h.find(function(e){return g||h.length===1&&(u||(u=o("I64"))).equal(e.id,f)||!(u||(u=o("I64"))).equal(e.id,f)})},[f,g,h]),C=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),b=n("cr:19626")(!1,m,o("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector),v=C&&b,S=a.find(function(e){return e!=null}),R=S!=null;return r("useMWPComposerFileDropzoneRegisterHandler")(R),d.jsxs(d.Fragment,{children:[v?d.jsx(r("MWPArmadilloLoadingStateMessage.react"),{threadKey:m.threadKey}):null,R?S:o("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?y!=null?d.jsx(A,{isMessengerInbox:l,otherUser:y,renderComposer:s,thread:m}):(u||(u=o("I64"))).lt(m.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?null:d.jsx(r("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):d.jsx(N,{renderComposer:s,thread:m})]})}F.displayName=F.name+" [from "+i.id+"]";function O(e){var t=o("react-compiler-runtime").c(8),n=e.configurations,a=e.isMessengerInbox,i=e.renderComposer,l=e.thread,s=a!=null?a:!1,u;t[0]!==n||t[1]!==i||t[2]!==s||t[3]!==l?(u=d.jsx(F,{configurations:n,isMessengerInbox:s,renderComposer:i,thread:l}),t[0]=n,t[1]=i,t[2]=s,t[3]=l,t[4]=u):u=t[4];var c;return t[5]!==u||t[6]!==l.threadKey?(c=d.jsx(r("CometErrorBoundary.react"),{fallback:B,children:d.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:l.threadKey,children:u})}),t[5]=u,t[6]=l.threadKey,t[7]=c):c=t[7],c}function B(e){return d.jsx(r("MWV2ErrorComposer.react"),{})}B.displayName=B.name+" [from "+i.id+"]",l.default=O}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WAGetSafeQPLError","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useReducer,_=c.useRef;function f(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function g(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function h(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.duration;case"Recorded":case"Playing":return Math.max(e.duration-e.currentTime,0)}}function y(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.recordingTimeout;case"Recorded":case"Playing":return e.duration}}function C(e){switch(e.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return e.currentTime}}function b(e){switch(e.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function v(e){return e.stage==="Recorded"?e.currentTime===0:!1}function S(e){switch(e.stage){case"Recording":return o("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return o("MWPAudioPlayerLabels").playLabel;case"Playing":return o("MWPAudioPlayerLabels").pauseLabel}}function R(e,t){switch(e.stage){case"Recording":return u.jsx(o("MWPAudioPlayerIcons.react").StopIcon,{color:t});case"Unopen":case"Recorded":return u.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:t});case"Playing":return u.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:t})}}R.displayName=R.name+" [from "+i.id+"]";function L(e,t){switch(t.type){case"Start":return{duration:0,mediaStream:t.mediaStream,recordingTimeout:t.recordingTimeout,stage:"Recording"};case"Toggle":{switch(e.stage){case"Unopen":return e;case"Recording":return{currentTime:0,duration:e.duration,stage:"Recorded"};case"Recorded":return{currentTime:e.currentTime,duration:e.duration,stage:"Playing"};case"Playing":return{currentTime:e.currentTime,duration:e.duration,stage:"Recorded"}}break}case"UpdateDuration":{if(e.duration!=null&&t.duration<e.duration)return e;var n=t.duration;switch(e.stage){case"Unopen":return e;case"Recording":return{duration:n,mediaStream:e.mediaStream,recordingTimeout:e.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:e.currentTime,duration:n,stage:"Recorded"};case"Playing":return{currentTime:e.currentTime,duration:n,stage:"Playing"}}break}case"UpdateTime":{var r=t.currentTime;switch(e.stage){case"Unopen":case"Recording":return e;case"Recorded":{var o=e.duration;return r===o?{currentTime:0,duration:o,stage:"Recorded"}:{currentTime:r,duration:o,stage:"Recorded"}}case"Playing":{var a=e.duration;return r===a?{currentTime:0,duration:a,stage:"Recorded"}:{currentTime:r,duration:a,stage:"Playing"}}}break}case"RecordingTimeout":return{currentTime:0,duration:t.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var E={stage:"Unopen"},k=1;function I(t){var a,i=t.maxDuration,l=i===void 0?60:i,s=t.logClickStartRecording,u=s===void 0?r("emptyFunction"):s,c=t.logBrowserDenyAccess,f=c===void 0?r("emptyFunction"):c,g=t.createVoiceRecordQpl,h=((a=o("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:a.sampleRate)===!0,y=p(L,E),C=y[0],b=y[1],v=r("useIsMountedRef")(),S=_(),R=_([]),I=_([]),T=_(),D=_(),x=_(),$=_(),P=_(),N=_(r("emptyFunction")),M=d(function(e){var t=e[0],n=e[1];if(v.current){var r=URL.createObjectURL(t);x.current=r;var o=new Audio(r);o.addEventListener("canplay",function(){var e;D.current=o;var r=o.duration;b({duration:r,type:"UpdateDuration"});var a={duration:r,file:t,waveformData:n};$.current=a,N.current(a),(e=P.current)==null||e.endSuccess()}),o.addEventListener("timeupdate",function(){var e,t=(e=D.current)==null?void 0:e.currentTime;t!=null&&b({currentTime:t,type:"UpdateTime"})}),o.addEventListener("durationchange",function(){var e,t=(e=D.current)==null?void 0:e.duration;t!=null&&!Number.isNaN(t)&&b({duration:t,type:"UpdateDuration"})})}},[v]),w=d(function(){S.current==null||T.current==null||T.current.postMessage({buffersL:R.current,buffersR:k===2?I.current:null,sampleRate:S.current})},[]);m(function(){if(C.stage==="Recording"){R.current=[],I.current=[];var e=r("AudioContextSingleton").get({sampleRate:h?44100:void 0}),t=e.destination;S.current=e.sampleRate;var n=C.mediaStream,o=e.createScriptProcessor(4096,k,k),a=e.createMediaStreamSource(n);T.current=new(r("WebWorker"))(r("MWChatRecorderUtilsWorkerResource")).setMessageHandler(M).setAllowCrossPageTransition(!0).execute();var i=function(t){C.stage==="Recording"&&t instanceof AudioProcessingEvent&&R.current.push(t.inputBuffer.getChannelData(0).slice())};return o.addEventListener("audioprocess",i),a.connect(o),o.connect(t),u(),function(){n.getAudioTracks().forEach(function(e){if(e.readyState!=="ended"){e.stop();return}}),o.removeEventListener("audioprocess",i)}}},[M,u,C.stage,C.mediaStream,h]);var A=r("usePrevious")(C);m(function(){(A==null?void 0:A.stage)==="Recording"&&C.stage==="Recorded"&&w()},[A==null?void 0:A.stage,w,C.stage]),m(function(){if(C.stage==="Recording"){var e=Date.now(),t,n=function(){var o=(Date.now()-e)/1e3;if(o>=l){b({recordingTimeout:l,type:"RecordingTimeout"});return}b({duration:o,type:"UpdateDuration"}),t=r("setTimeout")(n,1e3)};return t=r("setTimeout")(n,1e3),function(){t!=null&&r("clearTimeout")(t)}}},[l,C.stage]);var F=d(function(e){var t=g==null?void 0:g();P.current=t,t==null||t.start({startInfo:{isOpusRecorder:!1}}),b({mediaStream:e,recordingTimeout:l,type:"Start"})},[l,g]),O=d(function(){var e,t;(e=P.current)==null||e.endCancel(),b({type:"Reset"}),(t=D.current)==null||t.pause(),D.current=void 0,$.current=void 0,S.current=void 0;var n=x.current;n!=null&&(URL.revokeObjectURL(n),x.current=void 0)},[]),B=d(function(){var e=function(){b({maxDuration:l,type:"Toggle"})},t=D.current;if(t==null){e();return}switch(C.stage){case"Unopen":{e();break}case"Recording":{var n;(n=P.current)==null||n.addPoint("stop-recording"),e();break}case"Recorded":{var r;(r=P.current)==null||r.addPoint("play-audio"),t.play().then(e).catch(function(e){var t;(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("WAGetSafeQPLError").getSafeQPLErrorMessage(e)}}),f()});break}case"Playing":{var a;(a=P.current)==null||a.addPoint("pause-playing"),t.pause(),e();break}}},[f,C.stage]),W=d(function(){return new(e||(e=n("Promise")))(function(e){var t=$.current;if(t!=null)return e(t);if(N.current=e,C.stage==="Recording")return B()})},[C,B]);return{audioEl:D,getVoiceClip:W,reset:O,start:F,state:C,toggle:B}}l.showScreenReaderLabel=f,l.hasScrubber=g,l.getTimerTime=h,l.getDuration=y,l.getCurrentTime=C,l.isProgressing=b,l.isCompleted=v,l.getPlaybackLabel=S,l.getPlaybackIcon=R,l.useVoiceRecorder=I}),98);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24284299517844364"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:e},params:{id:n("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect,c=e!==void 0?e:e=n("MWChatViewerChatVisibilityHookQuery.graphql");function d(){var e,t,n,a=o("react-compiler-runtime").c(6),i=o("CometRelay").useRelayEnvironment(),l=o("CometRelay").useLazyLoadQuery(c,{},{fetchPolicy:"store-only"}),s;if(a[0]!==(l==null||(e=l.viewer)==null?void 0:e.chat_visibility)||a[1]!==i){var d;s=function(){var e;(l==null||(e=l.viewer)==null?void 0:e.chat_visibility)==null&&r("promiseDone")(o("CometRelay").fetchQuery(i,c,{}).toPromise())},a[0]=l==null||(d=l.viewer)==null?void 0:d.chat_visibility,a[1]=i,a[2]=s}else s=a[2];var m=l==null||(t=l.viewer)==null?void 0:t.chat_visibility,p;return a[3]!==i||a[4]!==m?(p=[m,i],a[3]=i,a[4]=m,a[5]=p):p=a[5],u(s,p),(l==null||(n=l.viewer)==null?void 0:n.chat_visibility)===!0}l.useViewerChatVisibility=d}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","ReQL","mwCMIsAnyCMThread","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;async function c(e,t,n,a){if((s||(s=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(1))&&!(s||(s=o("I64"))).equal(t,a)){var i,l=await Promise.all([(i=o("ReQL")).firstAsync(i.fromTableAscending(e.tables.threads,["typingIndicatorDisabled"]).getKeyRange(t)),i.firstAsync(i.mergeJoin(i.fromTableAscending(e.tables.participants).getKeyRange(t),i.fromTableAscending(e.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(e){var t=e[0],n=e[1];return!(s||(s=o("I64"))).equal(t.contactId,a)}))]),c=l[0],d=l[1],m=c==null?void 0:c.typingIndicatorDisabled,p=m!=null?(s||(s=o("I64"))).equal((u||(u=o("LSIntEnum"))).ofNumber(r("LSTypingIndicatorSettingState").DISABLED),m):!1;return d!=null&&!p}else return!r("mwCMIsAnyCMThread")(n)}function d(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),d=r("MessengerWebUXLogger").useInteractionLogger(),m,p;return n[0]!==l||n[1]!==a||n[2]!==d||n[3]!==t.authorityLevel||n[4]!==t.threadKey||n[5]!==t.threadType?(m=function(n){(s||(s=o("I64"))).ge(t.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(c(a,t.threadKey,t.threadType,l).then(function(e){if(e)return d==null||d({eventName:"send_typing_indicators",threadKey:t.threadKey,threadType:t.threadType}),a.runInTransaction(function(e){return r("LSSendTypingIndicatorStoredProcedure")(r("LSFactory")(e),{isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(t.threadType),isTyping:n,threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":134")}))},p=[t.authorityLevel,t.threadKey,t.threadType,a,l,d],n[0]=l,n[1]=a,n[2]=d,n[3]=t.authorityLevel,n[4]=t.threadKey,n[5]=t.threadType,n[6]=m,n[7]=p):(m=n[6],p=n[7]),o("Int64Hooks").useCallbackInt64(m,p)}l.default=d}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u=function(t){};function c(e){var t=r("useOnTypingStateChanged")(e),n=o("MWChatViewerChatVisibilityHook").useViewerChatVisibility(),a;return a=n?t:u,a}l.default=c}),98);
__d("MWV2OpenComposer.react",["FBLogger","I64","LSAuthorityLevel","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWGenAIUtils","MWPActor.react","MWPReplyContext.react","MWPUseVoiceRecorder","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","ReQL","WebUXLoggingSurfaceContextProvider","emptyFunction","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useMAWEditMessageData","useMWGenAIWriteConsentMutation","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useRef,_=r("requireDeferred")("MWChatAudioLog").__setRef("MWV2OpenComposer.react"),f=r("gkx")("23426");function g(){_.onReady(function(e){return e.logClickStartRecording()})}function h(){_.onReady(function(e){return e.logBrowserDenyAccess()})}function y(e){var t=o("react-compiler-runtime").c(15),n=e.afterSendMessage,a=e.thread,l=r("useAsyncReStore")(),c=o("MWPActor.react").useActor(),d;t[0]!==c||t[1]!==n||t[2]!==l||t[3]!==a.authorityLevel||t[4]!==a.threadKey||t[5]!==a.threadType?(d=function(){o("MWPActor.react").isAPPlus()&&o("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&(s||(s=o("I64"))).lt(a.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(l,async function(e){var t,n=await(t=o("ReQL")).firstAsync(t.leftJoin(t.fromTableAscending(e.tables.participants).getKeyRange(a.threadKey).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}),t.fromTableAscending(e.tables.contacts))),l=n==null?void 0:n[1];if(!l){r("FBLogger")("messenger_web_product").warn("contact not found");return}if((u||(u=o("LSIntEnum"))).equal(l.contactReachabilityStatusType,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER))return e.runInTransaction(function(e){return e.contacts.put(babelHelpers.extends({},l,{contactReachabilityStatusType:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER)}))},"readwrite",void 0,void 0,i.id+":146")}),n()},t[0]=c,t[1]=n,t[2]=l,t[3]=a.authorityLevel,t[4]=a.threadKey,t[5]=a.threadType,t[6]=d):d=t[6];var m;t[7]!==d||t[8]!==a?(m={afterSendMessage:d,skipUrlPreviewGen:!1,thread:a},t[7]=d,t[8]=a,t[9]=m):m=t[9];var _=r("useMWV2OnSendOpenMessage")(m),f=p(!1),g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=r("MessengerWebGenAIConsentStatusStore").getChatConsented(),t[10]=g):g=t[10];var h=p(g),y=r("useMWGenAIWriteConsentMutation")(),C=y[0],b;return t[11]!==C||t[12]!==_||t[13]!==a.threadKey?(b=function(t,n,i,l,s,u,c,d,m,p,g,y,b,v,S,R,L,E){o("MWGenAIUtils").isMetaAIThread(a.threadKey)&&!h.current&&(r("MessengerWebGenAIConsentStatus").nux_scope==="EU"||r("MessengerWebGenAIConsentStatus").nux_scope==="EU_V2")&&C({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:r("MessengerWebGenAIConsentStatus").nux_scope},onSuccess:function(){h.current=!0}});var e=_(t,n,i,l,s,u,c,d,m,p,g,y,b,v,S,R,o("MWGenAIUtils").getGenAIAssistantDataclassParams({isSubsequentSend:f.current,threadKey:a.threadKey}),E);return f.current=!0,e},t[11]=C,t[12]=_,t[13]=a.threadKey,t[14]=b):b=t[14],b}function C(e){var t=o("react-compiler-runtime").c(37),n=e.afterSendMessage,a=e.isPreviewThread,i=e.thread,l=n===void 0?r("emptyFunction"):n,s=m(o("MWPReplyContext.react").MWPReplyContext),u=s.reply,d=r("useMAWEditMessageData")(),p;t[0]!==i?(p={thread:i},t[0]=i,t[1]=p):p=t[1];var _=r("useMWMediaManager")(p),C=_.handleFileRemove,b=_.handleFileSelect,v=_.mediaStaging,S=_.onHdMediaToggled,R;t[2]!==l||t[3]!==i?(R={afterSendMessage:l,thread:i},t[2]=l,t[3]=i,t[4]=R):R=t[4];var L=y(R),E;t[5]===Symbol.for("react.memo_cache_sentinel")?(E={logBrowserDenyAccess:h,logClickStartRecording:g,maxDuration:void 0},t[5]=E):E=t[5];var k=o("MWPUseVoiceRecorder").useVoiceRecorder(E),I=r("useMWOnTypingStateChanged")(i);r("useMWV2FileDropzoneRegisterHandler")(b);var T;t[6]!==i?(T=o("LSMessagingThreadTypeUtil").isAiBotSummoning(i),t[6]=i,t[7]=T):T=t[7];var D=T,x;t[8]!==a||t[9]!==v||t[10]!==L||t[11]!==I||t[12]!==i.threadKey?(x={composerEntrypointForLogging:"MWV2OpenComposer",isPreviewThread:a,mediaStaging:v,onSendMessage:L,onTypingStateChanged:I,threadKey:i.threadKey},t[8]=a,t[9]=v,t[10]=L,t[11]=I,t[12]=i.threadKey,t[13]=x):x=t[13];var $=r("useMWPComposerEditor")(x),P=$.editor,N=$.editorElementRef,M=$.hasStuffToSend,w=$.sendMessage,A;t[14]!==u||t[15]!==i?(A=u!=null?c.jsx(o("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:u.messageId,messageThreadKey:u.threadKey,messageTimestamp:u.timestampMs,thread:i}):null,t[14]=u,t[15]=i,t[16]=A):A=t[16];var F;t[17]!==d?(F=d!=null&&c.jsx(r("MWV2ComposerEditContainer.react"),{editMessageData:d}),t[17]=d,t[18]=F):F=t[18];var O;t[19]!==d||t[20]!==P||t[21]!==N||t[22]!==M||t[23]!==D||t[24]!==v||t[25]!==C||t[26]!==b||t[27]!==S||t[28]!==L||t[29]!==w||t[30]!==i||t[31]!==k?(O=d!=null?null:c.jsx(o("MWV2ComposerView.react").MWV2ComposerView,{editor:P,editorElementRef:N,hasStuffToSend:M,isAiBotMentionsEnabled:D&&f&&!r("MessengerMSplitFlag").is_msplit_account,mediaStaging:v,onAttachmentRemoved:C,onAttachmentsAdded:b,onHdMediaToggled:S,onSendMessage:L,policyProduct:"messaging_lightswitch",sendMessage:w,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:i,voiceRecorder:k}),t[19]=d,t[20]=P,t[21]=N,t[22]=M,t[23]=D,t[24]=v,t[25]=C,t[26]=b,t[27]=S,t[28]=L,t[29]=w,t[30]=i,t[31]=k,t[32]=O):O=t[32];var B;return t[33]!==A||t[34]!==F||t[35]!==O?(B=c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:c.jsxs("div",{children:[A,F,O]})}),t[33]=A,t[34]=F,t[35]=O,t[36]=B):B=t[36],B}l.default=C}),98);
__d("useMWAppealableMessageSendComposerBlockConfiguration",["fbt","MWCallingRestrictionDialog.entrypoint","MWCallingRestrictionLogger","MWXComposerBanner.react","MWXLink.react","react","react-compiler-runtime","useMWHasAppealableMessageSendFeatureLimit","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(){var e=o("react-compiler-runtime").c(12),t=r("useMWHasAppealableMessageSendFeatureLimit")(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];var a=r("useMWXEntryPointDialog")(r("MWCallingRestrictionDialog.entrypoint"),n),i=a[0],l=o("MWCallingRestrictionLogger").useLogComposerBlockImpression(),c;e[1]!==i?(c=function(){i({trigger:"message_thread"})},e[1]=i,e[2]=c):c=e[2];var d=c,m,p;e[3]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"How to confirm"),e[3]=p):p=e[3];var _;e[4]!==d?(_={label:p,onPress:d,size:32,testid:"facerec-feature-limit-composer-block-button",type:"secondary"},e[4]=d,e[5]=_):_=e[5],m=_;var f=m;if(t()){l();var g;e[6]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Certain actions have been restricted due to unusual activity. {=m2}",[s._implicitParam("=m2",u.jsx(r("MWXLink.react"),{href:"https://www.facebook.com/help/1053588012132894",style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Learn more")}))]),e[6]=g):g=e[6];var h;e[7]!==f?(h=[f],e[7]=f,e[8]=h):h=e[8];var y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Confirm your identity to send messages"),e[9]=y):y=e[9];var C;return e[10]!==h?(C=u.jsx(r("MWXComposerBanner.react"),{bodyText:g,buttons:h,headerText:y,testid:void 0}),e[10]=h,e[11]=C):C=e[11],C}}l.default=p}),226);
__d("MWXComposerGlimmer.react",["MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={block:{paddingBottom:"x1l90r2v",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(4),n=e.ref,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[u.container,u.block],t[0]=a):a=t[0];var i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmer})}),t[1]=i):i=t[1];var l;return t[2]!==n?(l=s.jsx(r("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:n,spacing:20,xstyle:a,children:i}),t[2]=n,t[3]=l):l=t[3],l}l.default=c}),98);
__d("useMWComposerGlimmerOnDraftLoadingState",["MAWUIMessageComposerDraftsPersistedDataService","MWXComposerGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e.threadKey||t[1]!==e.threadType?(n=o("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().isThreadLoading(e.threadKey,e.threadType),t[0]=e.threadKey,t[1]=e.threadType,t[2]=n):n=t[2];var a=n,i;return t[3]!==a?(i=a?s.jsx(r("MWXComposerGlimmer.react"),{}):void 0,t[3]=a,t[4]=i):i=t[4],i}l.default=u}),98);
__d("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWDefaultE2eeOneToOneEligibility","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(27),l=(e||(e=r("useReStore")))(),s;a[0]!==l.tables._user_info?(s=function(){return o("ReQL").fromTableAscending(l.tables._user_info).map(u)},a[0]=l.tables._user_info,a[1]=s):s=a[1];var c;a[2]!==l?(c=[l],a[2]=l,a[3]=c):c=a[3];var d=o("ReQLSuspense").useFirst(s,c,i.id+":38"),m;a[4]!==l.tables.contacts||a[5]!==d?(m=function(){return d!=null?o("ReQL").fromTableAscending(l.tables.contacts,o("LSContactBitOffset").contactCapabilityFields).getKeyRange(d):o("ReQL").empty()},a[4]=l.tables.contacts,a[5]=d,a[6]=m):m=a[6];var p;a[7]!==l||a[8]!==d?(p=[l,d],a[7]=l,a[8]=d,a[9]=p):p=a[9];var _=o("ReQLSuspense").useFirst(m,p,i.id+":43"),f=_!=null&&o("LSContactBitOffset").has(80,_),g;a[10]!==l.tables.contacts||a[11]!==t||a[12]!==n?(g=function(){return t!=null&&n!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)?o("ReQL").fromTableAscending(l.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(t):o("ReQL").empty()},a[10]=l.tables.contacts,a[11]=t,a[12]=n,a[13]=g):g=a[13];var h;a[14]!==l||a[15]!==t||a[16]!==n?(h=[l,t,n],a[14]=l,a[15]=t,a[16]=n,a[17]=h):h=a[17];var y=o("ReQLSuspense").useFirst(g,h,i.id+":62"),C;a[18]!==y?(C=o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:y}),a[18]=y,a[19]=C):C=a[19];var b=C;if(n==null||!o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)){var v;return a[20]===Symbol.for("react.memo_cache_sentinel")?(v=[!1,!0,null],a[20]=v):v=a[20],v}if(_==null){r("FBLogger")("messenger_web").info("Viewer is null when checking default e2ee thread capability");var S;return a[21]===Symbol.for("react.memo_cache_sentinel")?(S=[!1,!1,null],a[21]=S):S=a[21],S}if(!f){b&&r("FBLogger")("messenger_web").warn("Viewer has no DEFAULT_E2EE_THREADS capability but other participant has DEFAULT_E2EE_THREAD_ONE_TO_ONE");var R;return a[22]===Symbol.for("react.memo_cache_sentinel")?(R=[!1,!0,null],a[22]=R):R=a[22],R}if(y==null){var L;return a[23]===Symbol.for("react.memo_cache_sentinel")?(L=[!1,!1,null],a[23]=L):L=a[23],L}var E;return a[24]!==b||a[25]!==y.id?(E=[b,!0,y.id],a[24]=b,a[25]=y.id,a[26]=E):E=a[26],E}function u(e){return e.facebookUserId}l.default=s}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","react-compiler-runtime","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=r("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")(e.threadKey,e.threadType),a=n[0],i;return t[0]!==a||t[1]!==e.threadType?(i=o("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)&&a,t[0]=a,t[1]=e.threadType,t[2]=i):i=t[2],i}l.default=e}),98);
__d("useMWDefaultE2eeComposerConfiguration",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSThreadAttributionStore","lazyLoadComponent","react","react-compiler-runtime","useIsDefaultE2eeOpenThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect,m=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function p(e){var t=o("react-compiler-runtime").c(6),n=r("useIsDefaultE2eeOpenThread")(e),a,i;if(t[0]!==n||t[1]!==e.threadKey?(a=function(){if(n){var t=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(s||(s=o("I64"))).to_string(e.threadKey)),a=t.type==="MWLSEntrypoint"?t.value:(u||(u=o("LSIntEnum"))).toNumber(t.value);r("FBLogger")("messenger_web").info("Default e2ee composer block showing up from non-meteora with entrypoint %s",a)}},i=[e.threadKey,n],t[0]=n,t[1]=e.threadKey,t[2]=a,t[3]=i):(a=t[2],i=t[3]),d(a,i),n){var l;return t[4]!==e?(l=c.jsx(m,{thread:e}),t[4]=e,t[5]=l):l=t[5],l}}l.default=p}),98);
__d("useMWMetaAIBlockingComposerConfiguration",["fbt","MWGenAINuxQplLogger","MWGenAIUtils","MWXComposerBanner.react","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","react","react-compiler-runtime","useMWGenAIWriteConsentMutation"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useMemo,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(7),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=r("MessengerWebGenAIConsentStatusStore").getChatConsented(),t[0]=n):n=t[0];var a=m(n),i=a[0],l=a[1],c=r("useMWGenAIWriteConsentMutation")(),d=c[0],p,_;t[1]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"OK"),t[1]=_):_=t[1];var f;t[2]!==d?(f={label:_,onPress:function(){d({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:r("MessengerWebGenAIConsentStatus").nux_scope}}),l(!0),o("MWGenAINuxQplLogger").logNuxHidden("BR_UK")},size:32,type:"primary"},t[2]=d,t[3]=f):f=t[3],p=f;var g=p;if(o("MWGenAIUtils").isMetaAIThread(e.threadKey)&&!i&&r("MessengerWebGenAIConsentStatus").nux_scope==="BR_UK"){o("MWGenAINuxQplLogger").logNuxRender("BR_UK");var h;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text}),t[4]=h):h=t[4];var y;return t[5]!==g?(y=u.jsx(r("MWXComposerBanner.react"),{bodyText:h,buttons:[g]}),t[5]=g,t[6]=y):y=t[6],y}}l.default=p}),226);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.height,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r="x1exxf4d x13fuv20 x178xt8z",t[0]=r):r=t[0];var a=n.toString()+"px",i;return t[1]!==a?(i=s.jsx("div",{className:r,style:{height:a}}),t[1]=a,t[2]=i):i=t[2],i}function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.height,i;t[0]!==a?(i=s.jsx(u,{height:a}),t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=s.jsx(r("CometPlaceholder.react"),{fallback:i,name:"MWPComposerPlaceholder",children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}l.default=c}),98);
__d("useLogPageFollowerExposure",["I64","LSContactReachabilityStatusType","LSContactUtils","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useEffect,d=r("requireDeferred")("CreatorMessagingRecipientFalcoEvent").__setRef("useLogPageFollowerExposure");function m(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t?(l=function(){return t==null?o("ReQL").empty():o("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(t.id)},s=[a,t],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useFirst(l,s,i.id+":31");return u!=null&&u.hasMoreBefore===!1&&u.isLoadingBefore===!1&&u.maxMessageId===""&&u.minMessageId===""}var p=new Set,_=new Set([r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER]);function f(e){var t=o("react-compiler-runtime").c(4),n=m(e),r,a;t[0]!==e||t[1]!==n?(r=function(){if(e!=null){var t=(s||(s=o("I64"))).to_string(e.id),r=o("LSContactUtils").getUserReachability(e);n&&_.has(r)&&!p.has(t)&&(p.add(t),d.onReady(function(t){return t.log(function(){return{recipient_id:(s||(s=o("I64"))).to_string(e.id)}})}))}},a=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=a):(r=t[2],a=t[3]),c(r,a)}l.default=f}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useEffect;function d(e){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e),n=o("LSMessagingThreadTypeUtil").isOneToOne(e),r=o("LSMessagingThreadTypeUtil").isGroup(e);return n?t?"messenger_encrypted_direct_thread":"messenger_direct_thread_details":r?t?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(e){switch(e){case r("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case r("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var p=function(t){return t?(s||(s=o("LSIntEnum"))).toNumber(t):r("LSContactReachabilityStatusType").REACHABLE};function _(e,t){var n=o("react-compiler-runtime").c(11),a;n[0]!==t?(a=p(t),n[0]=t,n[1]=a):a=n[1];var i=a,l;n[2]!==e?(l=d(e),n[2]=e,n[3]=l):l=n[3];var s=l,_;n[4]!==e?(_=(u||(u=o("I64"))).to_string(e),n[4]=e,n[5]=_):_=n[5];var f=_,g,h;n[6]!==s||n[7]!==i||n[8]!==f?(g=function(){i!==r("LSContactReachabilityStatusType").REACHABLE&&i!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&i!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&r("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:m(i),surface:s,thread_id:f}})},h=[f,i,s],n[6]=s,n[7]=i,n[8]=f,n[9]=g,n[10]=h):(g=n[9],h=n[10]),c(g,h)}l.default=_}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","FocusRegion.react","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactUtils","LSFriendshipStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCallingRestrictionDialog.entrypoint","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MWPThreadIsPage.react","MWXLink.react","ReQL","ReQLSuspense","lazyLoadComponent","react","useLogPageFollowerExposure","useMWPAdultMinorRestrictionLogging","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useMemo,g="https://www.facebook.com/help/messenger-app/2258699540867663/?helpref=uf_share",h="https://www.facebook.com/help/1518695669102556/",y="https://www.facebook.com/help/1053588012132894/",C=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPReQLBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function b(t,n){var a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),d=(u||(u=o("I64"))).equal(l,t.threadKey),p=o("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,b=o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[0],n=e[1];return d||!(u||(u=o("I64"))).equal(n.id,l)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[a,t.threadKey,t.threadType,l,d],i.id+":65"),v=o("LSContactUtils").getUserReachability(b),S=o("MWPThreadIsPage.react").useIsPage(),R=r("useMWXEntryPointDialog")(r("MWCallingRestrictionDialog.entrypoint"),{}),L=R[0],E=_(function(){L({trigger:"message_thread"})},[L]),k=f(function(){return{label:s._(/*BTDS*/"How to confirm"),onPress:E,size:32,type:"secondary"}},[E]),I=[];if(r("useMWPAdultMinorRestrictionLogging")(t.threadKey,b==null?void 0:b.contactReachabilityStatusType),r("useLogPageFollowerExposure")(b),o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&b!=null){var T=r("MWGetLSThreadReportingTokenFromThread")(t),D=!(u||(u=o("I64"))).equal(b.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED));if(v!==r("LSContactReachabilityStatusType").REACHABLE&&v!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&v!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&v!==r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER){var x,$=s._(/*BTDS*/"You can't message this account."),P=b.friendshipStatus;return v===r("LSContactReachabilityStatusType").UNREACHABLE_RS_UPSELL_ELIGIBLE&&P!==void 0&&(u||(u=o("I64"))).to_float(P)!==r("LSFriendshipStatus").CANNOT_REQUEST&&(u||(u=o("I64"))).to_float(P)!==r("LSFriendshipStatus").UNKNOWN?($=s._(/*BTDS*/"You can't message this account. It may help to add them as a friend on Facebook."),p=o("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE_MESSAGE_REQUEST):v===r("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK?(x=s._(/*BTDS*/"Message request sent"),$=s._(/*BTDS*/"You can send more messages after they accept. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{href:g,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])):v===r("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK?(x=s._(/*BTDS*/"You've reached the message request limit"),$=s._(/*BTDS*/"There's a limit to how many requests you can send in 24 hours.")):v===r("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK_WITH_APPEAL?(x=s._(/*BTDS*/"Confirm your identity to send messages"),$=s._(/*BTDS*/"Certain actions have been restricted due to unusual activity. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{href:y,target:"_blank",children:s._(/*BTDS*/"Learn more")}))]),I=[k]):v===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER?(x=s._(/*BTDS*/"Message request pending"),$=s._(/*BTDS*/"You can send message requests to 10 new people per day. Limit resets at midnight PST. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{href:h,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])):v===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED?(x=s._(/*BTDS*/"Message request limit reached"),$=s._(/*BTDS*/"You can send message requests to 10 new people per day. Limit resets at midnight PST. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{href:h,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])):v===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER&&(x=S?s._(/*BTDS*/"This Page is unavailable"):s._(/*BTDS*/"This person is unavailable"),$=s._(/*BTDS*/"You can\u2019t message this account.")),m.jsx(r("MWPComposerPlaceholder.react"),{height:35,children:m.jsx(o("FocusRegion.react").FocusRegion,{children:m.jsx(C,{buttonsUnreachable:I,fbid:(u||(u=o("I64"))).to_string(b.id),isReachable:!1,reason:p,reportingToken:void 0,thread:t,unreachableHeader:x,unreachableTitle:$})})})}if(D)return m.jsx(r("MWPComposerPlaceholder.react"),{height:189,children:m.jsx(C,{buttonsOverride:n,fbid:(u||(u=o("I64"))).to_string(b.id),reason:o("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:T,thread:t})})}}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:22302","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22302")),r("gkx")("23219"));l.default=e}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=r("useLSMessagingSource")(),u;return t[0]!==a||t[1]!==l||t[2]!==n?(u=function(t,u,c){r("promiseDone")(n.runInTransaction(function(e){var n=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,l);return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(e),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:c,power_up_style:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:s.ofNumber(r("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:s.ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:n}),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),senderId:a,snippet:u,text:u,threadKey:t,threadType:s.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":41"))},t[0]=a,t[1]=l,t[2]=n,t[3]=u):u=t[3],u}l.default=d}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","useMWV2DisabledPageComposerSendMenuItem"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function d(e){var t=o("react-compiler-runtime").c(5),n=e.threadKey;o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(n,o("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var a=r("useMWV2DisabledPageComposerSendMenuItem")(),i;t[0]!==a||t[1]!==n?(i=function(t){var e=t.title,r=t.id;if(r!=null)return a(n,e,r)},t[0]=a,t[1]=n,t[2]=i):i=t[2];var l=i,s;return t[3]!==l?(s=u.jsx(r("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:p,onSelect:l},popoverResource:c,children:m}),t[3]=l,t[4]=s):s=t[4],s}function m(e,t){return u.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xpdmqnj xsag5q8 x1g0dm76",ref:e,children:u.jsx(r("MWXButton.react"),{icon:r("MWXIconDragHandle"),label:s._(/*BTDS*/"Menu"),onPress:t,reduceEmphasis:!0})})}m.displayName=m.name+" [from "+i.id+"]";function p(){}l.default=d}),226);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2);if(e.disableComposerInput&&e.hasPersistentMenu){var n;return t[0]!==e.threadKey?(n=s.jsx(r("MWV2DisabledPageComposer.react"),{threadKey:e.threadKey}),t[0]=e.threadKey,t[1]=n):n=t[1],n}}l.default=u}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function c(t,n,r){var a=o("react-compiler-runtime").c(7),i;a[0]!==r?(i=p(r),a[0]=r,a[1]=i):i=a[1];var l=i,s,u;return a[2]!==t||a[3]!==l||a[4]!==n?(s=function(){_({action:1,restriction_type:t,surface:l,thread_id:(e||(e=o("I64"))).to_string(n!=null?n:(e||(e=o("I64"))).zero)})},u=[n,t,l],a[2]=t,a[3]=l,a[4]=n,a[5]=s,a[6]=u):(s=a[5],u=a[6]),o("Int64Hooks").useCallbackInt64(s,u)}function d(t,n,r){var a=o("react-compiler-runtime").c(7),i;a[0]!==r?(i=p(r),a[0]=r,a[1]=i):i=a[1];var l=i,s,u;return a[2]!==t||a[3]!==l||a[4]!==n?(s=function(){_({action:2,restriction_type:t,surface:l,thread_id:(e||(e=o("I64"))).to_string(n!=null?n:(e||(e=o("I64"))).zero)})},u=[n,t,l],a[2]=t,a[3]=l,a[4]=n,a[5]=s,a[6]=u):(s=a[5],u=a[6]),o("Int64Hooks").useCallbackInt64(s,u)}function m(t){return t?(e||(e=o("I64"))).equal(t.type_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE))?40:(e||(e=o("I64"))).equal(t.type_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))?39:6:0}function p(e){if(e){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e),n=o("LSMessagingThreadTypeUtil").isOneToOne(e);if(n)return t?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";var r=o("LSMessagingThreadTypeUtil").isGroup(e),a=o("LSMessagingThreadTypeUtil").isPublicCMThread(e);if(r)return t?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function _(e){var t=e.action,n=e.restriction_type,r=e.surface,o=e.thread_id;u.onReady(function(e){return e.log(function(){return{action:t,restriction_type:n,surface:r,thread_id:o}})})}l.useLogFeatureLimitComposerImpression=c,l.useLogViewCommunityStandards=d,l.getRestrictionTypeFromFeatureLimit=m}),98);
__d("useMWCMFetchSafetyInterventions",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(6),a=t===void 0?"prompt":t,l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),m=a==="composer_block",p=d,_,f;n[0]!==u||n[1]!==l.tables.mwb_safety_interventions||n[2]!==m||n[3]!==a?(_=function(){return o("ReQL").fromTableAscending(l.tables.mwb_safety_interventions).filter(function(t){var n=t.logOnlySafetyInterventionType,r=t.mutImpressionsCount,i=t.userId;return t.uiType===a&&p(n)&&i===(e||(e=o("I64"))).to_string(u)&&(m||(e||(e=o("I64"))).equal(r,(e||(e=o("I64"))).zero))}).map(c)},f=[l.tables.mwb_safety_interventions,a,u,m],n[0]=u,n[1]=l.tables.mwb_safety_interventions,n[2]=m,n[3]=a,n[4]=_,n[5]=f):(_=n[4],f=n[5]);var g=o("ReQLSuspense").useArray(_,f,i.id+":35");return g}function c(t){return(e||(e=o("I64"))).to_string(t.interventionId)}function d(e){return e==="education_notice_cm"||e==="education_notice_cm_unbatched"}l.default=u}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","react-compiler-runtime","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=36e5,c=24*u,d=23*u,m=1e3;function p(t,n){var a=o("react-compiler-runtime").c(7),i=r("useServerTime")().valueOf(),l=t!=null?(e||(e=o("I64"))).to_float(t.expirationTimestampSeconds)*1e3:i,p=l-i;if(p<=d){var _=Math.ceil(Math.max(p,u)/u),f;return a[0]!==n||a[1]!==_?(f=n?s._(/*BTDS*/"_j{\"*\":\"You can't send messages in community chats and channels for {number} hours\",\"_1\":\"You can't send messages in community chats and channels for 1 hour\"}",[s._plural(_,"number")]):s._(/*BTDS*/"_j{\"*\":\"You can't send messages for {number} hours\",\"_1\":\"You can't send messages for 1 hour\"}",[s._plural(_,"number")]),a[0]=n,a[1]=_,a[2]=f):f=a[2],f}else{var g=Math.ceil(Math.max(p,c)/c);if(g>=m){var h;return a[3]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"You can't send messages"),a[3]=h):h=a[3],h}var y;return a[4]!==n||a[5]!==g?(y=n?s._(/*BTDS*/"_j{\"*\":\"You can't send messages in community chats and channels for {number} days\",\"_1\":\"You can't send messages in community chats and channels for 1 day\"}",[s._plural(g,"number")]):s._(/*BTDS*/"_j{\"*\":\"You can't send messages for {number} days\",\"_1\":\"You can't send messages for 1 day\"}",[s._plural(g,"number")]),a[4]=n,a[5]=g,a[6]=y):y=a[6],y}}l.default=p}),226);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCMContentTakedownEnforcementNoticeDialog.entrypoint","MWCMThreadTypes.react","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","react-compiler-runtime","useMWCMFetchSafetyInterventions","useMWPFeatureLimitComposerBlockHeaderText","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(35),n=e.thread,a=r("useMWCMFetchSafetyInterventions")("composer_block"),i;t[0]!==n.threadType?(i=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(n.threadType),t[0]=n.threadType,t[1]=i):i=t[1];var l=i,m;t[2]!==n.threadType?(m=o("MWCMThreadTypes.react").isJoinedCMThread(n.threadType),t[2]=n.threadType,t[3]=m):m=t[3];var _=m,f=(_||l)&&a.length>0,g;t[4]!==a?(g={interventions_ids:a},t[4]=a,t[5]=g):g=t[5];var h=r("useMWXEntryPointDialog")(r("MWCMContentTakedownEnforcementNoticeDialog.entrypoint"),g),y=h[0];o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(n==null?void 0:n.threadKey,o("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);var C=o("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(n==null?void 0:n.threadType),b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=o("MWPActor.react").isAPPlus(),t[6]=b):b=t[6];var v=b,S;t[7]!==C?(S=C!=null&&(u||(u=o("I64"))).equal(C.type_,(c||(c=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&v,t[7]=C,t[8]=S):S=t[8];var R=S,L=r("useMWPFeatureLimitComposerBlockHeaderText")(C,R),E;t[9]!==C?(E=o("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(C),t[9]=C,t[10]=E):E=t[10];var k=E,I=o("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(k,n==null?void 0:n.threadKey,n==null?void 0:n.threadType),T=o("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(k,n==null?void 0:n.threadKey,n==null?void 0:n.threadType),D;t[11]!==I?(D={onImpressionStart:I},t[11]=I,t[12]=D):D=t[12];var x=r("useSinglePartialViewImpression")(D),$;t[13]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Something you sent in a chat went against our Community Standards."),t[13]=$):$=t[13];var P=$,N;t[14]===Symbol.for("react.memo_cache_sentinel")?(N=s._(/*BTDS*/"Your Page is restricted because you sent messages that went against Community Standards."),t[14]=N):N=t[14];var M=N,w;t[15]===Symbol.for("react.memo_cache_sentinel")?(w={target:"_blank",url:"https://www.facebook.com/communitystandards/"},t[15]=w):w=t[15];var A=w,F;t[16]!==f||t[17]!==R?(F=R||f?s._(/*BTDS*/"Learn More"):s._(/*BTDS*/"See Community Standards"),t[16]=f,t[17]=R,t[18]=F):F=t[18];var O=F,B=R?M:P,W=f?void 0:A,q;t[19]!==f||t[20]!==a||t[21]!==T||t[22]!==y?(q=f?function(){y({interventionsIds:a},p)}:T,t[19]=f,t[20]=a,t[21]=T,t[22]=y,t[23]=q):q=t[23];var U;t[24]!==O||t[25]!==W||t[26]!==q?(U=[{label:O,linkProps:W,onPress:q}],t[24]=O,t[25]=W,t[26]=q,t[27]=U):U=t[27];var V;t[28]!==L||t[29]!==B||t[30]!==U?(V=d.jsx(r("MWXComposerBanner.react"),{bodyText:B,buttons:U,headerText:L}),t[28]=L,t[29]=B,t[30]=U,t[31]=V):V=t[31];var H;return t[32]!==x||t[33]!==V?(H=d.jsx("div",{ref:x,children:V}),t[32]=x,t[33]=V,t[34]=H):H=t[34],H}function p(){}l.default=m}),226);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t,n){var a=o("react-compiler-runtime").c(2),i=t&&(!e||r("isFeatureLimitEnabled")());if(i){var l;return a[0]!==n?(l=s.jsx(r("MWPFeatureLimitsBlockedComposer.react"),{thread:n}),a[0]=n,a[1]=l):l=a[1],l}}l.default=u}),98);
__d("useMWPReQLFeatureLimitsBlockedComposerConfiguration",["LSMessagingThreadTypeUtil","react","react-compiler-runtime","useIsReadOnlyFeatureLimitedWithThreadType","useMWPFeatureLimitsBlockedComposerConfiguration"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;t[0]!==e.threadType?(n=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),t[0]=e.threadType,t[1]=n):n=t[1];var a=n,i=r("useIsReadOnlyFeatureLimitedWithThreadType")(e.threadType);return r("useMWPFeatureLimitsBlockedComposerConfiguration")(a,i,e)}l.default=u}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPreloadedText","justknobx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useContext;function d(e){var t=e.reason,n=e.threadKey;return o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(n,t),null}function m(e,t,n,a){var i=o("react-compiler-runtime").c(3),l=c(r("MWPreloadedText")),m=a!=null&&(s||(s=o("I64"))).equal(a,(s||(s=o("I64"))).of_float(r("LSNullstateCTAType").GET_STARTED))&&!l.text,p=!(s||(s=o("I64"))).equal(t,s.zero),_=r("justknobx")._("926");if(m&&!p||!_&&n){var f=n?o("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:o("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,g;return i[0]!==f||i[1]!==e?(g=u.jsx(d,{reason:f,threadKey:e}),i[0]=f,i[1]=e,i[2]=g):g=i[2],g}}l.default=m}),98);
__d("useMWPReQLNullComposerConfiguration",["LSThreadBitOffset","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWPNullComposerConfiguration","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.thread_nullstate||n[1]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(t.threadKey)},n[0]=a.tables.thread_nullstate,n[1]=t.threadKey,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t.threadKey?(s=[a,t.threadKey],n[3]=a,n[4]=t.threadKey,n[5]=s):s=n[5];var u=o("ReQLSuspense").useFirst(l,s,i.id+":27"),c;n[6]!==t?(c=o("LSThreadBitOffset").has(44,t),n[6]=t,n[7]=c):c=n[7];var d=c;return r("useMWPNullComposerConfiguration")(t.threadKey,t.lastActivityTimestampMs,d,u==null?void 0:u.ctaType)}l.default=c}),98);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.reason,a=e.thread;o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,n);var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"This person is unavailable on Messenger."),t[0]=i):i=t[0];var l=i,c;return t[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{children:[u.jsx(r("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),u.jsx(r("MWXComposerBanner.react"),{bodyText:l})]}),t[1]=c):c=t[1],c}l.default=c}),226);
__d("getMWPUnavailableComposerConfiguration",["I64","LSAuthorityLevel","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","MWXComposerGlimmer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t,n){if(o("LSMessagingThreadTypeUtil").isOneToOne(t)&&n!=null){var a=!n.isPage&&(!n.hasMessageCapability||!n.hasReplyMessageCapability);if(n.blockedSinceTimestampMs==null&&a)return(s||(s=o("I64"))).lt(n.authorityLevel,(s||(s=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE))?u.jsx(r("MWXComposerGlimmer.react"),{}):u.jsx(r("MWChatUnavailableComposer.react"),{reason:n.hasMessageCapability?o("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:o("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:e}})}}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react"));function m(t){var n=o("react-compiler-runtime").c(16),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),c;n[0]!==l||n[1]!==t.threadKey?(c=(s||(s=o("I64"))).equal(l,t.threadKey),n[0]=l,n[1]=t.threadKey,n[2]=c):c=n[2];var d=c,m,_;n[3]!==l||n[4]!==a||n[5]!==d||n[6]!==t.threadKey||n[7]!==t.threadType?(m=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[1];return d||!(s||(s=o("I64"))).equal(t.id,l)}).map(p):o("ReQL").empty()},_=[a,t.threadKey,t.threadType,l,d],n[3]=l,n[4]=a,n[5]=d,n[6]=t.threadKey,n[7]=t.threadType,n[8]=m,n[9]=_):(m=n[8],_=n[9]);var f=o("ReQLSuspense").useFirst(m,_,i.id+":33");if(f!=null){var g=f==null?void 0:f.authorityLevel,h=f==null?void 0:f.blockedSinceTimestampMs,y;return n[10]!==f||n[11]!==g||n[12]!==h||n[13]!==t.threadKey||n[14]!==t.threadType?(y=r("getMWPUnavailableComposerConfiguration")(t.threadKey,t.threadType,{authorityLevel:g,blockedSinceTimestampMs:h,hasMessageCapability:o("LSContactBitOffset").has(0,f),hasReplyMessageCapability:o("LSContactBitOffset").has(1,f),isPage:(s||(s=o("I64"))).equal(f.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))}),n[10]=f,n[11]=g,n[12]=h,n[13]=t.threadKey,n[14]=t.threadType,n[15]=y):y=n[15],y}}function p(e){var t=e[1];return t}l.default=m}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),r;return n[0]!==t||n[1]!==e?(r=o("LSMessagingThreadTypeUtil").isOneToOne(e)&&t,n[0]=t,n[1]=e,n[2]=r):r=n[2],r}l.default=e}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","MWPComposerPlaceholder.react","lazyLoadComponent","react","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useMWPShouldShowRestrictedComposer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPReQLRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function d(e){var t=o("react-compiler-runtime").c(7),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=["id"].concat(o("LSContactBitOffset").contactCapabilityFields),t[0]=n):n=t[0];var a=r("useMWGetOtherUserContact")(e.threadKey,e.threadType,n),i=r("useMWIsContactRestricted")(a),l=r("useMWPShouldShowRestrictedComposer")(e.threadType,i);if(l&&a!=null){var d;t[1]!==a.id?(d=(s||(s=o("I64"))).to_string(a.id),t[1]=a.id,t[2]=d):d=t[2];var m;return t[3]!==d||t[4]!==e.threadKey||t[5]!==e.threadType?(m=u.jsx(r("MWPComposerPlaceholder.react"),{height:128,children:u.jsx(c,{fbid:d,threadKey:e.threadKey,threadType:e.threadType})}),t[3]=d,t[4]=e.threadKey,t[5]=e.threadType,t[6]=m):m=t[6],m}}l.default=d}),98);
__d("useMWPSpectraBlockedComposerConfiguration",["JSResourceForInteraction","MWPComposerPlaceholder.react","lazyLoadComponent","react","react-compiler-runtime","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPSpectraBlockedComposer.react").__setRef("useMWPSpectraBlockedComposerConfiguration"));function c(e){var t=o("react-compiler-runtime").c(2),n=r("useMWPThreadHasSpectraUser")(e.threadKey);if(n){var a;return t[0]!==e?(a=s.jsx(r("MWPComposerPlaceholder.react"),{height:189,children:s.jsx(u,{_thread:e})}),t[0]=e,t[1]=a):a=t[1],a}}l.default=c}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","gkx","lazyLoadComponent","react","react-compiler-runtime","useMAWCanThreadBeCutoverOnDemand"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState,c=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWOnDemandCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function p(e,t,n,a,i,l){var p=o("react-compiler-runtime").c(17),_=u(!1),f=_[0],g=_[1],h=r("useMAWCanThreadBeCutoverOnDemand")(e);if((l||i||h||f)&&(!o("LSMessagingThreadTypeUtil").isOneToOne(t)||n!=null))if(a&&r("gkx")("12491")){var y;p[0]!==e||p[1]!==t?(y={threadKey:e,threadType:t},p[0]=e,p[1]=t,p[2]=y):y=p[2];var C;return p[3]!==n||p[4]!==y?(C=s.jsx(m,{otherUser:n,thread:y}),p[3]=n,p[4]=y,p[5]=C):C=p[5],C}else if(h||f){var b;p[6]!==e?(b={threadKey:e},p[6]=e,p[7]=b):b=p[7];var v;return p[8]!==f||p[9]!==b?(v=s.jsx(d,{isODCutoverNavigationInProgress:f,reason:o("MWBlockedComposerLogging").ComposerBlockingReason.ON_DEMAND_CUTOVER,setIsODCutoverNavigationInProgress:g,thread:b}),p[8]=f,p[9]=b,p[10]=v):v=p[10],v}else{var S=n!=null?o("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:o("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,R;p[11]!==e||p[12]!==t?(R={threadKey:e,threadType:t},p[11]=e,p[12]=t,p[13]=R):R=p[13];var L;return p[14]!==S||p[15]!==R?(L=s.jsx(c,{reason:S,thread:R}),p[14]=S,p[15]=R,p[16]=L):L=p[16],L}}l.default=p}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWCutoverComposerConfiguration","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n,a,l=o("react-compiler-runtime").c(9),s=(e||(e=r("useReStore")))(),u;l[0]!==s.tables.contacts||l[1]!==t.threadKey||l[2]!==t.threadType?(u=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(t.threadKey):o("ReQL").empty()},l[0]=s.tables.contacts,l[1]=t.threadKey,l[2]=t.threadType,l[3]=u):u=l[3];var c;l[4]!==s||l[5]!==t?(c=[s,t],l[4]=s,l[5]=t,l[6]=c):c=l[6];var d=o("ReQLSuspense").useFirst(u,c,i.id+":33"),m=((n=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(s.tables.messages_ranges_v2__generated).getKeyRange(t.threadKey)},[s,t.threadKey],i.id+":44"))==null?void 0:a.minMessageId)!=null?n:"")==="",p;l[7]!==d?(p=d!=null&&o("LSContactBitOffset").has(76,d),l[7]=d,l[8]=p):p=l[8];var _=p,f=_&&m,g=o("MAWThreadCutover").useIsCutoverOpenThread(t.threadKey)||o("LSThreadBitOffset").has(128,t),h=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(t.threadKey);return r("useMWCutoverComposerConfiguration")(t.threadKey,t.threadType,d,h,g,f)}l.default=c}),98);
__d("useMWReQLMessageRequestBlockedComposerConfiguration",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","react","react-compiler-runtime","useMWLSAcceptMessageRequest","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useMemo,p=n("cr:3912")==null?function(e,t){return!1}:n("cr:3912").isOneOnOneMessageRequestV2,_=n("cr:3912")==null?function(e){return!1}:n("cr:3912").isGroupMessageRequest,f=r("gkx")("7387");function g(t){var n=o("react-compiler-runtime").c(32),a=(e||(e=r("useReStore")))(),l=r("useMessageRequestLeaveGroup")(t.threadKey),c=t.threadType,m=r("useMessageRequestDeleteConversation")(t),g;n[0]!==c?(g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(c),n[0]=c,n[1]=g):g=n[1];var h=g,y=r("useMWLSAcceptMessageRequest")(t.threadKey),C=!h&&o("LSThreadBitOffset").has(21,t),b=o("MWPActor.react").useActor(),v,S;n[2]!==b||n[3]!==a.tables.contacts||n[4]!==a.tables.participants||n[5]!==t.threadKey||n[6]!==c?(v=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(c)||(s||(s=o("I64"))).equal(c,(u||(u=o("LSIntEnum"))).ofNumber(5))?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[1];return!(s||(s=o("I64"))).equal(t.id,b)}):o("ReQL").empty()},S=[t.threadKey,c,a.tables.participants,a.tables.contacts,b],n[2]=b,n[3]=a.tables.contacts,n[4]=a.tables.participants,n[5]=t.threadKey,n[6]=c,n[7]=v,n[8]=S):(v=n[7],S=n[8]);var R=o("ReQLSuspense").useFirst(v,S,i.id+":67"),L;e:{if(h){L=p(t,R)||f&&_(t);break e}L=!1}var E=L,k;n[9]!==c?(k=o("LSMessagingThreadTypeUtil").isGroup(c),n[9]=c,n[10]=k):k=n[10];var I=k,T;n[11]!==a||n[12]!==R||n[13]!==t?(T=function(){R!=null&&o("MAWSecureComposerUtils").onDeleteThread(a,t,R[1].id)},n[11]=a,n[12]=R,n[13]=t,n[14]=T):T=n[14];var D=T,x=r("MessengerWebUXLogger").useInteractionLogger();if((E||C)&&r("gkx")("1545")){var $;n[15]!==y||n[16]!==x||n[17]!==t?($=function(){o("MessageRequestsLog").logActionConfirmed(t,1),x==null||x({eventName:"accept_chat_request",threadKey:t.threadKey,threadType:t.threadType}),y()},n[15]=y,n[16]=x,n[17]=t,n[18]=$):$=n[18];var P=h?D:m,N;n[19]!==I||n[20]!==h||n[21]!==l||n[22]!==x||n[23]!==t?(N=function(){if(!h&&I)return o("MessageRequestsLog").logActionConfirmed(t,10),x==null||x({eventName:"leave_group",threadKey:t.threadKey,threadType:t.threadType}),l()},n[19]=I,n[20]=h,n[21]=l,n[22]=x,n[23]=t,n[24]=N):N=n[24];var M=R==null?void 0:R[1],w;return n[25]!==I||n[26]!==$||n[27]!==P||n[28]!==N||n[29]!==M||n[30]!==t?(w=d.jsx(r("MWReQLMessageRequestComposerBanner.react"),{isGroup:I,onAccept:$,onDeleteConversation:P,onLeaveGroup:N,otherUserContact:M,thread:t}),n[25]=I,n[26]=$,n[27]=P,n[28]=N,n[29]=M,n[30]=t,n[31]=w):w=n[31],w}}l.default=g}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:9773","emptyFunction","react","react-compiler-runtime","useMAWEditMessageData","useMWAppealableMessageSendComposerBlockConfiguration","useMWComposerGlimmerOnDraftLoadingState","useMWDefaultE2eeComposerConfiguration","useMWMetaAIBlockingComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPSpectraBlockedComposerConfiguration","useMWReQLCutoverComposerConfiguration","useMWReQLMessageRequestBlockedComposerConfiguration"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.memo;function c(e){var t=o("react-compiler-runtime").c(14),n=r("useMWPReQLNullComposerConfiguration")(e),a=r("useMWPDisablePageComposerConfiguration")(e),i=r("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(e),l=r("useMWReQLCutoverComposerConfiguration")(e),s=r("useMWPBlockedComposerConfiguration")(e),u=r("useMWPRestrictedComposerConfiguration")(e),c=r("useMWPReQLUnavailableComposerConfiguration")(e),d=r("useMWDefaultE2eeComposerConfiguration")(e),m=r("useMWReQLMessageRequestBlockedComposerConfiguration")(e),p=r("useMWAppealableMessageSendComposerBlockConfiguration")(),_=r("useMWMetaAIBlockingComposerConfiguration")(e),f=r("useMWComposerGlimmerOnDraftLoadingState")(e),g=r("useMWPSpectraBlockedComposerConfiguration")(e),h;return t[0]!==n||t[1]!==a||t[2]!==_||t[3]!==f||t[4]!==g||t[5]!==i||t[6]!==l||t[7]!==s||t[8]!==u||t[9]!==c||t[10]!==d||t[11]!==m||t[12]!==p?(h=[n,a,i,l,s,u,c,d,m,p,_,f,g],t[0]=n,t[1]=a,t[2]=_,t[3]=f,t[4]=g,t[5]=i,t[6]=l,t[7]=s,t[8]=u,t[9]=c,t[10]=d,t[11]=m,t[12]=p,t[13]=h):h=t[13],h}function d(e){var t=o("react-compiler-runtime").c(8),a=e.afterSendMessage,i=e.isPreviewThread,l=e.thread,u=r("useMAWEditMessageData")(),c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u!=null?u.threadType:l.threadType);if(n("cr:9773")!=null&&c){var d;return t[0]!==a||t[1]!==i||t[2]!==l?(d=s.jsx(n("cr:9773"),{afterSendMessage:a,isPreviewThread:i,thread:l}),t[0]=a,t[1]=i,t[2]=l,t[3]=d):d=t[3],d}else{var m;return t[4]!==a||t[5]!==i||t[6]!==l?(m=s.jsx(r("MWV2OpenComposer.react"),{afterSendMessage:a,isPreviewThread:i,thread:l}),t[4]=a,t[5]=i,t[6]=l,t[7]=m):m=t[7],m}}var m=u(d);function p(e){var t=o("react-compiler-runtime").c(8),n=e.afterSendMessage,a=e.isPreviewThread,i=e.thread,l=n===void 0?r("emptyFunction"):n,u=c(i),d;t[0]!==l||t[1]!==a||t[2]!==i?(d=function(){return s.jsx(m,{afterSendMessage:l,isPreviewThread:a,thread:i})},t[0]=l,t[1]=a,t[2]=i,t[3]=d):d=t[3];var p;return t[4]!==u||t[5]!==d||t[6]!==i?(p=s.jsx(r("MWPComposerGating.react"),{configurations:u,isMessengerInbox:!1,renderComposer:d,thread:i}),t[4]=u,t[5]=d,t[6]=i,t[7]=p):p=t[7],p}function _(e){var t=o("react-compiler-runtime").c(8),n=e.afterSendMessage,a=e.isPreviewThread,i=e.thread,l=c(i),u;t[0]!==n||t[1]!==a||t[2]!==i?(u=function(){return s.jsx(m,{afterSendMessage:n,isPreviewThread:a,thread:i})},t[0]=n,t[1]=a,t[2]=i,t[3]=u):u=t[3];var d;return t[4]!==l||t[5]!==u||t[6]!==i?(d=s.jsx(r("MWPComposerGating.react"),{configurations:l,isMessengerInbox:!0,renderComposer:u,thread:i}),t[4]=l,t[5]=u,t[6]=i,t[7]=d):d=t[7],d}l.MWChatComposerGating=p,l.MWInboxComposerGating=_}),98);
__d("useOtherContactFromOneToOneThread",["Actor","I64","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(6),a=(u||(u=r("useReStore")))(),l=o("Actor").useActor(),c=l[0],m,p;return n[0]!==c||n[1]!==a||n[2]!==t.threadKey||n[3]!==t.threadType?(m=function(){return(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(5))||o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").leftJoin(o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t.threadKey).take(2).filter(function(t){var n=t.contactId;return(e||(e=o("I64"))).to_string(n)!==c}),o("ReQL").fromTableAscending(a.tables.contacts)).map(d):o("ReQL").empty()},p=[c,a,t.threadKey,t.threadType],n[0]=c,n[1]=a,n[2]=t.threadKey,n[3]=t.threadType,n[4]=m,n[5]=p):(m=n[4],p=n[5]),o("ReQLSuspense").useFirst(m,p,i.id+":29")}function d(e){var t=e[1];return t}l.useOtherContactFromOneToOneThread=c}),98);
__d("MWLSChatTabHeaderDetails.react",["fbt","BaseMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadTitle.react","LSVerificationBadge.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleMutedIcon.react","MWGenAIUtils","MWInboxHeaderDetailsUnifiedPresenceStatusText.react","MWLSContactTypeExactUtils","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils","cr:112","cr:4703","react","react-compiler-runtime","useMWChatCalculateIsMutedFromExpireTime","useMWIsStaleCall","useOtherContactFromOneToOneThread"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m={item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1dyh7pn"},t[0]=a):a=t[0];var i;return t[1]!==n?(i=d.jsx(r("MWXText.react"),{align:"center",numberOfLines:1,type:"meta3",children:d.jsx("div",babelHelpers.extends({},a,{children:n}))}),t[1]=n,t[2]=i):i=t[2],i}function _(e){var t=o("react-compiler-runtime").c(52),a=e.thread,i=e.threadNameSize,l=o("useOtherContactFromOneToOneThread").useOtherContactFromOneToOneThread(a),_=a.memberCount,f=a.muteCallsExpireTimeMs,g=a.muteExpireTimeMs,h=a.nullstateDescriptionText1,y=a.ongoingCallState,C=a.ongoingCallTimestampMs,b=a.threadKey,v=a.threadType,S;t[0]!==l?(S=l!=null&&o("MWLSContactTypeExactUtils").isIgContact(l.contactTypeExact)?l.secondaryName:null,t[0]=l,t[1]=S):S=t[1];var R=S,L;t[2]!==v?(L=o("MWCMThreadTypes.react").isJoinedCMThread(v),t[2]=v,t[3]=L):L=t[3];var E=L,k;t[4]!==v?(k=o("LSMessagingThreadTypeUtil").isJoinedSocialChannel(v),t[4]=v,t[5]=k):k=t[5];var I=k,T;t[6]!==b?(T=o("MWGenAIUtils").isMetaAIThread(b),t[6]=b,t[7]=T):T=t[7];var D=T,x;t[8]!==f||t[9]!==g||t[10]!==v?(x=o("MessengerMuteUtils").calcMuteUntilMs({muteCallsExpireTimeMs:f,muteExpireTimeMs:g,threadType:v}),t[8]=f,t[9]=g,t[10]=v,t[11]=x):x=t[11];var $=x,P=r("useMWChatCalculateIsMutedFromExpireTime")($),N=!(u||(u=o("I64"))).equal(y,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").NO_ONGOING_CALL)),M;t[12]!==v?(M=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(v),t[12]=v,t[13]=M):M=t[13];var w=M,A;t[14]!==v?(A=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(v),t[14]=v,t[15]=A):A=t[15];var F=A,O=r("useMWIsStaleCall")(v,N,C!=null?C:(u||(u=o("I64"))).zero),B;t[16]===Symbol.for("react.memo_cache_sentinel")?(B={className:"x1djpfga x1im30kd"},t[16]=B):B=t[16];var W;t[17]===Symbol.for("react.memo_cache_sentinel")?(W=d.jsx("div",babelHelpers.extends({},B,{children:d.jsx(p,{children:d.jsx(r("BaseMiddot.react"),{})})})),t[17]=W):W=t[17];var q=W,U,V;t[18]===Symbol.for("react.memo_cache_sentinel")?(U={className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b"},V={className:"x6s0dn4 x78zum5 x193iq5w"},t[18]=U,t[19]=V):(U=t[18],V=t[19]);var H;t[20]===Symbol.for("react.memo_cache_sentinel")?(H={className:"xxymvpz x1dyh7pn"},t[20]=H):H=t[20];var G;t[21]!==a?(G=d.jsx(r("LSThreadTitle.react"),{thread:a}),t[21]=a,t[22]=G):G=t[22];var z;t[23]!==F||t[24]!==E||t[25]!==a.threadKey?(z=!F&&!E&&d.jsx(r("LSVerificationBadge.react"),{size:"small",threadKey:a.threadKey}),t[23]=F,t[24]=E,t[25]=a.threadKey,t[26]=z):z=t[26];var j;t[27]!==z?(j=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderDetails.ThreadVerificationBadge",children:z}),t[27]=z,t[28]=j):j=t[28];var K;t[29]!==G||t[30]!==j?(K=d.jsxs("span",babelHelpers.extends({},H,{children:[G,j]})),t[29]=G,t[30]=j,t[31]=K):K=t[31];var Q;t[32]!==K||t[33]!==i?(Q=d.jsx("div",babelHelpers.extends({},V,{children:d.jsx(r("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:i,children:K})})),t[32]=K,t[33]=i,t[34]=Q):Q=t[34];var X;t[35]!==R||t[36]!==w||t[37]!==E||t[38]!==D||t[39]!==P||t[40]!==N||t[41]!==I||t[42]!==O||t[43]!==_||t[44]!==h||t[45]!==a||t[46]!==b||t[47]!==v?(X=w&&n("cr:112")?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(p,{children:d.jsx(n("cr:112"),{memberCount:_!=null?(u||(u=o("I64"))).to_int32(_):0})})]}):I?n("cr:4703")!=null&&_!=null?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(p,{children:d.jsx(n("cr:4703"),{count:(u||(u=o("I64"))).to_int32(_)})})]}):null:E?d.jsxs(r("CometPlaceholder.react"),{fallback:d.jsx(r("MWVerticalRhythm"),{height:15}),name:"MWLSChatTabHeaderDetails.CommunityGroupName",children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:d.jsx(p,{children:d.jsx(r("MWCMInboxHeaderCommunityGroupName.react"),{thread:a})})})]}):D?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(p,{children:h})]}):N&&!O?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsxs(r("MWSeparatorContainer.react"),{separator:q,xstyle:m.item,children:[R!=null?d.jsx(p,{children:R}):null,d.jsx(p,{children:s._(/*BTDS*/"Ongoing call")}),P?d.jsx(r("MWChatHeaderDetailsSubtitleMutedIcon.react"),{}):null]})]}):d.jsx(r("MWInboxHeaderDetailsUnifiedPresenceStatusText.react"),{igHandle:R,isMuted:P,threadKey:b,threadType:v}),t[35]=R,t[36]=w,t[37]=E,t[38]=D,t[39]=P,t[40]=N,t[41]=I,t[42]=O,t[43]=_,t[44]=h,t[45]=a,t[46]=b,t[47]=v,t[48]=X):X=t[48];var Y;return t[49]!==Q||t[50]!==X?(Y=d.jsxs("div",babelHelpers.extends({},U,{children:[Q,X]})),t[49]=Q,t[50]=X,t[51]=Y):Y=t[51],Y}l.default=_}),226);
__d("MWLSContactLink.react",["CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","MWXPressable.react","getLSContactHref","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={expanding:{display:"x78zum5",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(19),n=e.children,a=e.contact,i=e.isText,l=e.label,c=e.testid,d=i===void 0?!0:i,m=a.blockedByViewerStatus,p=a.contactTypeExact,_=a.id,f=a.secondaryName,g=f!=null?f:void 0,h;t[0]!==m||t[1]!==p||t[2]!==_||t[3]!==g?(h=r("getLSContactHref")({blockedByViewerStatus:m,contactTypeExact:p,id:_,secondaryName:g}),t[0]=m,t[1]=p,t[2]=_,t[3]=g,t[4]=h):h=t[4];var y=h,C=o("MWLSContactTypeExactUtils").isIgContact(p),b=!r("CurrentEnvironment").facebookdotcom||C?"_blank":void 0;if(d){var v;return t[5]!==n||t[6]!==l||t[7]!==b||t[8]!==c||t[9]!==y?(v=s.jsx(r("MWXLink.react"),{href:y,label:l,target:b,testid:void 0,children:n}),t[5]=n,t[6]=l,t[7]=b,t[8]=c,t[9]=y,t[10]=v):v=t[10],v}var S;t[11]!==b||t[12]!==y?(S={target:b,url:y},t[11]=b,t[12]=y,t[13]=S):S=t[13];var R;return t[14]!==n||t[15]!==l||t[16]!==S||t[17]!==c?(R=s.jsx(r("MWXPressable.react"),{expanding:!0,label:l,linkProps:S,overlayRadius:"normal",testid:void 0,xstyle:u.expanding,children:n}),t[14]=n,t[15]=l,t[16]=S,t[17]=c,t[18]=R):R=t[18],R}l.default=c}),98);
__d("useOtherParticipantOrSelfContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(10),a=(s||(s=r("useReStore")))(),l=t.threadKey,u=t.threadType,d=o("MWPActor.react").useActor(),m,p;n[0]!==a||n[1]!==l||n[2]!==u?(m=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(u)?o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(l).map(c).take(2):o("ReQL").empty()},p=[a,l,u],n[0]=a,n[1]=l,n[2]=u,n[3]=m,n[4]=p):(m=n[3],p=n[4]);var _=o("ReQLSuspense").useArray(m,p,i.id+":28");if(_.length===0)return null;if(_.length===1)return _[0];var f;if(n[5]!==d||n[6]!==_){var g;n[8]!==d?(g=function(n){return!(e||(e=o("I64"))).equal(n,d)},n[8]=d,n[9]=g):g=n[9],f=_.find(g),n[5]=d,n[6]=_,n[7]=f}else f=n[7];return f}function c(e){return e.contactId}function d(e){var t=o("react-compiler-runtime").c(4),n=(s||(s=r("useReStore")))(),a=u(e),l,c;return t[0]!==a||t[1]!==n?(l=function(){return a==null?o("ReQL").empty():o("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(a)},c=[n,a],t[0]=a,t[1]=n,t[2]=l,t[3]=c):(l=t[2],c=t[3]),o("ReQLSuspense").useFirst(l,c,i.id+":51")}l.useOtherParticipantOrSelfContact=d}),98);
__d("MWLSChatTabHeaderDetailsPressable.react",["fbt","CometPressable.react","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSContactLink.react","MWLSGroupMembershipDialog.entrypoint","MWXTooltip.react","ReQL","ReQLSuspense","XCometVanityURLControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher","useCommunityFolder","useMWAriaLabelForThread","useMWXEntryPointDialog","useOtherParticipantOrSelfContact","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useRef,p={title:{maxWidth:"x193iq5w",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(16),a=t.children,l=t.thread,s=r("useCometRouterDispatcher")(),c=(e||(e=r("useReStore")))(),_;n[0]!==c.tables.participants||n[1]!==l.threadKey?(_=function(){return o("ReQL").fromTableAscending(c.tables.participants,["isSuperAdmin","contactId"]).getKeyRange(l.threadKey).take(2)},n[0]=c.tables.participants,n[1]=l.threadKey,n[2]=_):_=n[2];var g;n[3]!==c||n[4]!==l.threadKey?(g=[c,l.threadKey],n[3]=c,n[4]=l.threadKey,n[5]=g):g=n[5];var h=o("ReQLSuspense").useArray(_,g,i.id+":56"),y=r("useMWAriaLabelForThread")(l),C=l.snippetSenderContactId,b=m(null),v;n[6]!==h?(v=h.find(f),n[6]=h,n[7]=v):v=n[7];var S=v,R;n[8]!==(S==null?void 0:S.contactId)||n[9]!==s||n[10]!==C?(R=function(){var e=C!=null?C:S==null?void 0:S.contactId;if(e!=null){var t=(r("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+r("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(u||(u=o("I64"))).to_string(e)}).toString();s==null||s.go(t,{})}},n[8]=S==null?void 0:S.contactId,n[9]=s,n[10]=C,n[11]=R):R=n[11];var L;return n[12]!==a||n[13]!==y||n[14]!==R?(L=d.jsx(r("CometPressable.react"),{"aria-label":y,onPress:R,overlayDisabled:!0,ref:b,xstyle:p.title,children:a}),n[12]=a,n[13]=y,n[14]=R,n[15]=L):L=n[15],L}function f(e){return e.isSuperAdmin===!0}function g(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.thread,i=r("useMWAriaLabelForThread")(a),l=r("useCommunityFolder")(a),c=m(null),_;if(t[0]!==(l==null?void 0:l.fbGroupId)){var f;_=(u||(u=o("I64"))).to_string((f=l==null?void 0:l.fbGroupId)!=null?f:(u||(u=o("I64"))).zero),t[0]=l==null?void 0:l.fbGroupId,t[1]=_}else _=t[1];var g;t[2]!==_?(g={groupID:_},t[2]=_,t[3]=g):g=t[3];var h=r("useMWXEntryPointDialog")(r("MWLSGroupMembershipDialog.entrypoint"),g),y=h[0],C;t[4]!==l||t[5]!==y?(C=function(){return y({folder:l!=null?l:void 0})},t[4]=l,t[5]=y,t[6]=C):C=t[6];var b;t[7]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Members"),t[7]=b):b=t[7];var v;t[8]!==n?(v=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:b,children:n}),t[8]=n,t[9]=v):v=t[9];var S;return t[10]!==i||t[11]!==C||t[12]!==v?(S=d.jsx(r("CometPressable.react"),{"aria-label":i,onPress:C,overlayDisabled:!0,ref:c,xstyle:p.title,children:v}),t[10]=i,t[11]=C,t[12]=v,t[13]=S):S=t[13],S}function h(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.thread,i=o("LSThreadBitOffset").has(8,a),l=o("useOtherParticipantOrSelfContact").useOtherParticipantOrSelfContact(a);if(o("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&l==null&&r("FBLogger")("meteora").warn("Missing other participant in one-to-one thread."),l==null||!i)return n;var s=l.name,u;t[0]!==n||t[1]!==s?(u=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:s,children:n}),t[0]=n,t[1]=s,t[2]=u):u=t[2];var c;return t[3]!==s||t[4]!==l||t[5]!==u?(c=d.jsx(r("MWLSContactLink.react"),{contact:l,isText:!1,label:s,children:u}),t[3]=s,t[4]=l,t[5]=u,t[6]=c):c=t[6],c}function y(e){var t=o("react-compiler-runtime").c(9),n=e.children,r=e.thread,a=r.threadSubtype,i=r.threadType,l=o("LSThreadBitOffset").has(26,r);if(o("LSMessagingThreadTypeUtil").isBusinessSupportThread(a!=null?a:void 0))return n;if(o("LSMessagingThreadTypeUtil").isOneToOne(i)){var s;return t[0]!==n||t[1]!==r?(s=d.jsx(h,{thread:r,children:n}),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}if(o("LSMessagingThreadTypeUtil").isGroup(i)&&l){var u;return t[3]!==n||t[4]!==r?(u=d.jsx(g,{thread:r,children:n}),t[3]=n,t[4]=r,t[5]=u):u=t[5],u}if(o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(i)){var c;return t[6]!==n||t[7]!==r?(c=d.jsx(_,{thread:r,children:n}),t[6]=n,t[7]=r,t[8]=c):c=t[8],c}return n}l.default=y}),226);
__d("usePresenceUnifiedIsThreadActiveForContactIds",["I64","PresenceCommonPresenceCommonTypes","react","react-compiler-runtime","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(9),n=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),r=o("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),a,i;t[0]!==e||t[1]!==r?(a=function(){r==null||r.addAdditionalContacts(e.map(d))},i=[e,r],t[0]=e,t[1]=r,t[2]=a,t[3]=i):(a=t[2],i=t[3]),u(a,i);var l;if(t[4]!==e||t[5]!==n){var c;t[7]!==n?(c=function(t){var e;return((e=n.get((s||(s=o("I64"))).to_string(t)))==null?void 0:e.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active},t[7]=n,t[8]=c):c=t[8],l=e.some(c),t[4]=e,t[5]=n,t[6]=l}else l=t[6];return l}function d(e){return(s||(s=o("I64"))).to_string(e)}l.default=c}),98);
__d("useMWLSMQTTPresence",["Actor","I64","ReQL","ReQLSuspense","react-compiler-runtime","usePresenceUnifiedIsThreadActiveForContactIds","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(5),a=(s||(s=r("useReStore")))(),l=o("Actor").useActor(),u=l[0],d,m;n[0]!==u||n[1]!==a.tables.participants||n[2]!==t?(d=function(){return o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t).map(c).filter(function(t){return t!=null&&(e||(e=o("I64"))).to_string(t)!==u})},m=[u,a.tables.participants,t],n[0]=u,n[1]=a.tables.participants,n[2]=t,n[3]=d,n[4]=m):(d=n[3],m=n[4]);var p=o("ReQLSuspense").useArray(d,m,i.id+":25");return r("usePresenceUnifiedIsThreadActiveForContactIds")(p)}function c(e){return e==null?void 0:e.contactId}l.default=u}),98);
__d("MWPLSPresenceBadge.react",["MWPPresenceBadge.react","react","react-compiler-runtime","useMWLSMQTTPresence"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.borderThemeColor,a=e.size,i=e.threadKey,l=r("useMWLSMQTTPresence")(i),u;return t[0]!==n||t[1]!==l||t[2]!==a?(u=s.jsx(r("MWPPresenceBadge.react"),{borderThemeColor:n,isActiveStatePresence:l,size:a}),t[0]=n,t[1]=l,t[2]=a,t[3]=u):u=t[3],u}l.default=u}),98);
__d("MWLSChatTabHeaderCustomPicture.react",["CometPlaceholder.react","FDSFacepilePhoto.react","MWPLSPresenceBadge.react","react","react-compiler-runtime","translatedServerString","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(17),n=e.badgeSize,a=e.photoSize,i=e.thread,l=e.threadPictureUrl,c=e.withAltText,d=r("useLSGetThreadTitle.react")(i),m=d.threadTitle,p;t[0]!==n||t[1]!==i?(p=i!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderCustomPicture",children:s.jsx(r("MWPLSPresenceBadge.react"),{borderThemeColor:u.borderThemeColor,size:n,threadKey:i.threadKey})}):null,t[0]=n,t[1]=i,t[2]=p):p=t[2];var _=p,f;t[3]!==m||t[4]!==c?(f=c===!0&&m!=null?r("translatedServerString")(m):void 0,t[3]=m,t[4]=c,t[5]=f):f=t[5];var g;t[6]!==m||t[7]!==c?(g=c===!0&&m!=null?r("translatedServerString")(m):void 0,t[6]=m,t[7]=c,t[8]=g):g=t[8];var h;t[9]!==g||t[10]!==l?(h=[{alt:g,disabled:!1,source:l}],t[9]=g,t[10]=l,t[11]=h):h=t[11];var y;return t[12]!==_||t[13]!==a||t[14]!==f||t[15]!==h?(y=s.jsx(r("FDSFacepilePhoto.react"),{badge:_,label:f,size:a,sources:h,totalItems:1}),t[12]=_,t[13]=a,t[14]=f,t[15]=h,t[16]=y):y=t[16],y}l.default=c}),98);
__d("MWLSChatTabHeaderCustomPictureCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.communityFolder,a=e.photoSize,i=e.threadPictureUrl,l=n.pictureUrl,u=n.pictureUrlExpirationTimestampMs,c=n.pictureUrlFallback,d=l!=null?l:void 0,m=u!=null?u:void 0,p=c!=null?c:void 0,_;t[0]!==d||t[1]!==m||t[2]!==p?(_={pictureUrl:d,pictureUrlExpirationTimestampMs:m,pictureUrlFallback:p},t[0]=d,t[1]=m,t[2]=p,t[3]=_):_=t[3];var f;return t[4]!==a||t[5]!==_||t[6]!==i?(f=s.jsx(r("MWCMThreadPictureCustomThreadCommunity.react"),{community:_,photoSize:a,threadPictureUrl:i}),t[4]=a,t[5]=_,t[6]=i,t[7]=f):f=t[7],f}l.default=u}),98);
__d("MWLSChatTabHeaderFacepile.react",["CometPlaceholder.react","MWFacepile.react","MWPLSPresenceBadge.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(12),n=e.ariaHidden,a=e.badgeSize,i=e.label,l=e.onlyAuthoratitiveContacts,c=e.photoSize,d=e.thread,m=e.withAltText,p=l===void 0?!1:l,_=c===void 0?32:c,f=m===void 0?!0:m,g=d.threadKey,h=d.threadType,y;t[0]!==a||t[1]!==g?(y=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderFacepile",children:s.jsx(r("MWPLSPresenceBadge.react"),{borderThemeColor:u.borderThemeColor,size:a,threadKey:g})}),t[0]=a,t[1]=g,t[2]=y):y=t[2];var C=y,b;return t[3]!==C||t[4]!==n||t[5]!==i||t[6]!==p||t[7]!==_||t[8]!==g||t[9]!==h||t[10]!==f?(b=s.jsx(r("MWFacepile.react"),{actualBadge:C,ariaHidden:n,label:i,onlyAuthoratitiveContacts:p,photoSize:_,threadKey:g,threadType:h,withAltText:f}),t[3]=C,t[4]=n,t[5]=i,t[6]=p,t[7]=_,t[8]=g,t[9]=h,t[10]=f,t[11]=b):b=t[11],b}l.default=c}),98);
__d("MWLSChatTabHeaderPicture.react",["MWLSChatTabHeaderCustomPicture.react","MWLSChatTabHeaderCustomPictureCommunity.react","MWLSChatTabHeaderFacepile.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(19),a=t.ariaHidden,l=t.badgeSize,s=t.photoSize,c=t.thread,d=(e||(e=r("useReStore")))(),m,p;n[0]!==d.tables.community_folders||n[1]!==c.parentThreadKey?(m=function(){return o("ReQL").fromTableAscending(d.tables.community_folders,["pictureUrl","pictureUrlExpirationTimestampMs","pictureUrlFallback"]).getKeyRange(c.parentThreadKey)},p=[d.tables.community_folders,c.parentThreadKey],n[0]=d.tables.community_folders,n[1]=c.parentThreadKey,n[2]=m,n[3]=p):(m=n[2],p=n[3]);var _=o("ReQLSuspense").useFirst(m,p,i.id+":40"),f=c.threadPictureUrl,g=c.threadPictureUrlExpirationTimestampMs,h=c.threadPictureUrlFallback,y=f!=null?f:void 0,C=g!=null?g:void 0,b=h!=null?h:void 0,v;n[4]!==y||n[5]!==C||n[6]!==b?(v=r("getLSMediaThreadPictureUrl")({threadPictureUrl:y,threadPictureUrlExpirationTimestampMs:C,threadPictureUrlFallback:b}),n[4]=y,n[5]=C,n[6]=b,n[7]=v):v=n[7];var S=v;if(S!=null){var R;return n[8]!==l||n[9]!==_||n[10]!==s||n[11]!==S||n[12]!==c?(R=_!=null?u.jsx(r("MWLSChatTabHeaderCustomPictureCommunity.react"),{badgeSize:l,communityFolder:_,photoSize:s,threadPictureUrl:S}):u.jsx(r("MWLSChatTabHeaderCustomPicture.react"),{badgeSize:l,photoSize:s,thread:c,threadPictureUrl:S}),n[8]=l,n[9]=_,n[10]=s,n[11]=S,n[12]=c,n[13]=R):R=n[13],R}var L;return n[14]!==a||n[15]!==l||n[16]!==s||n[17]!==c?(L=u.jsx(r("MWLSChatTabHeaderFacepile.react"),{ariaHidden:a,badgeSize:l,photoSize:s,thread:c}),n[14]=a,n[15]=l,n[16]=s,n[17]=c,n[18]=L):L=n[18],L}l.default=c}),98);
__d("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29477693758510886"}),null);
__d("MWV2HeaderGroupSettingsSectionQuery$Parameters",["MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"),metadata:{},name:"MWV2HeaderGroupSettingsSectionQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWV2HeaderSettingsMenu.entrypoint",["JSResourceForInteraction","MWV2HeaderGroupSettingsSectionQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID;return{queries:{headerSettingsMenuQueryRef:{parameters:r("MWV2HeaderGroupSettingsSectionQuery$Parameters"),variables:{groupID:e!=null?e:""}}}}},root:r("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsMenu.entrypoint")};l.default=e}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["I64","MWV2HeaderSettingsMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(17),a=e.children,i=e.folderFbGroupId,l=e.pushPage,c=e.tab,d=e.thread,m=d.threadKey,p=d.threadType,_=r("MessengerWebUXLogger").useImpressionLogger(),f;t[0]!==i?(f=i!=null?(s||(s=o("I64"))).to_string(i):void 0,t[0]=i,t[1]=f):f=t[1];var g=f,h=r("qex")._("2998")?"button_aggressive":"button",y;t[2]!==g?(y={groupID:g},t[2]=g,t[3]=y):y=t[3];var C;t[4]!==_||t[5]!==m||t[6]!==p?(C=function(t){n("cr:2580")&&t&&(n("cr:2580")({threadKey:m,threadType:p},"open_thread_settings_menu","popup_chat_box"),_==null||_({eventName:"thread_settings_menu_impression",threadKey:m,threadType:p}))},t[4]=_,t[5]=m,t[6]=p,t[7]=C):C=t[7];var b;t[8]!==l||t[9]!==c||t[10]!==m?(b={onClose:r("emptyFunction"),pushPage:l,tab:c,threadKey:m},t[8]=l,t[9]=c,t[10]=m,t[11]=b):b=t[11];var v;return t[12]!==a||t[13]!==y||t[14]!==C||t[15]!==b?(v=u.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:u.jsx(r("MWXEntryPointPopoverTrigger.react"),{entryPointParams:y,onVisibilityChange:C,otherProps:b,popoverEntryPoint:r("MWV2HeaderSettingsMenu.entrypoint"),position:"start",preloadTrigger:h,children:a})}),t[12]=a,t[13]=y,t[14]=C,t[15]=b,t[16]=v):v=t[16],v}l.default=c}),98);
__d("useMWCMIssueCommunityMemberListFetch",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","pageID","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n){var a=o("react-compiler-runtime").c(5),l=(u||(u=r("useReStore")))(),c,d;return a[0]!==l||a[1]!==t||a[2]!==n?(c=function(){r("promiseDone")(l.runInTransaction(function(a){return r("LSIssueCommunityMemberListFetchStoredProcedure")(r("LSFactory")(a),{communityId:t,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(e||(e=o("I64"))).zero,nextPageCursor:"",requestId:r("pageID"),roles:r("LSVec").ofArray([(s||(s=o("LSIntEnum"))).ofNumber(0)]),source:s.ofNumber(7),threadKey:n,threadRoles:r("LSVec").ofArray([])})},"readwrite",void 0,void 0,i.id+":33"))},d=[l,t,n],a[0]=l,a[1]=t,a[2]=n,a[3]=c,a[4]=d):(c=a[3],d=a[4]),o("Int64Hooks").useCallbackInt64(c,d)}l.default=c}),98);
__d("useMWV2HeaderSettingsPopover",["LSFactory","LSFetchAdditionalThreadDataStoredProcedure","MWCMThreadTypes.react","ODS","getMWV2HeaderSettingsPopoverTooltip","promiseDone","react-compiler-runtime","useAsyncReStore","useMWCMIssueCommunityMemberListFetch"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(12),a=t.fbGroupId,l=t.threadKey,s=t.threadType,u;n[0]!==s?(u=r("getMWV2HeaderSettingsPopoverTooltip")({threadType:s}),n[0]=s,n[1]=u):u=n[1];var c=u,d=r("useAsyncReStore")(),m=r("useMWCMIssueCommunityMemberListFetch")(a,l),p;n[2]!==s?(p=o("MWCMThreadTypes.react").isJoinedCMThread(s),n[2]=s,n[3]=p):p=n[3];var _=p,f;n[4]!==d||n[5]!==_||n[6]!==m||n[7]!==l?(f=function(n){n(),_&&(m(),r("promiseDone")(d,function(e){return e.runInTransaction(function(e){return r("LSFetchAdditionalThreadDataStoredProcedure")(r("LSFactory")(e),{threadKey:l})},"readwrite",void 0,void 0,i.id+":56")})),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_header","settings")},n[4]=d,n[5]=_,n[6]=m,n[7]=l,n[8]=f):f=n[8];var g;return n[9]!==f||n[10]!==c?(g={showDialog:f,tooltip:c},n[9]=f,n[10]=c,n[11]=g):g=n[11],g}l.default=s}),98);
__d("MWV2HeaderSettingsButton.react",["MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime","useMWV2HeaderSettingsPopover"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={icon:{marginInlineStart:"x13fj5qh",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginInlineEnd:"x1xegmmw",minWidth:"xeuugli",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(18),n=e.children,a=e.folderFbGroupId,i=e.pushPage,l=e.tab,c=e.thread,d=c.threadKey,m=c.threadType,p=a!=null?a:d,_;t[0]!==p||t[1]!==d||t[2]!==m?(_={fbGroupId:p,threadKey:d,threadType:m},t[0]=p,t[1]=d,t[2]=m,t[3]=_):_=t[3];var f=r("useMWV2HeaderSettingsPopover")(_),g=f.showDialog,h=f.tooltip,y;t[4]!==d||t[5]!==m?(y={eventName:"open_setting_from_chat_tab",threadKey:d,threadType:m},t[4]=d,t[5]=m,t[6]=y):y=t[6];var C=y,b;t[7]!==n||t[8]!==C||t[9]!==g||t[10]!==h?(b=function(t,o,a,i,l,c,d){return s.jsx(r("MWXPressable.react"),{"aria-label":h,loggingEvent:C,onHoverIn:i,onHoverOut:l,onPress:function(){return g(o)},onPressIn:c,overlayRadius:"compact",ref:t,testid:void 0,xstyle:u.settingsButton,children:s.jsx(r("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:s.jsxs(r("MDSRowItem.react"),{expanding:!0,xstyle:u.rowItem,children:[n,s.jsx(r("MWV2HeaderSettingsButtonChevron.react"),{xstyle:u.icon})]})})})},t[7]=n,t[8]=C,t[9]=g,t[10]=h,t[11]=b):b=t[11];var v;return t[12]!==a||t[13]!==i||t[14]!==b||t[15]!==l||t[16]!==c?(v=s.jsx(r("MWV2HeaderSettingsPopoverTrigger.react"),{folderFbGroupId:a,pushPage:i,tab:l,thread:c,children:b}),t[12]=a,t[13]=i,t[14]=b,t[15]=l,t[16]=c,t[17]=v):v=t[17],v}l.default=c}),98);
__d("MWLSChatTabHeaderSettingsButton.react",["LSMessagingThreadTypeUtil","MWV2HeaderSettingsButton.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(21),a=t.children,l=t.pushPage,s=t.tab,c=t.thread,d=(e||(e=r("useReStore")))(),m;n[0]!==d.tables.cutover_threads||n[1]!==c.threadKey?(m=function(){return o("ReQL").fromTableAscending(d.tables.cutover_threads).getKeyRange(c.threadKey)},n[0]=d.tables.cutover_threads,n[1]=c.threadKey,n[2]=m):m=n[2];var p;n[3]!==d||n[4]!==c.threadKey?(p=[d,c.threadKey],n[3]=d,n[4]=c.threadKey,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(m,p,i.id+":36"),f;n[6]!==d.tables.community_folders||n[7]!==c.parentThreadKey?(f=function(){return o("ReQL").fromTableAscending(d.tables.community_folders,["fbGroupId"]).getKeyRange(c.parentThreadKey)},n[6]=d.tables.community_folders,n[7]=c.parentThreadKey,n[8]=f):f=n[8];var g;n[9]!==d||n[10]!==c.parentThreadKey?(g=[d,c.parentThreadKey],n[9]=d,n[10]=c.parentThreadKey,n[11]=g):g=n[11];var h=o("ReQLSuspense").useFirst(f,g,i.id+":43"),y=_!=null,C=c.threadKey,b=c.threadSubtype,v=c.threadType;if(y===!0||o("LSMessagingThreadTypeUtil").isBusinessSupportThread(b!=null?b:void 0))return a;var S=h==null?void 0:h.fbGroupId,R;n[12]!==C||n[13]!==v?(R={threadKey:C,threadType:v},n[12]=C,n[13]=v,n[14]=R):R=n[14];var L;return n[15]!==a||n[16]!==l||n[17]!==S||n[18]!==R||n[19]!==s?(L=u.jsx(r("MWV2HeaderSettingsButton.react"),{children:a,folderFbGroupId:S,pushPage:l,tab:s,thread:R}),n[15]=a,n[16]=l,n[17]=S,n[18]=R,n[19]=s,n[20]=L):L=n[20],L}l.default=c}),98);
__d("MWLSChatTabHeaderDetailsContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MWLSChatTabHeaderDetails.react","MWLSChatTabHeaderDetailsPressable.react","MWLSChatTabHeaderPicture.react","MWLSChatTabHeaderSettingsButton.react","MWXRow.react","MWXRowItem.react","MWXTooltip.react","cr:10559","getMWV2HeaderSettingsPopoverTooltip","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.memo,m={detailsContainer:{marginInlineStart:"xw01apr",marginInlineEnd:"x1ws5yxj",marginLeft:null,marginRight:null,paddingInlineStart:"xyiysdx",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(29),a=e.badgeSize,i=e.photoSize,l=e.pushPage,d=e.tab,p=e.thread,g=e.threadNameSize,h=a===void 0?10:a,y=i===void 0?40:i,C=g===void 0?"headlineEmphasized3":g,b;t[0]!==p.threadType?(b=r("getMWV2HeaderSettingsPopoverTooltip")({threadType:p.threadType}),t[0]=p.threadType,t[1]=b):b=t[1];var v=b,S;t[2]!==h||t[3]!==y||t[4]!==p?(S=c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWLSChatTabHeaderPicture.react"),{badgeSize:h,photoSize:y,thread:p})}),t[2]=h,t[3]=y,t[4]=p,t[5]=S):S=t[5];var R=S,L;t[6]!==p||t[7]!==C?(L=c.jsx(r("MWLSChatTabHeaderDetails.react"),{thread:p,threadNameSize:C}),t[6]=p,t[7]=C,t[8]=L):L=t[8];var E;t[9]!==L||t[10]!==v?(E=c.jsx(r("MWXRowItem.react"),{expanding:!0,xstyle:m.detailsContainer,children:c.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:v,children:L})}),t[9]=L,t[10]=v,t[11]=E):E=t[11];var k=E,I;t[12]!==l||t[13]!==d||t[14]!==p?(I=n("cr:10559")!=null&&(s||(s=o("I64"))).equal(p.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&c.jsx(r("CometErrorBoundary.react"),{fallback:f,onError:_,children:c.jsx(n("cr:10559"),{pushPage:l,tab:d,thread:p})}),t[12]=l,t[13]=d,t[14]=p,t[15]=I):I=t[15];var T=I,D;t[16]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x9f619 x193iq5w x1yrsyyn x1icxu4v x10b6aqq x25sj25"},t[16]=D):D=t[16];var x;t[17]!==p||t[18]!==R?(x=c.jsx("div",{"data-testid":void 0,children:c.jsx(r("MWLSChatTabHeaderDetailsPressable.react"),{thread:p,children:R})}),t[17]=p,t[18]=R,t[19]=x):x=t[19];var $;t[20]!==l||t[21]!==d||t[22]!==p||t[23]!==k?($=c.jsx(r("MWLSChatTabHeaderSettingsButton.react"),{pushPage:l,tab:d,thread:p,children:k}),t[20]=l,t[21]=d,t[22]=p,t[23]=k,t[24]=$):$=t[24];var P;return t[25]!==T||t[26]!==x||t[27]!==$?(P=c.jsx("div",babelHelpers.extends({},D,{children:c.jsx(r("MWXRow.react"),{align:"start",expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderDetailsContainer",children:c.jsxs(c.Fragment,{children:[T,x,$]})})})})),t[25]=T,t[26]=x,t[27]=$,t[28]=P):P=t[28],P}function _(){return r("FBLogger")("messenger_web_search").mustfix("Error rendering back to search button in chat tab header")}function f(){return null}var g=d(p,o("Int64Hooks").mostlyShallowEqual);l.default=g}),98);
__d("MWV2ChatTabHeaderRTCButtons.react",["Int64Hooks","LSThreadBitOffset","MWReQLChatRTCButtons.react","ODS","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeaderRTCButtons.react");function p(t){var n=o("react-compiler-runtime").c(8),a=t.threadKey,l=g,s=_,u=(e||(e=r("useReStore")))(),d;n[0]!==u.tables.threads||n[1]!==a?(d=function(){return o("ReQL").fromTableAscending(u.tables.threads,["threadKey","threadType","folderName","ongoingCallState","parentThreadKey"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(a)},n[0]=u.tables.threads,n[1]=a,n[2]=d):d=n[2];var m;n[3]!==u||n[4]!==a?(m=[u,a],n[3]=u,n[4]=a,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(d,m,i.id+":49");if(p!=null){var f;return n[6]!==p?(f=c.jsx(r("MWReQLChatRTCButtons.react"),{audioCallingSurface:"comet_chattab_audio_button",logAudio:l,logVideo:s,thread:p,videoCallingSurface:"comet_chattab_video_button"}),n[6]=p,n[7]=f):f=n[7],f}}function _(){(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_header","video"),m.onReady(f)}function f(e){return e.logClick({component:"video_button",surface:"chat_tab"})}function g(){(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_header","audio"),m.onReady(h)}function h(e){return e.logClick({component:"audio_button",surface:"chat_tab"})}var y=c.memo(p,o("Int64Hooks").mostlyShallowEqual);l.default=y}),98);
__d("MWXIconMinus",["MWXSvgIcon","SVGIcon","cr:22402","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22402")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconMinus","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.onPress,a=r("useSetAttributeRef")("data-prevent_chattab_focus","1"),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Minimize chat"),t[0]=i):i=t[0];var l=i,c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),t[1]=c):c=t[1];var d;return t[2]!==n||t[3]!==a?(d=u.jsx(r("MWChatHeaderActionButton.react"),{color:c,icon:r("MWXIconMinus"),iconRatio:"large",label:l,loggingEvent:"minimize_chat_tab",onPress:n,ref:a,tooltipLabel:l}),t[2]=n,t[3]=a,t[4]=d):d=t[4],d}l.default=c}),226);
__d("MWLSChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWChatStateActions","MWChatStateV2.react","MWCreatorMessagingUtils","MWLSChatTabHeaderDetailsContainer.react","MWV2ChatTabHeaderRTCButtons.react","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWXTooltipGroup.react","QPLUserFlow","qpl","react","react-compiler-runtime","useMWV2CloseTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(32),n=e.pushPage,a=e.renderThreadDetails,i=e.tab,l=e.thread,c;t[0]!==l?(c=o("LSThreadBitOffset").has(21,l),t[0]=l,t[1]=c):c=t[1];var d=c,m=l.threadKey,p=l.threadSubtype,_=o("MWChatStateV2.react").useDispatch(),f=r("useMWV2CloseTab")(m,i),g=o("MAWThreadCutover").useIsCutoverOpenThread(m),h;t[2]!==n||t[3]!==i||t[4]!==l?(h=u.jsx(r("MWLSChatTabHeaderDetailsContainer.react"),{photoSize:32,pushPage:n,tab:i,thread:l,threadNameSize:"headlineEmphasized4"}),t[2]=n,t[3]=i,t[4]=l,t[5]=h):h=t[5];var y=h,C;if(g||o("LSMessagingThreadTypeUtil").isBusinessSupportThread(p!=null?p:void 0))C=y;else{var b;t[6]!==y||t[7]!==a?(b=a!=null?a():y,t[6]=y,t[7]=a,t[8]=b):b=t[8],C=b}var v;t[9]!==d||t[10]!==l?(v=function(){l!=null&&o("MWCreatorMessagingUtils").isAPPlusInitiatedThread(l)&&d&&r("QPLUserFlow").endCancel(r("qpl")._(421070823,"2981"),{annotations:{string:{action:"no_action"}},instanceKey:(s||(s=o("I64"))).to_int32(l.threadKey)})},t[9]=d,t[10]=l,t[11]=v):v=t[11];var S=v,R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x6s0dn4 x78zum5 x1lxpwgx"},t[12]=R):R=t[12];var L;t[13]!==m?(L=u.jsx(r("MWV2ChatTabHeaderRTCButtons.react"),{threadKey:m}),t[13]=m,t[14]=L):L=t[14];var E;t[15]!==_||t[16]!==S||t[17]!==i.tabId?(E=u.jsx(r("MWV2HeaderMinimizeButton.react"),{onPress:function(){_(o("MWChatStateActions").minimizeTab(Date.now(),i.tabId)),S()}}),t[15]=_,t[16]=S,t[17]=i.tabId,t[18]=E):E=t[18];var k;t[19]!==f||t[20]!==S?(k=function(){f(),S()},t[19]=f,t[20]=S,t[21]=k):k=t[21];var I="mwchattab-closebutton-"+(s||(s=o("I64"))).to_string(m),T;t[22]!==k||t[23]!==I?(T=u.jsx(r("MWV2HeaderCloseButton.react"),{onPress:k,testid:void 0}),t[22]=k,t[23]=I,t[24]=T):T=t[24];var D;t[25]!==L||t[26]!==E||t[27]!==T?(D=u.jsx(r("MWXTooltipGroup.react"),{children:u.jsxs("div",babelHelpers.extends({},R,{children:[L,E,T]}))}),t[25]=L,t[26]=E,t[27]=T,t[28]=D):D=t[28];var x;return t[29]!==C||t[30]!==D?(x=u.jsx(r("MWV2HeaderContainer.react"),{endContent:D,startContent:C}),t[29]=C,t[30]=D,t[31]=x):x=t[31],x}l.default=c}),98);
__d("MWLSChatTabHeaderRoot.react",["LSThreadBitOffset","MWLSChatTabHeader.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(11),a=t.pushPage,l=t.renderThreadDetails,s=t.tab,c=t.threadKey,d=(e||(e=r("useReStore")))(),m;n[0]!==d.tables.threads||n[1]!==c?(m=function(){return o("ReQL").fromTableAscending(d.tables.threads,["authorityLevel","memberCount","muteCallsExpireTimeMs","muteExpireTimeMs","nullstateDescriptionText1","ongoingCallState","ongoingCallTimestampMs","threadKey","parentThreadKey","threadName","cannotReplyReason","threadType","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadSubtype","snippetSenderContactId","metadata"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(c)},n[0]=d.tables.threads,n[1]=c,n[2]=m):m=n[2];var p;n[3]!==d||n[4]!==c?(p=[d,c],n[3]=d,n[4]=c,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(m,p,i.id+":30");if(_==null)return null;var f;return n[6]!==a||n[7]!==l||n[8]!==s||n[9]!==_?(f=u.jsx(r("MWLSChatTabHeader.react"),{pushPage:a,renderThreadDetails:l,tab:s,thread:_}),n[6]=a,n[7]=l,n[8]=s,n[9]=_,n[10]=f):f=n[10],f}l.default=c}),98);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["messages"],u,c,d=u||(u=o("react")),m=u.useState,p={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(22),a=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),i,l;n[0]!==t?(i=t.messages,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=i,n[2]=l):(i=n[1],l=n[2]);var u=m(!1),_=u[0],g=u[1],h;n[3]!==_?(h=function(){(c||(c=o("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",_?"hide_messages":"show_messages"),g(f)},n[3]=_,n[4]=h):h=n[4];var y=_?p.expanded:p.collapsed,C;n[5]!==_||n[6]!==i?(C=_?s._(/*BTDS*/"Hide updates"):s._(/*BTDS*/"See {number of admin udpates} updates",[s._param("number of admin udpates",i.length)]),n[5]=_,n[6]=i,n[7]=C):C=n[7];var b;n[8]!==y||n[9]!==C?(b=d.jsx(r("BaseView.react"),{xstyle:y,children:C}),n[8]=y,n[9]=C,n[10]=b):b=n[10];var v;n[11]!==h||n[12]!==b?(v=d.jsx(r("MWXText.react"),{type:"bodyLink4",children:d.jsx(r("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:h,role:"button",children:b})}),n[11]=h,n[12]=b,n[13]=v):v=n[13];var S;n[14]!==_||n[15]!==i||n[16]!==l||n[17]!==a?(S=_?i.map(function(e,t){return d.createElement(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},l,{key:e.messageId,message:e,nextMessage:i[t+1],prevMessage:i[t-1],stopHoveringRef:a}))}):null,n[14]=_,n[15]=i,n[16]=l,n[17]=a,n[18]=S):S=n[18];var R;return n[19]!==v||n[20]!==S?(R=d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:d.jsxs(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[v,S]})}),n[19]=v,n[20]=S,n[21]=R):R=n[21],R}function f(e){return!e}l.default=_}),226);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:22549","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22549")),r("gkx")("23219"));l.default=e}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.onPress,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Go to most recent message"),t[0]=a):a=t[0];var i;t[1]!==n?(i=function(){n(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("MWXIconStrict.react"),{color:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:r("MWXIconMenuItemArrowDown"),size:20}),t[3]=l):l=t[3];var d;return t[4]!==i?(d=u.jsx(r("MWXPressable.react"),{"aria-label":a,onPress:i,xstyle:c.circleButton,children:l}),t[4]=i,t[5]=d):d=t[5],d}l.default=d}),226);
__d("useIsNearBottomOfScrollArea",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useState,d=10;function m(e,t){var n=o("react-compiler-runtime").c(6),r=t===void 0?d:t,a=c(!0),i=a[0],l=a[1],s;n[0]!==r||n[1]!==e.current?(s=function(){var t=e.current;if(t!=null){var n=function(){return l(Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<r)},o=window.requestAnimationFrame(n);return t.addEventListener("scroll",n),function(){t.removeEventListener("scroll",n),window.cancelAnimationFrame(o)}}},n[0]=r,n[1]=e.current,n[2]=s):s=n[2];var m;return n[3]!==r||n[4]!==e?(m=[r,e],n[3]=r,n[4]=e,n[5]=m):m=n[5],u(s,m),i}l.default=m}),98);
__d("MWPMessageListJumpToMostRecentMessageButton.react",["MWPJumpToMostRecentMessageButtonAnimationWrapper.react","react","react-compiler-runtime","useIsNearBottomOfScrollArea"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.alwaysShow,a=e.jumpToMostRecentMessage,i=e.renderButton,l=e.scrollAreaRef,u=r("useIsNearBottomOfScrollArea")(l,108),c=u===!1||n,d;return t[0]!==a||t[1]!==i||t[2]!==c?(d=i?s.jsx(r("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:c,children:i(a)}):null,t[0]=a,t[1]=i,t[2]=c,t[3]=d):d=t[3],d}l.default=u}),98);
__d("MWXMessageScrollList.react",["BaseScrollableAreaContext","CometInfiniteScrollTrigger.react","MWXScrollableAreaStyles","react","stylex","useMergeRefs","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useLayoutEffect,_=c.useMemo,f=c.useRef,g=10,h=function(t){return t},y={expanding:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",minHeight:"x121v3j4",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",$$css:!0}};function C(e){var t=e.anchoredElement,n=e.getKeyForItem,o=n===void 0?h:n,a=e.hasNext,i=e.items,l=i.length,s=l>0?o(i[0]):void 0,u=l>0?o(i[i.length-1]):void 0,c=f(l),m=f(s),_=f(u),y=f(),C=f(),b=f(),v=f(),S=f(),R=d(function(e){var t=e.target;t instanceof HTMLDivElement&&(y.current!=null&&t.scrollHeight!==y.current||C.current!=null&&t.clientHeight!==C.current||(b.current=t.scrollTop))},[]);p(function(){var e=S.current;e!=null&&e.scrollTop<=g&&(e.scrollTop=e.scrollHeight)},[]);var L=d(function(){var e,n,r,o,i,d,p,f,h,R=(e=t==null||(n=t.current)==null?void 0:n.offsetTop)!=null?e:0,L=_.current,E=m.current,k=(r=c.current)!=null?r:0,I=(o=y.current)!=null?o:0,T=(i=C.current)!=null?i:0,D=(d=b.current)!=null?d:0,x=(p=v.current)!=null?p:-1,$=S.current;if(!(($==null?void 0:$.scrollHeight)===0&&($==null?void 0:$.clientHeight)===0)&&(y.current=(f=$==null?void 0:$.scrollHeight)!=null?f:y.current,b.current=(h=$==null?void 0:$.scrollTop)!=null?h:b.current,c.current=l,m.current=s,_.current=u,v.current=R,$!=null)){var P=$.clientHeight,N=$.scrollHeight;C.current=P;var M=Math.abs(I-D-T)<g,w=L!=null&&u!==L,A=E!=null&&s!==E,F=l>k,O=F&&A,B=F&&w,W=T!==0&&T!==P,q=x!==-1&&x>D&&x<D+T,U;(t==null?void 0:t.current)!=null&&q?U=R-(x-D):!a&&M?U=D+N-I+T-P:O?U=D+N-I:B&&(U=D);var V=U;if(V!=null){$.scrollTop=V,b.current=U;var H=window.requestAnimationFrame(function(){var e=$.scrollTop;Math.abs(e-V)>g?$.scrollTop=V+(e>V?1:-1)*g:W&&($.scrollTop=V)});return function(){return window.cancelAnimationFrame(H)}}}},[s,a,u,l,t]),E=r("useResizeObserver")(L),k=r("useResizeObserver")(L);return p(L,[L]),{contentRef:k,onScroll:R,ref:r("useMergeRefs")(S,E)}}function b(t){var n=t.anchoredElement,o=t.ariaLabel,a=t.getKeyForItem,i=t.hasNext,l=t.hasPrevious,s=t.isLoadingNext,c=t.isLoadingPrevious,p=t.items,g=t.loadNext,h=t.loadPrevious,b=t.onUserScroll,v=t.ref,S=t.renderFooter,R=t.renderHeader,L=t.renderItem,E=t.renderLoadingAnimation,k=t.role,I=k===void 0?"grid":k,T=t.xstyle,D=p.length,x=[!l&&R!=null&&u.jsx(u.Fragment,{children:R()},"header"),u.jsx(r("CometInfiniteScrollTrigger.react"),{hasMore:l,isLoading:c,onLoadMore:h,xstyle:[y.expanding,T],children:E==null?void 0:E(D)},"loadPrevious")].concat(p.map(function(e,t){return L(e,p[t-1],p[t+1],D-1-t)}),[u.jsx(r("CometInfiniteScrollTrigger.react"),{hasMore:i,isLoading:s,onLoadMore:g,xstyle:[y.expanding,T],children:E==null?void 0:E(D)},"loadNext"),!i&&S!=null&&u.jsx(u.Fragment,{children:S()},"footer")]),$=C({anchoredElement:n,getKeyForItem:a,hasNext:i,items:p}),P=$.contentRef,N=$.onScroll,M=$.ref,w=d(function(e){b==null||b(),N(e)},[b,N]),A=r("useMergeRefs")(M,v),F=d(function(e){A(e!=null?e:null),B.current=e},[A]),O=m(r("BaseScrollableAreaContext")),B=f(),W=_(function(){return[].concat(O,[{getDOMNode:function(){return B==null?void 0:B.current}}])},[O]);return u.jsx(r("BaseScrollableAreaContext").Provider,{value:W,children:u.jsx("div",babelHelpers.extends({"aria-label":o},(e||(e=r("stylex"))).props(y.scrollArea,y.overscrollBehaviorContain,r("MWXScrollableAreaStyles").themed),{"data-testid":void 0,onScroll:w,ref:F,role:I,children:u.jsx("div",babelHelpers.extends({},e.props(y.expanding,T),{ref:P,children:x}))}))})}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),98);
__d("MessageForIntegrityCheck",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.isAdminMessage?null:{displayedContentTypes:e.displayedContentTypes,messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,primarySortKey:e.primarySortKey,timestampMs:e.timestampMs}}i.prepMessageForIntegrityCheck=e}),66);
__d("MWPConcatenateMessageListsDataSource",["ReplayLastSubject","relay-runtime","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.count,n=e.first,a=e.getSecond;this.$1=r("switchMap")(n,function(e){var n=e.data.length;if(n>=t||e.hasMore||e.isLoadingMore)return new(o("ReplayLastSubject")).ReplayLastSubject(babelHelpers.extends({},e,{hasMore:!0}));var r=o("relay-runtime").Observable.from(a(t-n));return r.map(function(t){return{data:[].concat(e.data,t.data),hasMore:e.hasMore||t.hasMore,isLoadingMore:e.isLoadingMore||t.isLoadingMore}})})}var t=e.prototype;return t.subscribe=function(t){return this.$1.subscribe(t)},e})();l.default=e}),98);
__d("MWPDataDrivenDependenciesForMLv2",["JSResourceForInteraction","LSIntEnum","MessagingAttachmentType","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("JSResourceForInteraction")("MWV2ChatVideo.react").__setRef("MWPDataDrivenDependenciesForMLv2"),u=r("JSResourceForInteraction")("MWXMAAttachmentImpl.react").__setRef("MWPDataDrivenDependenciesForMLv2"),c=r("JSResourceForInteraction")("MWXMAV2AttachmentContainerComponent.react").__setRef("MWPDataDrivenDependenciesForMLv2"),d=function(n){var t=(e||(e=o("LSIntEnum"))).toNumber(n.attachmentType);switch(t){case r("MessagingAttachmentType").VIDEO:return[s];case r("MessagingAttachmentType").XMA:return[u,c];default:return[]}},m=[d];async function p(e){var t,n=(t=e.associatedData)==null?void 0:t.attachmentData.attachments.flatMap(function(e){return m.map(function(t){return t(e)})});n!=null&&await Promise.all(n.map(function(e){return e.map(function(e){return e.load()})}))}function _(e){return o("relay-runtime").Observable.create(function(t){var n=!1,r=e.subscribe({complete:t.complete,error:t.error,next:function(r){var e=r.map(function(e){var t=e[0],n=e[1];return p(n)});Promise.all(e).finally(function(){n||t.next(r)})}});return function(){n=!0,r.unsubscribe()}})}l.default=_}),98);
__d("memoizeObservable",["deepEquals","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e={};function s(t,n){return n===void 0&&(n=r("deepEquals")),o("relay-runtime").Observable.create(function(r){var o=e,a=t.subscribe({complete:function(){r.complete()},error:function(t){r.error(t)},next:function(t){n(o,t)||(o=t,r.next(t))}});return function(){a.unsubscribe()}})}l.default=s}),98);
__d("MWPMessageListSingleDirectionDataSource",["FBLogger","I64","JSONStringifyBigIntSafe","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","MAWMessagesDirection","MAWSubscribeToLSTruncateMetadataThreads","MLV2DataSourceLogger","MWPDataDrivenDependenciesForMLv2","MessagesRangesV2ExternalIds","Promise","ReQL","ReQLObservable","ReplayLastSubject","combineLatestWith","deepEquals","gkx","justknobx","memoizeObservable","promiseDone","qex","relay-runtime","setTimeout","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoadingAfter","isLoadingBefore"],s,u,c;function d(e){return e.length>0?e[e.length-1]:void 0}var m=2,p=!r("gkx")("7019"),_=(function(){function t(e,t,n,a,i,l,s,d,m,p){var _=this;this.$6=new(o("ReplayLastSubject")).ReplayLastSubject(!1),this.$14=null,this.$15=null,this.$16=!1,this.$1=e,this.$3=t,this.$2=n,this.$4=a,this.$5=i,this.$9=l,this.$10=s!=null&&(u||(u=o("I64"))).equal(s,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),this.$11=d,this.$12=m,this.$13=p,this.$7=this.$17(),this.$14=null,this.$15=o("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(e,function(e,t){(u||(u=o("I64"))).equal(_.$3.threadKey,t)&&(_.$16=!0)})}var a=t.prototype;return a.$18=function(){return(u||(u=o("I64"))).equal(this.$3.timestampMs,(u||(u=o("I64"))).max_int)&&this.$2==="asc"},a.subscribe=function(t){var e,n=this;this.$18()||(this.$8=o("MLV2DataSourceLogger").startMLV2LoggerForThread(this.$3.threadKey,this.$2,this.$4,this.$9)),(e=this.$8)==null||e.markQPLPoint("subscribed");var r=this.$7.subscribe(t);return{closed:r.closed,unsubscribe:function(){var e;r.unsubscribe(),(e=n.$8)==null||e.markQPLCancel("unsubscribed"),n.$8=void 0}}},a.$19=function(t,n){var e,o=this;p&&this.$20(!0),(e=this.$8)==null||e.markQPLPoint("fetch_more_msgs_start"),r("promiseDone")(this.$5.extendRange(t,n,this.$2,this.$13,this.$11).finally(function(){var e;(e=o.$8)==null||e.markQPLPoint("fetch_more_msgs_end","begin attempting to extend a message range in a given direction"),p&&o.$20(!1)}))},a.$20=function(t){var e=this;t?this.$6.next(t):r("promiseDone")(new(s||(s=n("Promise")))(function(e){return r("setTimeout")(e,0)}).then(function(){return e.$6.next(t)}))},a.$21=function(n,a){var t,i,l,s=n.isLoadingAfter,c=n.isLoadingBefore,d=babelHelpers.objectWithoutPropertiesLoose(n,e);if(this.$14!=null){var p=this.$14,_=p.boundary,g=p.observable;if(r("deepEquals")(d,_)){var h;return(h=this.$8)==null||h.markQPLPoint("use_cached_messages_observable"),g}}var y=this.$3,C=y.messageId,b=y.timestampMs,v=(C==null||C==="")&&(u||(u=o("I64"))).equal(b,(u||(u=o("I64"))).max_int),S=v&&(u||(u=o("I64"))).equal(d.minTimestampMs,(u||(u=o("I64"))).max_int),R=!d.hasMoreBefore||S,L=o("MAWMessagesDirection").switchOnMWPMessagesDirection(this.$2,{asc:{gte:o("ReQL").key(this.$3.timestampMs,o("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:o("ReQL").key(d.hasMoreAfter?d.maxTimestampMs:(u||(u=o("I64"))).max_int,(t=a==null?void 0:a.maxExternalId)!=null?t:o("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)},desc:{gte:o("ReQL").key(R?(u||(u=o("I64"))).min_int:d.minTimestampMs,(i=a==null?void 0:a.minExternalId)!=null?i:o("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:o("ReQL").key(this.$3.timestampMs,o("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)}}),E=S?m:this.$4,k=f(this.$1,this.$2,this.$3,L,E);return(l=this.$8)==null||l.markQPLPoint("use_lsdb_optimistic_observable"),k},a.$22=function(t,n,o,a){var e,i,l,s,u;if(n===void 0&&(n=[]),this.$16)return{data:[],hasMore:!1,isLoadingMore:!1};var c=t,m=(e=d(n))==null?void 0:e[1].message,p=this.$2==="asc"?[o==null?void 0:o.maxMessageId,(i=o==null?void 0:o.hasMoreAfter)!=null?i:!1,(l=o==null?void 0:o.isLoadingAfter)!=null?l:!1]:[o==null?void 0:o.minMessageId,(s=o==null?void 0:o.hasMoreBefore)!=null?s:!1,(u=o==null?void 0:o.isLoadingBefore)!=null?u:!1],_=p[0],f=p[1],g=p[2],h=n.length===this.$4&&(m!=null&&m.messageId!==_||!f);return _!=null&&_!==""&&n.length<this.$4&&!n.some(function(e){return e[1].message.messageId===_})&&r("FBLogger")("messenger_e2ee_web").info("MLv2 irregularity, expected range message id, %s, is not present in emitted messages from LSDB",_),o!=null&&n.length<this.$4&&f&&!h&&!c&&!g&&(c=!0,this.$19(o,a)),{data:n,hasMore:h||f,isLoadingMore:c||!h&&g}},a.$17=function(){var e=this;return this.$18()?o("relay-runtime").Observable.from(new(o("ReplayLastSubject")).ReplayLastSubject({data:[],hasMore:!1,isLoadingMore:!1})):r("memoizeObservable")(r("combineLatestWith")(this.$6,r("switchMap")(this.$5.getOrCreateMessageRangeCoveringCursor(this.$3,this.$8,this.$11),function(t){var n,a,i=t.range,l=t.rangeExternalIds;(n=e.$8)==null||n.markQPLPoint("emitting_range"),(a=e.$8)==null||a.addQPLAnnotations({string:{range:r("JSONStringifyBigIntSafe")(babelHelpers.extends({},t,{maxTimestampMs:i.maxTimestampMs==null?null:(u||(u=o("I64"))).to_string(i.maxTimestampMs),minTimestampMs:i.minTimestampMs==null?null:(u||(u=o("I64"))).to_string(i.minTimestampMs)}))}});var s=e.$21(i,l);return r("qex")._("3310")&&(s=r("MWPDataDrivenDependenciesForMLv2")(s)),s.map(function(e){return{messagesAndAssociatedData:e,messagesRange:i,messagesRangeExternalIds:l}}).do({error:function(n){var t,r;(t=e.$8)==null||t.markQPLPoint("emitting_messages_failed"),(r=e.$8)==null||r.addQPLAnnotations({string:{emitting_message_error_message:n.message,emitting_message_error_name:n.name}})},next:function(n){var t,r,o=n.messagesAndAssociatedData;(t=e.$8)==null||t.markQPLPoint("emitting_messages"),(r=e.$8)==null||r.addQPLAnnotations({int:{num_fetched:o.length}})}})})).map(function(t){var n=t[0],r=t[1],o=r!=null?r:{},a=o.messagesAndAssociatedData,i=o.messagesRange,l=o.messagesRangeExternalIds;return e.$22(n,a,i,l)})).do({error:function(n){var t;(t=e.$8)==null||t.markQPLFailure(n),e.$8=void 0},next:function(n){var t=n.data,r=n.isLoadingMore;if(r){var i;(i=e.$8)==null||i.markQPLPoint("waiting_for_fetch")}else{var o,a;(o=e.$8)==null||o.addQPLAnnotations({int:{final_query_count:e.$4}}),(a=e.$8)==null||a.markQPLSuccess(t.length),e.$8=void 0}}})},t})();function f(e,t,n,a,i){var l=t==="asc"?o("ReQL").fromTableAscending:o("ReQL").fromTableDescending,s;r("qex")._("18")?s=l(e.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(n.threadKey).bounds({gte:a.gte,lte:a.lte}):s=l(e.tables.messages).getKeyRange(n.threadKey).bounds({gte:[a.gte[0]],lte:[a.lte[0]]});var c=s.filter(function(e){var t=e.messageRenderingType;return!(u||(u=o("I64"))).equal(t,u.of_int32(r("LSMessageRenderingType").HIDDEN))}).filter(function(e){var t=e.transportKey;return r("justknobx")._("3424")?t!=="EncryptedBackupsMedia":!0}).take(i).map(function(e){return{message:e}});return o("ReQLObservable").create(e,function(){return c})}l.default=_}),98);
__d("MWPMessageRangeDataSource",["I64","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","MLV2DataSourceLogger","ReQL","ReQLObservable","err","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("justknobx")._("3621");function c(e,t){return t==="asc"&&e.isLoadingAfter||t==="desc"&&e.isLoadingBefore}var d=function(n){var t=this;this.$2=function(e){return p(t.$1.tables.messages_ranges_v2__generated,e)},this.getOrCreateMessageRangeCoveringCursor=function(n,a,i){return a==null||a.annotateMessageRangesDataSource("MWPMessageRangeDataSource"),a==null||a.markQPLPoint("msys_message_range_fetch_start"),o("ReQLObservable").create(t.$1,function(){return t.$2(n)}).map(function(i){var l;a==null||a.markQPLPoint("msys_message_range_fetch_end");var s=(l=i[0])==null?void 0:l[1];if(s==null)if(n.messageId==null){var u,c;return{range:{hasMoreAfter:!(e||(e=o("I64"))).equal(n.timestampMs,e.max_int),hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(u=n.messageId)!=null?u:"",maxTimestampMs:n.timestampMs,minMessageId:(c=n.messageId)!=null?c:"",minTimestampMs:n.timestampMs,threadKey:n.threadKey},rangeExternalIds:{maxExternalId:n.externalId,minExternalId:n.externalId}}}else{var d,m;return r("promiseDone")(y(t.$1,n)),{range:{hasMoreAfter:!0,hasMoreBefore:!0,isLoadingAfter:!0,isLoadingBefore:!0,maxMessageId:(d=n.messageId)!=null?d:"",maxTimestampMs:n.timestampMs,minMessageId:(m=n.messageId)!=null?m:"",minTimestampMs:n.timestampMs,threadKey:n.threadKey},rangeExternalIds:{maxExternalId:n.externalId,minExternalId:n.externalId}}}return{range:s,rangeExternalIds:{maxExternalId:null,minExternalId:null}}})},this.extendRange=function(n,a,l,s,u){var c=o("MLV2DataSourceLogger").getMLV2LoggerForThread(n.threadKey,l);c==null||c.annotateMessageRangesDataSource("MWPMessageRangeDataSource"),c==null||c.markQPLPoint("msys_extend_range_start");var d=n.threadKey;return g(n,l)?t.$1.runInTransaction(async function(t){var a;c==null||c.markQPLPoint("fetch_message_ranges_from_table_start","Find a range in the database matching the range we were handed.");var i=(a=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.messages_ranges_v2__generated).getKeyRange(d).bounds({lte:o("ReQL").key(n.minTimestampMs)}).filter(function(t){return(e||(e=o("I64"))).ge(t.maxTimestampMs,n.maxTimestampMs)})))!=null?a:n;if(!g(i,l)){c==null||c.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return}if(!_(i,n,l)){c==null||c.markQPLPoint("mwp_msg_range_bound_mismatch","The range we are trying to extend has already been extended");return}return c==null||c.markQPLPoint("mwp_fetch_message_ranges_start","Begin fetching message ranges"),r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),f(i,l))},"readwrite",void 0,void 0,i.id+":171").then(function(){return m(t.$1,d,l,c)}):(c==null||c.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible"),Promise.resolve())},this.$1=n};async function m(e,t,n,r){var a=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.tables.messages_ranges_v2__generated).getKeyRange(t));if(a!=null&&!c(a,n)){r==null||r.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges");return}var i=new AbortController,l=i.signal,s=new Promise(function(e){var t=window.setTimeout(function(){l.aborted||(i.abort(),r==null||r.markQPLPoint("mwp_fetch_message_ranges_timeout","Finish fetching message ranges"),e())},u);l.addEventListener("abort",function(){window.clearTimeout(t)})}),d=new Promise(function(a){return o("ReQL").fromTableDescending(e.tables.messages_ranges_v2__generated).getKeyRange(t).subscribe(function(e,t){l.aborted||(t.operation==="put"||t.operation==="add")&&(c(t.value,n)||(r==null||r.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges"),i.abort(),a()))})});return Promise.race([d,s])}function p(e,t){return o("ReQL").fromTableDescending(e).getKeyRange(t.threadKey).bounds({lte:o("ReQL").key(t.timestampMs)}).filter(function(e){return h(t,e)}).take(1)}function _(t,n,r){return r==="asc"?(e||(e=o("I64"))).equal(t.minTimestampMs,n.minTimestampMs):(e||(e=o("I64"))).equal(t.maxTimestampMs,n.maxTimestampMs)}function f(e,t){var n=e.maxTimestampMs,a=e.minTimestampMs,i=e.threadKey;return t==="asc"?{direction:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:n,threadKey:i}:{direction:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:a,threadKey:i}}function g(e,t){return t==="asc"&&e.hasMoreAfter&&!e.isLoadingAfter||t==="desc"&&e.hasMoreBefore&&!e.isLoadingBefore}function h(t,n){var r=t.timestampMs;return((e||(e=o("I64"))).equal(r,(e||(e=o("I64"))).max_int)||(e||(e=o("I64"))).ge(n.maxTimestampMs,r))&&(e||(e=o("I64"))).le(n.minTimestampMs,r)}async function y(t,n,a){a===void 0&&(a=20);var l=n.messageId,s=n.threadKey;if(l==null)throw r("err")("Cannot issue a point query without a message ID.");await t.runInTransaction(function(t){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(t),{messageId:l,numContextMessages:(e||(e=o("I64"))).of_float(a),threadKey:s})},"readwrite",void 0,void 0,i.id+":386")}l.MSYSMessageRangeDataSource=d}),98);
__d("MWPMessageListDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWDumbRangeDataSource","MAWMessageRangeDataSourceV2","MWPConcatenateMessageListsDataSource","MWPMessageListSingleDirectionDataSource","MWPMessageRangeDataSource","ReQL","ReQLObservable","combineLatestWith","nullthrows","relay-runtime/network/RelayObservable","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(t,n,a,i){var l=n.after,s=n.before,u=n.cursor,_=n.pageSize,f=n.secondaryThreadKey,g=n.secondaryThreadType,h=n.threadAuthorityLevel,y=n.threadType,C=function(l,s){var n=new(r("MWPMessageListSingleDirectionDataSource"))(t,s==="desc"&&!(e||(e=o("I64"))).equal(u.timestampMs,(e||(e=o("I64"))).max_int)?babelHelpers.extends({},u,{timestampMs:(e||(e=o("I64"))).sub(u.timestampMs,(e||(e=o("I64"))).one)}):u,s,l,d(t,y,h),y,h,a,i,_);return n},b=function(l,s){var n=new(r("MWPMessageListSingleDirectionDataSource"))(t,{externalId:u.externalId,messageId:u.messageId,threadKey:r("nullthrows")(f),timestampMs:s==="desc"&&!(e||(e=o("I64"))).equal(u.timestampMs,(e||(e=o("I64"))).max_int)?(e||(e=o("I64"))).sub(u.timestampMs,(e||(e=o("I64"))).one):u.timestampMs},s,l,d(t,r("nullthrows")(g),h),y,h,a,i,_);return n},v,S;f==null||g==null?(v=C(s,"desc"),S=C(l,"asc")):(v=new(r("MWPConcatenateMessageListsDataSource"))({count:s,first:C(s,"desc"),getSecond:function(t){return b(t,"desc")}}),S=new(r("MWPConcatenateMessageListsDataSource"))({count:l,first:b(l,"asc"),getSecond:function(t){return C(t,"asc")}}));var R=r("relay-runtime/network/RelayObservable").create(function(e){return e.next([])}),L=R,E=new Map,k=r("combineLatestWith")(v,S,L).map(function(e){var t=e[0],n=e[1],r=e[2];r.forEach(function(e){return E.set(e[1].message.messageId,e)});var o=new Set(E.keys()),a=t.data.toReversed().concat(n.data).sort(p(u.threadKey));m(o,a);var i=[];for(var l of E){var s=l[0],c=l[1];o.has(s)?i.push(c):E.delete(s)}return{authoritativeMessages:a,hasNext:n.hasMore,hasPrevious:t.hasMore,isLoadingNext:n.isLoadingMore,isLoadingPrevious:t.isLoadingMore,optimisticMessages:i}});this.$1=r("switchMap")(k,function(e){var n=e.authoritativeMessages,r=e.hasNext,o=e.hasPrevious,a=e.isLoadingNext,i=e.isLoadingPrevious,l=e.optimisticMessages;return c(t,l).map(function(e){var t=[].concat(n,e);return t.sort(p(u.threadKey)),{data:t,hasNext:r,hasPrevious:o,isLoadingNext:a,isLoadingPrevious:i}})})}var n=t.prototype;return n.subscribe=function(t){return this.$1.subscribe(t)},t})();function c(e,t){if(t.length===0)return r("relay-runtime/network/RelayObservable").create(function(e){return e.next([])});var n=t.map(function(t){var n=t[0],r=t[1];return o("ReQL").fromTableAscending(e.tables.messages.index("optimistic")).getKeyRange(r.message.offlineThreadingId).map(function(e){return{message:e}})}).map(function(t){return o("ReQLObservable").create(e,function(){return t})});return r("combineLatestWith").apply(void 0,n).map(function(e){var n=[];return e.forEach(function(e,r){if(e.length!==0){var o=e[0],a=o[0],i=o[1];n.push([t[r][0],i])}}),n})}function d(t,n,a){return(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))?r("MAWDumbRangeDataSource")():o("LSMessagingThreadTypeUtil").isArmadilloSecure(n)?r("MAWMessageRangeDataSourceV2")(t):new(o("MWPMessageRangeDataSource")).MSYSMessageRangeDataSource(t)}function m(t,n){if(t.size!==0)for(var a=n.length-1;a>=0;){var i=n[a],l=i[0],u=i[1],c=u.message;t.has(c.offlineThreadingId)&&((e||(e=o("I64"))).lt(c.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?n.splice(a,1):t.delete(c.offlineThreadingId)),a--}}var p=function(n){return(function(t,r){var a,i,l=t[1],s=r[1],u=l.message,c=s.message,d=(e||(e=o("I64"))).compare(u.threadKey,c.threadKey);if(d!==0)return(e||(e=o("I64"))).equal(u.threadKey,n)?1:-1;var m=e.compare(u.primarySortKey,c.primarySortKey);if(m!==0)return m;var p=e.compare((a=u.secondarySortKey)!=null?a:(e||(e=o("I64"))).zero,(i=c.secondarySortKey)!=null?i:(e||(e=o("I64"))).zero);return p!==0?p:e.compare(u.timestampMs,c.timestampMs)})};l.default=u}),98);
__d("useMWPMessageListDataSourceFactory",["MAWSubscribeToLSTruncateMetadataThreads","MWPMessageListDataSource","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(2),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=m(),t[0]=n):n=t[0];var r=c(n),a=r[0],i=r[1],l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(){i(m())},t[1]=l):l=t[1];var s=l;return o("MAWSubscribeToLSTruncateMetadataThreads").useLSTruncateMetadataThread(e,s),a}function m(){return{create:function(t,n,o,a){var e=n.after,i=n.before,l=n.cursor,s=n.pageSize,u=n.secondaryThreadKey,c=n.secondaryThreadType,d=n.threadAuthorityLevel,m=n.threadType;return new(r("MWPMessageListDataSource"))(t,{after:e,before:i,cursor:l,pageSize:s,secondaryThreadKey:u,secondaryThreadType:c,threadAuthorityLevel:d,threadType:m},o,a)}}}l.default=d}),98);
__d("useObservable",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(7),n=c(),r=n[0],a=n[1],i=c(),l=i[0],s=i[1],d=c(!1),m=d[0],p=d[1],_,f;t[0]!==e?(_=function(){var t=e.subscribe({complete:function(){return p(!0)},error:s,next:a});return function(){return t.unsubscribe()}},f=[e],t[0]=e,t[1]=_,t[2]=f):(_=t[1],f=t[2]),u(_,f);var g;return t[3]!==l||t[4]!==m||t[5]!==r?(g=[r,l,m],t[3]=l,t[4]=m,t[5]=r,t[6]=g):g=t[6],g}l.default=d}),98);
__d("useMWPMessageListData",["I64","Int64Hooks","JSONStringifyBigIntSafe","MAWObservableUtils","MAWStateContext.react","MWInboxMessageSearchJumpToResultQPL","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","justknobx","react","useMWPMessageListDataSourceFactory","useMWPThreadHasSpectraUser","useObservable","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useContext,p=c.useEffect,_=c.useRef,f=c.useState;function g(e,t){return r("JSONStringifyBigIntSafe")(e)===r("JSONStringifyBigIntSafe")(t)}var h=r("justknobx")._("3383");function y(t,n,a){var l,u,c,y,C,b,v=t.authorityLevel,S=t.threadKey,R=t.threadType,L=(e||(e=r("useReStore")))(),E=_(o("MAWObservableUtils").getUniqueRef()),k=m(o("MAWStateContext.react").MAWDispatchContext),I=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),T=I.visibleMessage,D=T==null?void 0:T.messageId,x=T==null?void 0:T.messageOtid,$=(l=T==null?void 0:T.timestamp)!=null?l:(s||(s=o("I64"))).max_int,P=n==null?void 0:n.threadKey,N=n==null?void 0:n.threadType,M=f(a),w=M[0],A=M[1],F=f(a),O=F[0],B=F[1],W=f(D),q=W[0],U=W[1],V=f(x),H=V[0],G=V[1],z=f($),j=z[0],K=z[1],Q=f(h),X=Q[0],Y=Q[1],J=f(!1),Z=J[0],ee=J[1],te=_(new Map),ne=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(L.tables.mi_act_mapping_table,["jid"]).getKeyRange(S).map(function(e){return e.jid})},[L,S],i.id+":96"),re=r("useMWPThreadHasSpectraUser")(S),oe=r("useMWPMessageListDataSourceFactory")(S),ae=o("Int64Hooks").useMemoInt64(function(){return oe.create(L,{after:O,before:w,cursor:{externalId:H,messageId:q,secureThreadJid:ne,threadKey:S,timestampMs:j},pageSize:a,secondaryThreadKey:P,secondaryThreadType:N,threadAuthorityLevel:v,threadType:R},k,E.current)},[O,w,L,ne,k,q,H,P,N,S,R,j,v,a,oe]),ie=r("useObservable")(ae),le=ie[0],se=ie[1];if(p(function(){Y(!1),ee(!1)},[le]),se!=null)throw se;var ue=re?[]:(u=le==null?void 0:le.data.map(function(e){var t=e[0],n=e[1],r=n.message;if(r.isCollapsed===!0)return null;var o=te.current.get(r.messageId);return o!=null&&g(n,o)?o:n}).filter(Boolean))!=null?u:[],ce=ue.some(function(e){return e.message.messageId===D});o("Int64Hooks").useEffectInt64(function(){ce||(K($),U(D),G(x),o("MWInboxMessageSearchJumpToResultQPL").addPointIfJumpedToMessage("updated_offset_in_message_list",{messageId:D,offlineThreadingId:x}),A(a),B(a),h&&Y(!0))},[ce,D,x,$,a]);var de=(c=le==null?void 0:le.hasNext)!=null?c:!1,me=((y=le==null?void 0:le.isLoadingNext)!=null?y:!1)||Z,pe=d(function(){!me&&de&&(B(O+a),ee(!0))},[de,me,O,a]),_e=(C=le==null?void 0:le.hasPrevious)!=null?C:!0,fe=((b=le==null?void 0:le.isLoadingPrevious)!=null?b:!1)||X,ge=d(function(){!fe&&_e&&(A(w+a),Y(!0))},[_e,fe,w,a]);return{hasNext:de,hasPrevious:_e,isLoadingNext:me,isLoadingPrevious:fe,loadNext:pe,loadPrevious:ge,messagesAndAssociatedData:ue}}l.default=y}),98);
__d("useMWPMessageListOnScrollToBottom",["Promise","react","react-compiler-runtime","useIsNearBottomOfScrollArea","useMWPSafelyMarkThreadAsRead"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useEffect;function m(t,a,i,l,s){var u=o("react-compiler-runtime").c(10),c;u[0]!==i||u[1]!==l?(c=function(){return(e||(e=n("Promise"))).resolve(l&&!i)},u[0]=i,u[1]=l,u[2]=c):c=u[2];var m=c,p=r("useMWPSafelyMarkThreadAsRead")(s,m,t,a),_;u[3]!==t?(_=t(),u[3]=t,u[4]=_):_=u[4];var f=_,g,h;u[5]!==l||u[6]!==f||u[7]!==p?(g=function(){l&&!f&&p()},h=[l,f,p],u[5]=l,u[6]=f,u[7]=p,u[8]=g,u[9]=h):(g=u[8],h=u[9]),d(g,h)}function p(e,t,n,a,i,l){var s=o("react-compiler-runtime").c(4),u=r("useIsNearBottomOfScrollArea")(i),c,p;s[0]!==u||s[1]!==a?(c=function(){a!=null&&a(u)},p=[u,a],s[0]=u,s[1]=a,s[2]=c,s[3]=p):(c=s[2],p=s[3]),d(c,p),m(e,t,n,u,l)}l.default=p}),98);
__d("getOrCreateMapValue",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e.get(t);return r==null&&(r=n(),e.set(t,r)),r}i.default=e}),66);
__d("useMWPMessageListScrollVisibleMessageIntoView",["MWPVisibleMessageContext.react","getOrCreateMapValue","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createRef,c=s.startTransition,d=s.useCallback,m=s.useEffect,p=s.useRef;function _(){var e,t=o("react-compiler-runtime").c(12),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Map,t[0]=n):n=t[0];var a=p(n),i=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),l=i.setVisibleMessage,s=i.visibleMessage,d;t[1]!==l||t[2]!==s?(d=function(t){var e=r("getOrCreateMapValue")(a.current,t,u);return s!=null&&t===s.messageId&&(s==null?void 0:s.ref)!==e&&l(babelHelpers.extends({},s,{ref:e})),e},t[1]=l,t[2]=s,t[3]=d):d=t[3];var _=d,f,g;t[4]!==l||t[5]!==s?(f=function(){var e=s==null?void 0:s.messageId;if(!(e==null||s==null)){var t=a.current.get(e);t!==(s==null?void 0:s.ref)&&c(function(){l(babelHelpers.extends({},s,{ref:t}))})}},g=[s,l],t[4]=l,t[5]=s,t[6]=f,t[7]=g):(f=t[6],g=t[7]),m(f,g);var h;if(t[8]!==(s==null||(e=s.ref)==null?void 0:e.current)){var y;h=function(){var e,t=s==null||(e=s.ref)==null?void 0:e.current;if(t!=null){var n=window.requestAnimationFrame(function(){t.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})});return function(){return window.cancelAnimationFrame(n)}}},t[8]=s==null||(y=s.ref)==null?void 0:y.current,t[9]=h}else h=t[9];var C;return t[10]!==s?(C=[s],t[10]=s,t[11]=C):C=t[11],m(h,C),_}l.default=_}),98);
__d("useMWPRelayMessageListJumpToMostRecentMessage",["MWPVisibleMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),n=t.setVisibleMessage;return u(function(){var t=e.current;t!=null&&(n(void 0),t.scrollTop=t.scrollHeight)},[e,n])}l.default=c}),98);
__d("useObserveMessagePageLoad",["I64","MAWSubscribeToLSTruncateMetadataThreads","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useEffect,m=u.useRef;function p(e,t){return t?[e.slice(0,e.length-1),e[e.length-1]]:[[].concat(e),null]}function _(e,t,n){if(t==null)return p(e,n);var r=e.findIndex(function(e){return e.messageId===t});return r===-1?p(e,n):[e.slice(0,r),e.at(r)]}var f=function(t,n){return t.some(function(e){return n.findIndex(function(t){return t.offlineThreadingId===e.offlineThreadingId})>-1})};function g(e,t,n,r,a,i,l){var s=o("react-compiler-runtime").c(10),u;s[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],s[0]=u):u=s[0];var c=m(u),p=m(null),g=m(0),b;s[1]===Symbol.for("react.memo_cache_sentinel")?(b=function(){c.current=[],p.current=null,g.current=0},s[1]=b):b=s[1];var v=b;o("MAWSubscribeToLSTruncateMetadataThreads").useLSTruncateMetadataThread(e,v);var S,R;s[2]!==i||s[3]!==t||s[4]!==r||s[5]!==n||s[6]!==l||s[7]!==a?(S=function(){var e,o;if(l?(c.current.length>0&&!f(c.current,t)&&(c.current=[],p.current=null,g.current=i?999:0),c.current=[].concat(c.current,t).reduce(C,[]).sort(y),o=c.current):o=t,!a){if(o.length===0){p.current=null;return}var s=_(o,p.current,i),u=s[0],d=s[1];if(!(u.length<n)){for(var m=u.reverse(),b=d;m.length>=n;){var v=m.splice(0,n);r(b==null?null:b,v.map(h),n,g.current),g.current=g.current+1,b=v[v.length-1]}p.current=(e=b)==null?void 0:e.messageId}}},R=[r,n,t,a,i,l],s[2]=i,s[3]=t,s[4]=r,s[5]=n,s[6]=l,s[7]=a,s[8]=S,s[9]=R):(S=s[8],R=s[9]),d(S,R)}function h(e){return e}function y(e,t){var n=(s||(s=o("I64"))).compare(e.primarySortKey,t.primarySortKey);return n!==0?n:e.offlineThreadingId.localeCompare(t.offlineThreadingId)}function C(e,t){var n=e.find(function(e){return e.offlineThreadingId===t.offlineThreadingId});if(n==null)e.push(t);else if(n.offlineThreadingId===n.messageId&&t.messageId!==t.offlineThreadingId){var r=e.indexOf(n);e[r]=t}return e}function b(e,t,n,r,o,a){return g(e,t,n,r,o,a,!1)}function v(e,t,n,r,o,a){return g(e,t,n,r,o,a,!0)}l.useObserveMessagePageLoad=b,l.useObserveMessagePageLoadWithAggregation=v}),98);
__d("MWPRelayBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChatInteraction","MWPMessageAuthor.react","MWPMessageListJumpToMostRecentMessageButton.react","MWPVisibleMessageContext.react","MWXMessageScrollList.react","MessageForIntegrityCheck","emptyFunction","justknobx","react","react-compiler-runtime","useMWPMessageListData","useMWPMessageListOnScrollToBottom","useMWPMessageListScrollVisibleMessageIntoView","useMWPRelayMessageListJumpToMostRecentMessage","useObserveMessagePageLoad"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useImperativeHandle,f=m.useRef,g={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0}};function h(e,t){var n=o("react-compiler-runtime").c(4),r,a;n[0]!==e||n[1]!==t?(r=function(){if(t!=null){var n=o("MWChatInteraction").get((u||(u=o("I64"))).to_string(e));n!=null&&o("MWChatInteraction").set((u||(u=o("I64"))).to_string(t),n)}},a=[e,t],n[0]=e,n[1]=t,n[2]=r,n[3]=a):(r=n[2],a=n[3]),p(r,a)}function y(e){var t,n=o("react-compiler-runtime").c(34),a=e.checkIsThreadManuallySetAsUnread,i=e.entryPoint,l=e.onPageLoaded,s=e.onScrollToBottom,c=e.onUserScroll,m=e.pageSize,p=e.ref,y=e.renderFooter,b=e.renderHeader,v=e.renderJumpToMostRecentMessageButton,S=e.renderLoadingAnimation,R=e.renderRow,L=e.secondaryThread,E=e.shouldPausePageLoadTracking,k=e.thread,I=a===void 0?r("emptyFunction").thatReturnsFalse:a,T=l===void 0?r("emptyFunction"):l,D=E===void 0?!1:E,x=f(),$=r("useMWPMessageListData")(k,L,m),P=$.hasNext,N=$.hasPrevious,M=$.isLoadingNext,w=$.isLoadingPrevious,A=$.loadNext,F=$.loadPrevious,O=$.messagesAndAssociatedData,B=r("useMWPMessageListScrollVisibleMessageIntoView")();h(k.threadKey,L==null?void 0:L.threadKey);var W=k.threadKey,q;if(n[0]!==O||n[1]!==k.threadKey){var U;n[3]!==k.threadKey?(U=function(t){var e=t.message;return(u||(u=o("I64"))).equal(e.threadKey,k.threadKey)?o("MessageForIntegrityCheck").prepMessageForIntegrityCheck(e):null},n[3]=k.threadKey,n[4]=U):U=n[4],q=O.map(U).filter(Boolean),n[0]=O,n[1]=k.threadKey,n[2]=q}else q=n[2];o("useObserveMessagePageLoad").useObserveMessagePageLoadWithAggregation(W,q,m,T,D,P),r("useMWPMessageListOnScrollToBottom")(I,i,P,s,x,k);var V=r("useMWPRelayMessageListJumpToMostRecentMessage")(x),H,G;n[5]!==V?(H=function(){return{getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:function(){V(!0)},restoreScrollPosition:r("emptyFunction")}},G=[V],n[5]=V,n[6]=H,n[7]=G):(H=n[6],G=n[7]),_(p,H,G);var z=f(null),j=(t=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext().visibleMessage)==null?void 0:t.ref,K;n[8]!==B||n[9]!==R?(K=function(t,n,a,i){var e=t.message;return d.createElement("div",babelHelpers.extends({},{0:{},1:{className:"x1vjfegm"}}[((u||(u=o("I64"))).to_float(e.displayedContentTypes)===8)<<0],{key:e.offlineThreadingId,ref:B(e.messageId)}),d.jsx(r("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,scrollport:function(){return x.current},unmountXStyle:g.backgroundColor,children:d.jsx(o("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:e.senderId,threadKey:e.threadKey,children:R({domElementRef:z,message:t.message,messageAssociatedData:t==null?void 0:t.associatedData,nextMessage:a==null?void 0:a.message,prevMessage:n==null?void 0:n.message,rowIndexFromBottom:i})})}))},n[8]=B,n[9]=R,n[10]=K):K=n[10];var Q;n[11]!==S?(Q=function(t){var e=t>r("justknobx")._("2674");return d.jsxs(d.Fragment,{children:[S==null?void 0:S(e),d.jsx(r("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems(Base)",hold:!e})]})},n[11]=S,n[12]=Q):Q=n[12];var X;n[13]!==P||n[14]!==N||n[15]!==M||n[16]!==w||n[17]!==A||n[18]!==F||n[19]!==O||n[20]!==c||n[21]!==y||n[22]!==b||n[23]!==Q||n[24]!==j||n[25]!==K?(X=d.jsx(r("BaseHeadingContextWrapper.react"),{children:d.jsx(r("MWXMessageScrollList.react"),{anchoredElement:j,getKeyForItem:C,hasNext:P,hasPrevious:N,isLoadingNext:M,isLoadingPrevious:w,items:O,loadNext:A,loadPrevious:F,onUserScroll:c,ref:x,renderFooter:y,renderHeader:b,renderItem:K,renderLoadingAnimation:Q,role:"none"})}),n[13]=P,n[14]=N,n[15]=M,n[16]=w,n[17]=A,n[18]=F,n[19]=O,n[20]=c,n[21]=y,n[22]=b,n[23]=Q,n[24]=j,n[25]=K,n[26]=X):X=n[26];var Y;n[27]!==P||n[28]!==V||n[29]!==v?(Y=d.jsx(r("MWPMessageListJumpToMostRecentMessageButton.react"),{alwaysShow:P,jumpToMostRecentMessage:V,renderButton:v,scrollAreaRef:x}),n[27]=P,n[28]=V,n[29]=v,n[30]=Y):Y=n[30];var J;return n[31]!==X||n[32]!==Y?(J=d.jsxs(r("Box.react"),{xstyle:g.list,children:[X,Y]}),n[31]=X,n[32]=Y,n[33]=J):J=n[33],J}function C(e){return e.message.messageId}function b(t){var n=o("react-compiler-runtime").c(11),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.renderLoadingAnimation,m=l.thread,p=(u||(u=o("I64"))).equal(m.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("LSMessagingThreadTypeUtil").isCMSubthread(m.threadType);if(p){var _;n[3]===Symbol.for("react.memo_cache_sentinel")?(_=d.jsx(r("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticSubThread",hold:!0}),n[3]=_):_=n[3];var f;n[4]!==s?(f=s==null?void 0:s(!1),n[4]=s,n[5]=f):f=n[5];var g;return n[6]!==f?(g=d.jsxs(d.Fragment,{children:[_,f]}),n[6]=f,n[7]=g):g=n[7],g}var h;return n[8]!==a||n[9]!==i?(h=d.jsx(y,babelHelpers.extends({},a,{ref:i})),n[8]=a,n[9]=i,n[10]=h):h=n[10],h}l.default=b}),98);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWBlockingProtectionContext.react","MWChatInteraction","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWGenAINux.react","MWGenAIUtils","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWMessageTranslationContext.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:2942","cr:3907","isMWNewSearchUXEnabled","mwCMIsAnyCMThread","react","useCommunityFolder","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","useThreadLastUnreadWatermarkAndMessages","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useId,p=c.useState;function _(e){return o("MWV2ChatAdminMessage.react").isAdminMessage(e)&&e!=null&&(e.messageRenderingType==null||!(s||(s=o("I64"))).equal(e.messageRenderingType,(s||(s=o("I64"))).of_int32(r("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function f(e){return u.jsx(r("MWInboxThreadMessagesSpinner.react"),{vcIgnore:e})}f.displayName=f.name+" [from "+i.id+"]";function g(e){return u.jsx(r("MWJumpToMostRecentMessageButton.react"),{onPress:e})}g.displayName=g.name+" [from "+i.id+"]";function h(e){var t=e.entryPoint,a=e.hasUserSentMessage,i=e.ref,l=e.renderFooter,c=e.renderHeader,h=e.thread,y=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),C=p(""),b=C[0],v=C[1],S=m(),R=o("LSMessagingThreadTypeUtil").isArmadilloSecure(h.threadType),L=r("useMWPAriaLabelForMessageListGrid")(h),E=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),k=E.setVisibleMessage,I=E.visibleMessage,T=o("Int64Hooks").useMemoInt64(function(){return h.threadType},[h.threadType]),D=r("useCommunityFolder")(h),x=D!=null?o("LSCommunityBitOffset").has(9,D):!1,$=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(h.threadKey),P=o("useThreadLastUnreadWatermarkAndMessages").useThreadLastReadWatermark(h.threadKey),N=n("cr:2942")(h.threadKey,P),M=p(!1),w=M[0],A=M[1];d(function(){N&&!w&&k(function(e){return e!=null?e:{contextLine:"",highlights:[],messageId:N.messageId,source:"LastReadWatermark",timestamp:N.timestampMs}})},[N,k,w]);var F=o("Int64Hooks").useCallbackInt64(function(){return u.jsxs(u.Fragment,{children:[u.jsx(o("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:h.threadKey,threadType:T}),o("MWGenAIUtils").isMetaAIThread(h.threadKey)&&u.jsx(r("MWGenAINux.react"),{hasUserSentMessage:a,source:"footer"}),l&&l()]})},[l,h.threadKey,T,a]),O=new Map,B=u.jsx(r("MWPRelayBaseMessageList.react"),{entryPoint:t,onPageLoaded:function(t,n,r,a){var e=o("MWChatInteraction").getInteractionTraceForThreadKey((s||(s=o("I64"))).to_string(h.threadKey));e!=null&&e.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:a,page_size:r,total_number_of_messages:n.length})},onUserScroll:function(){return A(!0)},pageSize:15,ref:i,renderFooter:F,renderHeader:c,renderJumpToMostRecentMessageButton:g,renderLoadingAnimation:f,renderRow:function(t){var e=t.domElementRef,n=t.message,a=t.nextMessage,i=t.prevMessage,l=t.rowIndexFromBottom,c=R?(s||(s=o("I64"))).equal(h.threadKey,n.threadKey):!1,d=(N==null?void 0:N.messageId)===n.messageId,m=!_(i)&&!_(a),p=I==null?!1:I.messageId===n.messageId&&(I.source==="Reply"||I.source==="Pinned"||I.source==="Bump"||I.source==="Search"&&r("isMWNewSearchUXEnabled")());if((r("mwCMIsAnyCMThread")(h.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(h.threadType))&&_(n)&&!m){O.set(n.messageId,n);var f=_(i)&&!_(a);if(f){var g=Array.from(O.values());return O.clear(),u.jsx(r("MWCollapsibleAdminMessages.react"),{domElementRef:e,fbGroupId:D==null?void 0:D.fbGroupId,hasMessageEmphasisRing:p,isCMAdmin:x,isModal:b===n.messageId,isSecureMessage:c,messages:g,rowIndexFromBottom:l,shouldRenderUnreadIndicator:d,threadType:T,useReactionsV2:$})}else return null}return u.jsx(o("MWMessageRow.react").MWMessageRow,{containerThreadKey:h.threadKey,domElementRef:e,fbGroupId:D==null?void 0:D.fbGroupId,hasMessageEmphasisRing:p,isCMAdmin:x,isModal:b===n.messageId,isSecureMessage:c,lastReadWatermarkTimestampMs:P,message:n,nextMessage:a,prevMessage:i,rowIndexFromBottom:l,shouldRenderUnreadIndicator:d,stopHoveringRef:y,threadType:T,useReactionsV2:$})},thread:h});return u.jsx(r("MWMessageSendingContext.react").Provider,{children:u.jsx(r("MWMessageTranslationContext.react").Provider,{children:u.jsx(r("MWClickedMessageContext.react").Provider,{children:u.jsx(r("MWBlockingProtectionContext.react").Provider,{children:u.jsx(o("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:u.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),name:"MWMessageList",children:u.jsx(o("MWPThreadCapabilitiesContext").Provider,{thread:h,children:u.jsx(r("MWPMessageListFocusTable.react"),{ariaLabel:L,modal:b,setModal:v,children:u.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:u.jsx(o("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:r("uuidv4")(),children:n("cr:3907")==null?B:u.jsx(n("cr:3907"),{id:S,children:B})})})})})})})})})})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["CometErrorBoundary.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSReportThreadViewOpenStoredProcedure","LSResult","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","MWCMSubthreadHeader.react","MWCMSubthreadParentMessage.react","MWCMSubthreadThreadViewContexts.react","MWComposerGating.react","MWInboxThreadMessagesSpinner.react","MWLSChatTabHeaderRoot.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPMessageListColumn.react","MWPThreadGradientBackground.react","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2OnAuthoritativeThreadInsert","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useRef,_=m.useState,f={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0}};function g(t){var n=t.onReturn,a=t.setActualThreadKey,l=t.tab,c=t.thread,m=(e||(e=r("useReStore")))(),_=o("MWLSThread").useThread(c.parentThreadKey),g=p(null),h=o("Int64Hooks").useCallbackInt64(function(){var e;(e=y.current)==null||e.jumpToMostRecentMessage(),(s||(s=o("I64"))).equal(c.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(r("LSResult")(c.threadKey),m,function(e){return a(e.threadKey)})},[c.authorityLevel,c.threadKey,m,a]),y=p({getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:r("emptyFunction"),restoreScrollPosition:r("emptyFunction")});o("Int64Hooks").useEffectInt64(function(){r("promiseDone")(m.runInTransaction(function(e){return r("LSReportThreadViewOpenStoredProcedure")(r("LSFactory")(e),{threadKey:c.threadKey})},"readwrite",void 0,void 0,i.id+":101"))},[m,c.threadKey]);var C=function(){return d.jsx(r("MWCMSubthreadHeader.react"),{closeSidePanelOnBack:!1,isChatTab:!0,onPressBack:function(){n()},subtitle:_==null?void 0:_.threadName,thread:c,title:c.threadName})};return d.jsx(o("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:d.jsx(r("MWCMSubthreadThreadViewContexts.react"),{thread:c,children:d.jsxs(o("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:l,threadKey:c.parentThreadKey,children:[d.jsx(r("MWXColumn.react"),{expanding:!0,xstyle:f.chatTabHeader,children:d.jsx(r("MWXColumnItem.react"),{expanding:!0,children:d.jsx(r("MWLSChatTabHeaderRoot.react"),{renderThreadDetails:C,tab:l,threadKey:c.threadKey})})}),d.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:!o("LSThreadBitOffset").has(56,c),thread:c,children:[d.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:d.jsx(o("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:d.jsx(r("MWMessageList"),{entryPoint:"popup_chat_box",ref:y,renderHeader:function(){return d.jsxs(d.Fragment,{children:[d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),d.jsx(r("MWCMSubthreadParentMessage.react"),{domElementRef:g,subthread:c})]})},thread:c})})}),d.jsx(r("CometErrorBoundary.react"),{fallback:function(){return d.jsx(r("MWV2ErrorComposer.react"),{})},children:d.jsx(o("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:h,isPreviewThread:!1,thread:c})})]})]})})})}g.displayName=g.name+" [from "+i.id+"]";function h(t){var n=o("react-compiler-runtime").c(10),a=t.onReturn,l=t.tab,c=t.threadKey,m=(e||(e=r("useReStore")))(),p=_(c),f=p[0],h=p[1],y=o("MWLSThread").useThread(f),C,b;if(n[0]!==m||n[1]!==y||n[2]!==c?(C=function(){(y==null||!(s||(s=o("I64"))).equal(y==null?void 0:y.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)))&&r("promiseDone")(m.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(u||(u=o("LSIntEnum"))).ofNumber(1),threadKey:c})},"readwrite",void 0,void 0,i.id+":201"))},b=[m,y,c],n[0]=m,n[1]=y,n[2]=c,n[3]=C,n[4]=b):(C=n[3],b=n[4]),o("Int64Hooks").useEffectInt64(C,b),y==null){var v;return n[5]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),n[5]=v):v=n[5],v}var S;return n[6]!==a||n[7]!==l||n[8]!==y?(S=d.jsx(g,{onReturn:a,setActualThreadKey:h,tab:l,thread:y}),n[6]=a,n[7]=l,n[8]=y,n[9]=S):S=n[9],S}l.default=h}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};l.default=e}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","I64","Int64Hooks","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","usePrevious","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useRef,f=m.useState,g=9;function h(t){var n,a=o("react-compiler-runtime").c(63),l=t.isProcessingReactions,c=t.messageId,m=t.onTooltipCTAPress,h=t.reactionFbid,v=t.threadKey,S=(e||(e=r("useReStore")))(),R=f(!0),L=R[0],E=R[1],k,I;a[0]!==S||a[1]!==l||a[2]!==c||a[3]!==h||a[4]!==v?(k=function(){l||(E(!0),r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(S,function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:c,reactionFbid:h,threadId:v})},"issueReactionsV2DetailsUsersListFetch").then(function(){E(!1)})))},I=[S,v,c,h,E,l],a[0]=S,a[1]=l,a[2]=c,a[3]=h,a[4]=v,a[5]=k,a[6]=I):(k=a[5],I=a[6]),o("Int64Hooks").useEffectInt64(k,I);var T=o("MWPActor.react").useActor(),D;a[7]!==S.tables.reactions_v2_details||a[8]!==c||a[9]!==h||a[10]!==v?(D=function(){return o("ReQL").fromTableAscending(S.tables.reactions_v2_details).getKeyRange(v,c).filter(function(e){return(u||(u=o("I64"))).equal(e.reactionFbid,h)})},a[7]=S.tables.reactions_v2_details,a[8]=c,a[9]=h,a[10]=v,a[11]=D):D=a[11];var x;a[12]!==S||a[13]!==c||a[14]!==h||a[15]!==v?(x=[S,v,c,h],a[12]=S,a[13]=c,a[14]=h,a[15]=v,a[16]=x):x=a[16];var $=o("ReQLSuspense").useArray(D,x,i.id+":84"),P=new Map;$.forEach(function(e){return P.set((u||(u=o("I64"))).to_string(e.reactorId),e.fullName)});var N;a[17]!==S.tables.contextual_profile_v1||a[18]!==S.tables.threads||a[19]!==v?(N=function(){return o("ReQL").fromTableAscending(S.tables.threads).getKeyRange(v).map(function(e){var t=e.parentThreadKey;return o("ReQLSuspense").toArray(o("ReQL").fromTableAscending(S.tables.contextual_profile_v1).filter(function(e){return(u||(u=o("I64"))).equal(e.associatedEntityId,t)}),i.id+":102")})},a[17]=S.tables.contextual_profile_v1,a[18]=S.tables.threads,a[19]=v,a[20]=N):N=a[20];var M;a[21]!==S||a[22]!==v?(M=[S,v],a[21]=S,a[22]=v,a[23]=M):M=a[23];var w=o("ReQLSuspense").useFirst(N,M,i.id+":97"),A=null;w!=null&&w.forEach(function(e){var t=(u||(u=o("I64"))).to_string(e.ownerId),n=e.profileName;n!=null&&(P.has(t)&&P.set(t,n),(u||(u=o("I64"))).equal(e.ownerId,T)&&(A=n))});var F=$.map(function(e){return P.get((u||(u=o("I64"))).to_string(e.reactorId))}).filter(Boolean),O;a[24]!==S.tables.reactions_v2||a[25]!==c||a[26]!==h||a[27]!==v?(O=function(){return o("ReQL").fromTableAscending(S.tables.reactions_v2).getKeyRange(v,c,h)},a[24]=S.tables.reactions_v2,a[25]=c,a[26]=h,a[27]=v,a[28]=O):O=a[28];var B;a[29]!==S||a[30]!==c||a[31]!==h||a[32]!==v?(B=[S,v,c,h],a[29]=S,a[30]=c,a[31]=h,a[32]=v,a[33]=B):B=a[33];var W=o("ReQLSuspense").useFirst(O,B,i.id+":131"),q=(n=W==null?void 0:W.viewerIsReactor)!=null?n:!1,U;a[34]!==S.tables.contacts||a[35]!==T?(U=function(){return o("ReQL").fromTableAscending(S.tables.contacts).getKeyRange(T).map(b)},a[34]=S.tables.contacts,a[35]=T,a[36]=U):U=a[36];var V;a[37]!==S||a[38]!==T?(V=[S,T],a[37]=S,a[38]=T,a[39]=V):V=a[39];var H=o("ReQLSuspense").useFirst(U,V,i.id+":143"),G=A!=null?A:H,z=W!=null?(u||(u=o("I64"))).to_int32(W.count):0;if(z===1&&q&&F.length===0&&G!=null)F.push(G);else{var j;q&&F[0]!=null&&G!=null&&((j=F[0])==null?void 0:j.toString())!==G&&F.unshift(G)}var K;a[40]===Symbol.for("react.memo_cache_sentinel")?(K=s._(/*BTDS*/"Loading..."),a[40]=K):K=a[40];var Q=K,X;e:{var Y=[].concat(F.slice(0,g)),J=!1;if(F.length>g){var Z=z-g;if(Z<0){var ee;a[41]===Symbol.for("react.memo_cache_sentinel")?(ee=[Q,!0],a[41]=ee):ee=a[41],X=ee;break e}Y.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(Z),s._param("count",String(r("intlSummarizeNumber")(Z)))]).toString())}else J=(!L||!l)&&F.length!==z;X=Y.length===0?[Q,J]:[Y.map(C),J]}var te=X,ne=te[0],re=te[1],oe=r("usePrevious")(re),ae=_(null),ie,le;a[42]===Symbol.for("react.memo_cache_sentinel")?(ie=function(){return function(){ae.current!=null&&window.clearTimeout(ae.current)}},le=[],a[42]=ie,a[43]=le):(ie=a[42],le=a[43]),p(ie,le);var se;a[44]!==S||a[45]!==re||a[46]!==oe||a[47]!==c||a[48]!==v?(se=function(){if(oe!==re)if(!re)ae.current!=null&&(window.clearTimeout(ae.current),ae.current=null);else{if(ae.current!=null)return;ae.current=window.setTimeout(function(){ae.current=null,r("promiseDone")(S.runInTransaction(y,"readwrite",void 0,void 0,i.id+":241")),r("promiseDone")(S.runInTransaction(function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:c,threadId:v})},"readwrite",void 0,void 0,i.id+":249"))},700)}},a[44]=S,a[45]=re,a[46]=oe,a[47]=c,a[48]=v,a[49]=se):se=a[49];var ue;a[50]!==S||a[51]!==re||a[52]!==oe||a[53]!==c||a[54]!==h||a[55]!==v?(ue=[S,re,oe,c,h,v],a[50]=S,a[51]=re,a[52]=oe,a[53]=c,a[54]=h,a[55]=v,a[56]=ue):ue=a[56],p(se,ue);var ce;a[57]===Symbol.for("react.memo_cache_sentinel")?(ce=s._(/*BTDS*/"See all reactions"),a[57]=ce):ce=a[57];var de;a[58]!==ne?(de=d.jsx(r("MWXText.react"),{color:"tooltip",type:"body4",children:ne}),a[58]=ne,a[59]=de):de=a[59];var me;return a[60]!==m||a[61]!==de?(me=d.jsx(r("MWXPressable.react"),{"aria-label":ce,onPress:m,overlayDisabled:!0,children:de}),a[60]=m,a[61]=de,a[62]=me):me=a[62],me}function y(e){return r("LSClearReactionsV2DetailsAndRangeStoredProcedure")(r("LSFactory")(e))}function C(e,t){return d.jsx("div",{children:e},String(t))}C.displayName=C.name+" [from "+i.id+"]";function b(e){return e.name}l.default=h}),226);
__d("MWCreatorMessagingDialogNuxContainer.react",["I64","JSResourceForInteraction","MWCreatorMessagingUtils","QPLUserFlow","declareNUXRequireable","qpl","react","react-compiler-runtime","useMWXLazyDialog","useNUX"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=r("JSResourceForInteraction")("MWCreatorMessagingChatWithPagesYouFollowDialog.react").__setRef("MWCreatorMessagingDialogNuxContainer.react");function p(e){function t(t){var n=o("react-compiler-runtime").c(6),a=t.thread,i=r("useMWXLazyDialog")(m),l=i[0],u=r("useNUX")(e),p=u[0],_=u[1],f=_.onDismiss,g=d(!1),h,y;n[0]!==p||n[1]!==f||n[2]!==l||n[3]!==a?(h=function(){var e=function(){r("QPLUserFlow").endSuccess(r("qpl")._(421072177,"2983"),{instanceKey:(s||(s=o("I64"))).to_int32(a.threadKey)}),f()};!g.current&&p&&a!=null&&o("MWCreatorMessagingUtils").isAPPlusInitiatedThread(a)&&(g.current=!0,r("QPLUserFlow").start(r("qpl")._(421072177,"2983"),{annotations:{string:{entrypoint:o("MWCreatorMessagingUtils").fetchQPLEntrypoint(a)}},instanceKey:(s||(s=o("I64"))).to_int32(a.threadKey)}),l({},e))},y=[p,f,l,a],n[0]=p,n[1]=f,n[2]=l,n[3]=a,n[4]=h,n[5]=y):(h=n[4],y=n[5]),c(h,y)}return t}var _=r("declareNUXRequireable")(p);l.default=_}),98);
__d("MWEBRestoreGapUI.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWEBBackupState","useMWEBGetUpsellState","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useRef,f=r("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreGapUI.react"),g={banner:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1mfogq2",paddingInlineEnd:"xsfy40s",paddingLeft:null,paddingRight:null,$$css:!0}};function h(){var t=o("react-compiler-runtime").c(21),n=(e||(e=r("useReStore")))(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={entrypoint:r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},t[0]=a):a=t[0];var i=r("useMWEBBackupState")(a),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={},t[1]=l):l=t[1];var u=r("useMWXEntryPointDialog")(r("MAWEncryptedBackupsRestoreDialog.entrypoint"),l),d=u[0],m=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),h=m.startFlow,y=r("useMWEBGetUpsellState")(),C=y.isRestoreUpsellsDismissed,b=r("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_GAP_UI,v=_(!1),S=_(!1),R;t[2]!==h||t[3]!==n?(R=function(t){o("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:n,onFetch:function(n){var e=n.ebsmWiped,a=n.firstUpsellTime,i=n.hasEbKeysLocally,l=n.hasEBSM,s=n.hasPDB,u=n.hasUserRestoredBefore,c=n.hasUserRestoredBeforeTemp;h({additionalAnnotations:{eb_session_identifier:a,ebsm_wiped:e,has_eb_keys_locally:i,has_ebsm:l,has_pdb:s,has_user_restored_before:u,has_user_restored_before_temp:c,restore_upsell_first_impression_time:a},event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:b}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,t),S.current===!1&&(S.current=!0,r("promiseDone")(f.load(),function(e){return e(i)}))}})},t[2]=h,t[3]=n,t[4]=R):R=t[4];var L=R,E;t[5]!==L?(E={onVisible:function(){L("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_IMPRESSION")}},t[5]=L,t[6]=E):E=t[6];var k=r("useVisibilityObserver")(E),I=i===4&&!C,T,D;if(t[7]!==I||t[8]!==L?(T=function(){v.current===!1&&I&&(v.current=!0,L("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_MOUNT"))},D=[I,L],t[7]=I,t[8]=L,t[9]=T,t[10]=D):(T=t[9],D=t[10]),p(T,D),!I)return null;var x;t[11]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"Messages are missing."),t[11]=x):x=t[11];var $;t[12]!==d||t[13]!==L?($=function(){L("RESTORE_IN_THREAD_GAP_UI_CTA_CLICK"),d({source:b})},t[12]=d,t[13]=L,t[14]=$):$=t[14];var P;t[15]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"Restore now"),t[15]=P):P=t[15];var N;t[16]!==$?(N=c.jsx(r("MWXRowItem.react"),{xstyle:g.banner,children:c.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c.jsxs(c.Fragment,{children:[x," ",c.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:c.jsx(r("MWXLink.react"),{onClick:$,target:"_blank",testid:void 0,children:P})})]})})}),t[16]=$,t[17]=N):N=t[17];var M;return t[18]!==k||t[19]!==N?(M=c.jsx(r("MWXRow.react"),{align:"center",paddingHorizontal:16,paddingVertical:4,ref:k,spacing:0,children:N}),t[18]=k,t[19]=N,t[20]=M):M=t[20],M}l.default=h}),226);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9783976471666723"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:r("MWEditChannelDialogQuery$Parameters"),variables:{threadID:e}}}}},root:r("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};l.default=e}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","react-compiler-runtime","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(11),a=t.children,i=t.threadKey,l=(e||(e=r("useReStore")))(),u;n[0]!==i?(u=(s||(s=o("I64"))).to_string(i),n[0]=i,n[1]=u):u=n[1];var c;n[2]!==u?(c={threadID:u},n[2]=u,n[3]=c):c=n[3];var d=c,m=r("useMWXEntryPointDialog")(r("MWEditChannelDialog.entrypoint"),d),p=m[0],_;n[4]!==l||n[5]!==p||n[6]!==i?(_=function(){r("promiseDone")(l.tables.threads.get(i),function(e){e!=null&&p({thread:e})})},n[4]=l,n[5]=p,n[6]=i,n[7]=_):_=n[7];var f=_,g;return n[8]!==a||n[9]!==f?(g=a(f),n[8]=a,n[9]=f,n[10]=g):g=n[10],g}l.default=d}),98);
__d("MWExpandReactionsButton.react",["fbt","I64","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMultiReactConstants","MWXPressable.react","MWXTooltip.react","emptyFunction","intlSummarizeNumber","react","stylex","useIsReactionsV2Enabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useCallback,_=m.useMemo,f={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},emoji:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",lineHeight:"x14ju556",marginInlineEnd:"x14z9mp",$$css:!0},emojiNum:{paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},fontStyles:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0}};function g(t){var n=t.isMultiReactExpanded,a=t.isReactionReadOnly,i=t.isSecure,l=t.message,u=t.numOverflowEmojis,m=t.sendReaction,g=t.setIsReactionsRowAnimationInProgress,h=t.threadKey,y=t.threadType,C=t.toggleMultiReactExpanded,b=(c||(c=o("I64"))).to_string(h),v=c.to_string(l.timestampMs),S=_(function(){return o("MWChatMessageId").makeSent(b,l.messageId,v)},[b,l.messageId,v]),R=o("MWCMThreadTypes.react").isBroadcastThread(y),L=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(h),E=p(function(){C(),g(!0)},[g,C]);return d.jsx(r("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:r("emptyFunction"),disableCustomReactions:L&&R,hasReactionsV2:L,isBroadcastThread:R,isSecure:i,messageID:S,onVisibilityChange:r("emptyFunction"),sendReaction:m,children:function(i,l,c,m,p){var t=s._(/*BTDS*/"Show all reactions"),_=r("intlSummarizeNumber")(u),g="+"+_,h=_.length,y=d.jsx(r("MWXPressable.react"),{"aria-label":t,disabled:a,expanding:!0,onHoverIn:c,onHoverOut:m,onPress:E,onPressIn:p,overlayRadius:"inherit",ref:i,role:"button",testid:void 0,xstyle:f.emojiRowContainer,children:d.jsx("div",{className:"x6s0dn4 x7daf1o x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r",role:"none",children:d.jsx("div",{className:(e||(e=r("stylex")))([].concat(n?[f.fontStyles,f.emoji,f.additionalInlineButton]:[f.fontStyles,f.emojiNum])),role:"none",style:{minWidth:h*o("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER},children:g})})});return a?y:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:t,children:y})}})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("MWFDSAppInstagramReels.svg.react",["cr:21528"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21528")}),98);
__d("MWFDSCamcorderIncoming.svg.react",["cr:21584"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21584")}),98);
__d("MWFDSCamcorderMissed.svg.react",["cr:21585"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21585")}),98);
__d("MWFDSCamcorderOutgoing.svg.react",["cr:21586"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21586")}),98);
__d("MWFDSCrossCircle.svg.react",["cr:21619"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21619")}),98);
__d("MWFDSDragHandle.svg.react",["FBIconNaviconFilled12.svg.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("FBIconNaviconFilled12.svg.react")}),98);
__d("MWFDSFaceHappy.svg.react",["cr:2649"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:2649")}),98);
__d("MWFDSForward.svg.react",["cr:21662"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21662")}),98);
__d("MWFDSForwardAction.svg.react",["cr:21662"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21662")}),98);
__d("MWFDSGif.svg.react",["cr:21672"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21672")}),98);
__d("MWFDSHdOutline.svg.react",["cr:21678"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21678")}),98);
__d("MWFDSMicrophone.svg.react",["cr:21712"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21712")}),98);
__d("MWFDSMinus.svg.react",["cr:21713"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21713")}),98);
__d("MWFDSPhoneIncoming.svg.react",["cr:21731"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21731")}),98);
__d("MWFDSPhoneMissed.svg.react",["cr:21732"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21732")}),98);
__d("MWFDSPhoneOutgoing.svg.react",["cr:21733"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21733")}),98);
__d("MWFDSPhotoPlus.svg.react",["cr:21737"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21737")}),98);
__d("MWFDSPoll.svg.react",["cr:21742"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21742")}),98);
__d("MWFDSRollCall.svg.react",["cr:21766"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21766")}),98);
__d("MWFDSStickersFace.svg.react",["cr:21794"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21794")}),98);
__d("MWGenAIResponsePayloadUtils",["$InternalEnum","MWGenAIRichResponsePayload","MWGenAIUnifiedResponsePayloadUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["KEYWORD","METHOD","STR","NUMBER","COMMENT","DEFAULT"]);function s(e){var t,n,r,a=(t=e==null?void 0:e.sections)!=null?t:[],i=e==null?void 0:e.streaming_action,l=e==null?void 0:e.search_metadata,s=(n=l==null?void 0:l.attributions)!=null?n:[],u=(r=i==null?void 0:i.insertions)!=null?r:[],c=new Map(u.map(function(e){return[e.section_id,e.template_data]})),d=s==null?null:{attributions:s.map(function(e){var t,n;return{image:{url:(t=e.image)==null?void 0:t.url,urlFallback:(n=e.image)==null?void 0:n.url_fallback},searchQueryUrl:e.search_query_url,subtitle:e.subtitle,title:e.title}}),sourcesUrl:l==null?void 0:l.sources_url},m=e.unified_response==null?o("MWGenAIRichResponsePayload").buildSectionsFromRichResponse(a,c):o("MWGenAIUnifiedResponsePayloadUtils").buildSectionsFromUnifiedResponse(e.unified_response);return{__typename:"MWGenAIResponse",responseId:i==null?void 0:i.response_id,searchMetadata:d,sections:m}}function u(e){var t=e.custom_template_data;if((t==null?void 0:t.__typename)==="XMSGXmaGenAiRichResponseTemplateData")return s(t)}l.MWGenAICodePrimitiveBlockType=e,l.responseToMWGenAIResponse=s,l.xmaContentToMWGenAIResponse=u}),98);
__d("MWGenAIRichResponsePayload",["MWGenAIResponsePayloadUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e.map(function(e){var n=e.template_data.section_id,r=n!=null?t==null?void 0:t.get(n):null,o=r!=null?r:e.template_data;switch(o.__typename){case"XMSGXmaRichTextTemplateData":return s(o);case"XMSGXmaGenAiCodeTemplateData":return u(o);case"XMSGXmaNestedHScrollTemplateData":return d(o);default:return null}}).filter(function(e){return e!=null})}function s(e){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:{__typename:"MWGenAIMarkdownTextPrimitive",text:e.text}}}}function u(e){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:{__typename:"MWGenAICodePrimitive",codeLines:c(e.code_blocks),language:e.language}}}}function c(e){var t=[],n=[];for(var r of e)for(var a=r.content.split("\n"),i=o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.cast(r.type),l=0;l<a.length;l++){var s=a[l];s!==""&&i!=null&&n.push({__typename:"MWGenAICodePrimitiveBlock",content:s,type:i}),l<a.length-1&&(t.push(n),n=[])}return t.push(n),t}function d(e){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseHScrollLayoutViewModel",primitives:e.items.map(function(e){return{__typename:"MWGenAIReelPrimitive",data:e.data,defaultCta:e.default_cta}})}}}l.buildSectionsFromRichResponse=e}),98);
__d("MWGenAIUnifiedResponsePayloadUtils",["MWGenAIResponsePayloadUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=e==null?void 0:e.sections)!=null?t:[];return n.map(function(e){var t=e.view_model;switch(t.__typename){case"GenAISingleLayoutViewModel":return s(t);case"GenAIHScrollLayoutViewModel":default:return null}}).filter(function(e){return e!=null})}function s(e){var t=c(e.primitive);return t==null?null:{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:t}}}function u(e){if(e.inline_entities==null)return{__typename:"MWGenAIMarkdownTextPrimitive",text:e.text};var t=e.inline_entities.map(function(e){return e.metadata.__typename!=="GenAISearchCitationItem"?null:{__typename:"MWGenAITextInlineEntity",key:e.key,metadata:babelHelpers.extends({},e.metadata,{__typename:"MWGenAISearchCitationItem"})}});return{__typename:"MWGenAIMarkdownTextPrimitive",inlineEntities:t.filter(Boolean),text:e.text}}function c(e){switch(e.__typename){case"GenAIMarkdownTextUXPrimitive":return u(e);case"FOATextPrimitive":return{__typename:"MWGenAIMarkdownTextPrimitive",text:e.text};case"GenAICodeUXPrimitive":return{__typename:"MWGenAICodePrimitive",codeLines:d(e.code_blocks),language:e.language};default:return null}}function d(e){var t=[],n=[];for(var r of e)for(var a=r.content.split("\n"),i=o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.cast(r.type),l=0;l<a.length;l++){var s=a[l];s!==""&&i!=null&&n.push({__typename:"MWGenAICodePrimitiveBlock",content:s,type:i}),l<a.length-1&&(t.push(n),n=[])}return t.push(n),t}l.buildSectionsFromUnifiedResponse=e}),98);
__d("MWGenAICodePrimitiveLine.react",["MWGenAIResponsePayloadUtils","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={comment:{color:"x16np4np",$$css:!0},default:{color:"x1y24irf",$$css:!0},inlineBlock:{whiteSpace:"x126k92a",$$css:!0},keyword:{color:"xii46a8",$$css:!0},method:{color:"xy3wbsu",$$css:!0},number:{color:"xtlthio",$$css:!0},string:{color:"x1wqh759",$$css:!0}};function d(e){switch(e){case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.KEYWORD:return c.keyword;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.METHOD:return c.method;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.STR:return c.string;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.NUMBER:return c.number;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.COMMENT:return c.comment;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.DEFAULT:return c.default}}function m(e){var t=o("react-compiler-runtime").c(4),n=e.codeLineData,r;t[0]!==n?(r=n.map(p),t[0]=n,t[1]=r):r=t[1];var a;return t[2]!==r?(a=u.jsx("div",{children:r}),t[2]=r,t[3]=a):a=t[3],a}function p(t,n){return u.jsx("span",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.inlineBlock,d(t.type)]),{children:t.content}),n)}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWGenAICodePrimitive.react",["BaseTheme.react","MWGenAICodePrimitiveLine.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark:{"mwx-code-background-color":"#1F1F1F","mwx-code-header-background-color":"#2E2E2E","mwx-code-syntax-comment":"#B0B3B8","mwx-code-syntax-default":"#E2E5E9","mwx-code-syntax-keyword":"#5AA7FF","mwx-code-syntax-method":"#F68628","mwx-code-syntax-number":"#FF70C7","mwx-code-syntax-string":"#14B898"},light:{"mwx-code-background-color":"#FFFFFF","mwx-code-header-background-color":"#F5F5F5","mwx-code-syntax-comment":"#65686C","mwx-code-syntax-default":"#080809","mwx-code-syntax-keyword":"#0866FF","mwx-code-syntax-method":"#B15B0F","mwx-code-syntax-number":"#BE438C","mwx-code-syntax-string":"#008168"},type:"VARIABLES"};function c(e){var t=o("react-compiler-runtime").c(11),n=e.data,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x4tzy3f x8cjs6t x3sou0m x80vd3b x12u81az x5a5i1n x1obq294 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x1xmf6yo xsag5q8 xf159sx xmzvs34 xz9dl7a"},t[0]=a):a=t[0];var i;t[1]!==n.language?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("MWXText.react"),{type:"headlineEmphasized3",children:n.language})})),t[1]=n.language,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x1xo0k7 x8cjs6t x3sou0m x80vd3b x12u81az xde0f50 x15x8krk x18b5jzi x1q0q8m5 x1t7ytsu x1ejq31n x178xt8z x1lun4ml xso031l xpilrb4 x1e56ztr x1y1aw1k xf159sx xwib8y2 xmzvs34"},t[3]=l):l=t[3];var c;t[4]!==n.codeLines?(c=n.codeLines.map(d),t[4]=n.codeLines,t[5]=c):c=t[5];var m;t[6]!==c?(m=s.jsx("div",babelHelpers.extends({},l,{children:s.jsx("code",{children:c})})),t[6]=c,t[7]=m):m=t[7];var p;return t[8]!==i||t[9]!==m?(p=s.jsxs(r("BaseTheme.react"),{config:u,children:[i,m]}),t[8]=i,t[9]=m,t[10]=p):p=t[10],p}function d(e,t){return s.jsx(r("MWGenAICodePrimitiveLine.react"),{codeLineData:e},t)}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXMAV2ComposedTextSpacing",[],(function(t,n,r,o,a,i,l){"use strict";var e={block:{marginBottom:"x13xjzxd",marginTop:"xdj266r",$$css:!0},lastBlock:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function s(t){return t?e.lastBlock:e.block}l.getBlockSpacing=s}),98);
__d("MWXMAV2ComposedTextBlockquoteRenderer.react",["MWXMAV2ComposedTextSpacing","MWXMessageBlockQuote.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e.children?(n=e.children(null),t[0]=e.children,t[1]=n):n=t[1];var a=n;if(a==null)return null;var i;t[2]!==e.isLastBlock?(i=o("MWXMAV2ComposedTextSpacing").getBlockSpacing(e.isLastBlock),t[2]=e.isLastBlock,t[3]=i):i=t[3];var l;return t[4]!==i||t[5]!==a?(l=s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!1,xstyle:i,children:a}),t[4]=i,t[5]=a,t[6]=l):l=t[6],l}l.default=u}),98);
__d("MWXCodeBlock.react",["cr:2127","cr:4724","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),r=e.align,a=e.children,i=e.color,l=e.testid,u=e.type;if(n("cr:2127")!=null){var c;return t[0]!==r||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==u?(c=s.jsx(n("cr:2127"),{align:r,children:a,color:i,testid:void 0,type:u}),t[0]=r,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=c):c=t[5],c}if(n("cr:4724")!=null){var d;return t[6]!==a?(d=s.jsx(n("cr:4724"),{children:a}),t[6]=a,t[7]=d):d=t[7],d}return null}l.default=u}),98);
__d("MWXMAV2ComposedTextCodeRenderer.react",["MWXCodeBlock.react","MWXMAV2ComposedTextSpacing","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(10),a;n[0]!==t.children?(a=t.children(null),n[0]=t.children,n[1]=a):a=n[1];var i=a;if(i==null)return null;var l;n[2]!==t.isLastBlock?(l=(e||(e=r("stylex"))).props(o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock)),n[2]=t.isLastBlock,n[3]=l):l=n[3];var s;n[4]===Symbol.for("react.memo_cache_sentinel")?(s={className:"xw2csxc"},n[4]=s):s=n[4];var c;n[5]!==i?(c=u.jsx(r("MWXCodeBlock.react"),{type:"body4",children:u.jsx("div",babelHelpers.extends({},s,{children:u.jsx(r("MWXText.react"),{type:"body4",children:i})}))}),n[5]=i,n[6]=c):c=n[6];var d;return n[7]!==l||n[8]!==c?(d=u.jsx("pre",babelHelpers.extends({},l,{children:c})),n[7]=l,n[8]=c,n[9]=d):d=n[9],d}l.default=c}),98);
__d("MWXMAV2ComposedTextHeadingRenderer.react",["MWXMAV2ComposedTextSpacing","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={HEADER_ONE:"headlineEmphasized1",HEADER_THREE:"headlineEmphasized3",HEADER_TWO:"headlineEmphasized2"};function d(t){var n,a,i=o("react-compiler-runtime").c(10),l;i[0]!==t.children?(l=t.children(null),i[0]=t.children,i[1]=l):l=i[1];var s=l;if(s==null)return null;var d=(n=c[(a=t.block.block_type)!=null?a:"UNSTYLED"])!=null?n:"body3",m;i[2]!==t.isLastBlock?(m=(e||(e=r("stylex"))).props(o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock)),i[2]=t.isLastBlock,i[3]=m):m=i[3];var p;i[4]!==s||i[5]!==d?(p=u.jsx(r("MWXText.react"),{color:"primary",dir:"auto",type:d,children:s}),i[4]=s,i[5]=d,i[6]=p):p=i[6];var _;return i[7]!==m||i[8]!==p?(_=u.jsx("div",babelHelpers.extends({},m,{children:p})),i[7]=m,i[8]=p,i[9]=_):_=i[9],_}l.default=d}),98);
__d("MWXMAV2ComposedTextInlineRenderer.react",["ComposedInlineStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=function(t,n){switch(n.inline_style){case"BOLD":case r("ComposedInlineStyle").BOLD:return s.jsx("b",{children:t});case"ITALIC":case r("ComposedInlineStyle").ITALIC:return s.jsx("i",{children:t});case"UNDERLINE":case r("ComposedInlineStyle").UNDERLINE:return s.jsx("u",{children:t});case"CODE":case r("ComposedInlineStyle").CODE:return s.jsx("code",{className:"xeb7xqv x1nn3v0j x14vy60q x1120s5i xyiysdx",children:t});case"STRIKETHROUGH":case r("ComposedInlineStyle").STRIKETHROUGH:return s.jsx("strike",{children:t});case"LIGHTSTRIKETHROUGH":case r("ComposedInlineStyle").LIGHTSTRIKETHROUGH:return s.jsx("strike",{children:t});case"SUBSCRIPT":case r("ComposedInlineStyle").SUBSCRIPT:return s.jsx("sub",{children:t});case"SUPERSCRIPT":case r("ComposedInlineStyle").SUPERSCRIPT:return s.jsx("sup",{children:t});case"LINEBREAK":case r("ComposedInlineStyle").LINEBREAK:return s.jsx("br",{});default:return t}};l.default=u}),98);
__d("MWXMAV2ComposedTextLinkRenderer.react",["getMAWLinkEntityRenderer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={link:{color:"x1heor9g",textDecoration:"x1bvjpef",textDecorationLine:"xujl8zx",$$css:!0}},c=function(t,n){var e=r("getMAWLinkEntityRenderer.react")({encryptedLink:!1,target:"_blank",testid:"chat_message_regular_link",xstyle:[u.link]});return e(t,{__typename:n.__typename,uri:n.external_url},void 0,n.external_url,void 0)};l.default=c}),98);
__d("MWXMAV2ComposedTextListItemRenderer.react",["cometFeedMesssageOrderedListItemBlockUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e.data?(n=o("cometFeedMesssageOrderedListItemBlockUtils").parseListItemMarker(e.data),t[0]=e.data,t[1]=n):n=t[1];var r=n,a;t[2]!==e.children?(a=e.children(null),t[2]=e.children,t[3]=a):a=t[3];var i=a,l;return t[4]!==r||t[5]!==i?(l=s.jsx("li",{value:r,children:i}),t[4]=r,t[5]=i,t[6]=l):l=t[6],l}l.default=u}),98);
__d("MWXMAV2ComposedTextListRenderer.react",["CometFeedMessageListRendererContext.react","MWXMAV2ComposedTextSpacing","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={root:{paddingInlineStart:"x13jy36j",$$css:!0}},d={level0:{listStyleType:"xtaz4m5",$$css:!0},level1:{listStyleType:"xrylv2j",$$css:!0},level2:{listStyleType:"x152237o",$$css:!0}},m={level0:{listStyleType:"x3yw8vx",$$css:!0},level1:{listStyleType:"x1rrqm6h",$$css:!0},level2:{listStyleType:"x19k9dhg",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(11),a=t.type==="ORDERED",i=a?"ol":"ul",l=o("CometFeedMessageListRendererContext.react").useCometFeedMessageListRendererNestedLevel(),s=a?l.ordered:l.unordered,p;n[0]!==a||n[1]!==s||n[2]!==t.isLastBlock?(p=(e||(e=r("stylex"))).props(s===0&&o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock),c.root,s%3===0&&(a?m.level0:d.level0),s%3===1&&(a?m.level1:d.level1),s%3===2&&(a?m.level2:d.level2)),n[0]=a,n[1]=s,n[2]=t.isLastBlock,n[3]=p):p=n[3];var _=a?"ordered":"unordered",f;n[4]!==t.children||n[5]!==_?(f=u.jsx(o("CometFeedMessageListRendererContext.react").CometFeedMessageListRendererContextProvider,{type:_,children:t.children}),n[4]=t.children,n[5]=_,n[6]=f):f=n[6];var g;n[7]!==i||n[8]!==p||n[9]!==f?(g=u.jsx(i,babelHelpers.extends({},p,{children:f})),n[7]=i,n[8]=p,n[9]=f,n[10]=g):g=n[10];var h=g;return h}l.default=p}),98);
__d("MWXMAV2ComposedTextParagraphRenderer.react",["MWXMAV2ComposedTextSpacing","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(7),a;n[0]!==t.children?(a=t.children(null),n[0]=t.children,n[1]=a):a=n[1];var i=a;if(i==null)return null;var l;n[2]!==t.isLastBlock?(l=(e||(e=r("stylex"))).props(o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock)),n[2]=t.isLastBlock,n[3]=l):l=n[3];var s;return n[4]!==l||n[5]!==i?(s=u.jsx("p",babelHelpers.extends({},l,{children:i})),n[4]=l,n[5]=i,n[6]=s):s=n[6],s}l.default=c}),98);
__d("MWXMAV2ComposedTextPassThroughRenderer.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e.children?(n=s.jsx(s.Fragment,{children:e.children}),t[0]=e.children,t[1]=n):n=t[1],n}l.default=u}),98);
__d("PrismjsLanguage",[],(function(t,n,r,o,a,i){var e=Object.freeze({batch:{prism_language:"batch",label:"Batch",alias:["batch"]},c:{prism_language:"c",label:"C",alias:["c"]},csharp:{prism_language:"csharp",label:"C#",alias:["c#","csharp","dotnet","cs"]},cpp:{prism_language:"cpp",label:"C++",alias:["cpp"]},clojure:{prism_language:"clojure",label:"Clojure",alias:["clojure"]},cmake:{prism_language:"cmake",label:"CMake",alias:["cmake"]},cobol:{prism_language:"cobol",label:"COBOL",alias:["cobol"]},coffeescript:{prism_language:"coffeescript",label:"CoffeeScript",alias:["coffeescript","coffe"]},css:{prism_language:"css",label:"CSS",alias:["css"]},csv:{prism_language:"csv",label:"CSV",alias:["csv"]},dart:{prism_language:"dart",label:"Dart",alias:["dart"]},docker:{prism_language:"docker",label:"Docker",alias:["docker","dockerfile"]},elixir:{prism_language:"elixir",label:"Elixir",alias:["elixir"]},erlang:{prism_language:"erlang",label:"Erlang",alias:["erlang"]},fortran:{prism_language:"fortran",label:"Fortran",alias:["fortran"]},graphql:{prism_language:"graphql",label:"GraphQL",alias:["graphql"]},go:{prism_language:"go",label:"Go",alias:["go","golang"]},groovy:{prism_language:"groovy",label:"Groovy",alias:["groovy"]},php:{prism_language:"php",label:"PHP",alias:["php"]},haskell:{prism_language:"haskell",label:"Haskell",alias:["haskell","hs"]},markup:{prism_language:"markup",label:"XML",alias:["xml"]},ini:{prism_language:"ini",label:"INI",alias:["ini"]},java:{prism_language:"java",label:"Java",alias:["java"]},javascript:{prism_language:"javascript",label:"JavaScript",alias:["javascript","js"]},json:{prism_language:"json",label:"Web Application Manifest",alias:["webmanifest"]},julia:{prism_language:"julia",label:"Julia",alias:["julia"]},kotlin:{prism_language:"kotlin",label:"Kotlin",alias:["kotlin","kt","kts"]},lisp:{prism_language:"lisp",label:"Emacs Lisp",alias:["elisp","emacs","emacs-lisp","emacs lisp"]},lua:{prism_language:"lua",label:"Lua",alias:["lua"]},makefile:{prism_language:"makefile",label:"Makefile",alias:["makefile"]},markdown:{prism_language:"markdown",label:"MarkDown",alias:["markdown","md"]},matlab:{prism_language:"matlab",label:"Matlab",alias:["matlab"]},objectivec:{prism_language:"objectivec",label:"Objective-C",alias:["objectivec","objc"]},ocaml:{prism_language:"ocaml",label:"OCaml",alias:["ocaml"]},pascal:{prism_language:"pascal",label:"Pascal",alias:["pascal","objectpascal"]},perl:{prism_language:"perl",label:"Perl",alias:["perl"]},powershell:{prism_language:"powershell",label:"PowerShell",alias:["powershell"]},prolog:{prism_language:"prolog",label:"Prolog",alias:["prolog"]},python:{prism_language:"python",label:"Python",alias:["python","py"]},r:{prism_language:"r",label:"R",alias:["r"]},ruby:{prism_language:"ruby",label:"Ruby",alias:["ruby","rb"]},rust:{prism_language:"rust",label:"Rust",alias:["rust"]},scala:{prism_language:"scala",label:"Scala",alias:["scala"]},shellsession:{prism_language:"shellsession",label:"Shell",alias:["shell-session","sh-session"]},sql:{prism_language:"sql",label:"SQL",alias:["sql"]},swift:{prism_language:"swift",label:"Swift",alias:["swift"]},latex:{prism_language:"latex",label:"LaTeX",alias:["latex","tex"]},toml:{prism_language:"toml",label:"TOML",alias:["toml"]},typescript:{prism_language:"typescript",label:"TypeScript",alias:["typescript","ts"]},verilog:{prism_language:"verilog",label:"Verilog",alias:["verilog"]},visualbasic:{prism_language:"visualbasic",label:"Visual Basic",alias:["visual-basic","visual basic","vb","vba"]},yaml:{prism_language:"yaml",label:"YAML",alias:["yaml","yml"]}});i.default=e}),66);
__d("prismjsLanguageFromAlias",["PrismjsLanguage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;var t=Object.values(r("PrismjsLanguage")),n=e.toLowerCase();for(var o of t)for(var a of o.alias)if(n===a)return o.prism_language;return null}l.default=e}),98);
__d("trustHTML",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;if((t=window.trustedTypes)!=null&&t.createPolicy){var n=window.trustedTypes.createPolicy("lexical",{createHTML:function(t){return t}});return n.createHTML(e)}return e}i.default=e}),66);
__d("MarkedComposedTextTransform",["URI","UnicodeUtils","nullthrows","prismjsLanguageFromAlias","trustHTML"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e){if(Array.isArray(e)){for(var t of e)d(t);return!0}var n=e;for(var r of u){var o=r(n);if(o)return!0}return!1}function m(e){return e}function p(e){return function(t){return e(t,c)}}function _(e){return function(t){var n=c.at(-1);return n!=null?e(t,n):!1}}function f(e){c.push(e)}function g(e){var t=c.length;e();for(var n=c.length,a=[],i=1;i<n-t;i++){var l=c.pop();l!=null&&a.unshift(l)}var u=r("nullthrows")(c.at(-1));for(var d of a){var m,p,_=(s||(s=o("UnicodeUtils"))).strlen((m=u.text)!=null?m:""),f=a.at(-1)===d;C(((p=d.text)!=null?p:"")+(f?"":"\n"));for(var g of d.inline_style_ranges){var h=u.inline_style_ranges;h.push({inline_style:r("nullthrows")(g.inline_style),length:r("nullthrows")(g.length),offset:_})}for(var y of d.entity_ranges){var b=u.entity_ranges;b.push({entity:r("nullthrows")(y.entity),entity_type:r("nullthrows")(y.entity_type),length:r("nullthrows")(y.length),offset:_})}}}function h(e,t){var n,a,i=r("nullthrows")(c.at(-1)),l=(n=i.text)!=null?n:"",u=(s||(s=o("UnicodeUtils"))).strlen(l);t();var d=(a=i.text)!=null?a:"",m=s.strlen(d)-u,p=i.inline_style_ranges;for(var _ of p)if(_.inline_style===e&&_.offset+_.length>=u){_.length=u+m-_.offset;return}for(var f=p.length-1;f>=0&&p[f].offset===u;)f--;p.splice(f+1,0,{inline_style:e,length:m,offset:u})}function y(e,t,n){var a,i,l=r("nullthrows")(c.at(-1)),u=(a=l.text)!=null?a:"",d=(s||(s=o("UnicodeUtils"))).strlen(u);n();var m=(i=l.text)!=null?i:"",p=s.strlen(m)-d,_=l.entity_ranges;_.push({entity:t,entity_type:e,length:p,offset:d})}function C(e){var t,n=r("nullthrows")(c.at(-1));n.text=((t=n.text)!=null?t:"")+e}function b(){return{block_type:"UNSTYLED",data:"{}",depth:0,text:"",inline_style_ranges:[],entity_ranges:[]}}var v=p(function(e){return e.type==="paragraph"?(f(babelHelpers.extends({},b(),{block_type:"UNSTYLED"})),d(e.tokens),!0):!1}),S=["HEADER_ONE","HEADER_TWO","HEADER_THREE","HEADER_FOUR","HEADER_FIVE","HEADER_SIX"],R=p(function(e){return e.type==="heading"?(f(babelHelpers.extends({},b(),{block_type:S[Math.min(S.length-1,e.depth-1)]})),d(e.tokens),!0):!1}),L=p(function(e){return e.type==="code"?(f(babelHelpers.extends({},b(),{block_type:"CODE",language:e.lang,prism_language:r("prismjsLanguageFromAlias")(e.lang),text:e.text})),!0):!1}),E=0,k=!1,I=0,T=p(function(e){if(e.type==="list")return k=e.ordered,I=typeof e.start=="number"?e.start:0,d(e.items),k=!1,I=0,!0;if(e.type==="list_item"){f(babelHelpers.extends({},b(),{block_type:k?"ORDERED_LIST_ITEM":"UNORDERED_LIST_ITEM",depth:E,data:I>1?'{"marker":'+I+"}":"{}"})),I=0,E++;for(var t=k,n=["code","blockquote"],r=e.tokens,o=0;o<r.length;o++){var a=r[o],i=r[o+1];d(a),i!=null&&n.includes(a.type)&&!n.includes(i.type)&&f(b())}return E--,k=t,!0}return!1}),D=p(function(e){return e.type==="blockquote"?(g(function(){f(babelHelpers.extends({},b(),{block_type:"BLOCKQUOTE"})),d(e.tokens)}),!0):!1}),x=p(function(e){return e.type==="space"});function $(e){var t,n=(t=e==null?void 0:e.preserveNewLines)!=null?t:!1;return _(function(e){if(e.type==="text"){if(e.tokens!=null)d(e.tokens);else{var t=e.text;n||(t=t.replace(/[\r\n]+/g,""));var o=document.createElement("textarea");o.innerHTML=r("trustHTML")(t),C(o.value)}return!0}return!1})}var P=$(),N=_(function(e){return e.type==="br"?(C("\n"),!0):!1}),M=_(function(e){return e.type==="html"&&e.text.match(/<br\s*\/?>/i)?(C("\n"),!0):!1}),w=_(function(e){return e.type==="escape"?(C(e.text),!0):!1}),A=_(function(e){return e.type==="strong"?(h("BOLD",function(){d(e.tokens)}),!0):!1}),F=_(function(e){return e.type==="em"?(h("ITALIC",function(){d(e.tokens)}),!0):!1}),O=_(function(e){return e.type==="del"?(h("STRIKETHROUGH",function(){d(e.tokens)}),!0):!1}),B=_(function(e){return e.type==="codespan"?(h("CODE",function(){C(e.text)}),!0):!1}),W=_(function(t){if(t.type==="link")try{var n=new(e||(e=r("URI")))(t.href);return n.getProtocol()===""&&n.setProtocol("https"),y("LINK",{__typename:"XFBURLObject",external_url:n.toStringRawQuery(),url:t.href},function(){d(t.tokens)}),!0}catch(e){return!1}return!1}),q=p(function(e){return f(babelHelpers.extends({},b(),{text:e.raw})),!0}),U=_(function(e){return C(e.raw),!0}),V=[v,R,L,T,D,x,P,N,M,w,A,F,O,B,W,U,q];function H(e,t){t===void 0&&(t=V),u=t,c=[],d(e);var n=c;return u=null,c=null,n}l.transform=d,l.createBaseTransform=m,l.createBlockTransform=p,l.createInlineTransform=_,l.appendBlock=f,l.applyInlineStyle=h,l.applyEntity=y,l.appendText=C,l.createEmptyComposedTextBlock=b,l.createTextTransform=$,l.DEFAULT_TRANSFORMS=V,l.markedComposedTextRenderer=H}),98);
__d("MarkedMobileFlavorPlugin",[],(function(t,n,r,o,a,i){"use strict";var e={end:/_(?!_)/g,middle:/^_(?=\S)([\S\s]*?\S)_(?!_)/,start:/^_/},l={end:/\*(?!\*)/g,middle:/^\*(?=\S)([\S\s]*?\S)\*(?!\*)/,start:/^\*/};function s(e,t,n,r){return c(e,t,n,r,"em")}function u(e,t,n,r){return c(e,t,n,r,"strong")}function c(t,n,r,o,a){var i=a==="em"?e:l,s=i.start.exec(n),u=r;if(s&&(!s[1]||s[1]&&(o===""||t.rules.inline.punctuation.exec(o)))){u=u.slice(-1*n.length);var c=i.end;c.lastIndex=0;for(var d;(s=c.exec(u))!=null&&s!=null;)if(d=i.middle.exec(u.slice(0,s.index+2)),d){var m=n.slice(0,d[0].length),p=n.slice(1,d[0].length-1);return a==="em"?{raw:m,text:p,tokens:[],type:"em"}:{raw:m,text:p,tokens:[],type:"strong"}}}}i.em=s,i.strong=u}),66);
__d("MarkedTokenize",["marked"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){var e;n===void 0&&(n={});var r=(e=n.isOptimistic)!=null?e:!1,o=t.split("\n");if(r&&o.length>0){var a=o[o.length-1].replace(/\s+$/,"");a.length>0&&(a=m(a),a=d(a),o[o.length-1]=a)}var i=new u(n),l=i.lex(o.join("\n"));if(r&&l.length>0){var s=l[l.length-1];s.raw.length>0&&(s=f(s,n),s=_(s,n),l[l.length-1]=s)}return l},s=/^ {0,3}(`{3,}(?=[^\n`]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\S\s]*?)(?:\n|$))(?: {0,3}\1[`~]* *(?=\n|$)|$)/,u=(function(e){function t(t){var n,r,o;o=e.call(this)||this,o.options=t;var a={block:babelHelpers.extends({},o.tokenizer.rules.block),inline:babelHelpers.extends({},o.tokenizer.rules.inline)};return((n=t.rules)==null?void 0:n.inline)!=null&&(a.inline=babelHelpers.extends({},a.inline,t.rules.inline)),((r=t.rules)==null?void 0:r.block)!=null&&(a.block=babelHelpers.extends({},a.block,t.rules.block)),t.isOptimistic===!0&&(a.block.fences=s),o.tokenizer=new c(t.plugins),o.tokenizer.rules=a,o}return babelHelpers.inheritsLoose(t,e),t})(r("marked").Lexer),c=(function(e){function t(t){var n;return n=e.call(this)||this,n.plugins=t||{},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.em=function(n,r,o){return o===void 0&&(o=""),this.plugins.em==null?e.prototype.em.call(this,n,r,o):this.plugins.em(this,n,r,o)},n.strong=function(n,r,o){return o===void 0&&(o=""),this.plugins.strong==null?e.prototype.strong.call(this,n,r,o):this.plugins.strong(this,n,r,o)},n.escape=function(n){var t,r,o;return(t=(r=(o=this.plugins).katexInline)==null?void 0:r.call(o,n))!=null?t:e.prototype.escape.call(this,n)},n.code=function(n){for(var t,r,o,a,i,l,s,u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];return(t=(r=(o=(a=this.plugins).katexBlock)==null?void 0:o.call(a,n))!=null?r:(i=(l=this.plugins).thinkingBlock)==null?void 0:i.call(l,n))!=null?t:(s=e.prototype.code).call.apply(s,[this,n].concat(c))},t})(r("marked").Tokenizer);function d(e){return e.replace(/!?\[([^\]]*)]?(?:\([^\s)]*)?$/,"")}function m(e){var t=e.trimRight();return p.includes(t)?"":t}var p=["-","*","**","***","_","__","___",">","|","`","``","```","#","##","###"];function _(e,t){return y(e,function(e){var n=g(e),r=n.replace(/[*_`~]+$/,""),o=C(r);if(o.length>0||n.length!==r){var a=h(e).replace(/[*_`~]+$/,"")+o.toReversed().join(""),i=new u(t),l=i.inlineTokens(a,[]),s=g(l),c=C(s);if(c.length<=o.length&&s.length<n.length)return l}return null}),e}function f(e,t){var n,r;if(e.type!=="paragraph")return e;var o=((n=e.raw.match(/^\|\s*(?:[^\n\r|]+?\s*\|?)+\s*(?:\n\|\s*(?::?-+:?\s*\|?\s*)*)?$/))!=null?n:[])[0];if(o==null)return e;var a=o.split("\n")[0].trimRight().replace(/\|$/,"")+"|",i=((r=a.match(/\|/g))!=null?r:[]).length-1,l="|"+" - |".repeat(i),s=a+"\n"+l,c=new u(t),d=c.lex(s);return d.length===1&&d[0].type==="table"?d[0]:e}function g(e){var t="";return r("marked").walkTokens(e,function(e){e.type==="text"&&e.tokens==null&&(t+=e.raw)}),t}function h(e){return e.map(function(e){return e.raw}).join("")}function y(e,t){var n,r;if(e.type==="code")return null;if(e.type==="table"){for(var o,a,i=(o=e.tokens.cells)!=null?o:[],l=(a=i[i.length-1])!=null?a:[],s=l.length-1;s>=0;s--)if(l[s].length>0){var u=t(l[s]);u!=null&&(l[s]=u);break}return null}if(e.type==="list"){var c=e.items,d=c[c.length-1];return d==null?null:y(d,t)}if(e.type==="list_item"){var m,p=(m=e.tokens)!=null?m:[],_=p[p.length-1];return _==null?null:y(_,t)}if(e.tokens==null)return null;var f=(n=e.tokens)!=null?n:[];return e.tokens=(r=t(f))!=null?r:f,f}function C(e){var t;return(t=e.match(/[*_`~]/g))!=null?t:[]}l.tokenize=e,l.AMBIGUOUS_OPENING_TAGS=p}),98);
__d("MWXMAV2MarkdownRenderer.react",["CometComposedBlockWithEntities.react","MWXMAV2ComposedTextBlockquoteRenderer.react","MWXMAV2ComposedTextCodeRenderer.react","MWXMAV2ComposedTextHeadingRenderer.react","MWXMAV2ComposedTextInlineRenderer.react","MWXMAV2ComposedTextLinkRenderer.react","MWXMAV2ComposedTextListItemRenderer.react","MWXMAV2ComposedTextListRenderer.react","MWXMAV2ComposedTextParagraphRenderer.react","MWXMAV2ComposedTextPassThroughRenderer.react","MWXText.react","MarkedComposedTextTransform","MarkedMobileFlavorPlugin","MarkedTokenize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={BLOCKQUOTE:r("MWXMAV2ComposedTextBlockquoteRenderer.react"),CODE:r("MWXMAV2ComposedTextCodeRenderer.react"),HEADER_FIVE:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_FOUR:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_ONE:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_SIX:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_THREE:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_TWO:r("MWXMAV2ComposedTextHeadingRenderer.react"),ORDERED_LIST_ITEM:r("MWXMAV2ComposedTextListItemRenderer.react"),PARAGRAPH:r("MWXMAV2ComposedTextParagraphRenderer.react"),UNORDERED_LIST_ITEM:r("MWXMAV2ComposedTextListItemRenderer.react"),UNSTYLED:r("MWXMAV2ComposedTextParagraphRenderer.react")},c={Inline:[r("MWXMAV2ComposedTextInlineRenderer.react")],XFBURLObject:[r("MWXMAV2ComposedTextLinkRenderer.react")]},d={ORDERED:r("MWXMAV2ComposedTextListRenderer.react"),UNORDERED:r("MWXMAV2ComposedTextListRenderer.react"),UNSTYLED:r("MWXMAV2ComposedTextPassThroughRenderer.react")},m=[o("MarkedComposedTextTransform").createTextTransform({preserveNewLines:!0})].concat(o("MarkedComposedTextTransform").DEFAULT_TRANSFORMS);function p(e){var t=o("react-compiler-runtime").c(8),n=e.markdown,a=e.outgoing,i=a===void 0?!1:a,l;if(t[0]!==n){var p=o("MarkedTokenize").tokenize(n,{plugins:{em:o("MarkedMobileFlavorPlugin").em,strong:o("MarkedMobileFlavorPlugin").strong}});l=o("MarkedComposedTextTransform").markedComposedTextRenderer(p,m),t[0]=n,t[1]=l}else l=t[1];var _=l,f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"xjkvuk6 x1iorvi4 x1fj9vlw"},t[2]=f):f=t[2];var g=i?"white":"primary",h;t[3]!==_?(h=s.jsx(r("CometComposedBlockWithEntities.react"),{blockRenderers:u,composedText:_,expanded:!0,listRenderers:d,renderers:c}),t[3]=_,t[4]=h):h=t[4];var y;return t[5]!==g||t[6]!==h?(y=s.jsx("div",babelHelpers.extends({},f,{children:s.jsx(r("MWXText.react"),{color:g,dir:"auto",type:"body3",children:h})})),t[5]=g,t[6]=h,t[7]=y):y=t[7],y}l.default=p}),98);
__d("MWGenAIMarkdownTextPrimitive.react",["MWXMAV2MarkdownRenderer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.data,a=e.outgoing,i=a===void 0?!1:a,l;if(t[0]!==n.inlineEntities||t[1]!==n.text){var u;l=n.text;var c=(u=n.inlineEntities)!=null?u:[];for(var d of c)l=l.replaceAll("{{"+d.key+"}}",""),l=l.replaceAll("{{/"+d.key+"}}","");t[0]=n.inlineEntities,t[1]=n.text,t[2]=l}else l=t[2];var m;return t[3]!==l||t[4]!==i?(m=s.jsx(r("MWXMAV2MarkdownRenderer.react"),{markdown:l,outgoing:i}),t[3]=l,t[4]=i,t[5]=m):m=t[5],m}l.default=u}),98);
__d("MWXIconAppInstagramReels",["MWXSvgIcon","SVGIcon","cr:22181","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22181")),r("gkx")("23219"));l.default=e}),98);
__d("getXmaOpenNativeCtaHandler",["isStringNullOrWhitespaceOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.action_url;return t==null||r("isStringNullOrWhitespaceOnly")(t)?null:{ctaActionType:"link",link:t}}l.getXmaOpenNativeCtaHandler=e}),98);
__d("getXmaWebUrlCtaHandler",["isStringNullOrWhitespaceOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.action_url;return t==null||r("isStringNullOrWhitespaceOnly")(t)?null:{ctaActionType:"link",link:t}}l.getXmaWebUrlCtaHandler=e}),98);
__d("useGetCtaAction.react",["MSGDataclassTypes.flow","getXmaOpenNativeCtaHandler","getXmaWebUrlCtaHandler","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(5),n=e==null?void 0:e.cta_type;if(e==null||n==null)return null;switch(n){case o("MSGDataclassTypes.flow").XmsgctaType.XmaWebUrl:{var r;return t[0]!==e?(r=o("getXmaWebUrlCtaHandler").getXmaWebUrlCtaHandler(e),t[0]=e,t[1]=r):r=t[1],r}case o("MSGDataclassTypes.flow").XmsgctaType.XmaOpenNative:{var a;return t[2]!==e?(a=o("getXmaOpenNativeCtaHandler").getXmaOpenNativeCtaHandler(e),t[2]=e,t[3]=a):a=t[3],a}default:{var i;return t[4]===Symbol.for("react.memo_cache_sentinel")?(i={ctaActionType:"unsupported"},t[4]=i):i=t[4],i}}}l.useGetCtaAction=e}),98);
__d("MWXMAV2PressableWrapper.react",["fbt","MWLSThreadDisplayContext","MWXPressable.react","react","react-compiler-runtime","useGetCtaAction.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react")),c={pressable:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.cta,i=e.handleXmaClickLogging,l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",d=o("useGetCtaAction.react").useGetCtaAction(a);if(d==null||d.ctaActionType==="unsupported")return n;var m;t[0]!==d.ctaActionType||t[1]!==d.link||t[2]!==l?(m=d.ctaActionType==="link"?{target:l?"_self":"_blank",url:d.link}:void 0,t[0]=d.ctaActionType,t[1]=d.link,t[2]=l,t[3]=m):m=t[3];var p=m,_=d.ctaActionType==="function"?d.onPress:void 0,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Go to link"),t[4]=f):f=t[4];var g;t[5]!==i||t[6]!==_?(g=function(){i(),_&&_()},t[5]=i,t[6]=_,t[7]=g):g=t[7];var h;return t[8]!==n||t[9]!==p||t[10]!==g?(h=u.jsx(r("MWXPressable.react"),{"aria-label":f,linkProps:p,onPress:g,overlayDisabled:!0,xstyle:c.pressable,children:n}),t[8]=n,t[9]=p,t[10]=g,t[11]=h):h=t[11],h}l.default=d}),226);
__d("MWXMAV2AttachmentStandardGenericTemplate.react",["fbt","ix","CometPageVerificationIcon.react","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconAppInstagramReels","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=d||(d=o("react")),p=e||(e=r("react")),_=m.useMemo,f=m.useState,g=240,h=195,y=350,C=180,b=150,v=250,S=1,R={cardOverlayWidth:{width:"xg7gh6y",$$css:!0},cardOverlayWidthChatTab:{width:"xrostsh",$$css:!0},cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},header_image_style_circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",objectFit:"xl1xv1r",width:"xvy4d1p",$$css:!0},rootOverlay:{aspectRatio:"x15jox0q",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},L={image:{objectFit:"xl1xv1r",$$css:!0},imageContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0},imageMaxHeight:{maxHeight:"x1csiy34",$$css:!0},imageMaxHeightChatTab:{maxHeight:"xl8z2ie",$$css:!0},threeImages:{aspectRatio:"x1plog1",width:"xfhlp2a",$$css:!0},twoImages:{aspectRatio:"x1plog1",width:"x3hqpx7",$$css:!0}},E=function(t,n){return t?n?b:C:n?h:g};function k(e){var t=o("react-compiler-runtime").c(8),n=e.isChatTab,a=e.isOverlayOrVideo,i=e.media,l=e.mediaRenderQpl,s=e.mediaUrl,u=e.renderedMediaCount,c,d=new Image;d.src=s,c=d.complete;var m=c,_=f(!m),g=_[0],h=_[1],C=E(n,a),b=n?v:y,R=u===1?i.width==null||i.height==null?1:i.width/i.height:S,k=C/u/R,I=k>b||a?b:k,T=g?I:"100%",D,x;t[0]!==l?(D=function(){return l==null?void 0:l.endFail("load-image-error")},x=function(){h(!1),l==null||l.endSuccess()},t[0]=l,t[1]=D,t[2]=x):(D=t[1],x=t[2]);var $;return t[3]!==s||t[4]!==T||t[5]!==D||t[6]!==x?($=p.jsx(r("MWXImage.react"),{height:T,onError:D,onLoad:x,src:s,width:"100%",xstyle:L.image}),t[3]=s,t[4]=T,t[5]=D,t[6]=x,t[7]=$):$=t[7],$}function I(e){var t=o("react-compiler-runtime").c(16),n=e.isChatTab,a=e.isOverlayOrVideo,i=e.mediaRenderQpl,l=e.medias,u=e.totalMediaCount,d=l.length,m=u-3,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x1ned7t2 x78zum5 x1q0g3np x5yr21d xh8yej3"},t[0]=_):_=t[0];var f;if(t[1]!==m||t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==d){var g;t[8]!==m||t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==d?(g=function(t,o){var e=t.url;return e==null?null:p.createElement("div",babelHelpers.extends({},(c||(c=r("stylex"))).props([L.imageContainer,!a&&(n?L.imageMaxHeightChatTab:L.imageMaxHeight),d===2&&L.twoImages,d>2&&L.threeImages]),{key:o}),p.jsx(k,{isChatTab:n,isOverlayOrVideo:a,media:t,mediaRenderQpl:i,mediaUrl:e,renderedMediaCount:d}),o===2&&m>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"x1pincqn x5yr21d x10l6tqk x13vifvy xh8yej3"}),p.jsx("div",{className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm",children:p.jsx(r("MWXText.react"),{color:"white",type:"headlineEmphasized4",children:s._(/*BTDS*/"+{value}",[s._param("value",m)])})})]}))},t[8]=m,t[9]=n,t[10]=a,t[11]=i,t[12]=d,t[13]=g):g=t[13],f=l.filter(T).slice(0,3).map(g),t[1]=m,t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=d,t[7]=f}else f=t[7];var h;return t[14]!==f?(h=p.jsx("div",babelHelpers.extends({},_,{children:f})),t[14]=f,t[15]=h):h=t[15],h}function T(e){return e.url!=null}function D(e){var t,n=o("react-compiler-runtime").c(29),a=e.body,i=e.header,l=e.isChatTab,s=e.isOverlayOrVideo,u=e.mediaRenderQpl,c=e.preview;if((c==null?void 0:c.__typename)==null){var d;return n[0]!==i?(d=p.jsx($,{hasPreview:!1,header:i,titleColor:"primary"}),n[0]=i,n[1]=d):d=n[1],d}var m;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=[],n[2]=m):m=n[2];var _=m,f=null;e:switch(c==null?void 0:c.__typename){case"XMSGXmaStandardGenericMultiMediaPreview":{var g;n[3]!==(c==null?void 0:c.medias)?(g=((c==null?void 0:c.medias)||[]).map(x).filter(Boolean),n[3]=c==null?void 0:c.medias,n[4]=g):g=n[4],_=g;break e}case"XMSGXmaStandardGenericVideoPreview":if(f=c==null?void 0:c.decoration_type,(c==null?void 0:c.preview.url)!=null){var h=c==null?void 0:c.preview,y;n[5]!==h?(y=[h],n[5]=h,n[6]=y):y=n[6],_=y}}if(!_||_.length===0){u==null||u.endSuccess();var C;return n[7]!==i?(C=p.jsx($,{hasPreview:!1,header:i,titleColor:"primary"}),n[7]=i,n[8]=C):C=n[8],C}var b=a==null?void 0:a.source_decoration_type,v=a==null?void 0:a.source_text,S;n[9]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x1jfb8zj x5yr21d x1n2onr6"},n[9]=S):S=n[9];var R=(t=c==null?void 0:c.total_media_count)!=null?t:_.length,L;n[10]!==l||n[11]!==s||n[12]!==u||n[13]!==_||n[14]!==R?(L=p.jsx(I,{isChatTab:l,isOverlayOrVideo:s,mediaRenderQpl:u,medias:_,totalMediaCount:R}),n[10]=l,n[11]=s,n[12]=u,n[13]=_,n[14]=R,n[15]=L):L=n[15];var E;n[16]!==i||n[17]!==_?(E=i!=null&&p.jsxs(p.Fragment,{children:[p.jsx("div",babelHelpers.extends({},{0:{className:"xnvtxd0 x1jjfqgs x1o0tod x10l6tqk x13vifvy xh8yej3"},1:{className:"x1o0tod x10l6tqk x13vifvy xo90atz x10vz0mv xh8yej3"}}[(_.length>2)<<0])),p.jsx("div",{className:"x1o0tod x10l6tqk x13vifvy xh8yej3",children:p.jsx($,{hasPreview:!0,header:i,titleColor:"white"})})]}),n[16]=i,n[17]=_,n[18]=E):E=n[18];var k;n[19]!==b||n[20]!==v?(k=!r("isStringNullOrWhitespaceOnly")(v)&&v!=null&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x1o0tod x10l6tqk xh8yej3"}),p.jsx("div",{className:"xn0vg7t x1r4y97 x10l6tqk",children:p.jsx(M,{paddingTop:0,placement:"overlay",sourceText:v,subtitleDecorationType:b})})]}),n[19]=b,n[20]=v,n[21]=k):k=n[21];var T;n[22]!==f?(T=f!=null&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x1o0tod x10l6tqk xh8yej3"}),p.jsx("div",{className:"xn0vg7t x1r4y97 x10l6tqk",children:p.jsx(N,{decorationType:f})})]}),n[22]=f,n[23]=T):T=n[23];var D;return n[24]!==L||n[25]!==E||n[26]!==k||n[27]!==T?(D=p.jsxs("div",babelHelpers.extends({},S,{children:[L,E,k,T]})),n[24]=L,n[25]=E,n[26]=k,n[27]=T,n[28]=D):D=n[28],D}function x(e){return e.url!=null?e:null}function $(e){var t,n=o("react-compiler-runtime").c(13),a=e.hasPreview,i=e.header,l=e.titleColor;if(i==null)return null;var s=i.verified_type===o("MSGDataclassTypes.flow").XmsgXmaVerifiedType.Default,u=(t=i.image)==null?void 0:t.url,c=i.title,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x6s0dn4 xfex06f x78zum5 x1nhvcw1 xz9dl7a xpdmqnj x18d9i69 x1g0dm76"},n[0]=d):d=n[0];var m;n[1]!==u?(m=u!=null&&!r("isStringNullOrWhitespaceOnly")(u)&&p.jsx(r("MWXImage.react"),{src:u,xstyle:R.header_image_style_circle}),n[1]=u,n[2]=m):m=n[2];var _;n[3]!==c||n[4]!==l?(_=!r("isStringNullOrWhitespaceOnly")(c)&&c!=null&&p.jsx(r("MWXText.react"),{color:l,numberOfLines:1,type:"headlineEmphasized4",children:c}),n[3]=c,n[4]=l,n[5]=_):_=n[5];var f;n[6]!==a||n[7]!==s?(f=s&&p.jsx(r("CometPageVerificationIcon.react"),{isInverted:a,size:"small",verificationBadge:"BLUE_VERIFIED"}),n[6]=a,n[7]=s,n[8]=f):f=n[8];var g;return n[9]!==m||n[10]!==_||n[11]!==f?(g=p.jsxs("div",babelHelpers.extends({},d,{children:[m,_,f]})),n[9]=m,n[10]=_,n[11]=f,n[12]=g):g=n[12],g}function P(e){var t=o("react-compiler-runtime").c(17),n=e.body,a=r("isStringNullOrWhitespaceOnly")(n.title),i=r("isStringNullOrWhitespaceOnly")(n.subtitle),l=!a&&!i?8:0,s;if(t[0]!==n.max_title_num_lines||t[1]!==n.title){var u;s=n.title!=null&&p.jsx(r("MWXColumnItem.react"),{children:p.jsx(r("MWXText.react"),{color:"primary",numberOfLines:(u=n.max_title_num_lines)!=null?u:3,type:"headlineEmphasized4",children:n.title})}),t[0]=n.max_title_num_lines,t[1]=n.title,t[2]=s}else s=t[2];var c=a?0:8,d;if(t[3]!==n.max_subtitle_num_lines||t[4]!==n.subtitle){var m;d=n.subtitle!=null&&p.jsx(r("MWXColumnItem.react"),{children:p.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:(m=n.max_subtitle_num_lines)!=null?m:3,type:"body4",children:n.subtitle})}),t[3]=n.max_subtitle_num_lines,t[4]=n.subtitle,t[5]=d}else d=t[5];var _;t[6]!==n.source_decoration_type||t[7]!==n.source_text||t[8]!==l?(_=n.source_text!=null&&p.jsx(r("MWXColumnItem.react"),{children:p.jsx(M,{paddingTop:l,placement:"body",sourceText:n.source_text,subtitleDecorationType:n.source_decoration_type})}),t[6]=n.source_decoration_type,t[7]=n.source_text,t[8]=l,t[9]=_):_=t[9];var f;t[10]!==c||t[11]!==d||t[12]!==_?(f=p.jsxs(r("MWXColumn.react"),{expanding:!0,paddingTop:c,verticalAlign:"bottom",children:[d,_]}),t[10]=c,t[11]=d,t[12]=_,t[13]=f):f=t[13];var g;return t[14]!==s||t[15]!==f?(g=p.jsxs(r("MWXColumn.react"),{expanding:!0,paddingHorizontal:12,paddingVertical:12,children:[s,f]}),t[14]=s,t[15]=f,t[16]=g):g=t[16],g}function N(e){var t=o("react-compiler-runtime").c(5),n=e.decorationType,a=null;e:switch(n){case o("MSGDataclassTypes.flow").XmsgXmaImageDecorationType.ReelsIcon:{var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx(r("MWXIconStrict.react"),{color:"disabled",icon:r("MWXIconAppInstagramReels"),size:24}),t[0]=i):i=t[0],a=i;break e}default:}var l;t[1]!==a?(l=a!=null&&p.jsx(r("MWXRowItem.react"),{children:a}),t[1]=a,t[2]=l):l=t[2];var s;return t[3]!==l?(s=p.jsx(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:0,spacing:4,verticalAlign:"center",children:l}),t[3]=l,t[4]=s):s=t[4],s}function M(e){var t=o("react-compiler-runtime").c(13),n=e.paddingTop,a=e.placement,i=e.sourceText,l=e.subtitleDecorationType,s=a==="overlay",c=null;if(l!=null)e:switch(l){case o("MSGDataclassTypes.flow").XmsgXmaSubtitleDecorationType.FacebookIcon:{var d;t[0]!==s?(d=u(s?"845914":"845912"),t[0]=s,t[1]=d):d=t[1];var m=d,_;t[2]!==m?(_=p.jsx(r("MWXImage.react"),{src:m}),t[2]=m,t[3]=_):_=t[3],c=_;break e}default:}var f;t[4]!==c?(f=c!=null&&p.jsx(r("MWXRowItem.react"),{children:c}),t[4]=c,t[5]=f):f=t[5];var g;t[6]!==s||t[7]!==i?(g=!r("isStringNullOrWhitespaceOnly")(i)&&i!=null&&p.jsx(r("MWXRowItem.react"),{children:p.jsx(r("MWXText.react"),{color:s?"white":"secondary",numberOfLines:1,type:"body4",children:i})}),t[6]=s,t[7]=i,t[8]=g):g=t[8];var h;return t[9]!==n||t[10]!==f||t[11]!==g?(h=p.jsxs(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:n,spacing:4,verticalAlign:"center",children:[f,g]}),t[9]=n,t[10]=f,t[11]=g,t[12]=h):h=t[12],h}function w(e){var t,n=o("react-compiler-runtime").c(24),a=e.defaultCta,i=e.handleXmaClickLogging,l=e.mediaRenderQpl,s=e.template,u=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c=u==="ChatTab";l!=null&&l.addPoint("render-xma-v2-template");var d=((t=s.config)==null?void 0:t.body_layout_type)===o("MSGDataclassTypes.flow").XmsgXmaStandardGenericBodyLayoutType.Overlay,m=s.body,_=s.header,f=s.preview,g=d||(f==null?void 0:f.__typename)==="XMSGXmaStandardGenericVideoPreview",h=!c&&(g?R.cardOverlayWidth:R.cardWidth),y=c&&(g?R.cardOverlayWidthChatTab:R.cardWidthChatTab),C=g&&R.rootOverlay,b;n[0]!==h||n[1]!==y||n[2]!==C?(b=[R.templateRoot,h,y,C],n[0]=h,n[1]=y,n[2]=C,n[3]=b):b=n[3];var v;n[4]!==m||n[5]!==_||n[6]!==c||n[7]!==d||n[8]!==g||n[9]!==l||n[10]!==f?(v=(_!=null||f!=null)&&p.jsx(r("MWXColumnItem.react"),{expanding:f!=null,children:p.jsx(D,{body:d?m:null,header:_,isChatTab:c,isOverlayOrVideo:g,mediaRenderQpl:l,preview:f})}),n[4]=m,n[5]=_,n[6]=c,n[7]=d,n[8]=g,n[9]=l,n[10]=f,n[11]=v):v=n[11];var S;n[12]!==m||n[13]!==d||n[14]!==f?(S=!d&&m!=null&&p.jsx(r("MWXColumnItem.react"),{expanding:f==null,children:p.jsx(P,{body:m})}),n[12]=m,n[13]=d,n[14]=f,n[15]=S):S=n[15];var L;n[16]!==b||n[17]!==v||n[18]!==S?(L=p.jsxs(r("MWXColumn.react"),{expanding:!0,xstyle:b,children:[v,S]}),n[16]=b,n[17]=v,n[18]=S,n[19]=L):L=n[19];var E;return n[20]!==a||n[21]!==i||n[22]!==L?(E=p.jsx(r("MWXMAV2PressableWrapper.react"),{cta:a,handleXmaClickLogging:i,children:L}),n[20]=a,n[21]=i,n[22]=L,n[23]=E):E=n[23],E}l.default=w}),226);
__d("MWGenAIReelPrimitive.react",["MWXMAV2AttachmentStandardGenericTemplate.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(4),a=e.data,i=e.handleXmaClickLogging;if(((t=a.data)==null?void 0:t.__typename)!=="XMSGXmaStandardGenericTemplateData")return null;var l;return n[0]!==a.data||n[1]!==a.defaultCta||n[2]!==i?(l=s.jsx(r("MWXMAV2AttachmentStandardGenericTemplate.react"),{defaultCta:a.defaultCta,handleXmaClickLogging:i,mediaRenderQpl:null,template:a.data}),n[0]=a.data,n[1]=a.defaultCta,n[2]=i,n[3]=l):l=n[3],l}l.default=u}),98);
__d("MWXHScroll.react",["fbt","BaseHScroll.react","CometTrackingNodeProvider.react","Locale","MWXCircleButton.react","MWXIconChevronLeft","MWXIconChevronRight","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["arrowSize","buttonFocusable","nextButtonLabel","prevButtonLabel"],u,c=u||(u=o("react")),d=u.useCallback,m=o("Locale").isRTL(),p=s._(/*BTDS*/"Next items"),_=s._(/*BTDS*/"Previous items");function f(t){var n=t.arrowSize,a=t.buttonFocusable,i=t.nextButtonLabel,l=i===void 0?p:i,s=t.prevButtonLabel,u=s===void 0?_:s,f=babelHelpers.objectWithoutPropertiesLoose(t,e),g=d(function(e,t){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:419,children:c.jsx(r("MWXCircleButton.react"),{color:"secondary",disabled:t,focusable:a,icon:r(m?"MWXIconChevronRight":"MWXIconChevronLeft"),label:u,onPress:e,size:n,testid:void 0,type:"overlay-raised"})})},[n,u]),h=d(function(e,t){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:420,children:c.jsx(r("MWXCircleButton.react"),{color:"secondary",disabled:t,focusable:a,icon:r(m?"MWXIconChevronLeft":"MWXIconChevronRight"),label:l,onPress:e,size:n,testid:void 0,type:"overlay-raised"})})},[n,a,l]);return c.jsx(o("BaseHScroll.react").HScrollContainer,babelHelpers.extends({},f,{nextButton:h,prevButton:g}))}f.displayName=f.name+" [from "+i.id+"]",l.Container=f,l.Child=o("BaseHScroll.react").HScrollChild}),226);
__d("MWGenAIResponseHScrollLayoutViewModel.react",["MWGenAIReelPrimitive.react","MWXCard.react","MWXHScroll.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.data,a=e.handleXmaClickLogging,i;if(t[0]!==n.primitives||t[1]!==a){var l;t[3]!==a?(l=function(t,n){switch(t.__typename){case"MWGenAIReelPrimitive":return s.jsx(r("MWGenAIReelPrimitive.react"),{data:t,handleXmaClickLogging:a},n);default:return null}},t[3]=a,t[4]=l):l=t[4],i=n.primitives.map(l).filter(d).map(c),t[0]=n.primitives,t[1]=a,t[2]=i}else i=t[2];var u=i,m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m={type:"fixed",width:150},t[5]=m):m=t[5];var p;return t[6]!==u?(p=s.jsx(o("MWXHScroll.react").Container,{accessibilityLabel:"Meta AI Hscroll content",arrowSize:24,cardWidth:m,gap:4,peek:!0,peekPaddingEnd:8,peekPaddingStart:8,peekWidth:4,children:u}),t[6]=u,t[7]=p):p=t[7],p}function c(e,t){return s.jsx(o("MWXHScroll.react").Child,{children:s.jsx(r("MWXCard.react"),{border:"solid",dropShadow:1,children:e})},t)}c.displayName=c.name+" [from "+i.id+"]";function d(e){return e!=null}l.default=u}),98);
__d("MWGenAIResponseSingleLayoutViewModel.react",["MWGenAICodePrimitive.react","MWGenAIMarkdownTextPrimitive.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.data,a=e.outgoing,i=a===void 0?!1:a;switch(n.primitive.__typename){case"MWGenAIMarkdownTextPrimitive":{var l;return t[0]!==n.primitive||t[1]!==i?(l=s.jsx(r("MWGenAIMarkdownTextPrimitive.react"),{data:n.primitive,outgoing:i}),t[0]=n.primitive,t[1]=i,t[2]=l):l=t[2],l}case"MWGenAICodePrimitive":{var u;return t[3]!==n.primitive?(u=s.jsx(r("MWGenAICodePrimitive.react"),{data:n.primitive}),t[3]=n.primitive,t[4]=u):u=t[4],u}default:return null}}l.default=u}),98);
__d("MWGenAIRichReponseFallback.react",["MAWLocalizationType","MWV2TombstonedMessage.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.isOutgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWGenAIRichResponseImpressionQplLogger",["I64","LSThreadAttributionStore","MWGenAIRichResponseRenderEligibilityUtils","MWGenAIUtils","QPLUserFlow","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("qpl")._(25304537,"2861"),u=r("qpl")._(25310752,"2895");function c(t,n,a){var i=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)),l=n.custom_template_data,s=l==null?void 0:l.__typename,u=o("MWGenAIRichResponseRenderEligibilityUtils").getAllUnsupportedSectionTypes(l).concat(o("MWGenAIRichResponseRenderEligibilityUtils").getAllUnsupportedUnifiedViewModels(l).map(function(e){return JSON.stringify(e)})),c=o("MWGenAIRichResponseRenderEligibilityUtils").getTemplateSectionTypes(l).concat(o("MWGenAIRichResponseRenderEligibilityUtils").getAllUnifiedViewModels(l)).map(function(e){return JSON.stringify(e)}),d=o("MWGenAIRichResponseRenderEligibilityUtils").getStreamingActionSectionTypes(l),m=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(t,{annotations:{string:{entry_point:a,source:(e||(e=o("I64"))).isI64(i.value)?(e||(e=o("I64"))).to_string(i.value):i.value,template_type:s==null?"null":s},string_array:{streaming_action_section_types:d,template_section_types:c,unsupported_section_types:u}},instanceKey:m}),r("QPLUserFlow").endSuccess(t,{instanceKey:m}),m}function d(e,t){return c(s,e,t)}function m(e,t){return c(u,e,t)}l.markFallbackImpression=d,l.markRichResponseImpression=m}),98);
__d("MWGroupLimitContainer.react",["cr:19926","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,r=e.children,o=e.groupLimitReachedContent,a=e.thread,i=(t=n("cr:19926")==null?void 0:n("cr:19926")(a.threadKey))!=null?t:[!1,!1],l=i[0];return l?o:r}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWInboxInfoMembersSectionStorageKey",[],(function(t,n,r,o,a,i){"use strict";var e="__MWInboxInfoMembersSection.isOpen__";i.storageKey=e}),66);
__d("MWMessageReaction.react",["BaseContextualLayer.react","I64","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWXPopover.react","MWXPressable.react","MWXText.react","gkx","intlSummarizeNumber","react","react-compiler-runtime","stylex","useCometTheme","useFadeEffect"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useRef,_=d.useState,f={"--card-background":"rgba(0,0,0,0)"},g="xx4g29r-B",h={animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x4uz0a7",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xds7yc5",transformOrigin:"x1jpgh95",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},selectedTextColor:{color:"x1f0x4kx",$$css:!0},tooltipContainer:{borderStartStartRadius:"xyjepno",borderStartEndRadius:"x15s83fx",borderEndEndRadius:"xdgutz0",borderEndStartRadius:"x1wjlvx0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},tootltipBackgroundComet:{backgroundColor:"xj5tmjb",boxShadow:"xms15q0",$$css:!0}};function y(t){var n=o("react-compiler-runtime").c(81),a=t.emoji,i=t.isProcessingReactions,l=t.isReadOnly,s=t.isTooltipShown,d=t.message,g=t.onFocus,y=t.onMouseEnter,v=t.onMouseLeave,S=t.onTooltipCTAPress,R=t.queueSendReactionCallback,L=t.reaction,E=t.sendReaction,k=t.shouldAnimate,I=t.threadKey,T=r("useCometTheme")("invert"),D=T[0],x=T[1],$=r("useCometTheme")("light"),P=$[1],N;n[0]!==a[0]?(N=o("MWChatReactionsUtils").isHeart(a[0]),n[0]=a[0],n[1]=N):N=n[1];var M=N,w=p(null),A=r("useFadeEffect")(s),F=A[0],O=A[1],B=A[2],W=_(L.viewerIsReactor),q=W[0],U=W[1],V;n[2]!==L.count?(V=(u||(u=o("I64"))).to_int32(L.count),n[2]=L.count,n[3]=V):V=n[3];var H=_(V),G=H[0],z=H[1],j=_(!1),K=j[0],Q=j[1],X=p(null),Y,J;n[4]===Symbol.for("react.memo_cache_sentinel")?(Y=function(){X.current!=null&&window.clearTimeout(X.current)},J=[],n[4]=Y,n[5]=J):(Y=n[4],J=n[5]),m(Y,J);var Z,ee;n[6]!==k?(Z=function(){k&&(Q(!0),X.current!=null&&window.clearTimeout(X.current),X.current=window.setTimeout(function(){X.current=null,Q(!1)},600))},ee=[k],n[6]=k,n[7]=Z,n[8]=ee):(Z=n[7],ee=n[8]),m(Z,ee);var te,ne;n[9]!==i||n[10]!==L.count||n[11]!==L.viewerIsReactor?(te=function(){i||(z((u||(u=o("I64"))).to_int32(L.count)),U(L.viewerIsReactor))},ne=[i,L.count,L.viewerIsReactor],n[9]=i,n[10]=L.count,n[11]=L.viewerIsReactor,n[12]=te,n[13]=ne):(te=n[12],ne=n[13]),m(te,ne);var re;n[14]===Symbol.for("react.memo_cache_sentinel")?(re=function(){U(!0),z(b)},n[14]=re):re=n[14];var oe=re,ae;n[15]===Symbol.for("react.memo_cache_sentinel")?(ae=function(){U(!1),z(C)},n[15]=ae):ae=n[15];var ie=ae,le=r("intlSummarizeNumber")(G).length,se;n[16]!==q||n[17]!==P?(se=(e||(e=r("stylex"))).props(q?P:null),n[16]=q,n[17]=P,n[18]=se):se=n[18];var ue;n[19]!==a||n[20]!==q||n[21]!==R||n[22]!==G||n[23]!==E?(ue=function(){q?ie():oe();var e=a.join("");G===1&&q?E(e,q):R(e,function(){E(e,q)})},n[19]=a,n[20]=q,n[21]=R,n[22]=G,n[23]=E,n[24]=ue):ue=n[24];var ce;n[25]!==q?(ce={0:{className:"x6s0dn4 xnmxlks x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r"},1:{className:"x6s0dn4 x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r x1y4ma1z"}}[!!q<<0],n[25]=q,n[26]=ce):ce=n[26];var de;n[27]!==l?(de={0:{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ju556 x14z9mp"},1:{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ju556 x14z9mp x1ypdohk"}}[!l<<0],n[27]=l,n[28]=de):de=n[28];var me;n[29]!==K||n[30]!==M||n[31]!==k?(me=(e||(e=r("stylex"))).props(k||K?h.animatedEmoji:!1,M?h.scaleHeartEmoji:!1),n[29]=K,n[30]=M,n[31]=k,n[32]=me):me=n[32];var pe="multi-react-emoji-"+a[0],_e;n[33]!==a||n[34]!==pe?(_e=c.jsx(r("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0}),n[33]=a,n[34]=pe,n[35]=_e):_e=n[35];var fe;n[36]!==me||n[37]!==_e?(fe=c.jsx("div",babelHelpers.extends({},me,{children:_e})),n[36]=me,n[37]=_e,n[38]=fe):fe=n[38];var ge;n[39]!==de||n[40]!==fe?(ge=c.jsx("div",babelHelpers.extends({},de,{children:fe})),n[39]=de,n[40]=fe,n[41]=ge):ge=n[41];var he=q&&h.selectedTextColor,ye;n[42]!==he?(ye=(e||(e=r("stylex")))([h.emojiNum,he]),n[42]=he,n[43]=ye):ye=n[43];var Ce="multi-react-emoji-num-"+a[0],be=le*o("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER,ve;n[44]!==be?(ve={minWidth:be},n[44]=be,n[45]=ve):ve=n[45];var Se;n[46]!==G?(Se=r("intlSummarizeNumber")(G),n[46]=G,n[47]=Se):Se=n[47];var Re;n[48]!==ye||n[49]!==Ce||n[50]!==ve||n[51]!==Se?(Re=c.jsx("div",{className:ye,"data-testid":void 0,role:"none",style:ve,children:Se}),n[48]=ye,n[49]=Ce,n[50]=ve,n[51]=Se,n[52]=Re):Re=n[52];var Le;n[53]!==ce||n[54]!==ge||n[55]!==Re?(Le=c.jsxs("div",babelHelpers.extends({},ce,{children:[ge,Re]})),n[53]=ce,n[54]=ge,n[55]=Re,n[56]=Le):Le=n[56];var Ee;n[57]!==l||n[58]!==ue||n[59]!==Le?(Ee=c.jsx(r("MWXPressable.react"),{disabled:l,onPress:ue,overlayRadius:"inherit",ref:w,xstyle:h.emojiRowContainer,children:Le}),n[57]=l,n[58]=ue,n[59]=Le,n[60]=Ee):Ee=n[60];var ke;n[61]!==D||n[62]!==B||n[63]!==a||n[64]!==i||n[65]!==l||n[66]!==d||n[67]!==S||n[68]!==L.reactionFbid||n[69]!==O||n[70]!==F||n[71]!==x||n[72]!==I?(ke=!l&&F&&c.jsx(D,{children:c.jsx(r("BaseContextualLayer.react"),{align:"middle",contextRef:w,position:"above",ref:B,children:c.jsx("div",{style:r("gkx")("23219")?null:f,children:c.jsx(r("MWXPopover.react"),{withArrow:r("gkx")("23219"),children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(x,h.tooltipContainer,r("gkx")("23219")?null:h.tootltipBackgroundComet,O&&h.tooltipContainerVisible),{role:"tooltip",children:c.jsx(r("MWXText.react"),{color:"primary",type:"body4",children:c.jsx(r("MWChatMultiReactionsTooltip.react"),{isProcessingReactions:i,messageId:d.messageId,onTooltipCTAPress:function(){return S(L.reactionFbid,a.join(""))},reactionFbid:L.reactionFbid,threadKey:I})})}))})})})}),n[61]=D,n[62]=B,n[63]=a,n[64]=i,n[65]=l,n[66]=d,n[67]=S,n[68]=L.reactionFbid,n[69]=O,n[70]=F,n[71]=x,n[72]=I,n[73]=ke):ke=n[73];var Ie;return n[74]!==g||n[75]!==y||n[76]!==v||n[77]!==se||n[78]!==Ee||n[79]!==ke?(Ie=c.jsxs("div",babelHelpers.extends({},se,{onFocus:g,onMouseEnter:y,onMouseLeave:v,children:[Ee,ke]})),n[74]=g,n[75]=y,n[76]=v,n[77]=se,n[78]=Ee,n[79]=ke,n[80]=Ie):Ie=n[80],Ie}function C(e){return e>1?e-1:e}function b(e){return e+1}l.default=y}),98);
__d("useEmojiReactionDynamicStyleXTransition",["differenceSets","mapMapToArray","mapSet","nullthrows","react","react-compiler-runtime","setImmediate","sortBy","useForceUpdate","useIsMountedRef","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useLayoutEffect,m=s.useRef,p="xekv6nw-B",_="x17qceat-B",f={animationBase:{opacity:"xg01cxk",transitionDuration:"xbb3pvg",transitionProperty:"xeq7tfg",width:"xnalus7",$$css:!0},animationEnter:{animationDuration:"xllfotl",animationName:"x127lhb5",opacity:"x1hc1fzr",$$css:!0},animationEnterWidth1:{width:"x1ygkb0v",$$css:!0},animationEnterWidth2:{width:"x1247r65",$$css:!0},animationEnterWidth3:{width:"xdc2ju1",$$css:!0},animationEnterWidth4:{width:"xgbm1jk",$$css:!0},animationEnterWidth5:{width:"x1rdo73f",$$css:!0},animationEnterWidth6:{width:"x13oubkp",$$css:!0},animationLeave:{animationDuration:"x773k2o",animationName:"xvma63k",opacity:"xg01cxk",width:"xnalus7",$$css:!0}};function g(e){switch(e){case 1:return f.animationEnterWidth1;case 2:return f.animationEnterWidth2;case 3:return f.animationEnterWidth3;case 4:return f.animationEnterWidth4;case 5:return f.animationEnterWidth5;case 6:return f.animationEnterWidth6;default:return null}}function h(){var e=m(new Map);function t(){return e.current}return c(function(){return function(){return Array.from(t().values()).forEach(window.clearTimeout)}},[]),t()}function y(){var e=o("react-compiler-runtime").c(3),t=r("useForceUpdate")(),n=r("useIsMountedRef")(),a;return e[0]!==t||e[1]!==n.current?(a=function(){return function(){n.current&&t()}},e[0]=t,e[1]=n.current,e[2]=a):a=e[2],r("useStable")(a)}function C(e,t,n,o){var a=y(),i=h(),l=r("useStable")(function(){return new Map}),s=m(!0),c=n.duration,p=c===void 0?100:c,_=n.durationIn,C=n.durationOut,b=n.onEnter,v=n.onEnterComplete,S=n.onLeave,R=n.onLeaveComplete,L=u(function(e,t,n){var r;return{item:t,key:e,order:n,style:{transitionDuration:(_!=null?_:p)+"ms"},xstyle:[f.animationBase,s.current&&f.animationEnter,s.current&&g((r=t==null?void 0:t.reactionCountCharactersNum)!=null?r:0)]}},[_,p]),E=new Map(e.map(function(e,n){return[t(e),{item:e,order:n}]})),k=r("differenceSets")(new Set(E.keys()),new Set(l.keys())),I=r("differenceSets")(new Set(l.keys()),new Set(E.keys())),T=new Map,D=Array.from(r("mapSet")(I,function(e){var t=r("nullthrows")(l.get(e)),n=t.order;return n})).sort(function(e,t){return e-t});D.forEach(function(t,n){for(var r=t-n;r<e.length;){var o,a=(o=T.get(r))!=null?o:0;T.set(r,a+1),r+=1}});var x=r("sortBy")([].concat(r("mapMapToArray")(l,function(e){var t=e.key,n=E.get(t);if(n){var r;return babelHelpers.extends({},e,{item:n.item,order:n.order+((r=T.get(n.order))!=null?r:0)})}return e}),Array.from(r("mapSet")(k,function(e){var t=r("nullthrows")(E.get(e)),n=t.item,o=t.order;return L(e,n,o)}))),function(e){return e.order});return d(function(){o!==!0&&(e.forEach(function(e,n){var o,s,u=t(e),c=(o=l.get(u))!=null?o:L(u,e,n);k.has(u)&&window.requestAnimationFrame(function(){var t;c.xstyle=[f.animationBase,f.animationEnter,g((t=e==null?void 0:e.reactionCountCharactersNum)!=null?t:0)],window.clearTimeout(i.get(u)),i.set(u,window.setTimeout(function(){v&&v(e)},_!=null?_:p)),r("setImmediate")(function(){var t;c.xstyle=[f.animationBase,f.animationEnter,g((t=e==null?void 0:e.reactionCountCharactersNum)!=null?t:0)],b&&b(e),a()})}),c.item=e,c.order=n+((s=T.get(n))!=null?s:0),l.set(u,c)}),Array.from(I.values()).forEach(function(e){var t=l.get(e);if(t!=null){var n=t.item;t.status!=="leaving"&&(t.status="leaving",t.style={transitionDuration:(C!=null?C:p)+"ms"},window.requestAnimationFrame(function(){t.xstyle=[f.animationBase,f.animationLeave],window.clearTimeout(i.get(e)),i.set(e,window.setTimeout(function(){l.delete(e),R&&R(n),a()},C!=null?C:p)),r("setImmediate")(function(){S&&S(n),a()})}))}}),s.current=!1)},void 0),x}l.default=C}),98);
__d("useSendReactionCallbackQueue",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useRef,c=s.useState,d=1e3,m=1500;function p(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Map,e[0]=t):t=e[0];var n=u(t),r=u(null),a=c(!1),i=a[0],l=a[1],s;if(e[1]===Symbol.for("react.memo_cache_sentinel")){s=function(t,o){l(!0),window.clearTimeout(r.current),n.current.set(t,o),r.current=window.setTimeout(function(){p()},m)};var p=function(){if(n.current.size>0){l(!0);var e=Array.from(n.current.entries())[0],t=e[0],o=e[1];o(),n.current.delete(t),r.current=window.setTimeout(function(){p()},m)}else _()},_=function(){window.setTimeout(function(){r.current=null,l(!1)},d)};e[1]=s}else s=e[1];var f;return e[2]!==i?(f=[s,i],e[2]=i,e[3]=f):f=e[3],f}l.default=p}),98);
__d("MWMessageReactionsList.react",["I64","LSAuthorityLevel","LSIntEnum","MWMessageReaction.react","MWMultiReactConstants","intlSummarizeNumber","react","react-compiler-runtime","stylex","useEmojiReactionDynamicStyleXTransition","useSendReactionCallbackQueue"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useRef;function p(e){var t=o("react-compiler-runtime").c(43),n=e.emojis,a=e.hideTooltip,i=e.isMultiReactExpanded,l=e.isReactionReadOnly,s=e.message,p=e.onTooltipCTAPress,h=e.previousReactionItems,y=e.reactionItemsShown,C=e.reactionsV2,b=e.sendReactionThrottled,v=e.setIsReactionsRowAnimationInProgress,S=e.setShouldAnimate,R=e.shouldAnimate,L=e.showTooltip,E=e.threadKey,k=e.tooltipIndex,I=y.length,T=m(I),D=r("useSendReactionCallbackQueue")(),x=D[0],$=D[1],P;t[0]!==i||t[1]!==I||t[2]!==v||t[3]!==S?(P=function(){T.current=I,v(!1),i&&S(!1)},t[0]=i,t[1]=I,t[2]=v,t[3]=S,t[4]=P):P=t[4];var N=P,M;t[5]!==I||t[6]!==v?(M=function(){T.current=I,v(!1)},t[5]=I,t[6]=v,t[7]=M):M=t[7];var w=M,A;t[8]===Symbol.for("react.memo_cache_sentinel")?(A=[],t[8]=A):A=t[8];var F=A;if(C!=null){var O;if(t[9]!==n||t[10]!==a||t[11]!==$||t[12]!==l||t[13]!==s||t[14]!==p||t[15]!==h||t[16]!==x||t[17]!==y||t[18]!==b||t[19]!==L||t[20]!==E||t[21]!==k){var B;t[23]!==n||t[24]!==a||t[25]!==$||t[26]!==l||t[27]!==s||t[28]!==p||t[29]!==h||t[30]!==x||t[31]!==b||t[32]!==L||t[33]!==E||t[34]!==k?(B=function(t,i){var e=t.emoji,m=t.reaction;return n[i]==null?null:{element:d.jsx(r("MWMessageReaction.react"),{emoji:e,isProcessingReactions:$,isReadOnly:l,isTooltipShown:k===i,message:s,onFocus:function(){return L(i)},onMouseEnter:function(){return L(i)},onMouseLeave:a,onTooltipCTAPress:p,queueSendReactionCallback:x,reaction:m,sendReaction:b,shouldAnimate:(h==null?void 0:h.find(function(t){return t.emoji.join("")===e.join("")}))==null&&(u||(u=o("I64"))).equal(m.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),threadKey:E},e.toString()),key:n.toString()+i,reactionCountCharactersNum:r("intlSummarizeNumber")((u||(u=o("I64"))).to_int32(m.count)).length}},t[23]=n,t[24]=a,t[25]=$,t[26]=l,t[27]=s,t[28]=p,t[29]=h,t[30]=x,t[31]=b,t[32]=L,t[33]=E,t[34]=k,t[35]=B):B=t[35],O=y.map(B),t[9]=n,t[10]=a,t[11]=$,t[12]=l,t[13]=s,t[14]=p,t[15]=h,t[16]=x,t[17]=y,t[18]=b,t[19]=L,t[20]=E,t[21]=k,t[22]=O}else O=t[22];F=O}var W;t[36]!==N||t[37]!==w?(W={duration:o("MWMultiReactConstants").REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION,onEnterComplete:N,onLeaveComplete:w},t[36]=N,t[37]=w,t[38]=W):W=t[38];var q=r("useEmojiReactionDynamicStyleXTransition")(F,g,W),U;return t[39]!==F||t[40]!==R||t[41]!==q?(U=R?q.map(f):F.map(_),t[39]=F,t[40]=R,t[41]=q,t[42]=U):U=t[42],U}function _(e){return e==null?void 0:e.element}function f(t){return d.jsx("div",{className:(e||(e=r("stylex")))([t==null?void 0:t.xstyle]),style:babelHelpers.extends({},t.style),children:t.item&&t.item.element},t.key)}f.displayName=f.name+" [from "+i.id+"]";function g(e){return e!=null?e.key:0}l.default=p}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useMemo,d=u.useRef;function m(e,t){var n={};e.forEach(function(e){n[e]=!0});var r=e;return t.forEach(function(e){var t=e.emoji.join("");n[t]||r.push(t)}),r}function p(e,t){var n=(t!=null?t:[]).filter(function(e){return(s||(s=o("I64"))).gt(e.count,s.zero)});return n.map(function(t,n){return{emoji:e[n],reaction:t}}).filter(function(e){return e.emoji!=null})}function _(e,t){var n=d(!0),r=d([]),a=c(function(){return p(e,t)},[e,t]),i=c(function(){var e={};return a.forEach(function(t){e[t.emoji.join("")]=t}),e},[a]);return c(function(){if(n.current)a.length>0&&(n.current=!1,r.current=a.sort(function(e,t){return(s||(s=o("I64"))).compare(t.reaction.count,e.reaction.count)}).map(function(e){return e.emoji.join("")}));else{var e=r.current.filter(function(e){var t=i[e];return t==null?!1:(s||(s=o("I64"))).to_int32(t.reaction.count)>0});r.current=m(e,a)}return r.current.map(function(e){return i[e]}).filter(Boolean)},[i,a])}l.default=_}),98);
__d("MWMessageReactionsContainerV2.react",["FBLogger","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWAddReactionButton.react","MWExpandReactionsButton.react","MWLSThread","MWMessageReactionsList.react","MWMultiReactConstants","ReQL","ReQLSuspense","emptyFunction","react","react-compiler-runtime","stylex","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useOnOutsideClick","usePrevious","useReStore","useThrottled"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useRef,_=d.useState,f={wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(80),a=t.emojis,l=t.isMultiReactRowExpanded,u=t.message,d=t.onOpenDialog,m=t.outgoing,g=t.reactionsV2,C=t.toggleMultiReactionRowExpansion,b=_(-1),v=b[0],S=b[1],R;n[0]===Symbol.for("react.memo_cache_sentinel")?(R={isReactionsRowAnimationInProgress:!1,shouldAnimate:!1},n[0]=R):R=n[0];var L=_(R),E=L[0],k=y,I=h,T=_(!1),D=T[0],x=T[1],$=u.threadKey,P=(e||(e=r("useReStore")))(),N=o("MWLSThread").useThread($),M;n[1]!==P||n[2]!==(N==null?void 0:N.parentThreadKey)?(M=function(){return N!=null&&N.parentThreadKey?o("ReQL").fromTableAscending(P.tables.community_folders).getKeyRange(N==null?void 0:N.parentThreadKey):o("ReQL").empty()},n[1]=P,n[2]=N==null?void 0:N.parentThreadKey,n[3]=M):M=n[3];var w=N==null?void 0:N.parentThreadKey,A;n[4]!==P||n[5]!==w?(A=[P,w],n[4]=P,n[5]=w,n[6]=A):A=n[6];var F=o("ReQLSuspense").useFirst(M,A,i.id+":87"),O;n[7]!==N?(O=N!=null?N:{},n[7]=N,n[8]=O):O=n[8];var B=O,W=B.threadType;if(W==null)throw r("FBLogger")("messenger_web").mustfixThrow("thread cannot be null when reacting to message");var q;n[9]!==W?(q=o("LSMessagingThreadTypeUtil").isArmadilloSecure(W),n[9]=W,n[10]=q):q=n[10];var U=q,V;n[11]!==W?(V=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(W),n[11]=W,n[12]=V):V=n[12];var H=V,G;n[13]!==l||n[14]!==D||n[15]!==C?(G=l?function(){D||(I(!0),C&&C(),k(!0))}:null,n[13]=l,n[14]=D,n[15]=C,n[16]=G):G=n[16];var z=r("useOnOutsideClick")(G),j=o("useIsMultiReactionEnabled").useIsMultiReactEnabled($),K=o("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(u,U,"instant_react"),Q;n[17]!==u.messageId||n[18]!==K?(Q=function(t,n){return K(u.messageId,t,n?"remove_reaction":"reaction")},n[17]=u.messageId,n[18]=K,n[19]=Q):Q=n[19];var X=Q,Y;n[20]!==X?(Y=function(t,n){X(t,n)},n[20]=X,n[21]=Y):Y=n[21];var J=r("useThrottled")(Y,750),Z=p(null),ee;n[22]!==v?(ee=function(t){v!==t&&(x(!0),Z.current!=null&&window.clearTimeout(Z.current),S(-1),Z.current=window.setTimeout(function(){S(t)},1500))},n[22]=v,n[23]=ee):ee=n[23];var te=ee,ne;n[24]===Symbol.for("react.memo_cache_sentinel")?(ne=function(){x(!1),Z.current!=null&&window.clearTimeout(Z.current),Z.current=window.setTimeout(function(){return S(-1)},300)},n[24]=ne):ne=n[24];var re=ne,oe;n[25]!==d?(oe=function(t,n){d({reactionFbid:t,reactionType:n}),re()},n[25]=d,n[26]=oe):oe=n[26];var ae=oe,ie=r("useGetMultiReactOrderedItems")(a,g),le=j?H===!0?o("MWMultiReactConstants").PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED:o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:o("MWMultiReactConstants").DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED,se;n[27]!==l||n[28]!==le||n[29]!==ie?(se=l?ie:ie.slice(0,le),n[27]=l,n[28]=le,n[29]=ie,n[30]=se):se=n[30];var ue=se,ce;n[31]!==l||n[32]!==le||n[33]!==ie?(ce=l?[]:ie.slice(le),n[31]=l,n[32]=le,n[33]=ie,n[34]=ce):ce=n[34];var de=ce,me=de.length,pe=ie.length||0,_e=r("usePrevious")(ie);if(pe<1)return null;var fe;n[35]!==(F==null?void 0:F.communityType)||n[36]!==N?(fe=N==null?!1:o("useIsReactionsV2Enabled").isReactionsV2ReadOnly(N,F==null?void 0:F.communityType),n[35]=F==null?void 0:F.communityType,n[36]=N,n[37]=fe):fe=n[37];var ge=fe,he=!m&&E.isReactionsRowAnimationInProgress,ye=!ge&&pe>0&&(H||pe<o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED)&&!he,Ce=me>0&&!he,be;n[38]!==m?(be=(s||(s=r("stylex"))).props(f.wrapper,m?f.wrapperOutgoing:!1),n[38]=m,n[39]=be):be=n[39];var ve;n[40]!==E.shouldAnimate||n[41]!==a||n[42]!==l||n[43]!==ge||n[44]!==u||n[45]!==ae||n[46]!==_e||n[47]!==ue||n[48]!==g||n[49]!==J||n[50]!==te||n[51]!==$||n[52]!==v?(ve=c.jsx(r("MWMessageReactionsList.react"),{emojis:a,hideTooltip:re,isMultiReactExpanded:l,isReactionReadOnly:ge,message:u,onTooltipCTAPress:ae,previousReactionItems:_e,reactionItemsShown:ue,reactionsV2:g,sendReactionThrottled:J,setIsReactionsRowAnimationInProgress:k,setShouldAnimate:I,shouldAnimate:E.shouldAnimate,showTooltip:te,threadKey:$,tooltipIndex:v}),n[40]=E.shouldAnimate,n[41]=a,n[42]=l,n[43]=ge,n[44]=u,n[45]=ae,n[46]=_e,n[47]=ue,n[48]=g,n[49]=J,n[50]=te,n[51]=$,n[52]=v,n[53]=ve):ve=n[53];var Se;n[54]!==l||n[55]!==ge||n[56]!==U||n[57]!==u||n[58]!==me||n[59]!==X||n[60]!==Ce||n[61]!==$||n[62]!==W||n[63]!==C?(Se=Ce?c.jsx(r("MWExpandReactionsButton.react"),{isMultiReactExpanded:l,isReactionReadOnly:ge,isSecure:U,message:u,numOverflowEmojis:me!=null?me:0,sendReaction:X,setIsReactionsRowAnimationInProgress:k,threadKey:$,threadType:W,toggleMultiReactExpanded:C!=null?C:r("emptyFunction")}):null,n[54]=l,n[55]=ge,n[56]=U,n[57]=u,n[58]=me,n[59]=X,n[60]=Ce,n[61]=$,n[62]=W,n[63]=C,n[64]=Se):Se=n[64];var Re;n[65]!==U||n[66]!==u||n[67]!==me||n[68]!==X||n[69]!==ye||n[70]!==$||n[71]!==W||n[72]!==C?(Re=ye?c.jsx(r("MWAddReactionButton.react"),{isSecure:U,message:u,sendReaction:function(t,n){me>0&&(C==null||C()),window.setTimeout(function(){X(t,n)},me*10)},setShouldRowStayExpanded:x,threadKey:$,threadType:W}):null,n[65]=U,n[66]=u,n[67]=me,n[68]=X,n[69]=ye,n[70]=$,n[71]=W,n[72]=C,n[73]=Re):Re=n[73];var Le;return n[74]!==z||n[75]!==be||n[76]!==ve||n[77]!==Se||n[78]!==Re?(Le=c.jsxs("div",babelHelpers.extends({},be,{"data-testid":void 0,ref:z,children:[ve,Se,Re]})),n[74]=z,n[75]=be,n[76]=ve,n[77]=Se,n[78]=Re,n[79]=Le):Le=n[79],Le}function h(e){}function y(e){}l.default=g}),98);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(19),a=t.isSecureMessage,i=t.maxLength,l=t.maxLines,s=t.seeLessLinkProps,d=t.seeMoreLinkProps,m=t.text,p=t.textColor,_=t.truncationStyle,f=t.outgoing,g=t.ranges,h=t.renderers,y=t.transforms,C=t.xstyleForText,b=o("MWUnvaultedText").useMWUnvaultedText(a,m),v;n[0]!==f||n[1]!==C?(v=(e||(e=r("stylex"))).props(c.regular,C,f?c.outgoing:c.incoming),n[0]=f,n[1]=C,n[2]=v):v=n[2];var S=b||"",R=y!=null?y:o("MWChatTextTransform").textTransforms,L;n[3]!==i||n[4]!==l||n[5]!==g||n[6]!==h||n[7]!==s||n[8]!==d||n[9]!==S||n[10]!==R||n[11]!==_?(L=u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:i,maxLines:l,ranges:g,renderers:h,seeLessLinkProps:s,seeMoreLinkProps:d,text:S,transforms:R,truncationStyle:_,truncationThreshold:2,withParagraphs:!0}),n[3]=i,n[4]=l,n[5]=g,n[6]=h,n[7]=s,n[8]=d,n[9]=S,n[10]=R,n[11]=_,n[12]=L):L=n[12];var E;n[13]!==v||n[14]!==L?(E=u.jsx("div",babelHelpers.extends({},v,{dir:"auto",children:L})),n[13]=v,n[14]=L,n[15]=E):E=n[15];var k;return n[16]!==E||n[17]!==p?(k=u.jsx(r("MWXText.react"),{color:p,type:"body3",children:E}),n[16]=E,n[17]=p,n[18]=k):k=n[18],k}l.default=d}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWGhostMessageBubbleWrapper.react","MWPEditMessageHistoryListText.react","MWXMessageBubble.react","defaultMWPThreadTheme","react","react-compiler-runtime","stylex","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d=23,m=14,p={border:{boxShadow:"x7h7r2v",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingInlineEnd:"x1r41h1w",$$css:!0},messageBubbleOutgoing:{paddingInlineStart:"xprvd4o",$$css:!0}};function _(t){var n,a=o("react-compiler-runtime").c(42),i=t.isReply,l=t.isSecureMessage,s=t.messageHistoryEntry,d=t.outgoing,m=t.renderMessageActions,_=d?"white":void 0,f;a[0]!==_?(f={color_DEPRECATED:_,weight_DEPRECATED:"semibold"},a[0]=_,a[1]=f):f=a[1];var g=f,h=c(!1),y=h[0],C=h[1],b=r("useMWPThreadTheme")(),v=b==null||(n=b.threadTheme)==null?void 0:n.fbid,S;a[2]!==v?(S=o("defaultMWPThreadTheme").isDefaultTheme(v),a[2]=v,a[3]=S):S=a[3];var R=S,L=R?r("MWGhostMessageBubbleWrapper.react"):u.Fragment,E;a[4]!==R||a[5]!==d?(E={0:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli"},2:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},1:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli x15zctf7"},3:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo x15zctf7"}}[!R<<1|!!d<<0],a[4]=R,a[5]=d,a[6]=E):E=a[6];var k,I;a[7]!==m?(k=function(){m!=null&&C(!0)},I=function(){m!=null&&C(!1)},a[7]=m,a[8]=k,a[9]=I):(k=a[8],I=a[9]);var T;a[10]!==d||a[11]!==m?(T=(e||(e=r("stylex"))).props(m?p.makeSpaceForMessageActions:d?p.messageBubbleOutgoing:p.messageBubbleIncoming),a[10]=d,a[11]=m,a[12]=T):T=a[12];var D=d?"right":"left",x=d?"outgoing":"incoming",$=R?"default":"opaque",P=!d&&i&&p.border,N;a[13]===Symbol.for("react.memo_cache_sentinel")?(N=[],a[13]=N):N=a[13];var M=s.messageContent||"",w=R?"secondary":d?"white":"primary",A;a[14]!==l||a[15]!==d||a[16]!==g||a[17]!==M||a[18]!==w?(A=u.jsx(r("MWPEditMessageHistoryListText.react"),{isSecureMessage:l,maxLength:300,maxLines:3,outgoing:d,ranges:N,seeLessLinkProps:g,seeMoreLinkProps:g,text:M,textColor:w,truncationStyle:"see-more-and-less"}),a[14]=l,a[15]=d,a[16]=g,a[17]=M,a[18]=w,a[19]=A):A=a[19];var F;a[20]!==x||a[21]!==$||a[22]!==P||a[23]!==A||a[24]!==D?(F=u.jsx(r("MWXMessageBubble.react"),{align:D,color:x,connectBottom:!1,connectTop:!1,variant:$,xstyle:P,children:A}),a[20]=x,a[21]=$,a[22]=P,a[23]=A,a[24]=D,a[25]=F):F=a[25];var O;a[26]!==L||a[27]!==F?(O=u.jsx(L,{children:F}),a[26]=L,a[27]=F,a[28]=O):O=a[28];var B;a[29]!==O||a[30]!==T?(B=u.jsx("div",babelHelpers.extends({},T,{children:O})),a[29]=O,a[30]=T,a[31]=B):B=a[31];var W;a[32]!==y||a[33]!==s||a[34]!==m?(W=m&&y?u.jsx("div",{className:"xc26acl x78zum5",children:m(s)}):null,a[32]=y,a[33]=s,a[34]=m,a[35]=W):W=a[35];var q;return a[36]!==B||a[37]!==W||a[38]!==E||a[39]!==k||a[40]!==I?(q=u.jsxs("div",babelHelpers.extends({},E,{"data-testid":void 0,onMouseEnter:k,onMouseLeave:I,role:"none",children:[B,W]})),a[36]=B,a[37]=W,a[38]=E,a[39]=k,a[40]=I,a[41]=q):q=a[41],q}l.MWPEditedMessageHistoryEntry=_}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t,n){var a=o("react-compiler-runtime").c(9),l=(e||(e=r("useReStore")))(),s;a[0]!==l.tables.edit_message_history||a[1]!==t?(s=function(){return o("ReQL").fromTableAscending(l.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(t)},a[0]=l.tables.edit_message_history,a[1]=t,a[2]=s):s=a[2];var u;a[3]!==l||a[4]!==t?(u=[l,t],a[3]=l,a[4]=t,a[5]=u):u=a[5];var c=o("ReQLSuspense").useArray(s,u,i.id+":29"),d,m;return a[6]!==c||a[7]!==n?(m=n?c.slice(0,-1):c,a[6]=c,a[7]=n,a[8]=m):m=a[8],d=m,d}l.default=c}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","qpl","react","react-compiler-runtime","stylex","useEditMessageHistoryLS"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useEffect,m=45,p=8,_={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0},outgoing:{display:"x1lliihq",paddingInlineEnd:"xf159sx",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(24),a=t.editCount,i=t.isReply,l=t.isSecureMessage,s=t.msgId,m=t.outgoing,p=t.renderMessageActions,f=t.threadType,g=t.xstyle,h=o("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},y=h.showEdits,C=r("useEditMessageHistoryLS")(s,l),b,v;n[0]!==a||n[1]!==l||n[2]!==C||n[3]!==y||n[4]!==f?(b=function(){y&&(r("QPLUserFlow").addAnnotations(r("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:l},int:{threadType:(u||(u=o("I64"))).to_int32(f)}}),C!=null&&a!=null&&C.length===(u||(u=o("I64"))).to_int32(a)?r("QPLUserFlow").endSuccess(r("qpl")._(1056849214,"1777")):r("QPLUserFlow").endFailure(r("qpl")._(1056849214,"1777"),"no edits found"))},v=[C,a,y,l,f],n[0]=a,n[1]=l,n[2]=C,n[3]=y,n[4]=f,n[5]=b,n[6]=v):(b=n[5],v=n[6]),d(b,v);var S;n[7]!==m||n[8]!==g?(S=(e||(e=r("stylex"))).props(_.base,m?_.outgoing:_.incoming,g),n[7]=m,n[8]=g,n[9]=S):S=n[9];var R;if(n[10]!==i||n[11]!==l||n[12]!==C||n[13]!==m||n[14]!==p){var L;n[16]!==i||n[17]!==l||n[18]!==m||n[19]!==p?(L=function(t,n){return c.jsx(o("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:i,isSecureMessage:l,messageHistoryEntry:t,outgoing:m,renderMessageActions:p},n)},n[16]=i,n[17]=l,n[18]=m,n[19]=p,n[20]=L):L=n[20],R=C.map(L),n[10]=i,n[11]=l,n[12]=C,n[13]=m,n[14]=p,n[15]=R}else R=n[15];var E;n[21]!==S||n[22]!==R?(E=c.jsx("div",babelHelpers.extends({},S,{role:"none",children:R})),n[21]=S,n[22]=R,n[23]=E):E=n[23];var k=E;return y?k:null}l.default=f}),98);
__d("MWSparkIcebreakerEmojiDisplay.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={container:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",minHeight:"x1wxaq2x",minWidth:"x900493",width:"x1useyqa",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.emoji,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.container,i),n[0]=i,n[1]=l):l=n[1];var s;n[2]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x1rg5ohu x1q74xe4 x87ps6o"},n[2]=s):s=n[2];var d;n[3]!==a?(d=u.jsx("span",babelHelpers.extends({},s,{children:a})),n[3]=a,n[4]=d):d=n[4];var m;return n[5]!==l||n[6]!==d?(m=u.jsx("div",babelHelpers.extends({},l,{children:d})),n[5]=l,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("MWSupportTranslatedMessageText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","stylex","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={incoming:{color:"x18lvrbx",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(15),a=t.maxLength,i=t.maxLines,l=t.seeLessLinkProps,s=t.seeMoreLinkProps,d=t.text,m=t.truncationStyle,p=t.ranges,_=t.renderers,f=t.transforms,g=t.xstyleForText;r("vulture")("hel9oKckTtKyHexUwPiZ54c6Jmk=");var h;n[0]!==g?(h=(e||(e=r("stylex"))).props(c.regular,g,c.incoming),n[0]=g,n[1]=h):h=n[1];var y=d||"",C=f!=null?f:o("MWChatTextTransform").textTransforms,b;n[2]!==a||n[3]!==i||n[4]!==p||n[5]!==_||n[6]!==l||n[7]!==s||n[8]!==y||n[9]!==C||n[10]!==m?(b=u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:a,maxLines:i,ranges:p,renderers:_,seeLessLinkProps:l,seeMoreLinkProps:s,text:y,transforms:C,truncationStyle:m,truncationThreshold:2,withParagraphs:!0}),n[2]=a,n[3]=i,n[4]=p,n[5]=_,n[6]=l,n[7]=s,n[8]=y,n[9]=C,n[10]=m,n[11]=b):b=n[11];var v;return n[12]!==h||n[13]!==b?(v=u.jsx(r("MWXText.react"),{color:"primary",type:"body3",children:u.jsx("div",babelHelpers.extends({},h,{dir:"auto",children:b}))}),n[12]=h,n[13]=b,n[14]=v):v=n[14],v}l.default=d}),98);
__d("MWSupportTranslatedMessageTextEntry.react",["MWSupportTranslatedMessageText.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=14;function c(e){var t=o("react-compiler-runtime").c(6),n=e.text,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={color_DEPRECATED:void 0,weight_DEPRECATED:"semibold"},t[0]=a):a=t[0];var i=a,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x1r41h1w"},t[2]=u):u=t[2];var c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[3]=c):c=t[3];var d;return t[4]!==n?(d=s.jsx("div",babelHelpers.extends({},l,{"data-testid":void 0,role:"none",children:s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",children:s.jsx(r("MWSupportTranslatedMessageText.react"),{maxLength:300,maxLines:3,ranges:c,seeLessLinkProps:i,seeMoreLinkProps:i,text:n,truncationStyle:"see-more-and-less"})})}))})),t[4]=n,t[5]=d):d=t[5],d}l.MWSupportTranslatedMessageTextEntry=c}),98);
__d("MWSupportTranslatedMessageTextWrapper.react",["MWSupportTranslatedMessageTextEntry.react","MWSupportTranslationsContext.react","react","react-compiler-runtime","stylex","useSupportTranslationsFetchDataLS"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=45,d={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(7),a=t.msgId,i=t.xstyle,l=o("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),s=l.showUntranslatedText,c=r("useSupportTranslationsFetchDataLS")(a);if(c==null)return null;var m;n[0]!==i?(m=(e||(e=r("stylex"))).props(d.base,d.incoming,i),n[0]=i,n[1]=m):m=n[1];var p;n[2]!==c?(p=u.jsx(o("MWSupportTranslatedMessageTextEntry.react").MWSupportTranslatedMessageTextEntry,{text:c}),n[2]=c,n[3]=p):p=n[3];var _;n[4]!==m||n[5]!==p?(_=u.jsx("div",babelHelpers.extends({},m,{role:"none",children:p})),n[4]=m,n[5]=p,n[6]=_):_=n[6];var f=_;return s?f:null}l.default=m}),98);
__d("MWXGenAIRichResponseSearchPluginAttachment.react",["FDSImageCover.react","MWXLink.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useMWXMAInformedAttachmentLabel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(20),n=e.imageUrl,a=e.queryUrl,i=e.subtitle,l=e.title,u=r("useMWXMAInformedAttachmentLabel")(l!=null?l:"",void 0,i!=null?i:""),m;t[0]!==n?(m=n==null?void 0:o("MWXMAIconParser.react").parse(n),t[0]=n,t[1]=m):m=t[1];var p=m,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x78zum5"},t[2]=_):_=t[2];var f;t[3]!==p?(f=typeof p=="string"?s.jsx(r("FDSImageCover.react"),{alt:"Icon for this message's header",src:p,style:{borderRadius:"50%",height:"40px",width:"40px"}}):null,t[3]=p,t[4]=f):f=t[4];var g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x12nagc x1diwwjn x1gslohp x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},t[5]=g):g=t[5];var h;t[6]!==i?(h=i!=null&&i.length>0?s.jsx(r("MWXText.react"),{numberOfLines:1,type:"meta4",children:i}):null,t[6]=i,t[7]=h):h=t[7];var y;t[8]!==l?(y=l!=null?s.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:l}):null,t[8]=l,t[9]=y):y=t[9];var C;t[10]!==h||t[11]!==y?(C=s.jsx("div",babelHelpers.extends({},g,{children:s.jsx(r("MWXTextPairing.react"),{body:h,bodyColor:"secondary",bodyLineLimit:1,headline:y,headlineLineLimit:1,level:3})})),t[10]=h,t[11]=y,t[12]=C):C=t[12];var b;t[13]!==f||t[14]!==C?(b=s.jsxs("div",babelHelpers.extends({},_,{children:[f,C]})),t[13]=f,t[14]=C,t[15]=b):b=t[15];var v;return t[16]!==u||t[17]!==a||t[18]!==b?(v=s.jsx(r("MWXLink.react"),{href:a,label:u,onClick:d,onNavigate_DEPRECATED_FIXME:c,target:void 0,children:b}),t[16]=u,t[17]=a,t[18]=b,t[19]=v):v=t[19],v}function c(){}function d(){}l.default=u}),98);
__d("MWXGenAIRichResponseSourcesMustache.react",["JSResourceForInteraction","MWSearchPluginUtils","MWXPressable.react","MWXText.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWXGenAIRichResponseSourcesMustache.react");function d(e){var t=o("react-compiler-runtime").c(9),n=e.sourcesUrl,a=o("MWSearchPluginUtils").useSearchPluginSources(n),i=r("useMWXLazyDialog")(c),l=i[0],u;t[0]!==l||t[1]!==a?(u=function(){a!=null&&l({botResponseId:void 0,sources:a})},t[0]=l,t[1]=a,t[2]=u):u=t[2];var d=u;if(a==null||a.header==null||a.source_titles.length===0||a.source_urls.length===0)return null;var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x78zum5 x1diwwjn"},t[3]=m):m=t[3];var p;t[4]!==a.header?(p=s.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:a.header}),t[4]=a.header,t[5]=p):p=t[5];var _;return t[6]!==d||t[7]!==p?(_=s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("MWXPressable.react"),{onPress:d,overlayDisabled:!0,children:p})})),t[6]=d,t[7]=p,t[8]=_):_=t[8],_}l.default=d}),98);
__d("MWXIconCamcorderIncoming",["MWXSvgIcon","SVGIcon","cr:22246","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22246")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconCamcorderMissed",["MWXSvgIcon","SVGIcon","cr:22247","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22247")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconCamcorderOutgoing",["MWXSvgIcon","SVGIcon","cr:22248","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22248")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhoneIncoming",["MWXSvgIcon","SVGIcon","cr:22427","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22427")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhoneMissed",["MWXSvgIcon","SVGIcon","cr:22429","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22429")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhoneOutgoing",["MWXSvgIcon","SVGIcon","cr:22430","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22430")),r("gkx")("23219"));l.default=e}),98);
__d("MWXMAV2AttachmentBloksTemplate.react",["CometPlaceholder.react","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useCurrentDisplayMode","useJSON"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useMemo,d=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MSGWebBloksEntryPoint.react").__setRef("MWXMAV2AttachmentBloksTemplate.react"));function m(e){var t=o("react-compiler-runtime").c(17),n=e.mediaRenderQpl,a=e.template,l=r("useJSON")(a.payload),s=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c=s==="ChatTab",m=r("useCurrentDisplayMode")(),p=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),_=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),f=_.hasLSThreadBitOffset,g,h;t[0]!==n?(h=function(){n==null||n.addPoint("render-xma-v2-bloks-template"),n==null||n.endSuccess()},t[0]=n,t[1]=h):h=t[1];var y;t[2]!==f||t[3]!==p?(y=function(t,n,r,o,a){var e=f(283);e&&p(o,r)},t[2]=f,t[3]=p,t[4]=y):y=t[4];var C;t[5]!==h||t[6]!==y?(C={"bk.action.msg.wbloks.qpl.EndSuccess":h,"bk.action.xs.SendTextMessageCTA":y},t[5]=h,t[6]=y,t[7]=C):C=t[7],g=C;var b=g,v;t[8]!==c?(v={0:{className:"x5yr21d xn9wirt"},2:{className:"x5yr21d xn9wirt x16em4ew"},1:{className:"x5yr21d xn9wirt x1e4dklr"},3:{className:"x5yr21d xn9wirt x1e4dklr"}}[!c<<1|!!c<<0],t[8]=c,t[9]=v):v=t[9];var S;t[10]!==b||t[11]!==l||t[12]!==m?(S=u.jsx(d,{actionOverrides:b,payload:l,theme:m}),t[10]=b,t[11]=l,t[12]=m,t[13]=S):S=t[13];var R;return t[14]!==v||t[15]!==S?(R=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx("div",babelHelpers.extends({},v,{children:S}))}),t[14]=v,t[15]=S,t[16]=R):R=t[16],R}l.default=m}),98);
__d("MWXMAV2AttachmentCompactGenericTemplate.react",["FBLogger","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconChevronRight","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u={accessory_container:{alignSelf:"xamitd3",marginInlineStart:"x1diwwjn",$$css:!0},cardWidth:{maxWidth:"xw5ewwj",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",$$css:!0},preview_image_style_circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xc9qbxq",marginInlineEnd:"x1xegmmw",objectFit:"xl1xv1r",width:"x14qfxbe",$$css:!0},preview_image_style_square:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xnnlda6",marginInlineEnd:"xbmvrgn",objectFit:"xl1xv1r",width:"x15yg21f",$$css:!0},root:{backgroundColor:"x1xr0vuk",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(4),n=e.preview,a=n==null?void 0:n.image.url;if(n==null||a==null||r("isStringNullOrWhitespaceOnly")(a))return null;switch(n.style){case o("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Circle:{var i;return t[0]!==a?(i=s.jsx(r("MWXImage.react"),{src:a,xstyle:u.preview_image_style_circle}),t[0]=a,t[1]=i):i=t[1],i}case o("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Square:{var l;return t[2]!==a?(l=s.jsx(r("MWXImage.react"),{src:a,xstyle:u.preview_image_style_square}),t[2]=a,t[3]=l):l=t[3],l}}}function d(e){var t=o("react-compiler-runtime").c(2),n=e.accessory;if(n==null)return null;var a=null;switch(n){case o("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplateAccessoryType.Chevron:a=r("MWXIconChevronRight")}if(a==null)return null;var i;return t[0]!==a?(i=s.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:a,size:16}),t[0]=a,t[1]=i):i=t[1],i}function m(e){var t=o("react-compiler-runtime").c(26),n=e.content,a=e.handleXmaClickLogging,i=e.mediaRenderQpl,l=e.template,m=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=m==="ChatTab",_=l.title;if(_==null)throw r("FBLogger")("messenger_web").mustfixThrow("Template title is null for MWXMAV2AttachmentCompactGenericTemplate");i!=null&&(i.addPoint("render-xma-v2-template"),i.endSuccess());var f=l.subtitle,g=l.metadata,h=n.default_cta,y=l.accessory,C=!p&&u.cardWidth,b=p&&u.cardWidthChatTab,v;t[0]!==C||t[1]!==b?(v=[u.root,C,b],t[0]=C,t[1]=b,t[2]=v):v=t[2];var S;t[3]!==l.preview?(S=s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx(c,{preview:l.preview})}),t[3]=l.preview,t[4]=S):S=t[4];var R;t[5]!==_?(R=s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:_})}),t[5]=_,t[6]=R):R=t[6];var L;t[7]!==f?(L=f!=null&&s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:f})}),t[7]=f,t[8]=L):L=t[8];var E;t[9]!==g?(E=g!=null&&s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:g})}),t[9]=g,t[10]=E):E=t[10];var k;t[11]!==R||t[12]!==L||t[13]!==E?(k=s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsxs(r("MWXColumn.react"),{spacing:8,children:[R,L,E]})}),t[11]=R,t[12]=L,t[13]=E,t[14]=k):k=t[14];var I;t[15]!==y?(I=s.jsx(r("MWXRowItem.react"),{xstyle:u.accessory_container,children:s.jsx(d,{accessory:y})}),t[15]=y,t[16]=I):I=t[16];var T;t[17]!==v||t[18]!==S||t[19]!==k||t[20]!==I?(T=s.jsxs(r("MWXRow.react"),{paddingHorizontal:12,paddingVertical:12,spacing:0,verticalAlign:"center",xstyle:v,children:[S,k,I]}),t[17]=v,t[18]=S,t[19]=k,t[20]=I,t[21]=T):T=t[21];var D;return t[22]!==h||t[23]!==a||t[24]!==T?(D=s.jsx(r("MWXMAV2PressableWrapper.react"),{cta:h,handleXmaClickLogging:a,children:T}),t[22]=h,t[23]=a,t[24]=T,t[25]=D):D=t[25],D}l.default=m}),98);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXColumn.react","MWXColumnItem.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c={card:{display:"x3nfvp2",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerElement:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",$$css:!0},firstElement:{borderEndEndRadius:"x1wcsgtt",borderStartEndRadius:"x1t39747",$$css:!0},lastElement:{borderEndStartRadius:"x1pczhz8",borderStartStartRadius:"xjwep3j",$$css:!0},maxHeight:{maxHeight:"xuyqlj2",$$css:!0},scrollContainer:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(25),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.disableMaxHeight,d=e.flattenTop,m=e.outgoing,p=l===void 0?!1:l,_=m?"right":"left",f=d?"top":"none",g,h,y,C,b,v,S;if(t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==p||t[4]!==_||t[5]!==f){var R=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:_,connectBottom:a,connectTop:i,flatten:f}),L=n.length;t[13]===Symbol.for("react.memo_cache_sentinel")?(S={className:"xic84rp x64bnmy xh8yej3 x1s3gxii x19a7vgm"},t[13]=S):S=t[13],g=o("FDSHScroll.react").Container,t[14]===Symbol.for("react.memo_cache_sentinel")?(h={minWidth:180,type:"responsive"},t[14]=h):h=t[14],y=c.scrollContainer,C=4,b=!0,v=n.map(function(e,t){var n=L===1,a=!n&&t===0,i=!n&&t===L-1,l=!n&&!a&&!i;return u.jsx(o("FDSHScroll.react").Child,{expanding:!0,type:"custom",children:u.jsx(r("MWXColumn.react"),{expanding:!0,verticalAlign:"top",xstyle:!p&&c.maxHeight,children:u.jsx(r("MWXColumnItem.react"),{expanding:!0,children:u.createElement("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(c.card,R,a&&c.firstElement,l&&c.centerElement,i&&c.lastElement),{key:t}),e)})})},t)}),t[0]=n,t[1]=a,t[2]=i,t[3]=p,t[4]=_,t[5]=f,t[6]=g,t[7]=h,t[8]=y,t[9]=C,t[10]=b,t[11]=v,t[12]=S}else g=t[6],h=t[7],y=t[8],C=t[9],b=t[10],v=t[11],S=t[12];var E;t[15]!==g||t[16]!==h||t[17]!==y||t[18]!==C||t[19]!==b||t[20]!==v?(E=u.jsx(g,{cardWidth:h,containerXStyle:y,gap:C,reduceArrowSize:b,children:v}),t[15]=g,t[16]=h,t[17]=y,t[18]=C,t[19]=b,t[20]=v,t[21]=E):E=t[21];var k;return t[22]!==E||t[23]!==S?(k=u.jsx("div",babelHelpers.extends({},S,{children:E})),t[22]=E,t[23]=S,t[24]=k):k=t[24],k}l.default=d}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c={root:{display:"x3nfvp2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(8),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,d=e.outgoing,m=d?"right":"left",p=l?"top":"none",_;if(t[0]!==a||t[1]!==i||t[2]!==m||t[3]!==p){var f=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:m,connectBottom:a,connectTop:i,flatten:p});_=(s||(s=r("stylex"))).props(c.root,f),t[0]=a,t[1]=i,t[2]=m,t[3]=p,t[4]=_}else _=t[4];var g;return t[5]!==n||t[6]!==_?(g=u.jsx("div",babelHelpers.extends({},_,{children:n})),t[5]=n,t[6]=_,t[7]=g):g=t[7],g}l.default=d}),98);
__d("MWXMAV2AttachmentVstackLayout.react",["MSGDataclassTypes.flow","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c={headerIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x1kpxq89",width:"xsmyaan",$$css:!0},root:{backgroundColor:"x1xr0vuk",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xeq5yr9",$$css:!0}};function d(e){var t,n=o("react-compiler-runtime").c(15),a=e.layoutHeader,i=a==null?void 0:a.title;if(i==null)return null;var l=a==null?void 0:a.alignment,s=a==null?void 0:a.subtitle,d=a==null||(t=a.attribution_icon)==null?void 0:t.url,m=l===o("MSGDataclassTypes.flow").XmsgXmaVStackLayoutHeaderAlignmentType.Center?"center":"start",p;n[0]!==i?(p=u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXRow.react"),{paddingTop:12,children:u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"primary",type:"headlineEmphasized3",children:i})})})}),n[0]=i,n[1]=p):p=n[1];var _;n[2]!==d?(_=d!=null&&u.jsx(r("MWXImage.react"),{src:d,xstyle:c.headerIcon}),n[2]=d,n[3]=_):_=n[3];var f;n[4]!==_?(f=u.jsx(r("MWXRowItem.react"),{children:_}),n[4]=_,n[5]=f):f=n[5];var g;n[6]!==s?(g=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:s})}),n[6]=s,n[7]=g):g=n[7];var h;n[8]!==f||n[9]!==g?(h=u.jsx(r("MWXColumnItem.react"),{children:u.jsxs(r("MWXRow.react"),{align:"start",paddingTop:0,spacing:4,verticalAlign:"center",children:[f,g]})}),n[8]=f,n[9]=g,n[10]=h):h=n[10];var y;return n[11]!==m||n[12]!==p||n[13]!==h?(y=u.jsxs(r("MWXColumn.react"),{align:m,paddingHorizontal:8,paddingVertical:8,spacing:8,children:[p,h]}),n[11]=m,n[12]=p,n[13]=h,n[14]=y):y=n[14],y}function m(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,m=e.layoutExtension,p=e.outgoing,_=p?"right":"left",f=l?"top":"none",g;if(t[0]!==a||t[1]!==i||t[2]!==_||t[3]!==f){var h=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:_,connectBottom:a,connectTop:i,flatten:f});g=(s||(s=r("stylex"))).props(c.root,h),t[0]=a,t[1]=i,t[2]=_,t[3]=f,t[4]=g}else g=t[4];var y=m==null?void 0:m.header,C;t[5]!==y?(C=u.jsx(d,{layoutHeader:y}),t[5]=y,t[6]=C):C=t[6];var b;return t[7]!==n||t[8]!==g||t[9]!==C?(b=u.jsx("div",{children:u.jsxs("div",babelHelpers.extends({},g,{children:[C,n]}))}),t[7]=n,t[8]=g,t[9]=C,t[10]=b):b=t[10],b}l.default=m}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","MWXMAV2AttachmentVstackLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useEffect;function d(e){var t=o("react-compiler-runtime").c(23),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.disableMaxHeightForHscrollLayout,s=e.flattenTop,d=e.layoutExtension,m=e.layoutType,p=e.mediaRenderQpl,_=e.outgoing,f,g;switch(t[0]!==p?(f=function(){p==null||p.addPoint("render-xma-v2-layout")},g=[p],t[0]=p,t[1]=f,t[2]=g):(f=t[1],g=t[2]),c(f,g),m){case o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:{var h;return t[3]!==n[0]||t[4]!==a||t[5]!==i||t[6]!==s||t[7]!==_?(h=u.jsx(r("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:a,connectTop:i,flattenTop:s,outgoing:_,children:n[0]}),t[3]=n[0],t[4]=a,t[5]=i,t[6]=s,t[7]=_,t[8]=h):h=t[8],h}case o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:{var y;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==s||t[14]!==_?(y=u.jsx(r("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:a,connectTop:i,disableMaxHeight:l,flattenTop:s,outgoing:_,children:n}),t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=s,t[14]=_,t[15]=y):y=t[15],y}case o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Vstack:{var C;return t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==s||t[20]!==d||t[21]!==_?(C=u.jsx(r("MWXMAV2AttachmentVstackLayout.react"),{connectBottom:a,connectTop:i,flattenTop:s,layoutExtension:d,outgoing:_,children:n}),t[16]=n,t[17]=a,t[18]=i,t[19]=s,t[20]=d,t[21]=_,t[22]=C):C=t[22],C}default:throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",o("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(m))}}l.default=d}),98);
__d("MetaAiDestinationCoreClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5443"),s=o("FalcoLoggerInternal").create("meta_ai_destination_core_client_events",e),u=s;l.default=u}),98);
__d("MWXMAV2AttachmentGenAIRichResponseTemplateV2.react",["MWGenAIResponseHScrollLayoutViewModel.react","MWGenAIResponsePayloadUtils","MWGenAIResponseSingleLayoutViewModel.react","MWGenAIRichReponseFallback.react","MWGenAIRichResponseImpressionQplLogger","MWGenAIRichResponseRenderEligibilityUtils","MWLSThreadDisplayContext","MWMessageListLoggingContext","MWXGenAIRichResponseSearchPluginAttachment.react","MWXGenAIRichResponseSourcesMustache.react","MWXMessageBubble.react","MetaAiDestinationCoreClientEventsFalcoEvent","react","react-compiler-runtime","usePartialViewImpression","useSinglePartialViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useRef,p=r("uuidv4")();function _(e){var t,n,a=o("react-compiler-runtime").c(76),i=e.content,l=e.handleXmaClickLogging,u=e.mediaRenderQpl,c=e.outgoing,_=c===void 0?!1:c,f=o("MWMessageListLoggingContext").useFlowInstanceIdContext(),g=i.custom_template_data,h=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),y=h==="ChatTab",C=m(!1),b;a[0]!==i||a[1]!==y?(b={onImpressionStart:function(){o("MWGenAIRichResponseImpressionQplLogger").markFallbackImpression(i,y?"ChatTab":"FullScreen")}},a[0]=i,a[1]=y,a[2]=b):b=a[2];var v=r("useSinglePartialViewImpression")(b),S;a[3]!==i||a[4]!==(g==null?void 0:g.bot_response_id)||a[5]!==(g==null?void 0:g.streaming_action)||a[6]!==f||a[7]!==y?(S={onImpressionStart:function(){(g==null?void 0:g.streaming_action)==null&&r("MetaAiDestinationCoreClientEventsFalcoEvent").log(function(){var e;return{bot_response_id:(e=g==null?void 0:g.bot_response_id)!=null?e:"",destination_name:"meta_ai_thread_view",destination_session_id:f.current,event_name:"first_response_token_vpv",referrer_session_id:p}}),o("MWGenAIRichResponseImpressionQplLogger").markRichResponseImpression(i,y?"ChatTab":"FullScreen")}},a[3]=i,a[4]=g==null?void 0:g.bot_response_id,a[5]=g==null?void 0:g.streaming_action,a[6]=f,a[7]=y,a[8]=S):S=a[8];var R=r("useSinglePartialViewImpression")(S),L;a[9]===Symbol.for("react.memo_cache_sentinel")?(L=function(){C.current=!1},a[9]=L):L=a[9];var E;a[10]!==(g==null?void 0:g.bot_response_id)||a[11]!==(g==null?void 0:g.streaming_action)||a[12]!==f?(E={onImpressionEnd:L,onImpressionStart:function(){(g==null?void 0:g.streaming_action)!=null&&r("MetaAiDestinationCoreClientEventsFalcoEvent").log(function(){var e;return{bot_response_id:(e=g==null?void 0:g.bot_response_id)!=null?e:"",destination_name:"meta_ai_thread_view",destination_session_id:f.current,event_name:"response_vpv",referrer_session_id:p}}),C.current=!0}},a[10]=g==null?void 0:g.bot_response_id,a[11]=g==null?void 0:g.streaming_action,a[12]=f,a[13]=E):E=a[13];var k=r("usePartialViewImpression")(E),I;a[14]!==k||a[15]!==R?(I=function(t){R(t),k(t)},a[14]=k,a[15]=R,a[16]=I):I=a[16];var T=I,D=g==null?void 0:g.streaming_action,x=g==null?void 0:g.bot_response_id,$,P;a[17]!==x||a[18]!==f||a[19]!==D?($=function(){C.current&&D&&r("MetaAiDestinationCoreClientEventsFalcoEvent").log(function(){return{bot_response_id:x!=null?x:"",destination_name:"meta_ai_thread_view",destination_session_id:f.current,event_name:"response_vpv",referrer_session_id:p}})},P=[x,f,D],a[17]=x,a[18]=f,a[19]=D,a[20]=$,a[21]=P):($=a[20],P=a[21]),d($,P),u!=null&&(u.addPoint("render-xma-v2-template"),u.endSuccess());var N,M,w,A,F,O,B,W,q,U,V,H,G,z,j,K,Q;if(a[22]!==T||a[23]!==i||a[24]!==g||a[25]!==v||a[26]!==l||a[27]!==_){K=Symbol.for("react.early_return_sentinel");e:{var X,Y,J;if(O=o("MWGenAIResponsePayloadUtils").xmaContentToMWGenAIResponse(i),O==null||!o("MWGenAIRichResponseRenderEligibilityUtils").shouldRenderRichResponseXMA(g,O)){var Z;a[45]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(r("MWGenAIRichReponseFallback.react"),{isOutgoing:!1}),a[45]=Z):Z=a[45];var ee;a[46]!==v?(ee=s.jsx("div",{ref:v,children:Z}),a[46]=v,a[47]=ee):ee=a[47],K=ee;break e}var te=(X=(Y=O.searchMetadata)==null?void 0:Y.attributions)!=null?X:[],ne=te[0];A=ne==null?void 0:ne.title,w=ne==null?void 0:ne.subtitle,F=ne==null?void 0:ne.searchQueryUrl,M=ne==null||(J=ne.image)==null?void 0:J.url,B=A!=null&&F!=null,z=T,a[48]===Symbol.for("react.memo_cache_sentinel")?(j={className:"x78zum5 xdt5ytf x193iq5w x1r0jzty"},a[48]=j):j=a[48],N=r("MWXMessageBubble.react"),Q="left",W=_?"outgoing":"incoming",q=!1,U=!1,V=B?"bottom":void 0,H="default";var re;a[49]!==l||a[50]!==_?(re=function(t,n){switch(t.viewModel.__typename){case"MWGenAIResponseSingleLayoutViewModel":return s.jsx(r("MWGenAIResponseSingleLayoutViewModel.react"),{data:t.viewModel,outgoing:_},n);case"MWGenAIResponseHScrollLayoutViewModel":return s.jsx(r("MWGenAIResponseHScrollLayoutViewModel.react"),{data:t.viewModel,handleXmaClickLogging:l},n);default:return null}},a[49]=l,a[50]=_,a[51]=re):re=a[51],G=O.sections.map(re)}a[22]=T,a[23]=i,a[24]=g,a[25]=v,a[26]=l,a[27]=_,a[28]=N,a[29]=M,a[30]=w,a[31]=A,a[32]=F,a[33]=O,a[34]=B,a[35]=W,a[36]=q,a[37]=U,a[38]=V,a[39]=H,a[40]=G,a[41]=z,a[42]=j,a[43]=K,a[44]=Q}else N=a[28],M=a[29],w=a[30],A=a[31],F=a[32],O=a[33],B=a[34],W=a[35],q=a[36],U=a[37],V=a[38],H=a[39],G=a[40],z=a[41],j=a[42],K=a[43],Q=a[44];if(K!==Symbol.for("react.early_return_sentinel"))return K;var oe;a[52]!==N||a[53]!==W||a[54]!==q||a[55]!==U||a[56]!==V||a[57]!==H||a[58]!==G||a[59]!==Q?(oe=s.jsx(N,{align:Q,color:W,connectBottom:q,connectTop:U,flattenCorners:V,variant:H,children:G}),a[52]=N,a[53]=W,a[54]=q,a[55]=U,a[56]=V,a[57]=H,a[58]=G,a[59]=Q,a[60]=oe):oe=a[60];var ae;a[61]!==M||a[62]!==w||a[63]!==A||a[64]!==F||a[65]!==_||a[66]!==B?(ae=B&&s.jsx(r("MWXMessageBubble.react"),{align:"left",color:_?"outgoing":"incoming",connectBottom:!1,connectTop:!1,flattenCorners:"top",variant:"default",children:s.jsx(r("MWXGenAIRichResponseSearchPluginAttachment.react"),{imageUrl:M,queryUrl:F,subtitle:w,title:A})}),a[61]=M,a[62]=w,a[63]=A,a[64]=F,a[65]=_,a[66]=B,a[67]=ae):ae=a[67];var ie=(t=(n=O.searchMetadata)==null?void 0:n.sourcesUrl)!=null?t:void 0,le;a[68]!==ie?(le=s.jsx(r("MWXGenAIRichResponseSourcesMustache.react"),{sourcesUrl:ie}),a[68]=ie,a[69]=le):le=a[69];var se;return a[70]!==z||a[71]!==j||a[72]!==oe||a[73]!==ae||a[74]!==le?(se=s.jsxs("div",babelHelpers.extends({ref:z},j,{children:[oe,ae,le]})),a[70]=z,a[71]=j,a[72]=oe,a[73]=ae,a[74]=le,a[75]=se):se=a[75],se}l.default=_}),98);
__d("MWXMAV2LiveLocationTemplate.react",["fbt","ix","I64","MAWChatLiveLocationDialog.entrypoint","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWPActor.react","MWPMessageAuthor.react","MWThreadKey.react","MWThreadLiveLocationSessionsSetterContext.react","MWThreadLiveLocationSessionsStateContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","formatDate","justknobx","react","react-compiler-runtime","useMWXEntryPointDialog","uuidv4"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=r("react")),m=1e3,p={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xehuqhz",$$css:!0},locationIcon:{height:"x10w6t97",width:"x1td3qas",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(5),n=e.eventTimestamp,a;t[0]!==n?(a=r("formatDate")(new Date(n),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"}),t[0]=n,t[1]=a):a=t[1];var i=a,l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"headlineEmphasized5",children:s._(/*BTDS*/"Location sharing ended")})}),t[2]=l):l=t[2];var u;return t[3]!==i?(u=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXRowItem.react"),{children:d.jsxs(r("MWXColumn.react"),{spacing:8,children:[l,d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:s._(/*BTDS*/"Last update {endDate}",[s._param("endDate",i)])})})]})})}),t[3]=i,t[4]=u):u=t[4],u}function f(t){var n=o("react-compiler-runtime").c(17),a=t.isOutgoing,i=o("MWPMessageAuthor.react").useAuthorName(),l=i[0],c=o("MWThreadLiveLocationSessionsStateContext.react").useThreadMAWLiveLocationSessionsStateContext(),m=c.sessions,_=o("MWThreadLiveLocationSessionsSetterContext.react").useThreadMAWLiveLocationSessionsSetterContext(),f=_.addOrUpdateSession,g=(e||(e=o("I64"))).to_string(o("MWThreadKey.react").useMWThreadKeyMemoizedExn()),h;n[0]===Symbol.for("react.memo_cache_sentinel")?(h=r("uuidv4")(),n[0]=h):h=n[0];var y=h,C;n[1]!==g?(C={clientSubscriptionId:y,threadKey:g},n[1]=g,n[2]=C):C=n[2];var b=r("useMWXEntryPointDialog")(r("MAWChatLiveLocationDialog.entrypoint"),C),v=b[0],S;n[3]===Symbol.for("react.memo_cache_sentinel")?(S=d.jsx(r("MWXRowItem.react"),{children:d.jsx(r("MWXImage.react"),{src:u("293343"),xstyle:p.locationIcon})}),n[3]=S):S=n[3];var R;n[4]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:s._(/*BTDS*/"Live Location")})}),n[4]=R):R=n[4];var L;n[5]!==l||n[6]!==a?(L=d.jsx(r("MWXColumnItem.react"),{children:d.jsxs(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[S,d.jsx(r("MWXRowItem.react"),{children:d.jsxs(r("MWXColumn.react"),{spacing:4,children:[R,d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta4",children:a?s._(/*BTDS*/"You started sharing"):s._(/*BTDS*/"{authorName} started sharing",[s._param("authorName",l)])})})]})})]})}),n[5]=l,n[6]=a,n[7]=L):L=n[7];var E;n[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"View location"),n[8]=E):E=n[8];var k;n[9]!==f||n[10]!==m||n[11]!==v||n[12]!==g?(k=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXButton.react"),{label:E,onPress:function(){v({addOrUpdateSession:f,clientSubscriptionId:y,sessions:m,threadKey:g})},type:"secondary"})}),n[9]=f,n[10]=m,n[11]=v,n[12]=g,n[13]=k):k=n[13];var I;return n[14]!==L||n[15]!==k?(I=d.jsxs(r("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[L,k]}),n[14]=L,n[15]=k,n[16]=I):I=n[16],I}function g(t){var n=o("react-compiler-runtime").c(13),a=t.mediaRenderQpl,i=t.template,l=o("MWPActor.react").useActor(),s=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),u=o("MWThreadLiveLocationSessionsSetterContext.react").useThreadMAWLiveLocationSessionsSetterContext(),c=u.addOrUpdateSession,g=i.location_metadata.user_id,h=i.location_metadata.encryption_key,y=Number(i.location_metadata.event_timestamp_ms),C;n[0]!==l||n[1]!==g?(C=g!=null?(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_string(g),l):!1,n[0]=l,n[1]=g,n[2]=C):C=n[2];var b=C;g!=null&&h!=null&&c(g,h,y);var v=s==="ChatTab",S=r("justknobx")._("4207"),R=Date.now()-S*m,L=i.location_metadata.session_state===o("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Ended||Number(i.location_metadata.event_timestamp_ms)<R;a!=null&&(a.addPoint("render-xma-v2-template"),a.endSuccess());var E=!v&&p.cardWidth,k=v&&p.cardWidthChatTab,I;n[3]!==E||n[4]!==k?(I=[p.templateRoot,E,k],n[3]=E,n[4]=k,n[5]=I):I=n[5];var T;n[6]!==y||n[7]!==b||n[8]!==L?(T=L?d.jsx(_,{eventTimestamp:y}):d.jsx(f,{isOutgoing:b}),n[6]=y,n[7]=b,n[8]=L,n[9]=T):T=n[9];var D;return n[10]!==I||n[11]!==T?(D=d.jsx(r("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:I,children:T}),n[10]=I,n[11]=T,n[12]=D):D=n[12],D}l.default=g}),226);
__d("MWXMAV2SenderCopyMedia.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","FBLogger","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWDownloadMediaInWorker","MWV2AttachmentLoadingPlaceholder.react","MWXImage.react","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useEffect,d={corners:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0}},m=function(t,n){n==null||n.addPoint("fetch_preview_url_xma_start");var e=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(t,"preview","MAWXMAV2SenderCopyGetPreviewUrl - getSenderCopyPreviewUrl",n);if(n==null||n.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:!!e},string:{fetch_by:"maw_backend"}}),e==="")throw r("FBLogger")("messenger_web_sharing").mustfixThrow("XMA 2.0 - SenderCopyMediaSuccessComponent - url is emtpy");return e};function p(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.mediaRenderQpl,i=e.width,l=i===void 0?"100%":i,s;t[0]!==n||t[1]!==a?(s=m(n,a),t[0]=n,t[1]=a,t[2]=s):s=t[2];var c=s,d,p;t[3]!==a?(d=function(){return a==null?void 0:a.endFail("load-image-error")},p=a==null?void 0:a.endSuccess(),t[3]=a,t[4]=d,t[5]=p):(d=t[4],p=t[5]);var _;return t[6]!==d||t[7]!==p||t[8]!==c||t[9]!==l?(_=u.jsx(r("MWXImage.react"),{height:"100%",objectFit:"cover",onError:d,onLoad:p,src:c,width:l}),t[6]=d,t[7]=p,t[8]=c,t[9]=l,t[10]=_):_=t[10],_}function _(e){var t=o("react-compiler-runtime").c(23),n=e.attachment,a=e.mediaRenderQpl,i=e.width,l=i===void 0?"100%":i,s=r("useAsyncReStore")(),m;t[0]!==n?(m=o("MAWAttachmentSizeUtils").getSizeFromAttachment(n),t[0]=n,t[1]=m):m=t[1];var _=m,f=_.height,g=_.width,h,y;if(t[2]!==n||t[3]!==s||t[4]!==a?(h=function(){n.hasMedia!==!0&&o("MAWDownloadMediaInWorker").maybeDownloadMediaInWorker({attachment:n,dbPromise:s,mediaRenderQpl:a,triggerUIView:"thread"})},y=[n,a,s],t[2]=n,t[3]=s,t[4]=a,t[5]=h,t[6]=y):(h=t[5],y=t[6]),c(h,y),n.hasXmaPreview===!0&&n.hasMedia===!1){var C;t[7]!==f||t[8]!==g?(C=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:!1,connectTop:!1,descriptionForLogging:"MWXMAV2SenderCopyMedia.NoMedia",hasAppAttribution:!1,height:f,width:g,xstyle:d.corners}),t[7]=f,t[8]=g,t[9]=C):C=t[9];var b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(r("CometHeroHoldTrigger.react"),{description:"MWXMAV2SenderCopyMedia.NoMedia",hold:!0}),t[10]=b):b=t[10];var v;return t[11]!==C?(v=u.jsxs(u.Fragment,{children:[C,b]}),t[11]=C,t[12]=v):v=t[12],v}var S;t[13]!==n||t[14]!==a||t[15]!==l?(S=function(t){return u.jsx(r("CometPlaceholder.react"),{fallback:t("MAWXMAAttachmentItemDefaultPreview.Suspense",!0),name:"MAWXMAAttachmentItemDefaultPreview",children:u.jsx(p,{attachment:n,mediaRenderQpl:a,width:l})})},t[13]=n,t[14]=a,t[15]=l,t[16]=S):S=t[16];var R=S,L;t[17]!==f||t[18]!==g?(L=function(){return u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAV2SenderCopyMedia.Suspense",height:f,width:g})},t[17]=f,t[18]=g,t[19]=L):L=t[19];var E;return t[20]!==R||t[21]!==L?(E=R(L),t[20]=R,t[21]=L,t[22]=E):E=t[22],E}l.default=_}),98);
__d("MWXMAV2MemoriesTemplate.react",["fbt","ix","FBLogger","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2SenderCopyMedia.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=r("react")),d=180,m=240,p={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},footer:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},headerContainer:{insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",$$css:!0}};function _(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXImage.react"),{src:u("849069")})}),e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsxs(r("MWXRow.react"),{align:"start",paddingVertical:8,spacing:8,verticalAlign:"center",xstyle:p.headerContainer,children:[t,c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:s._(/*BTDS*/"Memory")})})]}),e[1]=n):n=e[1],n}function f(e){var t=o("react-compiler-runtime").c(4),n=e.originalMessageCreationTs,a=parseInt(n,10)*1e3,i;t[0]!==a?(i=new Date(a).toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"}),t[0]=a,t[1]=i):i=t[1];var l=i,s;return t[2]!==l?(s=c.jsx(r("MWXRow.react"),{align:"start",paddingHorizontal:16,paddingVertical:16,xstyle:p.footer,children:c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:l})})}),t[2]=l,t[3]=s):s=t[3],s}function g(e){var t=o("react-compiler-runtime").c(18),n=e.attachmentForSenderCopyMediaDownload,a=e.mediaRenderQpl,i=e.template,l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s=l==="ChatTab";if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Attachment for Sender Copy Media Download is null for MWXMAV2MemoriesTemplate");a!=null&&(a.addPoint("render-xma-v2-template"),a.endSuccess());var u=!s&&p.cardWidth,d=s&&p.cardWidthChatTab,m;t[0]!==u||t[1]!==d?(m=[p.templateRoot,u,d],t[0]=u,t[1]=d,t[2]=m):m=t[2];var g,h,y,C;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x5yr21d x1n2onr6"},h=c.jsx("div",{className:"xq6dov1 xoverlg x1o0tod x10l6tqk x13vifvy xh8yej3"}),y=c.jsx("div",{className:"x152gpt9 x1ey2m1c xoverlg x1o0tod x10l6tqk xh8yej3"}),C=c.jsx(_,{}),t[3]=g,t[4]=h,t[5]=y,t[6]=C):(g=t[3],h=t[4],y=t[5],C=t[6]);var b;t[7]!==n||t[8]!==a?(b=c.jsx(r("MWXMAV2SenderCopyMedia.react"),{attachment:n,mediaRenderQpl:a}),t[7]=n,t[8]=a,t[9]=b):b=t[9];var v;t[10]!==i.original_message_creation_ts?(v=c.jsx(f,{originalMessageCreationTs:i.original_message_creation_ts}),t[10]=i.original_message_creation_ts,t[11]=v):v=t[11];var S;t[12]!==b||t[13]!==v?(S=c.jsx(r("MWXColumnItem.react"),{children:c.jsxs("div",babelHelpers.extends({},g,{children:[h,y,C,b,v]}))}),t[12]=b,t[13]=v,t[14]=S):S=t[14];var R;return t[15]!==S||t[16]!==m?(R=c.jsx(r("MWXColumn.react"),{xstyle:m,children:S}),t[15]=S,t[16]=m,t[17]=R):R=t[17],R}l.default=g}),226);
__d("RTCFormatDurationInSecs",["fbt","DateConsts"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e>=o("DateConsts").SEC_PER_DAY?u(e):e>=o("DateConsts").SEC_PER_HOUR?c(e):e>=o("DateConsts").SEC_PER_MIN?d(e):m(e)}function u(e){var t=Math.floor(e/o("DateConsts").SEC_PER_DAY),n=Math.floor((e-t*o("DateConsts").SEC_PER_DAY)/o("DateConsts").SEC_PER_HOUR);return n>0?s._(/*BTDS*/"_j{\"*\":{\"*\":\"{days} days {hours} hrs\",\"_1\":\"{days} days 1 hr\"},\"_1\":{\"*\":\"1 day {hours} hrs\",\"_1\":\"1 day 1 hr\"}}",[s._plural(t,"days"),s._plural(n,"hours")]):s._(/*BTDS*/"_j{\"*\":\"{days} days\",\"_1\":\"1 day\"}",[s._plural(t,"days")])}function c(e){var t=Math.floor(e/o("DateConsts").SEC_PER_HOUR),n=Math.floor((e-t*o("DateConsts").SEC_PER_HOUR)/o("DateConsts").SEC_PER_MIN);return n>0?s._(/*BTDS*/"_j{\"*\":{\"*\":\"{hours} hrs {minutes} mins\",\"_1\":\"{hours} hrs 1 min\"},\"_1\":{\"*\":\"1 hr {minutes} mins\",\"_1\":\"1 hr 1 min\"}}",[s._plural(t,"hours"),s._plural(n,"minutes")]):s._(/*BTDS*/"_j{\"*\":\"{hours} hrs\",\"_1\":\"1 hr\"}",[s._plural(t,"hours")])}function d(e){var t=Math.round(e/o("DateConsts").SEC_PER_MIN);return t===o("DateConsts").MIN_PER_HOUR?c(t*o("DateConsts").SEC_PER_MIN):s._(/*BTDS*/"_j{\"*\":\"{minutes} mins\",\"_1\":\"1 min\"}",[s._plural(t,"minutes")])}function m(e){return s._(/*BTDS*/"_j{\"*\":\"{seconds} secs\",\"_1\":\"1 sec\"}",[s._plural(e,"seconds")])}l.formatDurationInSecs=e}),226);
__d("MWXMAV2RTCCallTemplateUtils",["fbt","MSGDataclassTypes.flow","MWXIconCamcorderIncoming","MWXIconCamcorderMissed","MWXIconCamcorderOutgoing","MWXIconPhoneIncoming","MWXIconPhoneMissed","MWXIconPhoneOutgoing","RTCFormatDurationInSecs","formatDate","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e={future:"g:ia",older:"g:ia",thisYear:"g:ia",today:"g:ia",withinWeek:"g:ia"};function u(e){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?r("MWXIconCamcorderMissed"):r("MWXIconPhoneMissed")}function c(e,t){return r("vulture")("S5WiQe0NLJk6R7XwS0PGLow_EuI="),e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?r(t?"MWXIconCamcorderOutgoing":"MWXIconCamcorderIncoming"):r(t?"MWXIconPhoneOutgoing":"MWXIconPhoneIncoming")}function d(t){var n=r("formatDate")(new Date(t),e);return s._(/*BTDS*/"{time}",[s._param("time",n)])}function m(e){var t=o("RTCFormatDurationInSecs").formatDurationInSecs(e);return s._(/*BTDS*/"{duration}",[s._param("duration",t)])}function p(e,t){return t===o("MSGDataclassTypes.flow").XmsgXmaRtcCallState.Missed?_(e):f(e)}function _(e){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?s._(/*BTDS*/"Missed video call"):s._(/*BTDS*/"Missed audio call")}function f(e){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?s._(/*BTDS*/"Video call"):s._(/*BTDS*/"Audio call")}function g(e){return e?s._(/*BTDS*/"Call again"):s._(/*BTDS*/"Call back")}l.getIconForMissedCallXMA=u,l.getIconForEndedCallXMA=c,l.getSubtitleForMissedCallXMA=d,l.getSubtitleForEndedCallXMA=m,l.getTitleForXMA=p,l.getCTALabelForCallXMA=g}),226);
__d("MWXMAV2RTCCallTemplate.react",["FDSSkittleIcon.react","I64","MSGDataclassTypes.flow","MWLSThread","MWPActor.react","MWStartRTCCallUtils","MWThreadKey.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXMAV2RTCCallTemplateUtils","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","requireDeferred","useMWReQLStartGroupCall"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useCallback,m=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAV2RTCCallTemplate.react"),p={cardWidth:{width:"x1oysuqx",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},_=36;function f(e){var t=o("react-compiler-runtime").c(23),n=e.callType,a=e.ctaLabel,i=e.handleXmaClickLogging,l=e.icon,s=e.iconColor,u=e.subtitle,d=e.title,m=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),p;t[0]!==m?(p=function(t){var e=t.capabilities,n=t.capabilities2,r=t.capabilities3,o=t.capabilities4,a=t.capabilities5,i=t.folderName,l=t.ongoingCallState,s=t.parentThreadKey,u=t.threadType;return{capabilities:e,capabilities2:n,capabilities3:r,capabilities4:o,capabilities5:a,folderName:i,ongoingCallState:l,parentThreadKey:s,threadKey:m,threadType:u}},t[0]=m,t[1]=p):p=t[1];var f=o("MWLSThread").useThreadExn(m,p),h=g,y=r("useMWReQLStartGroupCall")(f,h,n===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Audio?"audio":"video","xma_cta_click"),C=o("MWStartRTCCallUtils").useCanCall(f),b=C[0],v=C[1],S=b!==o("MWStartRTCCallUtils").CanCallResult.SECURE_VOICE_UNSUPPORTED||v!==o("MWStartRTCCallUtils").CanCallResult.SECURE_VIDEO_UNSUPPORTED,R;t[2]!==l||t[3]!==s?(R=c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("FDSSkittleIcon.react"),{color:s,disabled:!1,icon:l,shape:"circle",size:_})}),t[2]=l,t[3]=s,t[4]=R):R=t[4];var L;t[5]!==d?(L=c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXText.react"),{color:"primary",type:"headlineEmphasized5",children:d})}),t[5]=d,t[6]=L):L=t[6];var E;t[7]!==u?(E=c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:u})}),t[7]=u,t[8]=E):E=t[8];var k;t[9]!==L||t[10]!==E?(k=c.jsx(r("MWXRowItem.react"),{expanding:!0,children:c.jsxs(r("MWXColumn.react"),{spacing:8,children:[L,E]})}),t[9]=L,t[10]=E,t[11]=k):k=t[11];var I;t[12]!==R||t[13]!==k?(I=c.jsx(r("MWXColumnItem.react"),{children:c.jsxs(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[R,k]})}),t[12]=R,t[13]=k,t[14]=I):I=t[14];var T;t[15]!==S||t[16]!==a||t[17]!==i||t[18]!==y?(T=S?c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXButton.react"),{label:a,onPress:function(){y(),i()},type:"secondary"})}):null,t[15]=S,t[16]=a,t[17]=i,t[18]=y,t[19]=T):T=t[19];var D;return t[20]!==I||t[21]!==T?(D=c.jsxs(r("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[I,T]}),t[20]=I,t[21]=T,t[22]=D):D=t[22],D}function g(){m.onReady(h)}function h(e){return e.logClick({component:"call_xma_cta",surface:"message_list"})}function y(e){var t=o("react-compiler-runtime").c(17),n=e.callState,r=e.callType,a=e.eventTimestamp,i=e.handleXmaClickLogging,l=e.isOutgoingCall,s;t[0]!==a?(s=o("MWXMAV2RTCCallTemplateUtils").getSubtitleForMissedCallXMA(a),t[0]=a,t[1]=s):s=t[1];var u=s,d;t[2]!==r?(d=o("MWXMAV2RTCCallTemplateUtils").getIconForMissedCallXMA(r),t[2]=r,t[3]=d):d=t[3];var m=d,p;t[4]!==l?(p=o("MWXMAV2RTCCallTemplateUtils").getCTALabelForCallXMA(l),t[4]=l,t[5]=p):p=t[5];var _=m.component,g=l?"gray":"cherry",h;t[6]!==n||t[7]!==r?(h=o("MWXMAV2RTCCallTemplateUtils").getTitleForXMA(r,n),t[6]=n,t[7]=r,t[8]=h):h=t[8];var y;return t[9]!==r||t[10]!==i||t[11]!==m.component||t[12]!==u||t[13]!==p||t[14]!==g||t[15]!==h?(y=c.jsx(f,{callType:r,ctaLabel:p,handleXmaClickLogging:i,icon:_,iconColor:g,subtitle:u,title:h}),t[9]=r,t[10]=i,t[11]=m.component,t[12]=u,t[13]=p,t[14]=g,t[15]=h,t[16]=y):y=t[16],y}function C(e){var t=o("react-compiler-runtime").c(17),n=e.callDuration,r=e.callState,a=e.callType,i=e.handleXmaClickLogging,l=e.isOutgoingCall,s;t[0]!==n?(s=o("MWXMAV2RTCCallTemplateUtils").getSubtitleForEndedCallXMA(n),t[0]=n,t[1]=s):s=t[1];var u=s,d;t[2]!==a||t[3]!==l?(d=o("MWXMAV2RTCCallTemplateUtils").getIconForEndedCallXMA(a,l),t[2]=a,t[3]=l,t[4]=d):d=t[4];var m=d,p;t[5]!==l?(p=o("MWXMAV2RTCCallTemplateUtils").getCTALabelForCallXMA(l),t[5]=l,t[6]=p):p=t[6];var _=m.component,g;t[7]!==r||t[8]!==a?(g=o("MWXMAV2RTCCallTemplateUtils").getTitleForXMA(a,r),t[7]=r,t[8]=a,t[9]=g):g=t[9];var h;return t[10]!==a||t[11]!==i||t[12]!==m.component||t[13]!==u||t[14]!==p||t[15]!==g?(h=c.jsx(f,{callType:a,ctaLabel:p,handleXmaClickLogging:i,icon:_,iconColor:"gray",subtitle:u,title:g}),t[10]=a,t[11]=i,t[12]=m.component,t[13]=u,t[14]=p,t[15]=g,t[16]=h):h=t[16],h}function b(e){var t=o("react-compiler-runtime").c(12),n=e.handleXmaClickLogging,a=e.mediaRenderQpl,i=e.template;a!=null&&(a.addPoint("render-xma-v2-template-rtc-xma"),a.endSuccess());var l=i.call_state===o("MSGDataclassTypes.flow").XmsgXmaRtcCallState.Ended,u=i.call_state===o("MSGDataclassTypes.flow").XmsgXmaRtcCallState.Missed,d=i.event_actor_id===(s||(s=o("I64"))).to_string(o("MWPActor.react").useActor()),m;if(t[0]!==n||t[1]!==l||t[2]!==u||t[3]!==d||t[4]!==i.call_duration_sec||t[5]!==i.call_state||t[6]!==i.call_type||t[7]!==i.event_time_ms){var _;m=l?c.jsx(C,{callDuration:(_=i.call_duration_sec)!=null?_:0,callState:i.call_state,callType:i.call_type,handleXmaClickLogging:n,isOutgoingCall:d}):u?c.jsx(y,{callState:i.call_state,callType:i.call_type,eventTimestamp:Number(i.event_time_ms),handleXmaClickLogging:n,isOutgoingCall:d}):null,t[0]=n,t[1]=l,t[2]=u,t[3]=d,t[4]=i.call_duration_sec,t[5]=i.call_state,t[6]=i.call_type,t[7]=i.event_time_ms,t[8]=m}else m=t[8];var f=m,g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=[p.templateRoot,p.cardWidth],t[9]=g):g=t[9];var h;return t[10]!==f?(h=c.jsx(r("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:g,children:f}),t[10]=f,t[11]=h):h=t[11],h}l.default=b}),98);
__d("MWXMAV2SparkIcebreakerTemplate.react",["fbt","MWPMessageAuthor.react","MWSparkIcebreakerEmojiDisplay.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(23),n=e.mediaRenderQpl,a=e.outgoing,i=e.template,l=a===void 0?!1:a,d,m;t[0]!==n?(d=function(){n==null||n.addPoint("render-spark-icebreaker-template")},m=[n],t[0]=n,t[1]=d,t[2]=m):(d=t[1],m=t[2]),c(d,m);var p=o("MWPMessageAuthor.react").useAuthorName(),_=p[0],f=i.question,g=i.emoji_answer,h=i.recipient_prompt_text,y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x1cy8zhl x1xr0vuk xfex06f x78zum5 xerhiuh x1pn3fxy x10zy8in xm9bcq3"},t[3]=y):y=t[3];var C;t[4]!==g?(C=g!=null&&g!==""&&u.jsx(r("MWSparkIcebreakerEmojiDisplay.react"),{emoji:g}),t[4]=g,t[5]=C):C=t[5];var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x78zum5 xdt5ytf x3pnbk8"},t[6]=b):b=t[6];var v;t[7]!==f?(v=f!=null&&f!==""&&u.jsx("div",{className:"x1k70j0n",children:u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:u.jsx("strong",{children:f})})}),t[7]=f,t[8]=v):v=t[8];var S;t[9]!==_||t[10]!==g||t[11]!==l?(S=g!=null&&g!==""&&u.jsxs("div",{className:"x6s0dn4 xfex06f x78zum5",children:[u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:l?s._(/*BTDS*/"You answered"):s._(/*BTDS*/"{authorName} answered",[s._param("authorName",_)])}),u.jsx("span",{children:g})]}),t[9]=_,t[10]=g,t[11]=l,t[12]=S):S=t[12];var R;t[13]!==l||t[14]!==h?(R=!l&&h!=null&&h!==""&&u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:h}),t[13]=l,t[14]=h,t[15]=R):R=t[15];var L;t[16]!==v||t[17]!==S||t[18]!==R?(L=u.jsxs("div",babelHelpers.extends({},b,{children:[v,S,R]})),t[16]=v,t[17]=S,t[18]=R,t[19]=L):L=t[19];var E;return t[20]!==L||t[21]!==C?(E=u.jsxs("div",babelHelpers.extends({},y,{children:[C,L]})),t[20]=L,t[21]=C,t[22]=E):E=t[22],E}l.default=d}),226);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","MAWIsRTCCallXmaEnabled","MAWXMAV2GatedTemplateError","MWXMAV2AttachmentBloksTemplate.react","MWXMAV2AttachmentCompactGenericTemplate.react","MWXMAV2AttachmentGenAIRichResponseTemplateV2.react","MWXMAV2AttachmentStandardGenericTemplate.react","MWXMAV2LiveLocationTemplate.react","MWXMAV2MemoriesTemplate.react","MWXMAV2RTCCallTemplate.react","MWXMAV2SparkIcebreakerTemplate.react","gkx","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(36),n=e.attachmentForSenderCopyMediaDownload,a=e.content,i=e.handleXmaClickLogging,l=e.mediaRenderQpl,c=e.outgoing,d=c===void 0?!1:c,m,p;t[0]!==l?(m=function(){l==null||l.addPoint("render-xma-v2-template")},p=[l],t[0]=l,t[1]=m,t[2]=p):(m=t[1],p=t[2]),u(m,p);var _=a.custom_template_data;if(_==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");var f=null;e:switch(_.__typename){case"XMSGXmaStandardGenericTemplateData":{if(r("gkx")("7835")===!0){var g;t[3]!==a.default_cta||t[4]!==_||t[5]!==i||t[6]!==l?(g=s.jsx(r("MWXMAV2AttachmentStandardGenericTemplate.react"),{defaultCta:a.default_cta,handleXmaClickLogging:i,mediaRenderQpl:l,template:_}),t[3]=a.default_cta,t[4]=_,t[5]=i,t[6]=l,t[7]=g):g=t[7],f=g}else throw new(o("MAWXMAV2GatedTemplateError")).MAWXMAV2GatedTemplateError(_.__typename);break e}case"XMSGXmaCompactGenericTemplateData":{var h;if((h=r("qex")._("1590"))!=null&&h){var y;t[8]!==a||t[9]!==_||t[10]!==i||t[11]!==l?(y=s.jsx(r("MWXMAV2AttachmentCompactGenericTemplate.react"),{content:a,handleXmaClickLogging:i,mediaRenderQpl:l,template:_}),t[8]=a,t[9]=_,t[10]=i,t[11]=l,t[12]=y):y=t[12],f=y}else throw new(o("MAWXMAV2GatedTemplateError")).MAWXMAV2GatedTemplateError(_.__typename);break e}case"XMSGXmaBloksTemplateData":{var C;t[13]!==_||t[14]!==l?(C=s.jsx(r("MWXMAV2AttachmentBloksTemplate.react"),{mediaRenderQpl:l,template:_}),t[13]=_,t[14]=l,t[15]=C):C=t[15],f=C;break e}case"XMSGXmaLocationTemplateData":{var b;t[16]!==_||t[17]!==l?(b=s.jsx(r("MWXMAV2LiveLocationTemplate.react"),{mediaRenderQpl:l,template:_}),t[16]=_,t[17]=l,t[18]=b):b=t[18],f=b;break e}case"XMSGXmaGenAiRichResponseTemplateData":{var v;t[19]!==a||t[20]!==i||t[21]!==l||t[22]!==d?(v=s.jsx(r("MWXMAV2AttachmentGenAIRichResponseTemplateV2.react"),{content:a,handleXmaClickLogging:i,mediaRenderQpl:l,outgoing:d}),t[19]=a,t[20]=i,t[21]=l,t[22]=d,t[23]=v):v=t[23],f=v;break e}case"XMSGXmaMemoriesTemplateData":{var S;t[24]!==n||t[25]!==_||t[26]!==l?(S=s.jsx(r("MWXMAV2MemoriesTemplate.react"),{attachmentForSenderCopyMediaDownload:n,mediaRenderQpl:l,template:_}),t[24]=n,t[25]=_,t[26]=l,t[27]=S):S=t[27],f=S;break e}case"XMSGXmaCallingTemplateData":{if(o("MAWIsRTCCallXmaEnabled").isRTCCallXmaEnabled()){var R;t[28]!==_||t[29]!==i||t[30]!==l?(R=s.jsx(r("MWXMAV2RTCCallTemplate.react"),{handleXmaClickLogging:i,mediaRenderQpl:l,template:_}),t[28]=_,t[29]=i,t[30]=l,t[31]=R):R=t[31],f=R}else throw new(o("MAWXMAV2GatedTemplateError")).MAWXMAV2GatedTemplateError(_.__typename);break e}case"XMSGXmaSparkIcebreakerTemplateData":{var L;t[32]!==_||t[33]!==l||t[34]!==d?(L=s.jsx(r("MWXMAV2SparkIcebreakerTemplate.react"),{mediaRenderQpl:l,outgoing:d,template:_}),t[32]=_,t[33]=l,t[34]=d,t[35]=L):L=t[35],f=L}}if(f==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",_.__typename);return f}l.default=c}),98);
__d("MWXMAV2EmphasisRing.react",["MWChatBubbleEmphasisRing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,u=e.hasEmphasisRing,c=e.message,d=e.outgoing,m;t[0]!==i||t[1]!==l?(m=!l&&i?s.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,t[0]=i,t[1]=l,t[2]=m):m=t[2];var p;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==u||t[8]!==c||t[9]!==d?(p=u===!0?s.jsx("div",{className:"x1rg5ohu",children:s.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:a,connectTop:i,flattenTop:l,message:c,outgoing:d,precedesXMA:!1,children:n})}):n,t[3]=n,t[4]=a,t[5]=i,t[6]=l,t[7]=u,t[8]=c,t[9]=d,t[10]=p):p=t[10];var _;return t[11]!==m||t[12]!==p?(_=s.jsxs(s.Fragment,{children:[m,p]}),t[11]=m,t[12]=p,t[13]=_):_=t[13],_}l.default=u}),98);
__d("MWXMAV2HscrollLayoutUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){for(var t of e){var n;if(((n=t.custom_template_data)==null?void 0:n.__typename)==="XMSGXmaBloksTemplateData")return!0}return!1}i.isDisableMaxHeightForXMAV2HscrollLayout=e}),66);
__d("MWXMAV2ReceiverFetchPlaceholder.react",["CometHeroHoldTrigger.react","ConstUriUtils","FBLogger","MWPMessageListAttachmentContainer.react","MWV2ChatBubbleContainer.react","MWXLink.react","MWXMessageBubble.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime","useHandleXmaEventsLogging","useIssueXMAReceiverFetchTask"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={unsetWidth:{width:"x4pn7vq",$$css:!0}};function c(e){var t,n,a=o("react-compiler-runtime").c(28),i=e.props,l;a[0]!==i.attachment||a[1]!==i.message||a[2]!==i.threadType?(l={attachment:i.attachment,message:i.message,threadType:i.threadType},a[0]=i.attachment,a[1]=i.message,a[2]=i.threadType,a[3]=l):l=a[3];var u=r("useHandleXmaEventsLogging")(l),c=i.connectBottom,d=i.connectTop,m=i.message,p=i.outgoing,_=i.receiverFetchParams,f=_==null?void 0:_.actionUrl,g;a[4]!==m||a[5]!==f?(g=babelHelpers.extends({},m,{text:f}),a[4]=m,a[5]=f,a[6]=g):g=a[6];var h=g,y=p?"white":"primary",C;a[7]!==p?(C={0:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a x18lvrbx"},1:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a xyk4ms5"}}[!!p<<0],a[7]=p,a[8]=C):C=a[8];var b=(t=i.attachment)==null?void 0:t.actionUrl,v;a[9]!==u?(v=function(){return u()},a[9]=u,a[10]=v):v=a[10];var S;a[11]===Symbol.for("react.memo_cache_sentinel")?(S={textDecoration:"underline"},a[11]=S):S=a[11];var R=(n=i.attachment)==null?void 0:n.actionUrl,L;a[12]!==b||a[13]!==v||a[14]!==R?(L=s.jsx(r("MWXLink.react"),{encryptedLink:!0,href:b,onClick:v,style:S,children:R}),a[12]=b,a[13]=v,a[14]=R,a[15]=L):L=a[15];var E;a[16]!==L||a[17]!==C?(E=s.jsx("div",babelHelpers.extends({},C,{children:L})),a[16]=L,a[17]=C,a[18]=E):E=a[18];var k;a[19]!==E||a[20]!==y?(k=s.jsx(r("MWXText.react"),{color:y,type:"bodyLink3",children:E}),a[19]=E,a[20]=y,a[21]=k):k=a[21];var I;return a[22]!==c||a[23]!==d||a[24]!==p||a[25]!==k||a[26]!==h?(I=s.jsx(r("MWV2ChatBubbleContainer.react"),{connectBottom:c,connectTop:d,hasEmphasisRing:!1,message:h,outgoing:p,precedesXMA:!1,children:k}),a[22]=c,a[23]=d,a[24]=p,a[25]=k,a[26]=h,a[27]=I):I=a[27],I}function d(e){var t=o("react-compiler-runtime").c(19),n=e.props,a=n.attachment,i=n.connectBottom,l=n.connectTop,c=n.hasText,d=n.mediaRenderQpl,m=n.message,p=n.outgoing;d==null||d.addPoint("fetch_xma_data_receiver_fetch");var _;if(t[0]!==(a==null?void 0:a.actionUrl)){var f=(a==null?void 0:a.actionUrl)!=null?o("ConstUriUtils").getUri(a==null?void 0:a.actionUrl):null;_=f==null?void 0:f.getRegisteredDomain(),t[0]=a==null?void 0:a.actionUrl,t[1]=_}else _=t[1];var g=_,h=p?"right":"left",y,C;t[2]===Symbol.for("react.memo_cache_sentinel")?(y={className:"xfex06f xzt5al7 x78zum5"},C=s.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:12}),t[2]=y,t[3]=C):(y=t[2],C=t[3]);var b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a"},t[4]=b):b=t[4];var v;t[5]!==g?(v=s.jsxs("div",babelHelpers.extends({},y,{children:[C,s.jsx(r("MWXText.react"),{color:"secondary",type:"body3",children:s.jsx("div",babelHelpers.extends({},b,{children:g}))})]})),t[5]=g,t[6]=v):v=t[6];var S;t[7]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),t[7]=S):S=t[7];var R;t[8]!==i||t[9]!==l||t[10]!==h||t[11]!==v?(R=s.jsxs(r("MWXMessageBubble.react"),{align:h,color:"incoming",connectBottom:i,connectTop:l,children:[v,S]}),t[8]=i,t[9]=l,t[10]=h,t[11]=v,t[12]=R):R=t[12];var L;return t[13]!==l||t[14]!==c||t[15]!==m||t[16]!==p||t[17]!==R?(L=s.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:l,hasTopMargin:c,message:m,outgoing:p,xstyle:u.unsetWidth,children:R}),t[13]=l,t[14]=c,t[15]=m,t[16]=p,t[17]=R,t[18]=L):L=t[18],L}function m(e){var t=o("react-compiler-runtime").c(4),n=e.props,a=n.attachment,i=n.isFbXmaAndDisabled,l=n.isRfXmaDeleted,u=n.isXmaReceiverFetchFallback,m=n.mediaRenderQpl,p=n.message,_=n.receiverFetchParams;if(r("useIssueXMAReceiverFetchTask")(p.messageId,a,p.threadKey,_==null?void 0:_.xmaReceiverFetchParams,_==null?void 0:_.xmaContentType,m),i||u||l){m==null||m.addPoint("render_rf_xma_fallback"),i||l?m==null||m.endSuccess():u&&(m==null||m.endFail("fetch_xma_data_receiver_fetch_failed"));var f;return t[0]!==n?(f=s.jsx(c,{props:n}),t[0]=n,t[1]=f):f=t[1],f}var g;return t[2]!==n?(g=s.jsx(d,{props:n}),t[2]=n,t[3]=g):g=t[3],g}function p(e){var t=o("react-compiler-runtime").c(4),n=e.message,a=e.receiverFetchParams;if(n==null){var i;throw(i=e.mediaRenderQpl)==null||i.endFail("missing_message"),r("FBLogger")("messenger_web_sharing").mustfixThrow("Missing message in placeholder")}var l;return t[0]!==n||t[1]!==e||t[2]!==a?(l=s.jsx(m,{props:babelHelpers.extends({},e,{message:n,receiverFetchParams:a})}),t[0]=n,t[1]=e,t[2]=a,t[3]=l):l=t[3],l}l.default=p}),98);
__d("MWXMAV2AttachmentContainerComponent.react",["CometErrorBoundary.react","FBLogger","LSIntEnum","LSXmaContentType","MAWIsFBXMA","MAWSecurePlaceholder.react","MWUnsupportedXMA.react","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","MWXMAV2EmphasisRing.react","MWXMAV2HscrollLayoutUtils","MWXMAV2ReceiverFetchPlaceholder.react","react","react-compiler-runtime","useHandleXmaEventsLogging"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useEffect;function m(e){var t=o("react-compiler-runtime").c(18),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.currentUserID,s=e.flattenTop,u=e.hasEmphasisRing,d=e.mediaRenderQpl,m=e.message,_=e.outgoing,f;t[0]!==(n==null?void 0:n.xmaContentType)||t[1]!==l||t[2]!==d||t[3]!==m?(f=function(){return l!=null&&m!=null?c.jsx(r("MAWSecurePlaceholder.react"),{actorId:l,message:m,xmaContentType:n==null?void 0:n.xmaContentType}):c.jsx(r("MWUnsupportedXMA.react"),{mediaRenderQpl:d,nextMessage:null,prevMessage:null})},t[0]=n==null?void 0:n.xmaContentType,t[1]=l,t[2]=d,t[3]=m,t[4]=f):f=t[4];var g;t[5]!==e?(g=c.jsx(p,babelHelpers.extends({},e)),t[5]=e,t[6]=g):g=t[6];var h;t[7]!==f||t[8]!==g?(h=c.jsx(r("CometErrorBoundary.react"),{fallback:f,children:g}),t[7]=f,t[8]=g,t[9]=h):h=t[9];var y;return t[10]!==a||t[11]!==i||t[12]!==s||t[13]!==u||t[14]!==m||t[15]!==_||t[16]!==h?(y=c.jsx(r("MWXMAV2EmphasisRing.react"),{connectBottom:a,connectTop:i,flattenTop:s,hasEmphasisRing:u,message:m,outgoing:_,children:h}),t[10]=a,t[11]=i,t[12]=s,t[13]=u,t[14]=m,t[15]=_,t[16]=h,t[17]=y):y=t[17],y}function p(e){var t=o("react-compiler-runtime").c(53),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,u=e.hasText,m=e.mediaRenderQpl,p=e.message,_=e.outgoing,f=e.receiverFetchParams,g=e.threadType,h=e.xmaDataclass,y=e.xmaEventImpressionLoggingRef,C,b;t[0]!==n||t[1]!==m?(C=function(){m==null||m.addAttachmentAnnotations==null||m.addAttachmentAnnotations(n)},b=[n,m],t[0]=n,t[1]=m,t[2]=C,t[3]=b):(C=t[2],b=t[3]),d(C,b);var v;t[4]!==n||t[5]!==p||t[6]!==g?(v={attachment:n,message:p,threadType:g},t[4]=n,t[5]=p,t[6]=g,t[7]=v):v=t[7];var S=r("useHandleXmaEventsLogging")(v),R=(f==null?void 0:f.xmaContentType)!=null&&(s||(s=o("LSIntEnum"))).toNumber(f.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_ENT_DELETED,L=(f==null?void 0:f.isReceiverFetchXma)===!0&&h==null,E=(f==null?void 0:f.xmaContentType)!=null&&(s||(s=o("LSIntEnum"))).toNumber(f.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK,k;t[8]!==(f==null?void 0:f.xmaContentType)||t[9]!==(f==null?void 0:f.xmaPreviewsDisabled)?(k=(f==null?void 0:f.xmaPreviewsDisabled)===!0&&o("MAWIsFBXMA").isFBXMA(f==null?void 0:f.xmaContentType),t[8]=f==null?void 0:f.xmaContentType,t[9]=f==null?void 0:f.xmaPreviewsDisabled,t[10]=k):k=t[10];var I=k;if(L||I||E||R){var T=u!=null?u:!1,D;return t[11]!==n||t[12]!==a||t[13]!==i||t[14]!==I||t[15]!==R||t[16]!==E||t[17]!==m||t[18]!==p||t[19]!==_||t[20]!==f||t[21]!==T||t[22]!==g?(D=c.jsx(r("MWXMAV2ReceiverFetchPlaceholder.react"),{attachment:n,connectBottom:a,connectTop:i,hasText:T,isFbXmaAndDisabled:I,isRfXmaDeleted:R,isXmaReceiverFetchFallback:E,mediaRenderQpl:m,message:p,outgoing:_,receiverFetchParams:f,threadType:g}),t[11]=n,t[12]=a,t[13]=i,t[14]=I,t[15]=R,t[16]=E,t[17]=m,t[18]=p,t[19]=_,t[20]=f,t[21]=T,t[22]=g,t[23]=D):D=t[23],D}if(h==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null xmaDataclass for XMA 2.0");var x=h.layout_type;if(x==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");var $=h.content;if($==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null content for XMA 2.0");if(($==null?void 0:$.__typename)==="XMSGXmaBloksContent")throw r("FBLogger")("messenger_web").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");var P;t[24]!==$?(P=($==null?void 0:$.__typename)==="XMSGXmaSingleContent"?[$]:$.list,t[24]=$,t[25]=P):P=t[25];var N=P,M;t[26]!==N?(M=o("MWXMAV2HscrollLayoutUtils").isDisableMaxHeightForXMAV2HscrollLayout(N),t[26]=N,t[27]=M):M=t[27];var w=M,A=h.layout_extension,F;t[28]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x1eb86dx x78zum5 x193iq5w"},t[28]=F):F=t[28];var O;if(t[29]!==n||t[30]!==S||t[31]!==m||t[32]!==_||t[33]!==N){var B;t[35]!==n||t[36]!==S||t[37]!==m||t[38]!==_?(B=function(t,o){return c.jsx(r("MWXMAV2AttachmentTemplateWrapper.react"),{attachmentForSenderCopyMediaDownload:n,content:t,handleXmaClickLogging:S,mediaRenderQpl:m,outgoing:_},o)},t[35]=n,t[36]=S,t[37]=m,t[38]=_,t[39]=B):B=t[39],O=N.map(B),t[29]=n,t[30]=S,t[31]=m,t[32]=_,t[33]=N,t[34]=O}else O=t[34];var W;t[40]!==a||t[41]!==i||t[42]!==w||t[43]!==l||t[44]!==A||t[45]!==x||t[46]!==m||t[47]!==_||t[48]!==O?(W=c.jsx(r("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:a,connectTop:i,disableMaxHeightForHscrollLayout:w,flattenTop:l,layoutExtension:A,layoutType:x,mediaRenderQpl:m,outgoing:_,children:O}),t[40]=a,t[41]=i,t[42]=w,t[43]=l,t[44]=A,t[45]=x,t[46]=m,t[47]=_,t[48]=O,t[49]=W):W=t[49];var q;return t[50]!==W||t[51]!==y?(q=c.jsx("div",babelHelpers.extends({},F,{ref:y,children:W})),t[50]=W,t[51]=y,t[52]=q):q=t[52],q}l.default=m}),98);
__d("TetraMWChatComposerOverflowIcons.react",["MWChatChatButtonColorConstants","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0}},d=function(n){var t=n.fill,a=n.size,i=n.title,l=n.xstyle,s=l===void 0?!1:l;return u.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,s),{height:a.toString()+"px",viewBox:"0 0 40 42",width:a.toString()+"px",children:[u.jsx("title",{children:i}),u.jsx("rect",{fill:t,height:"7",rx:"2",transform:"rotate(-90 4.5 30.5)",width:"29",x:"-6.5",y:"26.5"}),u.jsx("rect",{fill:t,height:"7",rx:"2",transform:"rotate(-90 20.5 24.5)",width:"41",x:"3.5",y:"20.5"}),u.jsx("rect",{fill:t,height:"7",rx:"2",transform:"rotate(-90 36.5 35.5)",width:"19",x:"30.5",y:"31.5"})]}))},m=function(n){var t=n.fill,a=n.size,i=n.title,l=n.xstyle,s=l===void 0?!1:l;return u.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,s),{height:String(a)+"px",viewBox:"0 0 46 46",width:String(a)+"px",children:[u.jsx("title",{children:i}),u.jsx("path",{d:"M18 17.54v.92c0 1.79 1.75 3.26 4 3.49v-7.9c-2.25.23-4 1.7-4 3.49zM26 26.2v7.6c2.13-.5 4-1.94 4-3.34v-.92c0-1.4-1.87-2.84-4-3.34z",fill:t,transform:"translate(-1 -1)"}),u.jsx("path",{d:"M24 1a23 23 0 1023 23A23 23 0 0024 1zm10 29.46c0 3.95-4 6.83-8 7.42V40a2 2 0 01-4 0v-2.06c-4.43-.3-7.94-3.52-7.94-7.48a2 2 0 014 0c0 1.78 1.72 3.24 3.94 3.49V26c-4.46-.28-8-3.51-8-7.49v-.92c0-4 3.54-7.21 8-7.49V8a2 2 0 014 0v2.13c4 .63 7.09 3.71 7.09 7.41a2 2 0 01-4 0A3.74 3.74 0 0026 14.21v7.91c4 .59 8 3.47 8 7.42z",fill:t,transform:"translate(-1 -1)"})]}))},p=function(n){var t=n.fill,a=n.size,i=n.title;return u.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,o("MWChatChatButtonColorConstants").styles.strokeGrey),{height:a.toString()+"px",viewBox:"0 0 34 48",width:a.toString()+"px",children:[u.jsx("title",{children:i}),u.jsx("path",{d:"M17 37v9",fill:"none",stroke:t,strokeLinejoin:"round",strokeWidth:"4"}),u.jsx("path",{d:"M10 46h14",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px"}),u.jsx("path",{d:"M39 20v3.5A14.5 14.5 0 0124.5 38h-1A14.5 14.5 0 019 23.5V20",fill:"none",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",transform:"translate(-7)"}),u.jsx("rect",{fill:t,height:"28",rx:"6.5",stroke:t,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",width:"14",x:"10",y:"2"})]}))};l.PollsSVG=d,l.DollarSignSVG=m,l.MicrophoneSVG=p}),98);
__d("canMWAddMemberToGroupThread",["I64","LSIntEnum","LSThreadBitOffset"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){if(n)return!1;var r=(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(16)),a=r&&t.needsAdminApprovalForNewParticipant===!1;return o("LSThreadBitOffset").has(27,t)||a}l.default=u}),98);
__d("useMAWOfflineQueueLoadingIndicatorV2",["MAWSharedProtocolQueueConst","useMAWOfflineQueueLoadingIndicatorShown","useMAWOfflineQueueLoadingIndicatorThreadJid","useMAWOfflineQueueState"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=e===void 0?!1:e,i=r("useMAWOfflineQueueLoadingIndicatorShown")(a),l=r("useMAWOfflineQueueLoadingIndicatorThreadJid")(t.threadKey,t.threadType),u=o("useMAWOfflineQueueState").useMAWOfflineQueueState();if(l!=null&&Object.keys(u.offlineQueueThreadStatus).length>0){var c;return i&&u.offlineQueueThreadStatus[l]!=null&&((c=u.offlineQueueThreadStatus[l])==null?void 0:c.chatStatus)!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return i&&u.offlineQueueCount>0&&u.offlineQueueSyncState!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function s(){return u}function u(){return!0}l.default=e}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(9),i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i=(e||(e=o("LSIntEnum"))).ofNumber(7),a[0]=i):i=a[0];var l=o("MWLSDatabaseLazySync").useSync(i),s;a[1]===Symbol.for("react.memo_cache_sentinel")?(s=r("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog"),a[1]=s):s=a[1];var u=r("useMWXLazyDialog")(s),c=u[0],d;a[2]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"),a[2]=d):d=a[2];var m=r("useMWXLazyDialog")(d),p=m[0],_;return a[3]!==c||a[4]!==p||a[5]!==l||a[6]!==t||a[7]!==n?(_=function(){r("promiseDone")(l());var e=o("LSMessagingThreadTypeUtil").isArmadilloSecure(n);e?p({threadKey:t}):c({threadKey:t})},a[3]=c,a[4]=p,a[5]=l,a[6]=t,a[7]=n,a[8]=_):_=a[8],_}l.default=s}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t){var n=o("react-compiler-runtime").c(7),a;n[0]!==e?(a=(s||(s=o("I64"))).to_string(e),n[0]=e,n[1]=a):a=n[1];var i;n[2]!==a?(i={threadID:a},n[2]=a,n[3]=i):i=n[3];var l=r("useMWXEntryPointDialog")(r("GroupsCometChatEditChatDialog.entrypoint"),i,void 0,d),u=l[0],c;return n[4]!==t||n[5]!==u?(c=function(){return u({enableEditNameOrDescription:!0,entryPoint:t})},n[4]=t,n[5]=u,n[6]=c):c=n[6],c}function d(){return u.jsx(r("MWXCardedDialogLoadingState.react"),{})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(t,n,r,o,a,i){"use strict";function e(e){return!1}i.default=e}),66);