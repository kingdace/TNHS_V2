;/*FB_PKG_DELIM*/

__d("MWInboxMessageSearchContext.react",["emptyFunction","react","react-compiler-runtime","useMWPConversationSearch"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c({hasMore:void 0,loadMore:r("emptyFunction"),navigateToResult:r("emptyFunction"),next:r("emptyFunction"),previous:r("emptyFunction"),query:void 0,resultCount:void 0,searchResults:[],selectedSearchResultIndex:void 0,status:void 0});function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.thread,i=r("useMWPConversationSearch")(a.threadKey),l;return t[0]!==n||t[1]!==i?(l=s.jsx(m.Provider,{value:i,children:n}),t[0]=n,t[1]=i,t[2]=l):l=t[2],l}function _(){return d(m)}l.MWInboxMessageSearchContext=p,l.useMWInboxMessageSearchContext=_}),98);
__d("MWMessageSearchFooter.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x976wh6 x1ey2m1c x78zum5 xdt5ytf xz9dl7a xsag5q8 xf7dkkf xv54qhq x7wzq59"},t[0]=r):r=t[0];var a;return t[1]!==n?(a=s.jsx("div",babelHelpers.extends({},r,{children:n})),t[1]=n,t[2]=a):a=t[2],a}l.default=u}),98);
__d("MWMessageSearchStatusTextItem.react",["MWMessageSearchFooter.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.height,i=a===void 0?"short":a,l;t[0]!==i?(l={0:{},1:{className:"x1cnzs8 xx6bls6"}}[(i==="tall")<<0],t[0]=i,t[1]=l):l=t[1];var u;t[2]!==n?(u=s.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:n}),t[2]=n,t[3]=u):u=t[3];var c;return t[4]!==l||t[5]!==u?(c=s.jsx(r("MWMessageSearchFooter.react"),{children:s.jsx("div",babelHelpers.extends({},l,{children:u}))}),t[4]=l,t[5]=u,t[6]=c):c=t[6],c}l.default=u}),98);
__d("MWMessageSearchEBRestoreStatusOrUpsell.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","MWEBEntrypointsKillswitch.enum","MWMessageSearchFooter.react","MWMessageSearchStatusTextItem.react","MWMessageSearchStatusTypes","deferredLoadComponent","react","react-compiler-runtime","requireDeferred","useMWEBBackupState","useMWEBGetUpsellState"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d=r("deferredLoadComponent")(r("requireDeferred")("MWInboxMessageSearchEBRestoreUpsell.react").__setRef("MWMessageSearchEBRestoreStatusOrUpsell.react"));function m(e){var t=o("react-compiler-runtime").c(9),n=e.onEBOnboarded,a=e.status,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={entrypoint:r("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH},t[0]=l):l=t[0];var m=r("useMWEBBackupState")(l),p=r("useMWEBGetUpsellState")(),_=p.isRestoreUpsellsDismissed,f,g;if(t[1]!==m||t[2]!==n?(f=function(){m===3&&n()},g=[m,n],t[1]=m,t[2]=n,t[3]=f,t[4]=g):(f=t[3],g=t[4]),c(f,g),a.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.COMPLETE&&m===4&&!_){var h;return t[5]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(r("MWMessageSearchFooter.react"),{children:u.jsx(d,{})})}),t[5]=h):h=t[5],h}if(a.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.COMPLETE&&m===2){var y;return t[6]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(r("MWMessageSearchStatusTextItem.react"),{children:s._(/*BTDS*/"If you can't find the message you're looking for, try searching the Messenger mobile app.")}),t[6]=y):y=t[6],y}if(a.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.IN_PROGRESS&&!a.hasSomeResults){var C;return t[7]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(r("MWMessageSearchStatusTextItem.react"),{height:"tall",children:s._(/*BTDS*/"Searching for messages...")}),t[7]=C):C=t[7],C}if(a.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.IN_PROGRESS&&a.restoreStatus===o("MWMessageSearchStatusTypes").RestoreStatus.IN_PROGRESS){var b;return t[8]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(r("MWMessageSearchStatusTextItem.react"),{children:s._(/*BTDS*/"Restoring chat history. Keep the browser open until restoring is complete.")}),t[8]=b):b=t[8],b}return null}function p(e){var t=o("react-compiler-runtime").c(3),n=e.onEBOnboarded,a=e.status,i;return t[0]!==n||t[1]!==a?(i=u.jsx(r("CometErrorBoundary.react"),{fallback:_,children:u.jsx(m,{onEBOnboarded:n,status:a})}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function _(){return null}l.default=p}),226);
__d("MWMessageSearchInput.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusRegion.react","MWMessageSearchStatusTypes","MWPConversationSearchLogger","MWXCircleButton.react","MWXIconCross","MWXIconMagnifyingGlass","MWXIconStrict.react","MWXRoundedTextInput.react","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXTextImpl.react","focusScopeQueries","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={textInput:{textOverflow:"xlyipyv",$$css:!0}};function d(e){return e>99?s._(/*BTDS*/"99+ results"):s._(/*BTDS*/"_j{\"*\":\"{totalResults} results\",\"_1\":\"1 result\"}",[s._plural(e,"totalResults")])}function m(e){var t=o("react-compiler-runtime").c(35),n=e.onEscape,a=e.query,i=e.resultCount,l=e.search,m=e.setQuery,p=e.status,_;t[0]!==p.overallSearchStatus?(_=p.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.IN_PROGRESS?u.jsx(r("MWXSpinner.react"),{color:"blue",size:16}):null,t[0]=p.overallSearchStatus,t[1]=_):_=t[1];var f=_,g;t[2]!==i||t[3]!==p.overallSearchStatus?(g=i!=null&&i>0&&p.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.COMPLETE?d(i):null,t[2]=i,t[3]=p.overallSearchStatus,t[4]=g):g=t[4];var h=g,y,C;t[5]===Symbol.for("react.memo_cache_sentinel")?(y={key:r("CometKeys").ENTER},C=s._(/*BTDS*/"Search"),t[5]=y,t[6]=C):(y=t[5],C=t[6]);var b;t[7]!==a||t[8]!==l?(b={command:y,description:C,handler:function(){a!==""&&(r("MWPConversationSearchLogger").logMessageSearchSearchClicked(),l())},triggerFromInputs:!0,triggerOnRepeats:!1},t[7]=a,t[8]=l,t[9]=b):b=t[9];var v,S;t[10]===Symbol.for("react.memo_cache_sentinel")?(v={key:r("CometKeys").ESCAPE},S=s._(/*BTDS*/"Back"),t[10]=v,t[11]=S):(v=t[10],S=t[11]);var R;t[12]!==n?(R={command:v,description:S,handler:n,triggerFromInputs:!0},t[12]=n,t[13]=R):R=t[13];var L;t[14]!==b||t[15]!==R?(L=[b,R],t[14]=b,t[15]=R,t[16]=L):L=t[16];var E=L,k;t[17]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x78zum5"},t[17]=k):k=t[17];var I;t[18]!==f||t[19]!==a||t[20]!==h||t[21]!==m?(I=a!==""?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"x12bfo1c x4ii5y1 xr1yuqi x135b78x x11lfxj5 xp4054r xuxw1ft",children:[f,h!=null&&u.jsx(r("MWXTextImpl.react"),{testid:void 0,type:"meta3",children:h})]}),u.jsx(r("MWXCircleButton.react"),{color:"primary",icon:r("MWXIconCross"),label:s._(/*BTDS*/"Clear"),onPress:function(){return m("")},size:32})]}):null,t[18]=f,t[19]=a,t[20]=h,t[21]=m,t[22]=I):I=t[22];var T,D;t[23]===Symbol.for("react.memo_cache_sentinel")?(T=u.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconMagnifyingGlass"),size:20}),D=s._(/*BTDS*/"Search"),t[23]=T,t[24]=D):(T=t[23],D=t[24]);var x;t[25]!==m?(x=function(t){t.target instanceof HTMLInputElement&&m(t.target.value)},t[25]=m,t[26]=x):x=t[26];var $;t[27]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Search in conversation"),t[27]=$):$=t[27];var P;t[28]!==a||t[29]!==I||t[30]!==x?(P=u.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:u.jsx(r("MWXRoundedTextInput.react"),{addOnEnd:I,icon:T,label:D,onChange:x,placeholder:$,value:a,xstyle:c.textInput})}),t[28]=a,t[29]=I,t[30]=x,t[31]=P):P=t[31];var N;return t[32]!==E||t[33]!==P?(N=u.jsx("div",babelHelpers.extends({},k,{children:u.jsx(r("MWXRow.react"),{expanding:!0,paddingTop:12,paddingVertical:8,verticalAlign:"center",children:u.jsx(r("MWXRowItem.react"),{expanding:!0,children:u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:E,children:P})})})})),t[32]=E,t[33]=P,t[34]=N):N=t[34],N}l.default=m}),226);
__d("MWMessageSearchNullState.react",["fbt","MWMessageSearchStatusTextItem.react","MWMessageSearchStatusTypes","MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(11),n=e.isSecureThread,a=e.query,i=e.queryInput,l=e.searchResults,c=e.status,d;t[0]!==a||t[1]!==i.length||t[2]!==c.overallSearchStatus?(d=i.length>0&&a==null&&c.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.NOT_STARTED?u.jsx(r("MWMessageSearchStatusTextItem.react"),{height:"tall",children:s._(/*BTDS*/"Press \"Enter\" to search.")}):null,t[0]=a,t[1]=i.length,t[2]=c.overallSearchStatus,t[3]=d):d=t[3];var m;t[4]!==n||t[5]!==l||t[6]!==c.overallSearchStatus?(m=c.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.COMPLETE&&l.length===0&&u.jsx("div",{className:"x1p5oq8j xwxc41k x1mfogq2 xsfy40s",children:u.jsxs(r("MWXColumn.react"),{spacing:12,children:[u.jsx(r("MWXColumnItem.react"),{align:"center",paddingVertical:12,children:u.jsx(r("MWXText.react"),{type:"headlineEmphasized4",children:s._(/*BTDS*/"No results found")})}),!n&&u.jsx(r("MWXColumnItem.react"),{align:"center",children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:s._(/*BTDS*/"Try again with a different spelling or combination of terms. Complete words usually work best.")})})]})}),t[4]=n,t[5]=l,t[6]=c.overallSearchStatus,t[7]=m):m=t[7];var p;return t[8]!==d||t[9]!==m?(p=u.jsxs(u.Fragment,{children:[d,m]}),t[8]=d,t[9]=m,t[10]=p):p=t[10],p}l.default=c}),226);
__d("MWMessageSearchResultItem.react",["BaseMiddot.react","FDSImageCover.react","FDSRelativeTimestamp.react","I64","MWInboxInfoPanelContext.react","MWInboxMessageSearchContext.react","MWInboxMessageSearchJumpToResultQPL","MWMessageSearchMessageSnippet.react","MWPConversationSearchLogger","MWPVisibleMessageContext.react","MWResponsiveLayoutConstants","MWResponsiveLayoutContext.react","MWVerticalRhythm","MWXListCellPressable.react","MWXText.react","MWXTextImpl.react","cr:3702","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useContext;function d(e){var t,a=o("react-compiler-runtime").c(42),i=e.item,l=e.onSelect,d=e.position,m=o("MWInboxMessageSearchContext.react").useMWInboxMessageSearchContext(),p=m.navigateToResult,_=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),f=_.visibleMessage,g=c(r("MWResponsiveLayoutContext.react")),h=o("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),y=h.setThreadInfoVisible,C;a[0]!==i?(C={onImpressionStart:function(){r("MWPConversationSearchLogger").logMessageSearchMsgImpression(i)}},a[0]=i,a[1]=C):C=a[1];var b=r("useSinglePartialViewImpression")(C),v=(f==null?void 0:f.messageId)!=null&&(f==null?void 0:f.messageId)===i.messageId||(f==null?void 0:f.messageOtid)!=null&&f.messageOtid===i.messageOtid,S=(t=i.profilePicUrl)!=null?t:i.secondaryProfilePicUrl,R;a[2]===Symbol.for("react.memo_cache_sentinel")?(R={borderRadius:"50%",height:32,width:32},a[2]=R):R=a[2];var L;a[3]!==S?(L=u.jsx(r("FDSImageCover.react"),{alt:"",src:S,style:R}),a[3]=S,a[4]=L):L=a[4];var E=L,k;a[5]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x1xegmmw x13fj5qh"},a[5]=k):k=a[5];var I;a[6]===Symbol.for("react.memo_cache_sentinel")?(I={className:"xwib8y2 x1y1aw1k"},a[6]=I):I=a[6];var T;a[7]!==i.displayName?(T=u.jsx(r("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:"headline4",children:i.displayName}),a[7]=i.displayName,a[8]=T):T=a[8];var D,x;a[9]===Symbol.for("react.memo_cache_sentinel")?(D=u.jsx(r("MWVerticalRhythm"),{height:12}),x={className:"x6s0dn4 x78zum5 xeuugli"},a[9]=D,a[10]=x):(D=a[9],x=a[10]);var $;a[11]!==i?($=u.jsx(r("MWXTextImpl.react"),{color:"secondary",numberOfLines:1,type:"body4",children:u.jsx(r("MWMessageSearchMessageSnippet.react"),{item:i})}),a[11]=i,a[12]=$):$=a[12];var P;a[13]===Symbol.for("react.memo_cache_sentinel")?(P={className:"x6s0dn4 x78zum5 xf159sx x135b78x xuxw1ft"},a[13]=P):P=a[13];var N,M;a[14]===Symbol.for("react.memo_cache_sentinel")?(N=u.jsx(r("MWXTextImpl.react"),{color:"secondary",numberOfLines:1,type:"body4",children:u.jsx(r("BaseMiddot.react"),{})}),M={className:"xyiysdx"},a[14]=N,a[15]=M):(N=a[14],M=a[15]);var w;a[16]!==i.messageTimestampMs?(w=new Date(i.messageTimestampMs!=null?(s||(s=o("I64"))).to_float(i.messageTimestampMs):0),a[16]=i.messageTimestampMs,a[17]=w):w=a[17];var A;a[18]!==w?(A=u.jsxs("div",babelHelpers.extends({},P,{children:[N,u.jsx("div",babelHelpers.extends({},M,{children:u.jsx(r("MWXTextImpl.react"),{color:"secondary",type:"body4",children:u.jsx(r("FDSRelativeTimestamp.react"),{date:w,format:"minimized"})})}))]})),a[18]=w,a[19]=A):A=a[19];var F;a[20]!==$||a[21]!==A?(F=u.jsxs("div",babelHelpers.extends({},x,{children:[$,A]})),a[20]=$,a[21]=A,a[22]=F):F=a[22];var O;a[23]!==F||a[24]!==T?(O=u.jsxs("div",babelHelpers.extends({},I,{children:[T,D,F]})),a[23]=F,a[24]=T,a[25]=O):O=a[25];var B;a[26]!==i||a[27]!==g||a[28]!==p||a[29]!==l||a[30]!==d||a[31]!==v||a[32]!==y?(B=function(t){(n("cr:3702")==null?void 0:n("cr:3702").getCardShowState(o("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL,g))==="hidden"&&(g.pushCard(o("MWResponsiveLayoutConstants").MWLayoutPanel.MESSAGE_LIST_PANEL),y(!1)),!v&&(i.messageId!==null||i.messageOtid!==null)&&(o("MWInboxMessageSearchJumpToResultQPL").endCancelIfAny("user_selected_new_result"),o("MWInboxMessageSearchJumpToResultQPL").start(i.threadKey,{messageId:i.messageId,offlineThreadingId:i.messageOtid})),p(i),r("MWPConversationSearchLogger").logMessageSearchMsgResultChosen(null,d,i),l==null||l()},a[26]=i,a[27]=g,a[28]=p,a[29]=l,a[30]=d,a[31]=v,a[32]=y,a[33]=B):B=a[33];var W;a[34]!==E||a[35]!==v||a[36]!==O||a[37]!==B?(W=u.jsx(r("MWXListCellPressable.react"),{addOnStart:E,content:O,onPress:B,selected:v,size:"large",testid:void 0}),a[34]=E,a[35]=v,a[36]=O,a[37]=B,a[38]=W):W=a[38];var q;return a[39]!==b||a[40]!==W?(q=u.jsx("div",babelHelpers.extends({},k,{ref:b,children:W})),a[39]=b,a[40]=W,a[41]=q):q=a[41],q}l.default=d}),98);
__d("MWMessageSearchResults.react",["CometInfiniteScrollTrigger.react","MWInboxMessageSearchContext.react","MWInboxMessageSearchJumpToResultQPL","MWMessageSearchResultItem.react","MWMessageSearchStatusTypes","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo;function m(e){var t=o("react-compiler-runtime").c(16),n=e.onSelect,a=e.status,i=o("MWInboxMessageSearchContext.react").useMWInboxMessageSearchContext(),l=i.hasMore,u=i.loadMore,d=i.searchResults,m=a.searchStatus===o("MWMessageSearchStatusTypes").PrimarySearchStatus.IN_PROGRESS,_,f;if(t[0]!==n||t[1]!==d){var g;t[3]!==n?(g=function(t,o){var e,a;return s.jsx(r("MWMessageSearchResultItem.react"),{item:t,onSelect:n,position:o},(e=(a=t.messageId)!=null?a:t.messageOtid)!=null?e:o)},t[3]=n,t[4]=g):g=t[4],f=d.map(g),t[0]=n,t[1]=d,t[2]=f}else f=t[2];_=f;var h=_,y;t[5]===Symbol.for("react.memo_cache_sentinel")?(y=[],t[5]=y):y=t[5],c(p,y);var C;t[6]!==h?(C=s.jsx("div",{"data-testid":void 0,children:h}),t[6]=h,t[7]=C):C=t[7];var b=l!=null?l:!1,v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("div",{className:"xjm9jq1"}),t[8]=v):v=t[8];var S;t[9]!==m||t[10]!==u||t[11]!==b?(S=s.jsx(r("CometInfiniteScrollTrigger.react"),{hasMore:b,isLoading:m,onLoadMore:u,children:v}),t[9]=m,t[10]=u,t[11]=b,t[12]=S):S=t[12];var R;return t[13]!==C||t[14]!==S?(R=s.jsxs(s.Fragment,{children:[C,S]}),t[13]=C,t[14]=S,t[15]=R):R=t[15],R}function p(){return _}function _(){o("MWInboxMessageSearchJumpToResultQPL").endCancelIfAny("user_navigated_away_from_thread")}l.default=m}),98);
__d("useMWInboxMessageSearchRestoreLoopLoadedUntilDate",["MAWBridgeSendAndReceive","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=o("react-compiler-runtime").c(4),r=c(null),a=r[0],i=r[1],l,s;return n[0]!==t||n[1]!==e?(l=function(){i(null);var n=window.setInterval(async function(){var r=e==null?null:t==="media"?await o("MAWBridgeSendAndReceive").sendAndReceive("backend","getMediaRestoreNextTimestamp",{threadId:e},{isLoggingDisabled:!0}):await o("MAWBridgeSendAndReceive").sendAndReceive("backend","searchGetFTSNextTimestamp",{threadId:e},{isLoggingDisabled:!0}),a=r!=null?parseInt(r,10):-1;i(a),a===0&&window.clearInterval(n)},300);return function(){window.clearInterval(n)}},s=[t,e],n[0]=t,n[1]=e,n[2]=l,n[3]=s):(l=n[2],s=n[3]),u(l,s),a}l.default=d}),98);
__d("useMWInboxMessageSearchRestoreLoopAndStatus",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSSearchRequestStatusType","MAWMiActOnActThreadReadyDeferred","MWInboxMessageSearchContext.react","MWLSThreadDisplayContext","MWMessageSearchStatusTypes","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useMWInboxMessageSearchRestoreLoopLoadedUntilDate","useMWPConversatioSearchQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useCallback,m=c.useEffect,p=c.useState,_=r("requireDeferred")("MAWFTSRestoreSync").__setRef("useMWInboxMessageSearchRestoreLoopAndStatus");function f(e){return e==null?o("MWMessageSearchStatusTypes").PrimarySearchStatus.NOT_STARTED:(s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").PENDING))?o("MWMessageSearchStatusTypes").PrimarySearchStatus.IN_PROGRESS:(s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").COMPLETE))?o("MWMessageSearchStatusTypes").PrimarySearchStatus.COMPLETE:(s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSSearchRequestStatusType").FAILED))?o("MWMessageSearchStatusTypes").PrimarySearchStatus.FAILED:o("MWMessageSearchStatusTypes").PrimarySearchStatus.NOT_STARTED}function g(e,t){var n=o("react-compiler-runtime").c(28),a=e.threadKey,i;n[0]!==e.threadType?(i=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),n[0]=e.threadType,n[1]=i):i=n[1];var l=i,s=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),u;n[2]!==t?(u=t!=null?t:{},n[2]=t,n[3]=u):u=n[3];var c=u,d=c.shouldResetBeforeLoopStart,g=o("MWInboxMessageSearchContext.react").useMWInboxMessageSearchContext(),h=g.resultCount,y=g.searchResults,C=g.status,b=y.length>0,v;n[4]!==C?(v=f(C),n[4]=C,n[5]=v):v=n[5];var S=v,R=r("useAsyncReStore")(),L=p(null),E=L[0],k=L[1],I=p(null),T=I[0],D=I[1],x=r("useMWPConversatioSearchQPLLogger")(),$=x.qplSuccess,P=x.updateCurrentResultCount,N,M;n[6]!==R||n[7]!==s||n[8]!==l||n[9]!==d||n[10]!==a?(N=function(){var e=async function(){var e=await R;r("promiseDone")(r("MAWMiActOnActThreadReadyDeferred")(e,a,"MWInboxMessageSearchPanel.react",function(e,t){return _.onReady(function(e){var n=e.getFTSRestoreSync;n().setActiveThreadId(t,s!=="ChatTab");var o=d===!0?n().resetRestoreStatus():Promise.resolve();r("promiseDone")(o,function(){return n().startSyncingLoop()}),D(n())}),k(t),Promise.resolve()}))};l&&r("promiseDone")(e())},M=[R,l,a,d,s],n[6]=R,n[7]=s,n[8]=l,n[9]=d,n[10]=a,n[11]=N,n[12]=M):(N=n[11],M=n[12]),o("Int64Hooks").useEffectInt64(N,M);var w;n[13]!==T?(w=function(){T!=null&&(T.resetEBAvailability(),T.isStarted()||r("promiseDone")(T.startSyncingLoop()))},n[13]=T,n[14]=w):w=n[14];var A=w,F=r("useMWInboxMessageSearchRestoreLoopLoadedUntilDate")(E),O;e:{if(!l){O=o("MWMessageSearchStatusTypes").RestoreStatus.NOT_REQUIRED;break e}if(T==null||!(T!=null&&T.isStarted())||F==null){O=o("MWMessageSearchStatusTypes").RestoreStatus.NOT_RUNNING;break e}if(F===0){O=o("MWMessageSearchStatusTypes").RestoreStatus.COMPLETE;break e}O=o("MWMessageSearchStatusTypes").RestoreStatus.IN_PROGRESS}var B=O,W;e:{if(S===o("MWMessageSearchStatusTypes").PrimarySearchStatus.NOT_STARTED){W=o("MWMessageSearchStatusTypes").OverallStatus.NOT_STARTED;break e}if(B===o("MWMessageSearchStatusTypes").RestoreStatus.IN_PROGRESS){W=o("MWMessageSearchStatusTypes").OverallStatus.IN_PROGRESS;break e}if(S===o("MWMessageSearchStatusTypes").PrimarySearchStatus.IN_PROGRESS){W=o("MWMessageSearchStatusTypes").OverallStatus.IN_PROGRESS;break e}W=o("MWMessageSearchStatusTypes").OverallStatus.COMPLETE}var q=W,U,V;n[15]!==q||n[16]!==$||n[17]!==h||n[18]!==P?(U=function(){q===o("MWMessageSearchStatusTypes").OverallStatus.COMPLETE&&(h!=null&&P(h),$())},V=[q,$,h,P],n[15]=q,n[16]=$,n[17]=h,n[18]=P,n[19]=U,n[20]=V):(U=n[19],V=n[20]),m(U,V);var H,G;return n[21]!==b||n[22]!==A||n[23]!==q||n[24]!==B||n[25]!==S?(H=function(){return{onEBOnboarded:A,status:{hasSomeResults:b,overallSearchStatus:q,restoreStatus:B,searchStatus:S}}},G=[A,q,B,b,S],n[21]=b,n[22]=A,n[23]=q,n[24]=B,n[25]=S,n[26]=H,n[27]=G):(H=n[26],G=n[27]),o("Int64Hooks").useMemoInt64(H,G)}l.default=g}),98);
__d("MWInboxMessageSearchPanel.react",["CometScrollView.react","LSMessagingThreadTypeUtil","MWInboxMessageSearchContext.react","MWInboxMessageSearchPanelHeader.react","MWMessageSearchEBRestoreStatusOrUpsell.react","MWMessageSearchInput.react","MWMessageSearchNullState.react","MWMessageSearchResults.react","MWMessageSearchStatusTypes","MWXColumn.react","MWXColumnItem.react","gkx","react","react-compiler-runtime","useMWInboxMessageSearchRestoreLoopAndStatus","useMWPClearConversationSearch","useMWPStartConversationSearch","usePrevious","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m={facebookRoot:{height:"xtp0wl1",$$css:!0},facebookRootM5:{height:"x1og2svy",$$css:!0},root:{height:"x19g9ylp",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(43),n=e.onReturn,a=e.thread,i=o("MWInboxMessageSearchContext.react").useMWInboxMessageSearchContext(),l=i.query,u=i.resultCount,p=i.searchResults,_=r("useMWPStartConversationSearch")(a.threadKey),f=r("useMWInboxMessageSearchRestoreLoopAndStatus")(a),g=f.onEBOnboarded,h=f.status,y;t[0]!==l?(y=function(){return l!=null?l:""},t[0]=l,t[1]=y):y=t[1];var C=d(y),b=C[0],v=C[1],S,R;t[2]!==l||t[3]!==b||t[4]!==h?(S=function(){l!=null&&l!==b&&h.overallSearchStatus===o("MWMessageSearchStatusTypes").OverallStatus.NOT_STARTED&&v(l)},R=[l,b,h],t[2]=l,t[3]=b,t[4]=h,t[5]=S,t[6]=R):(S=t[5],R=t[6]),c(S,R);var L;t[7]!==b||t[8]!==_||t[9]!==a.threadType?(L=function(){_(b,o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType))},t[7]=b,t[8]=_,t[9]=a.threadType,t[10]=L):L=t[10];var E=L,k;t[11]!==a.threadType?(k=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),t[11]=a.threadType,t[12]=k):k=t[12];var I=k,T=r("useMWPClearConversationSearch")(),D=r("usePrevious")(b);D!=null&&D!==b&&h.searchStatus!==o("MWMessageSearchStatusTypes").PrimarySearchStatus.NOT_STARTED&&T({shouldClearThreadSearch:!1,shouldResetNavigation:!1});var x;t[13]!==n?(x=s.jsx(r("MWXColumnItem.react"),{paddingTop:0,children:s.jsx(r("MWInboxMessageSearchPanelHeader.react"),{onReturn:n})}),t[13]=n,t[14]=x):x=t[14];var $;t[15]!==E||t[16]!==n||t[17]!==b||t[18]!==u||t[19]!==h?($=s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWMessageSearchInput.react"),{onEscape:n,query:b,resultCount:u,search:E,setQuery:v,status:h})}),t[15]=E,t[16]=n,t[17]=b,t[18]=u,t[19]=h,t[20]=$):$=t[20];var P;t[21]!==h?(P=s.jsx(r("MWMessageSearchResults.react"),{status:h}),t[21]=h,t[22]=P):P=t[22];var N;t[23]!==I||t[24]!==l||t[25]!==b||t[26]!==p||t[27]!==h?(N=s.jsx(r("MWMessageSearchNullState.react"),{isSecureThread:I,query:l,queryInput:b,searchResults:p,status:h}),t[23]=I,t[24]=l,t[25]=b,t[26]=p,t[27]=h,t[28]=N):N=t[28];var M;t[29]!==I||t[30]!==g||t[31]!==h?(M=I&&s.jsx(r("MWMessageSearchEBRestoreStatusOrUpsell.react"),{onEBOnboarded:g,status:h}),t[29]=I,t[30]=g,t[31]=h,t[32]=M):M=t[32];var w;t[33]!==M?(w=s.jsx(s.Fragment,{children:M}),t[33]=M,t[34]=w):w=t[34];var A;t[35]!==w||t[36]!==P||t[37]!==N?(A=s.jsx(r("MWXColumnItem.react"),{expanding:!0,children:s.jsxs(r("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[P,N,w]})}),t[35]=w,t[36]=P,t[37]=N,t[38]=A):A=t[38];var F;return t[39]!==A||t[40]!==x||t[41]!==$?(F=s.jsxs(r("MWXColumn.react"),{spacing:0,xstyle:r("gkx")("23433")?m.root:r("gkx")("24031")?m.facebookRootM5:m.facebookRoot,children:[x,$,A]}),t[39]=A,t[40]=x,t[41]=$,t[42]=F):F=t[42],F}function _(e){var t=o("react-compiler-runtime").c(6),n=e.onReturn,r=e.thread,a;t[0]!==n||t[1]!==r?(a=s.jsx(p,{onReturn:n,thread:r}),t[0]=n,t[1]=r,t[2]=a):a=t[2];var i;return t[3]!==a||t[4]!==r?(i=s.jsx(o("MWInboxMessageSearchContext.react").MWInboxMessageSearchContext,{thread:r,children:a}),t[3]=a,t[4]=r,t[5]=i):i=t[5],i}var f=o("withCometPlaceholder").withCometPlaceholder(_,null,"MWInboxMessageSearchPanelWithContext");l.default=f}),98);