;/*FB_PKG_DELIM*/

__d("CometFeedStoryFollowButtonStrategy_followButton.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryFollowButtonStrategy_followButton",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_use_blue_link",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[{kind:"InlineFragment",selections:t,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:t,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_location",storageKey:null}],type:"FollowProfileActionLink",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],storageKey:null}],type:"CometFeedStoryFollowButtonStrategy",abstractKey:null}})();a.exports=e}),null);
__d("StoryHeaderFollowProfileFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1811514"),s=o("FalcoLoggerInternal").create("story_header_follow_profile",e),u=s;l.default=u}),98);
__d("CometPFTFFollowMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9573943315976338"}),null);
__d("CometPFTFFollowMutation.graphql",["CometPFTFFollowMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],a={kind:"InlineFragment",selections:o,type:"Page",abstractKey:null},i={kind:"InlineFragment",selections:o,type:"User",abstractKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometPFTFFollowMutation",selections:[{alias:null,args:t,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[r,a,i],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometPFTFFollowMutation",selections:[{alias:null,args:t,concreteType:"ActorSubscribeResponsePayload",kind:"LinkedField",name:"actor_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subscribee",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,a,i],storageKey:null}],storageKey:null}]},params:{id:n("CometPFTFFollowMutation_facebookRelayOperation"),metadata:{},name:"CometPFTFFollowMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometPFTFFollowMutation",["CometPFTFFollowMutation.graphql","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometPFTFFollowMutation.graphql");function u(e,t,n,r,a,i){var l=r?{__typename:"User",subscribe_status:"IS_SUBSCRIBED"}:{__typename:"Page",subscribe_status:"IS_SUBSCRIBED"};o("CometRelay").commitMutation(e,{mutation:s,onError:function(){},optimisticResponse:{actor_subscribe:{subscribee:babelHelpers.extends({id:t},l)}},variables:{input:{is_tracking_encrypted:i,subscribe_location:n,subscribee_id:t,tracking:[a]}}})}l.commit=u}),98);
__d("CometPFTFUnfollowMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9665997426846728"}),null);
__d("CometPFTFUnfollowMutation.graphql",["CometPFTFUnfollowMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o=[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],a={kind:"InlineFragment",selections:o,type:"Page",abstractKey:null},i={kind:"InlineFragment",selections:o,type:"User",abstractKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometPFTFUnfollowMutation",selections:[{alias:null,args:t,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[r,a,i],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometPFTFUnfollowMutation",selections:[{alias:null,args:t,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,a,i],storageKey:null}],storageKey:null}]},params:{id:n("CometPFTFUnfollowMutation_facebookRelayOperation"),metadata:{},name:"CometPFTFUnfollowMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("CometPFTFUnfollowMutation",["CometPFTFUnfollowMutation.graphql","CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("CometPFTFUnfollowMutation.graphql");function u(e,t,n,r,a,i){var l=r?{__typename:"User",subscribe_status:"CAN_SUBSCRIBE"}:{__typename:"Page",subscribe_status:"CAN_SUBSCRIBE"};o("CometRelay").commitMutation(e,{mutation:s,onError:function(){},optimisticResponse:{actor_unsubscribe:{unsubscribee:babelHelpers.extends({id:t},l)}},variables:{input:{is_tracking_encrypted:i,subscribe_location:n,tracking:[a],unsubscribee_id:t}}})}l.commit=u}),98);
__d("useCometPFTFFollow",["CometPFTFFollowMutation","CometPFTFUnfollowMutation","CometRelay","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a,i){var l=o("react-compiler-runtime").c(12),u=o("CometRelay").useRelayEnvironment();if(e==null||t==null){var c;return l[0]===Symbol.for("react.memo_cache_sentinel")?(c=[!1,s],l[0]=c):c=l[0],c}var d=t==="IS_SUBSCRIBED",m;l[1]!==u||l[2]!==n||l[3]!==r||l[4]!==d||l[5]!==i||l[6]!==e||l[7]!==a?(m=function(){d?o("CometPFTFUnfollowMutation").commit(u,e,n,r,a,i):o("CometPFTFFollowMutation").commit(u,e,n,r,a,i)},l[1]=u,l[2]=n,l[3]=r,l[4]=d,l[5]=i,l[6]=e,l[7]=a,l[8]=m):m=l[8];var p=m,_;return l[9]!==d||l[10]!==p?(_=[d,p],l[9]=d,l[10]=p,l[11]=_):_=l[11],_}function s(){}l.default=e}),98);
__d("CometFeedStoryFollowButtonStrategy.react",["fbt","BaseMiddot.react","CometFeedStoryFollowButtonStrategy_followButton.graphql","CometRelay","FDSLink.react","FDSText.react","StoryHeaderFollowProfileFalcoEvent","react","react-compiler-runtime","stylex","useCometFeedStoryMatchDebugger","useCometPFTFFollow","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m="IFR_POST_IN_NEWS_FEED",p={adaptiveMiddot:{marginInlineStart:"xdwrcjd",$$css:!0},middot:{color:"xzsf02u",fontWeight:"xo1l8bm",$$css:!0}};function _(t){var a,i,l,c,_,h,y,C,b,v,S,R=o("react-compiler-runtime").c(43),L=t.followButton,E=t.isAdaptiveRendering,k=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedStoryFollowButtonStrategy_followButton.graphql"),L);r("useCometFeedStoryMatchDebugger")(k);var I=(a=k.story)==null?void 0:a.action_links,T;R[0]!==I?(T=I==null?void 0:I.find(g),R[0]=I,R[1]=T):T=R[1];var D=T,x=((i=k.story)==null?void 0:i.tracking)||"",$=((l=k.story)==null?void 0:l.encrypted_tracking)!=null,P=(c=k.story)==null?void 0:c.id,N=(D==null?void 0:D.profile)==null||((_=D.profile)==null?void 0:_.id)==null?null:D.profile.id,M=(D==null?void 0:D.profile)==null||((h=D.profile)==null?void 0:h.subscribe_status)==null?null:(y=D.profile)==null?void 0:y.subscribe_status,w=(C=D==null?void 0:D.follow_location)!=null?C:m,A=D!=null&&((b=D.profile)==null?void 0:b.__typename)==="User",F=r("useCometPFTFFollow")(N,M,w,A,x,$),O=F[0],B=F[1],W;if(R[2]!==N||R[3]!==P||R[4]!==((v=k.story)==null?void 0:v.post_id)||R[5]!==x){var q;W=function(){N!=null&&P!=null&&r("StoryHeaderFollowProfileFalcoEvent").log(function(){var e;return{event:"IMPRESSION",post_id:(e=k.story)==null?void 0:e.post_id,profile_id:N,story_id:P,tracking:x}})},R[2]=N,R[3]=P,R[4]=(q=k.story)==null?void 0:q.post_id,R[5]=x,R[6]=W}else W=R[6];var U=W,V=U(),H;R[7]!==V?(H={onVisible:V},R[7]=V,R[8]=H):H=R[8];var G=r("useVisibilityObserver")(H);if(D==null||P==null||Object.entries(D).length===0){var z;return R[9]===Symbol.for("react.memo_cache_sentinel")?(z=d.jsx("span",{}),R[9]=z):z=R[9],z}var j;R[10]!==O?(j=O?d.jsx(r("FDSText.react"),{color:"secondary",type:"bodyLink3",children:s._(/*BTDS*/"Following")}):d.jsx(r("FDSText.react"),{color:"blueLink",type:"bodyLink3",children:s._(/*BTDS*/"Follow")}),R[10]=O,R[11]=j):j=R[11];var K=j,Q;if(R[12]!==N||R[13]!==O||R[14]!==P||R[15]!==((S=k.story)==null?void 0:S.post_id)||R[16]!==M||R[17]!==x){var X;Q=function(){if(N==null||M==null)return f;O?r("StoryHeaderFollowProfileFalcoEvent").log(function(){var e;return{event:"UNFOLLOW",post_id:(e=k.story)==null?void 0:e.post_id,profile_id:N,story_id:P,tracking:x}}):r("StoryHeaderFollowProfileFalcoEvent").log(function(){var e;return{event:"FOLLOW",post_id:(e=k.story)==null?void 0:e.post_id,profile_id:N,story_id:P,tracking:x}})},R[12]=N,R[13]=O,R[14]=P,R[15]=(X=k.story)==null?void 0:X.post_id,R[16]=M,R[17]=x,R[18]=Q}else Q=R[18];var Y=Q,J;R[19]!==Y||R[20]!==B?(J=function(){Y(),B()},R[19]=Y,R[20]=B,R[21]=J):J=R[21];var Z=J,ee;R[22]!==E?(ee={0:{},1:{className:"x78zum5"}}[!!E<<0],R[22]=E,R[23]=ee):ee=R[23];var te=E&&p.adaptiveMiddot,ne;R[24]!==te?(ne=(u||(u=r("stylex")))([p.middot,te]),R[24]=te,R[25]=ne):ne=R[25];var re;R[26]!==ne?(re=d.jsx(r("BaseMiddot.react"),{className:ne}),R[26]=ne,R[27]=re):re=R[27];var oe;R[28]!==E?(oe={0:{},1:{className:"xdwrcjd xuxw1ft"}}[!!E<<0],R[28]=E,R[29]=oe):oe=R[29];var ae;R[30]!==Z?(ae=function(){Z()},R[30]=Z,R[31]=ae):ae=R[31];var ie;R[32]!==G||R[33]!==ae||R[34]!==K?(ie=d.jsx(r("FDSLink.react"),{color_DEPRECATED:"highlight",onClick:ae,ref:G,children:K}),R[32]=G,R[33]=ae,R[34]=K,R[35]=ie):ie=R[35];var le;R[36]!==oe||R[37]!==ie?(le=d.jsx("span",babelHelpers.extends({},oe,{children:ie})),R[36]=oe,R[37]=ie,R[38]=le):le=R[38];var se;return R[39]!==re||R[40]!==le||R[41]!==ee?(se=d.jsxs("span",babelHelpers.extends({},ee,{children:[re,le]})),R[39]=re,R[40]=le,R[41]=ee,R[42]=se):se=R[42],se}function f(){}function g(e){return e.should_use_blue_link===!0}l.default=_}),226);
__d("CometFeedStoryFollowButtonStrategy_followButton$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n=[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}];return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryFollowButtonStrategy_followButton$normalization",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:[e,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"should_use_blue_link",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"profile",plural:!1,selections:[t,e,{kind:"InlineFragment",selections:n,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:n,type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_location",storageKey:null}],type:"FollowProfileActionLink",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null}],storageKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"}]}})();a.exports=e}),null);